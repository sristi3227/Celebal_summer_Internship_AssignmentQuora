(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function t(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=t(o);fetch(o.href,u)}})();function _T(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Um={exports:{}},eu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c0;function hb(){if(c0)return eu;c0=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:h,ref:o!==void 0?o:null,props:u}}return eu.Fragment=e,eu.jsx=t,eu.jsxs=t,eu}var h0;function fb(){return h0||(h0=1,Um.exports=hb()),Um.exports}var y=fb(),Bm={exports:{}},Re={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f0;function db(){if(f0)return Re;f0=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),A=Symbol.iterator;function w(P){return P===null||typeof P!="object"?null:(P=A&&P[A]||P["@@iterator"],typeof P=="function"?P:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,q={};function V(P,ie,ue){this.props=P,this.context=ie,this.refs=q,this.updater=ue||I}V.prototype.isReactComponent={},V.prototype.setState=function(P,ie){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,ie,"setState")},V.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function k(){}k.prototype=V.prototype;function Y(P,ie,ue){this.props=P,this.context=ie,this.refs=q,this.updater=ue||I}var Z=Y.prototype=new k;Z.constructor=Y,x(Z,V.prototype),Z.isPureReactComponent=!0;var se=Array.isArray,oe={H:null,A:null,T:null,S:null,V:null},de=Object.prototype.hasOwnProperty;function O(P,ie,ue,re,ye,Ce){return ue=Ce.ref,{$$typeof:i,type:P,key:ie,ref:ue!==void 0?ue:null,props:Ce}}function R(P,ie){return O(P.type,ie,void 0,void 0,void 0,P.props)}function C(P){return typeof P=="object"&&P!==null&&P.$$typeof===i}function M(P){var ie={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(ue){return ie[ue]})}var B=/\/+/g;function U(P,ie){return typeof P=="object"&&P!==null&&P.key!=null?M(""+P.key):ie.toString(36)}function D(){}function mt(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(D,D):(P.status="pending",P.then(function(ie){P.status==="pending"&&(P.status="fulfilled",P.value=ie)},function(ie){P.status==="pending"&&(P.status="rejected",P.reason=ie)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function it(P,ie,ue,re,ye){var Ce=typeof P;(Ce==="undefined"||Ce==="boolean")&&(P=null);var Ae=!1;if(P===null)Ae=!0;else switch(Ce){case"bigint":case"string":case"number":Ae=!0;break;case"object":switch(P.$$typeof){case i:case e:Ae=!0;break;case _:return Ae=P._init,it(Ae(P._payload),ie,ue,re,ye)}}if(Ae)return ye=ye(P),Ae=re===""?"."+U(P,0):re,se(ye)?(ue="",Ae!=null&&(ue=Ae.replace(B,"$&/")+"/"),it(ye,ie,ue,"",function(ai){return ai})):ye!=null&&(C(ye)&&(ye=R(ye,ue+(ye.key==null||P&&P.key===ye.key?"":(""+ye.key).replace(B,"$&/")+"/")+Ae)),ie.push(ye)),1;Ae=0;var Ot=re===""?".":re+":";if(se(P))for(var Ze=0;Ze<P.length;Ze++)re=P[Ze],Ce=Ot+U(re,Ze),Ae+=it(re,ie,ue,Ce,ye);else if(Ze=w(P),typeof Ze=="function")for(P=Ze.call(P),Ze=0;!(re=P.next()).done;)re=re.value,Ce=Ot+U(re,Ze++),Ae+=it(re,ie,ue,Ce,ye);else if(Ce==="object"){if(typeof P.then=="function")return it(mt(P),ie,ue,re,ye);throw ie=String(P),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return Ae}function X(P,ie,ue){if(P==null)return P;var re=[],ye=0;return it(P,re,"","",function(Ce){return ie.call(ue,Ce,ye++)}),re}function le(P){if(P._status===-1){var ie=P._result;ie=ie(),ie.then(function(ue){(P._status===0||P._status===-1)&&(P._status=1,P._result=ue)},function(ue){(P._status===0||P._status===-1)&&(P._status=2,P._result=ue)}),P._status===-1&&(P._status=0,P._result=ie)}if(P._status===1)return P._result.default;throw P._result}var pe=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)};function Be(){}return Re.Children={map:X,forEach:function(P,ie,ue){X(P,function(){ie.apply(this,arguments)},ue)},count:function(P){var ie=0;return X(P,function(){ie++}),ie},toArray:function(P){return X(P,function(ie){return ie})||[]},only:function(P){if(!C(P))throw Error("React.Children.only expected to receive a single React element child.");return P}},Re.Component=V,Re.Fragment=t,Re.Profiler=o,Re.PureComponent=Y,Re.StrictMode=s,Re.Suspense=p,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=oe,Re.__COMPILER_RUNTIME={__proto__:null,c:function(P){return oe.H.useMemoCache(P)}},Re.cache=function(P){return function(){return P.apply(null,arguments)}},Re.cloneElement=function(P,ie,ue){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var re=x({},P.props),ye=P.key,Ce=void 0;if(ie!=null)for(Ae in ie.ref!==void 0&&(Ce=void 0),ie.key!==void 0&&(ye=""+ie.key),ie)!de.call(ie,Ae)||Ae==="key"||Ae==="__self"||Ae==="__source"||Ae==="ref"&&ie.ref===void 0||(re[Ae]=ie[Ae]);var Ae=arguments.length-2;if(Ae===1)re.children=ue;else if(1<Ae){for(var Ot=Array(Ae),Ze=0;Ze<Ae;Ze++)Ot[Ze]=arguments[Ze+2];re.children=Ot}return O(P.type,ye,void 0,void 0,Ce,re)},Re.createContext=function(P){return P={$$typeof:h,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:u,_context:P},P},Re.createElement=function(P,ie,ue){var re,ye={},Ce=null;if(ie!=null)for(re in ie.key!==void 0&&(Ce=""+ie.key),ie)de.call(ie,re)&&re!=="key"&&re!=="__self"&&re!=="__source"&&(ye[re]=ie[re]);var Ae=arguments.length-2;if(Ae===1)ye.children=ue;else if(1<Ae){for(var Ot=Array(Ae),Ze=0;Ze<Ae;Ze++)Ot[Ze]=arguments[Ze+2];ye.children=Ot}if(P&&P.defaultProps)for(re in Ae=P.defaultProps,Ae)ye[re]===void 0&&(ye[re]=Ae[re]);return O(P,Ce,void 0,void 0,null,ye)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(P){return{$$typeof:m,render:P}},Re.isValidElement=C,Re.lazy=function(P){return{$$typeof:_,_payload:{_status:-1,_result:P},_init:le}},Re.memo=function(P,ie){return{$$typeof:g,type:P,compare:ie===void 0?null:ie}},Re.startTransition=function(P){var ie=oe.T,ue={};oe.T=ue;try{var re=P(),ye=oe.S;ye!==null&&ye(ue,re),typeof re=="object"&&re!==null&&typeof re.then=="function"&&re.then(Be,pe)}catch(Ce){pe(Ce)}finally{oe.T=ie}},Re.unstable_useCacheRefresh=function(){return oe.H.useCacheRefresh()},Re.use=function(P){return oe.H.use(P)},Re.useActionState=function(P,ie,ue){return oe.H.useActionState(P,ie,ue)},Re.useCallback=function(P,ie){return oe.H.useCallback(P,ie)},Re.useContext=function(P){return oe.H.useContext(P)},Re.useDebugValue=function(){},Re.useDeferredValue=function(P,ie){return oe.H.useDeferredValue(P,ie)},Re.useEffect=function(P,ie,ue){var re=oe.H;if(typeof ue=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return re.useEffect(P,ie)},Re.useId=function(){return oe.H.useId()},Re.useImperativeHandle=function(P,ie,ue){return oe.H.useImperativeHandle(P,ie,ue)},Re.useInsertionEffect=function(P,ie){return oe.H.useInsertionEffect(P,ie)},Re.useLayoutEffect=function(P,ie){return oe.H.useLayoutEffect(P,ie)},Re.useMemo=function(P,ie){return oe.H.useMemo(P,ie)},Re.useOptimistic=function(P,ie){return oe.H.useOptimistic(P,ie)},Re.useReducer=function(P,ie,ue){return oe.H.useReducer(P,ie,ue)},Re.useRef=function(P){return oe.H.useRef(P)},Re.useState=function(P){return oe.H.useState(P)},Re.useSyncExternalStore=function(P,ie,ue){return oe.H.useSyncExternalStore(P,ie,ue)},Re.useTransition=function(){return oe.H.useTransition()},Re.version="19.1.0",Re}var d0;function Bp(){return d0||(d0=1,Bm.exports=db()),Bm.exports}var L=Bp();const mb=_T(L);var zm={exports:{}},tu={},qm={exports:{}},Fm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m0;function pb(){return m0||(m0=1,function(i){function e(X,le){var pe=X.length;X.push(le);e:for(;0<pe;){var Be=pe-1>>>1,P=X[Be];if(0<o(P,le))X[Be]=le,X[pe]=P,pe=Be;else break e}}function t(X){return X.length===0?null:X[0]}function s(X){if(X.length===0)return null;var le=X[0],pe=X.pop();if(pe!==le){X[0]=pe;e:for(var Be=0,P=X.length,ie=P>>>1;Be<ie;){var ue=2*(Be+1)-1,re=X[ue],ye=ue+1,Ce=X[ye];if(0>o(re,pe))ye<P&&0>o(Ce,re)?(X[Be]=Ce,X[ye]=pe,Be=ye):(X[Be]=re,X[ue]=pe,Be=ue);else if(ye<P&&0>o(Ce,pe))X[Be]=Ce,X[ye]=pe,Be=ye;else break e}}return le}function o(X,le){var pe=X.sortIndex-le.sortIndex;return pe!==0?pe:X.id-le.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();i.unstable_now=function(){return h.now()-m}}var p=[],g=[],_=1,A=null,w=3,I=!1,x=!1,q=!1,V=!1,k=typeof setTimeout=="function"?setTimeout:null,Y=typeof clearTimeout=="function"?clearTimeout:null,Z=typeof setImmediate<"u"?setImmediate:null;function se(X){for(var le=t(g);le!==null;){if(le.callback===null)s(g);else if(le.startTime<=X)s(g),le.sortIndex=le.expirationTime,e(p,le);else break;le=t(g)}}function oe(X){if(q=!1,se(X),!x)if(t(p)!==null)x=!0,de||(de=!0,U());else{var le=t(g);le!==null&&it(oe,le.startTime-X)}}var de=!1,O=-1,R=5,C=-1;function M(){return V?!0:!(i.unstable_now()-C<R)}function B(){if(V=!1,de){var X=i.unstable_now();C=X;var le=!0;try{e:{x=!1,q&&(q=!1,Y(O),O=-1),I=!0;var pe=w;try{t:{for(se(X),A=t(p);A!==null&&!(A.expirationTime>X&&M());){var Be=A.callback;if(typeof Be=="function"){A.callback=null,w=A.priorityLevel;var P=Be(A.expirationTime<=X);if(X=i.unstable_now(),typeof P=="function"){A.callback=P,se(X),le=!0;break t}A===t(p)&&s(p),se(X)}else s(p);A=t(p)}if(A!==null)le=!0;else{var ie=t(g);ie!==null&&it(oe,ie.startTime-X),le=!1}}break e}finally{A=null,w=pe,I=!1}le=void 0}}finally{le?U():de=!1}}}var U;if(typeof Z=="function")U=function(){Z(B)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,mt=D.port2;D.port1.onmessage=B,U=function(){mt.postMessage(null)}}else U=function(){k(B,0)};function it(X,le){O=k(function(){X(i.unstable_now())},le)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(X){X.callback=null},i.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<X?Math.floor(1e3/X):5},i.unstable_getCurrentPriorityLevel=function(){return w},i.unstable_next=function(X){switch(w){case 1:case 2:case 3:var le=3;break;default:le=w}var pe=w;w=le;try{return X()}finally{w=pe}},i.unstable_requestPaint=function(){V=!0},i.unstable_runWithPriority=function(X,le){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var pe=w;w=X;try{return le()}finally{w=pe}},i.unstable_scheduleCallback=function(X,le,pe){var Be=i.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?Be+pe:Be):pe=Be,X){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=pe+P,X={id:_++,callback:le,priorityLevel:X,startTime:pe,expirationTime:P,sortIndex:-1},pe>Be?(X.sortIndex=pe,e(g,X),t(p)===null&&X===t(g)&&(q?(Y(O),O=-1):q=!0,it(oe,pe-Be))):(X.sortIndex=P,e(p,X),x||I||(x=!0,de||(de=!0,U()))),X},i.unstable_shouldYield=M,i.unstable_wrapCallback=function(X){var le=w;return function(){var pe=w;w=le;try{return X.apply(this,arguments)}finally{w=pe}}}}(Fm)),Fm}var p0;function gb(){return p0||(p0=1,qm.exports=pb()),qm.exports}var Hm={exports:{}},Yt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g0;function yb(){if(g0)return Yt;g0=1;var i=Bp();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)g+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,_){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:p,containerInfo:g,implementation:_}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Yt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Yt.createPortal=function(p,g){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,_)},Yt.flushSync=function(p){var g=h.T,_=s.p;try{if(h.T=null,s.p=2,p)return p()}finally{h.T=g,s.p=_,s.d.f()}},Yt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Yt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Yt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var _=g.as,A=m(_,g.crossOrigin),w=typeof g.integrity=="string"?g.integrity:void 0,I=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;_==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:A,integrity:w,fetchPriority:I}):_==="script"&&s.d.X(p,{crossOrigin:A,integrity:w,fetchPriority:I,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Yt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var _=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Yt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var _=g.as,A=m(_,g.crossOrigin);s.d.L(p,_,{crossOrigin:A,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Yt.preloadModule=function(p,g){if(typeof p=="string")if(g){var _=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Yt.requestFormReset=function(p){s.d.r(p)},Yt.unstable_batchedUpdates=function(p,g){return p(g)},Yt.useFormState=function(p,g,_){return h.H.useFormState(p,g,_)},Yt.useFormStatus=function(){return h.H.useHostTransitionStatus()},Yt.version="19.1.0",Yt}var y0;function vb(){if(y0)return Hm.exports;y0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Hm.exports=yb(),Hm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v0;function _b(){if(v0)return tu;v0=1;var i=gb(),e=Bp(),t=vb();function s(n){var r="https://react.dev/errors/"+n;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function u(n){var r=n,a=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(a=r.return),n=r.return;while(n)}return r.tag===3?a:null}function h(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function m(n){if(u(n)!==n)throw Error(s(188))}function p(n){var r=n.alternate;if(!r){if(r=u(n),r===null)throw Error(s(188));return r!==n?null:n}for(var a=n,l=r;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return m(f),n;if(d===l)return m(f),r;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=d;else{for(var T=!1,S=f.child;S;){if(S===a){T=!0,a=f,l=d;break}if(S===l){T=!0,l=f,a=d;break}S=S.sibling}if(!T){for(S=d.child;S;){if(S===a){T=!0,a=d,l=f;break}if(S===l){T=!0,l=d,a=f;break}S=S.sibling}if(!T)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?n:r}function g(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n;for(n=n.child;n!==null;){if(r=g(n),r!==null)return r;n=n.sibling}return null}var _=Object.assign,A=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),I=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),q=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),Y=Symbol.for("react.consumer"),Z=Symbol.for("react.context"),se=Symbol.for("react.forward_ref"),oe=Symbol.for("react.suspense"),de=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),B=Symbol.iterator;function U(n){return n===null||typeof n!="object"?null:(n=B&&n[B]||n["@@iterator"],typeof n=="function"?n:null)}var D=Symbol.for("react.client.reference");function mt(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===D?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case x:return"Fragment";case V:return"Profiler";case q:return"StrictMode";case oe:return"Suspense";case de:return"SuspenseList";case C:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case I:return"Portal";case Z:return(n.displayName||"Context")+".Provider";case Y:return(n._context.displayName||"Context")+".Consumer";case se:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case O:return r=n.displayName||null,r!==null?r:mt(n.type)||"Memo";case R:r=n._payload,n=n._init;try{return mt(n(r))}catch{}}return null}var it=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},Be=[],P=-1;function ie(n){return{current:n}}function ue(n){0>P||(n.current=Be[P],Be[P]=null,P--)}function re(n,r){P++,Be[P]=n.current,n.current=r}var ye=ie(null),Ce=ie(null),Ae=ie(null),Ot=ie(null);function Ze(n,r){switch(re(Ae,r),re(Ce,n),re(ye,null),r.nodeType){case 9:case 11:n=(n=r.documentElement)&&(n=n.namespaceURI)?L_(n):0;break;default:if(n=r.tagName,r=r.namespaceURI)r=L_(r),n=U_(r,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}ue(ye),re(ye,n)}function ai(){ue(ye),ue(Ce),ue(Ae)}function Tr(n){n.memoizedState!==null&&re(Ot,n);var r=ye.current,a=U_(r,n.type);r!==a&&(re(Ce,n),re(ye,a))}function Vi(n){Ce.current===n&&(ue(ye),ue(Ce)),Ot.current===n&&(ue(Ot),Yl._currentValue=pe)}var _s=Object.prototype.hasOwnProperty,Es=i.unstable_scheduleCallback,Ts=i.unstable_cancelCallback,Qo=i.unstable_shouldYield,Bu=i.unstable_requestPaint,xn=i.unstable_now,Uf=i.unstable_getCurrentPriorityLevel,$o=i.unstable_ImmediatePriority,ba=i.unstable_UserBlockingPriority,ws=i.unstable_NormalPriority,Bf=i.unstable_LowPriority,Ra=i.unstable_IdlePriority,Ko=i.log,zu=i.unstable_setDisableYieldValue,ct=null,He=null;function pn(n){if(typeof Ko=="function"&&zu(n),He&&typeof He.setStrictMode=="function")try{He.setStrictMode(ct,n)}catch{}}var $t=Math.clz32?Math.clz32:As,qu=Math.log,zf=Math.LN2;function As(n){return n>>>=0,n===0?32:31-(qu(n)/zf|0)|0}var Ss=256,bs=4194304;function Gn(n){var r=n&42;if(r!==0)return r;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Ia(n,r,a){var l=n.pendingLanes;if(l===0)return 0;var f=0,d=n.suspendedLanes,T=n.pingedLanes;n=n.warmLanes;var S=l&134217727;return S!==0?(l=S&~d,l!==0?f=Gn(l):(T&=S,T!==0?f=Gn(T):a||(a=S&~n,a!==0&&(f=Gn(a))))):(S=l&~d,S!==0?f=Gn(S):T!==0?f=Gn(T):a||(a=l&~n,a!==0&&(f=Gn(a)))),f===0?0:r!==0&&r!==f&&(r&d)===0&&(d=f&-f,a=r&-r,d>=a||d===32&&(a&4194048)!==0)?r:f}function Rs(n,r){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&r)===0}function Yo(n,r){switch(n){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xo(){var n=Ss;return Ss<<=1,(Ss&4194048)===0&&(Ss=256),n}function Wo(){var n=bs;return bs<<=1,(bs&62914560)===0&&(bs=4194304),n}function ji(n){for(var r=[],a=0;31>a;a++)r.push(n);return r}function Li(n,r){n.pendingLanes|=r,r!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Zo(n,r,a,l,f,d){var T=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var S=n.entanglements,N=n.expirationTimes,G=n.hiddenUpdates;for(a=T&~a;0<a;){var W=31-$t(a),te=1<<W;S[W]=0,N[W]=-1;var Q=G[W];if(Q!==null)for(G[W]=null,W=0;W<Q.length;W++){var $=Q[W];$!==null&&($.lane&=-536870913)}a&=~te}l!==0&&oi(n,l,0),d!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=d&~(T&~r))}function oi(n,r,a){n.pendingLanes|=r,n.suspendedLanes&=~r;var l=31-$t(r);n.entangledLanes|=r,n.entanglements[l]=n.entanglements[l]|1073741824|a&4194090}function Jo(n,r){var a=n.entangledLanes|=r;for(n=n.entanglements;a;){var l=31-$t(a),f=1<<l;f&r|n[l]&r&&(n[l]|=r),a&=~f}}function wr(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function xa(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Ar(){var n=le.p;return n!==0?n:(n=window.event,n===void 0?32:r0(n.type))}function Fu(n,r){var a=le.p;try{return le.p=n,r()}finally{le.p=a}}var rt=Math.random().toString(36).slice(2),Rt="__reactFiber$"+rt,_t="__reactProps$"+rt,Cn="__reactContainer$"+rt,el="__reactEvents$"+rt,qf="__reactListeners$"+rt,Sr="__reactHandles$"+rt,Hu="__reactResources$"+rt,Is="__reactMarker$"+rt;function br(n){delete n[Rt],delete n[_t],delete n[el],delete n[qf],delete n[Sr]}function Ui(n){var r=n[Rt];if(r)return r;for(var a=n.parentNode;a;){if(r=a[Cn]||a[Rt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(n=F_(n);n!==null;){if(a=n[Rt])return a;n=F_(n)}return r}n=a,a=n.parentNode}return null}function li(n){if(n=n[Rt]||n[Cn]){var r=n.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return n}return null}function ui(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n.stateNode;throw Error(s(33))}function en(n){var r=n[Hu];return r||(r=n[Hu]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function pt(n){n[Is]=!0}var tl=new Set,Ca={};function Qn(n,r){Bi(n,r),Bi(n+"Capture",r)}function Bi(n,r){for(Ca[n]=r,n=0;n<r.length;n++)tl.add(r[n])}var Gu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Qu={},xs={};function $u(n){return _s.call(xs,n)?!0:_s.call(Qu,n)?!1:Gu.test(n)?xs[n]=!0:(Qu[n]=!0,!1)}function Rr(n,r,a){if($u(r))if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(r);return}}n.setAttribute(r,""+a)}}function ci(n,r,a){if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttribute(r,""+a)}}function Ut(n,r,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(r,a,""+l)}}var Cs,Ku;function zi(n){if(Cs===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);Cs=r&&r[1]||"",Ku=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Cs+n+Ku}var Na=!1;function Da(n,r){if(!n||Na)return"";Na=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch($){var Q=$}Reflect.construct(n,[],te)}else{try{te.call()}catch($){Q=$}n.call(te.prototype)}}else{try{throw Error()}catch($){Q=$}(te=n())&&typeof te.catch=="function"&&te.catch(function(){})}}catch($){if($&&Q&&typeof $.stack=="string")return[$.stack,Q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),T=d[0],S=d[1];if(T&&S){var N=T.split(`
`),G=S.split(`
`);for(f=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;f<G.length&&!G[f].includes("DetermineComponentFrameRoot");)f++;if(l===N.length||f===G.length)for(l=N.length-1,f=G.length-1;1<=l&&0<=f&&N[l]!==G[f];)f--;for(;1<=l&&0<=f;l--,f--)if(N[l]!==G[f]){if(l!==1||f!==1)do if(l--,f--,0>f||N[l]!==G[f]){var W=`
`+N[l].replace(" at new "," at ");return n.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",n.displayName)),W}while(1<=l&&0<=f);break}}}finally{Na=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?zi(a):""}function nl(n){switch(n.tag){case 26:case 27:case 5:return zi(n.type);case 16:return zi("Lazy");case 13:return zi("Suspense");case 19:return zi("SuspenseList");case 0:case 15:return Da(n.type,!1);case 11:return Da(n.type.render,!1);case 1:return Da(n.type,!0);case 31:return zi("Activity");default:return""}}function Oa(n){try{var r="";do r+=nl(n),n=n.return;while(n);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function tn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function il(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Ff(n){var r=il(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,r),l=""+n[r];if(!n.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,d=a.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return f.call(this)},set:function(T){l=""+T,d.call(this,T)}}),Object.defineProperty(n,r,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(T){l=""+T},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function Ma(n){n._valueTracker||(n._valueTracker=Ff(n))}function rl(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return n&&(l=il(n)?n.checked?"true":"false":n.value),n=l,n!==a?(r.setValue(n),!0):!1}function Ns(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Hf=/[\n"\\]/g;function Et(n){return n.replace(Hf,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function gn(n,r,a,l,f,d,T,S){n.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?n.type=T:n.removeAttribute("type"),r!=null?T==="number"?(r===0&&n.value===""||n.value!=r)&&(n.value=""+tn(r)):n.value!==""+tn(r)&&(n.value=""+tn(r)):T!=="submit"&&T!=="reset"||n.removeAttribute("value"),r!=null?Ir(n,T,tn(r)):a!=null?Ir(n,T,tn(a)):l!=null&&n.removeAttribute("value"),f==null&&d!=null&&(n.defaultChecked=!!d),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?n.name=""+tn(S):n.removeAttribute("name")}function Ds(n,r,a,l,f,d,T,S){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(n.type=d),r!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||r!=null))return;a=a!=null?""+tn(a):"",r=r!=null?""+tn(r):a,S||r===n.value||(n.value=r),n.defaultValue=r}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=S?n.checked:!!l,n.defaultChecked=!!l,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(n.name=T)}function Ir(n,r,a){r==="number"&&Ns(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function qi(n,r,a,l){if(n=n.options,r){r={};for(var f=0;f<a.length;f++)r["$"+a[f]]=!0;for(a=0;a<n.length;a++)f=r.hasOwnProperty("$"+n[a].value),n[a].selected!==f&&(n[a].selected=f),f&&l&&(n[a].defaultSelected=!0)}else{for(a=""+tn(a),r=null,f=0;f<n.length;f++){if(n[f].value===a){n[f].selected=!0,l&&(n[f].defaultSelected=!0);return}r!==null||n[f].disabled||(r=n[f])}r!==null&&(r.selected=!0)}}function $e(n,r,a){if(r!=null&&(r=""+tn(r),r!==n.value&&(n.value=r),a==null)){n.defaultValue!==r&&(n.defaultValue=r);return}n.defaultValue=a!=null?""+tn(a):""}function Os(n,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(it(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=tn(r),n.defaultValue=a,l=n.textContent,l===a&&l!==""&&l!==null&&(n.value=l)}function Nn(n,r){if(r){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=r;return}}n.textContent=r}var Ms=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Yu(n,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?n.setProperty(r,""):r==="float"?n.cssFloat="":n[r]="":l?n.setProperty(r,a):typeof a!="number"||a===0||Ms.has(r)?r==="float"?n.cssFloat=a:n[r]=(""+a).trim():n[r]=a+"px"}function sl(n,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(n=n.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var f in r)l=r[f],r.hasOwnProperty(f)&&a[f]!==l&&Yu(n,f,l)}else for(var d in r)r.hasOwnProperty(d)&&Yu(n,d,r[d])}function al(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Qf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ka(n){return Qf.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var Fi=null;function Dn(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Hi=null,Gi=null;function ol(n){var r=li(n);if(r&&(n=r.stateNode)){var a=n[_t]||null;e:switch(n=r.stateNode,r.type){case"input":if(gn(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Et(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==n&&l.form===n.form){var f=l[_t]||null;if(!f)throw Error(s(90));gn(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===n.form&&rl(l)}break e;case"textarea":$e(n,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&qi(n,!!a.multiple,r,!1)}}}var hi=!1;function Xu(n,r,a){if(hi)return n(r,a);hi=!0;try{var l=n(r);return l}finally{if(hi=!1,(Hi!==null||Gi!==null)&&(Fc(),Hi&&(r=Hi,n=Gi,Gi=Hi=null,ol(r),n)))for(r=0;r<n.length;r++)ol(n[r])}}function ks(n,r){var a=n.stateNode;if(a===null)return null;var l=a[_t]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var $n=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),On=!1;if($n)try{var Ps={};Object.defineProperty(Ps,"passive",{get:function(){On=!0}}),window.addEventListener("test",Ps,Ps),window.removeEventListener("test",Ps,Ps)}catch{On=!1}var fi=null,xr=null,Qi=null;function ll(){if(Qi)return Qi;var n,r=xr,a=r.length,l,f="value"in fi?fi.value:fi.textContent,d=f.length;for(n=0;n<a&&r[n]===f[n];n++);var T=a-n;for(l=1;l<=T&&r[a-l]===f[d-l];l++);return Qi=f.slice(n,1<l?1-l:void 0)}function di(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function mi(){return!0}function ul(){return!1}function Mt(n){function r(a,l,f,d,T){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=T,this.currentTarget=null;for(var S in n)n.hasOwnProperty(S)&&(a=n[S],this[S]=a?a(d):d[S]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?mi:ul,this.isPropagationStopped=ul,this}return _(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=mi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=mi)},persist:function(){},isPersistent:mi}),r}var qe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pa=Mt(qe),Vs=_({},qe,{view:0,detail:0}),Wu=Mt(Vs),Va,ja,pi,js=_({},Vs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bs,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==pi&&(pi&&n.type==="mousemove"?(Va=n.screenX-pi.screenX,ja=n.screenY-pi.screenY):ja=Va=0,pi=n),Va)},movementY:function(n){return"movementY"in n?n.movementY:ja}}),Mn=Mt(js),Zu=_({},js,{dataTransfer:0}),$f=Mt(Zu),Ls=_({},Vs,{relatedTarget:0}),La=Mt(Ls),cl=_({},qe,{animationName:0,elapsedTime:0,pseudoElement:0}),Ua=Mt(cl),Ju=_({},qe,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Ba=Mt(Ju),Kf=_({},qe,{data:0}),hl=Mt(Kf),Us={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ec={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fl(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=tc[n])?!!r[n]:!1}function Bs(){return fl}var nc=_({},Vs,{key:function(n){if(n.key){var r=Us[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=di(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?ec[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bs,charCode:function(n){return n.type==="keypress"?di(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?di(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),za=Mt(nc),ic=_({},js,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),dl=Mt(ic),$i=_({},Vs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bs}),rc=Mt($i),sc=_({},qe,{propertyName:0,elapsedTime:0,pseudoElement:0}),ac=Mt(sc),oc=_({},js,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),qa=Mt(oc),nn=_({},qe,{newState:0,oldState:0}),lc=Mt(nn),uc=[9,13,27,32],gi=$n&&"CompositionEvent"in window,c=null;$n&&"documentMode"in document&&(c=document.documentMode);var v=$n&&"TextEvent"in window&&!c,E=$n&&(!gi||c&&8<c&&11>=c),b=" ",F=!1;function K(n,r){switch(n){case"keyup":return uc.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ae(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Pe=!1;function It(n,r){switch(n){case"compositionend":return ae(r);case"keypress":return r.which!==32?null:(F=!0,b);case"textInput":return n=r.data,n===b&&F?null:n;default:return null}}function Ve(n,r){if(Pe)return n==="compositionend"||!gi&&K(n,r)?(n=ll(),Qi=xr=fi=null,Pe=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return E&&r.locale!=="ko"?null:r.data;default:return null}}var kt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xt(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!kt[n.type]:r==="textarea"}function Ki(n,r,a,l){Hi?Gi?Gi.push(l):Gi=[l]:Hi=l,r=Yc(r,"onChange"),0<r.length&&(a=new Pa("onChange","change",null,a,l),n.push({event:a,listeners:r}))}var Bt=null,yi=null;function ml(n){M_(n,0)}function cc(n){var r=ui(n);if(rl(r))return n}function ey(n,r){if(n==="change")return r}var ty=!1;if($n){var Yf;if($n){var Xf="oninput"in document;if(!Xf){var ny=document.createElement("div");ny.setAttribute("oninput","return;"),Xf=typeof ny.oninput=="function"}Yf=Xf}else Yf=!1;ty=Yf&&(!document.documentMode||9<document.documentMode)}function iy(){Bt&&(Bt.detachEvent("onpropertychange",ry),yi=Bt=null)}function ry(n){if(n.propertyName==="value"&&cc(yi)){var r=[];Ki(r,yi,n,Dn(n)),Xu(ml,r)}}function zA(n,r,a){n==="focusin"?(iy(),Bt=r,yi=a,Bt.attachEvent("onpropertychange",ry)):n==="focusout"&&iy()}function qA(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return cc(yi)}function FA(n,r){if(n==="click")return cc(r)}function HA(n,r){if(n==="input"||n==="change")return cc(r)}function GA(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var yn=typeof Object.is=="function"?Object.is:GA;function pl(n,r){if(yn(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var a=Object.keys(n),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!_s.call(r,f)||!yn(n[f],r[f]))return!1}return!0}function sy(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function ay(n,r){var a=sy(n);n=0;for(var l;a;){if(a.nodeType===3){if(l=n+a.textContent.length,n<=r&&l>=r)return{node:a,offset:r-n};n=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=sy(a)}}function oy(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?oy(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function ly(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var r=Ns(n.document);r instanceof n.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)n=r.contentWindow;else break;r=Ns(n.document)}return r}function Wf(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}var QA=$n&&"documentMode"in document&&11>=document.documentMode,Fa=null,Zf=null,gl=null,Jf=!1;function uy(n,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Jf||Fa==null||Fa!==Ns(l)||(l=Fa,"selectionStart"in l&&Wf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),gl&&pl(gl,l)||(gl=l,l=Yc(Zf,"onSelect"),0<l.length&&(r=new Pa("onSelect","select",null,r,a),n.push({event:r,listeners:l}),r.target=Fa)))}function zs(n,r){var a={};return a[n.toLowerCase()]=r.toLowerCase(),a["Webkit"+n]="webkit"+r,a["Moz"+n]="moz"+r,a}var Ha={animationend:zs("Animation","AnimationEnd"),animationiteration:zs("Animation","AnimationIteration"),animationstart:zs("Animation","AnimationStart"),transitionrun:zs("Transition","TransitionRun"),transitionstart:zs("Transition","TransitionStart"),transitioncancel:zs("Transition","TransitionCancel"),transitionend:zs("Transition","TransitionEnd")},ed={},cy={};$n&&(cy=document.createElement("div").style,"AnimationEvent"in window||(delete Ha.animationend.animation,delete Ha.animationiteration.animation,delete Ha.animationstart.animation),"TransitionEvent"in window||delete Ha.transitionend.transition);function qs(n){if(ed[n])return ed[n];if(!Ha[n])return n;var r=Ha[n],a;for(a in r)if(r.hasOwnProperty(a)&&a in cy)return ed[n]=r[a];return n}var hy=qs("animationend"),fy=qs("animationiteration"),dy=qs("animationstart"),$A=qs("transitionrun"),KA=qs("transitionstart"),YA=qs("transitioncancel"),my=qs("transitionend"),py=new Map,td="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");td.push("scrollEnd");function Kn(n,r){py.set(n,r),Qn(r,[n])}var gy=new WeakMap;function kn(n,r){if(typeof n=="object"&&n!==null){var a=gy.get(n);return a!==void 0?a:(r={value:n,source:r,stack:Oa(r)},gy.set(n,r),r)}return{value:n,source:r,stack:Oa(r)}}var Pn=[],Ga=0,nd=0;function hc(){for(var n=Ga,r=nd=Ga=0;r<n;){var a=Pn[r];Pn[r++]=null;var l=Pn[r];Pn[r++]=null;var f=Pn[r];Pn[r++]=null;var d=Pn[r];if(Pn[r++]=null,l!==null&&f!==null){var T=l.pending;T===null?f.next=f:(f.next=T.next,T.next=f),l.pending=f}d!==0&&yy(a,f,d)}}function fc(n,r,a,l){Pn[Ga++]=n,Pn[Ga++]=r,Pn[Ga++]=a,Pn[Ga++]=l,nd|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function id(n,r,a,l){return fc(n,r,a,l),dc(n)}function Qa(n,r){return fc(n,null,null,r),dc(n)}function yy(n,r,a){n.lanes|=a;var l=n.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=n.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(n=d.stateNode,n===null||n._visibility&1||(f=!0)),n=d,d=d.return;return n.tag===3?(d=n.stateNode,f&&r!==null&&(f=31-$t(a),n=d.hiddenUpdates,l=n[f],l===null?n[f]=[r]:l.push(r),r.lane=a|536870912),d):null}function dc(n){if(50<zl)throw zl=0,um=null,Error(s(185));for(var r=n.return;r!==null;)n=r,r=n.return;return n.tag===3?n.stateNode:null}var $a={};function XA(n,r,a,l){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vn(n,r,a,l){return new XA(n,r,a,l)}function rd(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Yi(n,r){var a=n.alternate;return a===null?(a=vn(n.tag,r,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=r,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,r=n.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function vy(n,r){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=r,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,r=a.dependencies,n.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),n}function mc(n,r,a,l,f,d){var T=0;if(l=n,typeof n=="function")rd(n)&&(T=1);else if(typeof n=="string")T=ZS(n,a,ye.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case C:return n=vn(31,a,r,f),n.elementType=C,n.lanes=d,n;case x:return Fs(a.children,f,d,r);case q:T=8,f|=24;break;case V:return n=vn(12,a,r,f|2),n.elementType=V,n.lanes=d,n;case oe:return n=vn(13,a,r,f),n.elementType=oe,n.lanes=d,n;case de:return n=vn(19,a,r,f),n.elementType=de,n.lanes=d,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case k:case Z:T=10;break e;case Y:T=9;break e;case se:T=11;break e;case O:T=14;break e;case R:T=16,l=null;break e}T=29,a=Error(s(130,n===null?"null":typeof n,"")),l=null}return r=vn(T,a,r,f),r.elementType=n,r.type=l,r.lanes=d,r}function Fs(n,r,a,l){return n=vn(7,n,l,r),n.lanes=a,n}function sd(n,r,a){return n=vn(6,n,null,r),n.lanes=a,n}function ad(n,r,a){return r=vn(4,n.children!==null?n.children:[],n.key,r),r.lanes=a,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}var Ka=[],Ya=0,pc=null,gc=0,Vn=[],jn=0,Hs=null,Xi=1,Wi="";function Gs(n,r){Ka[Ya++]=gc,Ka[Ya++]=pc,pc=n,gc=r}function _y(n,r,a){Vn[jn++]=Xi,Vn[jn++]=Wi,Vn[jn++]=Hs,Hs=n;var l=Xi;n=Wi;var f=32-$t(l)-1;l&=~(1<<f),a+=1;var d=32-$t(r)+f;if(30<d){var T=f-f%5;d=(l&(1<<T)-1).toString(32),l>>=T,f-=T,Xi=1<<32-$t(r)+f|a<<f|l,Wi=d+n}else Xi=1<<d|a<<f|l,Wi=n}function od(n){n.return!==null&&(Gs(n,1),_y(n,1,0))}function ld(n){for(;n===pc;)pc=Ka[--Ya],Ka[Ya]=null,gc=Ka[--Ya],Ka[Ya]=null;for(;n===Hs;)Hs=Vn[--jn],Vn[jn]=null,Wi=Vn[--jn],Vn[jn]=null,Xi=Vn[--jn],Vn[jn]=null}var rn=null,ht=null,ze=!1,Qs=null,vi=!1,ud=Error(s(519));function $s(n){var r=Error(s(418,""));throw _l(kn(r,n)),ud}function Ey(n){var r=n.stateNode,a=n.type,l=n.memoizedProps;switch(r[Rt]=n,r[_t]=l,a){case"dialog":Oe("cancel",r),Oe("close",r);break;case"iframe":case"object":case"embed":Oe("load",r);break;case"video":case"audio":for(a=0;a<Fl.length;a++)Oe(Fl[a],r);break;case"source":Oe("error",r);break;case"img":case"image":case"link":Oe("error",r),Oe("load",r);break;case"details":Oe("toggle",r);break;case"input":Oe("invalid",r),Ds(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Ma(r);break;case"select":Oe("invalid",r);break;case"textarea":Oe("invalid",r),Os(r,l.value,l.defaultValue,l.children),Ma(r)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||j_(r.textContent,a)?(l.popover!=null&&(Oe("beforetoggle",r),Oe("toggle",r)),l.onScroll!=null&&Oe("scroll",r),l.onScrollEnd!=null&&Oe("scrollend",r),l.onClick!=null&&(r.onclick=Xc),r=!0):r=!1,r||$s(n)}function Ty(n){for(rn=n.return;rn;)switch(rn.tag){case 5:case 13:vi=!1;return;case 27:case 3:vi=!0;return;default:rn=rn.return}}function yl(n){if(n!==rn)return!1;if(!ze)return Ty(n),ze=!0,!1;var r=n.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||bm(n.type,n.memoizedProps)),a=!a),a&&ht&&$s(n),Ty(n),r===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));e:{for(n=n.nextSibling,r=0;n;){if(n.nodeType===8)if(a=n.data,a==="/$"){if(r===0){ht=Xn(n.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;n=n.nextSibling}ht=null}}else r===27?(r=ht,Hr(n.type)?(n=Cm,Cm=null,ht=n):ht=r):ht=rn?Xn(n.stateNode.nextSibling):null;return!0}function vl(){ht=rn=null,ze=!1}function wy(){var n=Qs;return n!==null&&(ln===null?ln=n:ln.push.apply(ln,n),Qs=null),n}function _l(n){Qs===null?Qs=[n]:Qs.push(n)}var cd=ie(null),Ks=null,Zi=null;function Cr(n,r,a){re(cd,r._currentValue),r._currentValue=a}function Ji(n){n._currentValue=cd.current,ue(cd)}function hd(n,r,a){for(;n!==null;){var l=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),n===a)break;n=n.return}}function fd(n,r,a,l){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var d=f.dependencies;if(d!==null){var T=f.child;d=d.firstContext;e:for(;d!==null;){var S=d;d=f;for(var N=0;N<r.length;N++)if(S.context===r[N]){d.lanes|=a,S=d.alternate,S!==null&&(S.lanes|=a),hd(d.return,a,n),l||(T=null);break e}d=S.next}}else if(f.tag===18){if(T=f.return,T===null)throw Error(s(341));T.lanes|=a,d=T.alternate,d!==null&&(d.lanes|=a),hd(T,a,n),T=null}else T=f.child;if(T!==null)T.return=f;else for(T=f;T!==null;){if(T===n){T=null;break}if(f=T.sibling,f!==null){f.return=T.return,T=f;break}T=T.return}f=T}}function El(n,r,a,l){n=null;for(var f=r,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var T=f.alternate;if(T===null)throw Error(s(387));if(T=T.memoizedProps,T!==null){var S=f.type;yn(f.pendingProps.value,T.value)||(n!==null?n.push(S):n=[S])}}else if(f===Ot.current){if(T=f.alternate,T===null)throw Error(s(387));T.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(Yl):n=[Yl])}f=f.return}n!==null&&fd(r,n,a,l),r.flags|=262144}function yc(n){for(n=n.firstContext;n!==null;){if(!yn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Ys(n){Ks=n,Zi=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Kt(n){return Ay(Ks,n)}function vc(n,r){return Ks===null&&Ys(n),Ay(n,r)}function Ay(n,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},Zi===null){if(n===null)throw Error(s(308));Zi=r,n.dependencies={lanes:0,firstContext:r},n.flags|=524288}else Zi=Zi.next=r;return a}var WA=typeof AbortController<"u"?AbortController:function(){var n=[],r=this.signal={aborted:!1,addEventListener:function(a,l){n.push(l)}};this.abort=function(){r.aborted=!0,n.forEach(function(a){return a()})}},ZA=i.unstable_scheduleCallback,JA=i.unstable_NormalPriority,Ct={$$typeof:Z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function dd(){return{controller:new WA,data:new Map,refCount:0}}function Tl(n){n.refCount--,n.refCount===0&&ZA(JA,function(){n.controller.abort()})}var wl=null,md=0,Xa=0,Wa=null;function eS(n,r){if(wl===null){var a=wl=[];md=0,Xa=gm(),Wa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return md++,r.then(Sy,Sy),r}function Sy(){if(--md===0&&wl!==null){Wa!==null&&(Wa.status="fulfilled");var n=wl;wl=null,Xa=0,Wa=null;for(var r=0;r<n.length;r++)(0,n[r])()}}function tS(n,r){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return n.then(function(){l.status="fulfilled",l.value=r;for(var f=0;f<a.length;f++)(0,a[f])(r)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var by=X.S;X.S=function(n,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&eS(n,r),by!==null&&by(n,r)};var Xs=ie(null);function pd(){var n=Xs.current;return n!==null?n:Je.pooledCache}function _c(n,r){r===null?re(Xs,Xs.current):re(Xs,r.pool)}function Ry(){var n=pd();return n===null?null:{parent:Ct._currentValue,pool:n}}var Al=Error(s(460)),Iy=Error(s(474)),Ec=Error(s(542)),gd={then:function(){}};function xy(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Tc(){}function Cy(n,r,a){switch(a=n[a],a===void 0?n.push(r):a!==r&&(r.then(Tc,Tc),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,Dy(n),n;default:if(typeof r.status=="string")r.then(Tc,Tc);else{if(n=Je,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=r,n.status="pending",n.then(function(l){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=l}},function(l){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,Dy(n),n}throw Sl=r,Al}}var Sl=null;function Ny(){if(Sl===null)throw Error(s(459));var n=Sl;return Sl=null,n}function Dy(n){if(n===Al||n===Ec)throw Error(s(483))}var Nr=!1;function yd(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function vd(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Dr(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Or(n,r,a){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,(Ge&2)!==0){var f=l.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),l.pending=r,r=dc(n),yy(n,null,a),r}return fc(n,l,r,a),dc(n)}function bl(n,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=n.pendingLanes,a|=l,r.lanes=a,Jo(n,a)}}function _d(n,r){var a=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var T={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=T:d=d.next=T,a=a.next}while(a!==null);d===null?f=d=r:d=d.next=r}else f=d=r;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=r:n.next=r,a.lastBaseUpdate=r}var Ed=!1;function Rl(){if(Ed){var n=Wa;if(n!==null)throw n}}function Il(n,r,a,l){Ed=!1;var f=n.updateQueue;Nr=!1;var d=f.firstBaseUpdate,T=f.lastBaseUpdate,S=f.shared.pending;if(S!==null){f.shared.pending=null;var N=S,G=N.next;N.next=null,T===null?d=G:T.next=G,T=N;var W=n.alternate;W!==null&&(W=W.updateQueue,S=W.lastBaseUpdate,S!==T&&(S===null?W.firstBaseUpdate=G:S.next=G,W.lastBaseUpdate=N))}if(d!==null){var te=f.baseState;T=0,W=G=N=null,S=d;do{var Q=S.lane&-536870913,$=Q!==S.lane;if($?(je&Q)===Q:(l&Q)===Q){Q!==0&&Q===Xa&&(Ed=!0),W!==null&&(W=W.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var we=n,ve=S;Q=r;var Xe=a;switch(ve.tag){case 1:if(we=ve.payload,typeof we=="function"){te=we.call(Xe,te,Q);break e}te=we;break e;case 3:we.flags=we.flags&-65537|128;case 0:if(we=ve.payload,Q=typeof we=="function"?we.call(Xe,te,Q):we,Q==null)break e;te=_({},te,Q);break e;case 2:Nr=!0}}Q=S.callback,Q!==null&&(n.flags|=64,$&&(n.flags|=8192),$=f.callbacks,$===null?f.callbacks=[Q]:$.push(Q))}else $={lane:Q,tag:S.tag,payload:S.payload,callback:S.callback,next:null},W===null?(G=W=$,N=te):W=W.next=$,T|=Q;if(S=S.next,S===null){if(S=f.shared.pending,S===null)break;$=S,S=$.next,$.next=null,f.lastBaseUpdate=$,f.shared.pending=null}}while(!0);W===null&&(N=te),f.baseState=N,f.firstBaseUpdate=G,f.lastBaseUpdate=W,d===null&&(f.shared.lanes=0),Br|=T,n.lanes=T,n.memoizedState=te}}function Oy(n,r){if(typeof n!="function")throw Error(s(191,n));n.call(r)}function My(n,r){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)Oy(a[n],r)}var Za=ie(null),wc=ie(0);function ky(n,r){n=ar,re(wc,n),re(Za,r),ar=n|r.baseLanes}function Td(){re(wc,ar),re(Za,Za.current)}function wd(){ar=wc.current,ue(Za),ue(wc)}var Mr=0,Ie=null,Ke=null,Tt=null,Ac=!1,Ja=!1,Ws=!1,Sc=0,xl=0,eo=null,nS=0;function gt(){throw Error(s(321))}function Ad(n,r){if(r===null)return!1;for(var a=0;a<r.length&&a<n.length;a++)if(!yn(n[a],r[a]))return!1;return!0}function Sd(n,r,a,l,f,d){return Mr=d,Ie=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,X.H=n===null||n.memoizedState===null?yv:vv,Ws=!1,d=a(l,f),Ws=!1,Ja&&(d=Vy(r,a,l,f)),Py(n),d}function Py(n){X.H=Nc;var r=Ke!==null&&Ke.next!==null;if(Mr=0,Tt=Ke=Ie=null,Ac=!1,xl=0,eo=null,r)throw Error(s(300));n===null||Pt||(n=n.dependencies,n!==null&&yc(n)&&(Pt=!0))}function Vy(n,r,a,l){Ie=n;var f=0;do{if(Ja&&(eo=null),xl=0,Ja=!1,25<=f)throw Error(s(301));if(f+=1,Tt=Ke=null,n.updateQueue!=null){var d=n.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}X.H=uS,d=r(a,l)}while(Ja);return d}function iS(){var n=X.H,r=n.useState()[0];return r=typeof r.then=="function"?Cl(r):r,n=n.useState()[0],(Ke!==null?Ke.memoizedState:null)!==n&&(Ie.flags|=1024),r}function bd(){var n=Sc!==0;return Sc=0,n}function Rd(n,r,a){r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~a}function Id(n){if(Ac){for(n=n.memoizedState;n!==null;){var r=n.queue;r!==null&&(r.pending=null),n=n.next}Ac=!1}Mr=0,Tt=Ke=Ie=null,Ja=!1,xl=Sc=0,eo=null}function an(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tt===null?Ie.memoizedState=Tt=n:Tt=Tt.next=n,Tt}function wt(){if(Ke===null){var n=Ie.alternate;n=n!==null?n.memoizedState:null}else n=Ke.next;var r=Tt===null?Ie.memoizedState:Tt.next;if(r!==null)Tt=r,Ke=n;else{if(n===null)throw Ie.alternate===null?Error(s(467)):Error(s(310));Ke=n,n={memoizedState:Ke.memoizedState,baseState:Ke.baseState,baseQueue:Ke.baseQueue,queue:Ke.queue,next:null},Tt===null?Ie.memoizedState=Tt=n:Tt=Tt.next=n}return Tt}function xd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Cl(n){var r=xl;return xl+=1,eo===null&&(eo=[]),n=Cy(eo,n,r),r=Ie,(Tt===null?r.memoizedState:Tt.next)===null&&(r=r.alternate,X.H=r===null||r.memoizedState===null?yv:vv),n}function bc(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Cl(n);if(n.$$typeof===Z)return Kt(n)}throw Error(s(438,String(n)))}function Cd(n){var r=null,a=Ie.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=Ie.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=xd(),Ie.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(n),l=0;l<n;l++)a[l]=M;return r.index++,a}function er(n,r){return typeof r=="function"?r(n):r}function Rc(n){var r=wt();return Nd(r,Ke,n)}function Nd(n,r,a){var l=n.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=n.baseQueue,d=l.pending;if(d!==null){if(f!==null){var T=f.next;f.next=d.next,d.next=T}r.baseQueue=f=d,l.pending=null}if(d=n.baseState,f===null)n.memoizedState=d;else{r=f.next;var S=T=null,N=null,G=r,W=!1;do{var te=G.lane&-536870913;if(te!==G.lane?(je&te)===te:(Mr&te)===te){var Q=G.revertLane;if(Q===0)N!==null&&(N=N.next={lane:0,revertLane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),te===Xa&&(W=!0);else if((Mr&Q)===Q){G=G.next,Q===Xa&&(W=!0);continue}else te={lane:0,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},N===null?(S=N=te,T=d):N=N.next=te,Ie.lanes|=Q,Br|=Q;te=G.action,Ws&&a(d,te),d=G.hasEagerState?G.eagerState:a(d,te)}else Q={lane:te,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},N===null?(S=N=Q,T=d):N=N.next=Q,Ie.lanes|=te,Br|=te;G=G.next}while(G!==null&&G!==r);if(N===null?T=d:N.next=S,!yn(d,n.memoizedState)&&(Pt=!0,W&&(a=Wa,a!==null)))throw a;n.memoizedState=d,n.baseState=T,n.baseQueue=N,l.lastRenderedState=d}return f===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function Dd(n){var r=wt(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=n;var l=a.dispatch,f=a.pending,d=r.memoizedState;if(f!==null){a.pending=null;var T=f=f.next;do d=n(d,T.action),T=T.next;while(T!==f);yn(d,r.memoizedState)||(Pt=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),a.lastRenderedState=d}return[d,l]}function jy(n,r,a){var l=Ie,f=wt(),d=ze;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=r();var T=!yn((Ke||f).memoizedState,a);T&&(f.memoizedState=a,Pt=!0),f=f.queue;var S=By.bind(null,l,f,n);if(Nl(2048,8,S,[n]),f.getSnapshot!==r||T||Tt!==null&&Tt.memoizedState.tag&1){if(l.flags|=2048,to(9,Ic(),Uy.bind(null,l,f,a,r),null),Je===null)throw Error(s(349));d||(Mr&124)!==0||Ly(l,r,a)}return a}function Ly(n,r,a){n.flags|=16384,n={getSnapshot:r,value:a},r=Ie.updateQueue,r===null?(r=xd(),Ie.updateQueue=r,r.stores=[n]):(a=r.stores,a===null?r.stores=[n]:a.push(n))}function Uy(n,r,a,l){r.value=a,r.getSnapshot=l,zy(r)&&qy(n)}function By(n,r,a){return a(function(){zy(r)&&qy(n)})}function zy(n){var r=n.getSnapshot;n=n.value;try{var a=r();return!yn(n,a)}catch{return!0}}function qy(n){var r=Qa(n,2);r!==null&&An(r,n,2)}function Od(n){var r=an();if(typeof n=="function"){var a=n;if(n=a(),Ws){pn(!0);try{a()}finally{pn(!1)}}}return r.memoizedState=r.baseState=n,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:er,lastRenderedState:n},r}function Fy(n,r,a,l){return n.baseState=a,Nd(n,Ke,typeof l=="function"?l:er)}function rS(n,r,a,l,f){if(Cc(n))throw Error(s(485));if(n=r.action,n!==null){var d={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){d.listeners.push(T)}};X.T!==null?a(!0):d.isTransition=!1,l(d),a=r.pending,a===null?(d.next=r.pending=d,Hy(r,d)):(d.next=a.next,r.pending=a.next=d)}}function Hy(n,r){var a=r.action,l=r.payload,f=n.state;if(r.isTransition){var d=X.T,T={};X.T=T;try{var S=a(f,l),N=X.S;N!==null&&N(T,S),Gy(n,r,S)}catch(G){Md(n,r,G)}finally{X.T=d}}else try{d=a(f,l),Gy(n,r,d)}catch(G){Md(n,r,G)}}function Gy(n,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Qy(n,r,l)},function(l){return Md(n,r,l)}):Qy(n,r,a)}function Qy(n,r,a){r.status="fulfilled",r.value=a,$y(r),n.state=a,r=n.pending,r!==null&&(a=r.next,a===r?n.pending=null:(a=a.next,r.next=a,Hy(n,a)))}function Md(n,r,a){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,$y(r),r=r.next;while(r!==l)}n.action=null}function $y(n){n=n.listeners;for(var r=0;r<n.length;r++)(0,n[r])()}function Ky(n,r){return r}function Yy(n,r){if(ze){var a=Je.formState;if(a!==null){e:{var l=Ie;if(ze){if(ht){t:{for(var f=ht,d=vi;f.nodeType!==8;){if(!d){f=null;break t}if(f=Xn(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){ht=Xn(f.nextSibling),l=f.data==="F!";break e}}$s(l)}l=!1}l&&(r=a[0])}}return a=an(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ky,lastRenderedState:r},a.queue=l,a=mv.bind(null,Ie,l),l.dispatch=a,l=Od(!1),d=Ld.bind(null,Ie,!1,l.queue),l=an(),f={state:r,dispatch:null,action:n,pending:null},l.queue=f,a=rS.bind(null,Ie,f,d,a),f.dispatch=a,l.memoizedState=n,[r,a,!1]}function Xy(n){var r=wt();return Wy(r,Ke,n)}function Wy(n,r,a){if(r=Nd(n,r,Ky)[0],n=Rc(er)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=Cl(r)}catch(T){throw T===Al?Ec:T}else l=r;r=wt();var f=r.queue,d=f.dispatch;return a!==r.memoizedState&&(Ie.flags|=2048,to(9,Ic(),sS.bind(null,f,a),null)),[l,d,n]}function sS(n,r){n.action=r}function Zy(n){var r=wt(),a=Ke;if(a!==null)return Wy(r,a,n);wt(),r=r.memoizedState,a=wt();var l=a.queue.dispatch;return a.memoizedState=n,[r,l,!1]}function to(n,r,a,l){return n={tag:n,create:a,deps:l,inst:r,next:null},r=Ie.updateQueue,r===null&&(r=xd(),Ie.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=n.next=n:(l=a.next,a.next=n,n.next=l,r.lastEffect=n),n}function Ic(){return{destroy:void 0,resource:void 0}}function Jy(){return wt().memoizedState}function xc(n,r,a,l){var f=an();l=l===void 0?null:l,Ie.flags|=n,f.memoizedState=to(1|r,Ic(),a,l)}function Nl(n,r,a,l){var f=wt();l=l===void 0?null:l;var d=f.memoizedState.inst;Ke!==null&&l!==null&&Ad(l,Ke.memoizedState.deps)?f.memoizedState=to(r,d,a,l):(Ie.flags|=n,f.memoizedState=to(1|r,d,a,l))}function ev(n,r){xc(8390656,8,n,r)}function tv(n,r){Nl(2048,8,n,r)}function nv(n,r){return Nl(4,2,n,r)}function iv(n,r){return Nl(4,4,n,r)}function rv(n,r){if(typeof r=="function"){n=n();var a=r(n);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function sv(n,r,a){a=a!=null?a.concat([n]):null,Nl(4,4,rv.bind(null,r,n),a)}function kd(){}function av(n,r){var a=wt();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&Ad(r,l[1])?l[0]:(a.memoizedState=[n,r],n)}function ov(n,r){var a=wt();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&Ad(r,l[1]))return l[0];if(l=n(),Ws){pn(!0);try{n()}finally{pn(!1)}}return a.memoizedState=[l,r],l}function Pd(n,r,a){return a===void 0||(Mr&1073741824)!==0?n.memoizedState=r:(n.memoizedState=a,n=c_(),Ie.lanes|=n,Br|=n,a)}function lv(n,r,a,l){return yn(a,r)?a:Za.current!==null?(n=Pd(n,a,l),yn(n,r)||(Pt=!0),n):(Mr&42)===0?(Pt=!0,n.memoizedState=a):(n=c_(),Ie.lanes|=n,Br|=n,r)}function uv(n,r,a,l,f){var d=le.p;le.p=d!==0&&8>d?d:8;var T=X.T,S={};X.T=S,Ld(n,!1,r,a);try{var N=f(),G=X.S;if(G!==null&&G(S,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var W=tS(N,l);Dl(n,r,W,wn(n))}else Dl(n,r,l,wn(n))}catch(te){Dl(n,r,{then:function(){},status:"rejected",reason:te},wn())}finally{le.p=d,X.T=T}}function aS(){}function Vd(n,r,a,l){if(n.tag!==5)throw Error(s(476));var f=cv(n).queue;uv(n,f,r,pe,a===null?aS:function(){return hv(n),a(l)})}function cv(n){var r=n.memoizedState;if(r!==null)return r;r={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:er,lastRenderedState:pe},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:er,lastRenderedState:a},next:null},n.memoizedState=r,n=n.alternate,n!==null&&(n.memoizedState=r),r}function hv(n){var r=cv(n).next.queue;Dl(n,r,{},wn())}function jd(){return Kt(Yl)}function fv(){return wt().memoizedState}function dv(){return wt().memoizedState}function oS(n){for(var r=n.return;r!==null;){switch(r.tag){case 24:case 3:var a=wn();n=Dr(a);var l=Or(r,n,a);l!==null&&(An(l,r,a),bl(l,r,a)),r={cache:dd()},n.payload=r;return}r=r.return}}function lS(n,r,a){var l=wn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Cc(n)?pv(r,a):(a=id(n,r,a,l),a!==null&&(An(a,n,l),gv(a,r,l)))}function mv(n,r,a){var l=wn();Dl(n,r,a,l)}function Dl(n,r,a,l){var f={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Cc(n))pv(r,f);else{var d=n.alternate;if(n.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var T=r.lastRenderedState,S=d(T,a);if(f.hasEagerState=!0,f.eagerState=S,yn(S,T))return fc(n,r,f,0),Je===null&&hc(),!1}catch{}finally{}if(a=id(n,r,f,l),a!==null)return An(a,n,l),gv(a,r,l),!0}return!1}function Ld(n,r,a,l){if(l={lane:2,revertLane:gm(),action:l,hasEagerState:!1,eagerState:null,next:null},Cc(n)){if(r)throw Error(s(479))}else r=id(n,a,l,2),r!==null&&An(r,n,2)}function Cc(n){var r=n.alternate;return n===Ie||r!==null&&r===Ie}function pv(n,r){Ja=Ac=!0;var a=n.pending;a===null?r.next=r:(r.next=a.next,a.next=r),n.pending=r}function gv(n,r,a){if((a&4194048)!==0){var l=r.lanes;l&=n.pendingLanes,a|=l,r.lanes=a,Jo(n,a)}}var Nc={readContext:Kt,use:bc,useCallback:gt,useContext:gt,useEffect:gt,useImperativeHandle:gt,useLayoutEffect:gt,useInsertionEffect:gt,useMemo:gt,useReducer:gt,useRef:gt,useState:gt,useDebugValue:gt,useDeferredValue:gt,useTransition:gt,useSyncExternalStore:gt,useId:gt,useHostTransitionStatus:gt,useFormState:gt,useActionState:gt,useOptimistic:gt,useMemoCache:gt,useCacheRefresh:gt},yv={readContext:Kt,use:bc,useCallback:function(n,r){return an().memoizedState=[n,r===void 0?null:r],n},useContext:Kt,useEffect:ev,useImperativeHandle:function(n,r,a){a=a!=null?a.concat([n]):null,xc(4194308,4,rv.bind(null,r,n),a)},useLayoutEffect:function(n,r){return xc(4194308,4,n,r)},useInsertionEffect:function(n,r){xc(4,2,n,r)},useMemo:function(n,r){var a=an();r=r===void 0?null:r;var l=n();if(Ws){pn(!0);try{n()}finally{pn(!1)}}return a.memoizedState=[l,r],l},useReducer:function(n,r,a){var l=an();if(a!==void 0){var f=a(r);if(Ws){pn(!0);try{a(r)}finally{pn(!1)}}}else f=r;return l.memoizedState=l.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},l.queue=n,n=n.dispatch=lS.bind(null,Ie,n),[l.memoizedState,n]},useRef:function(n){var r=an();return n={current:n},r.memoizedState=n},useState:function(n){n=Od(n);var r=n.queue,a=mv.bind(null,Ie,r);return r.dispatch=a,[n.memoizedState,a]},useDebugValue:kd,useDeferredValue:function(n,r){var a=an();return Pd(a,n,r)},useTransition:function(){var n=Od(!1);return n=uv.bind(null,Ie,n.queue,!0,!1),an().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,r,a){var l=Ie,f=an();if(ze){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),Je===null)throw Error(s(349));(je&124)!==0||Ly(l,r,a)}f.memoizedState=a;var d={value:a,getSnapshot:r};return f.queue=d,ev(By.bind(null,l,d,n),[n]),l.flags|=2048,to(9,Ic(),Uy.bind(null,l,d,a,r),null),a},useId:function(){var n=an(),r=Je.identifierPrefix;if(ze){var a=Wi,l=Xi;a=(l&~(1<<32-$t(l)-1)).toString(32)+a,r="«"+r+"R"+a,a=Sc++,0<a&&(r+="H"+a.toString(32)),r+="»"}else a=nS++,r="«"+r+"r"+a.toString(32)+"»";return n.memoizedState=r},useHostTransitionStatus:jd,useFormState:Yy,useActionState:Yy,useOptimistic:function(n){var r=an();r.memoizedState=r.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=Ld.bind(null,Ie,!0,a),a.dispatch=r,[n,r]},useMemoCache:Cd,useCacheRefresh:function(){return an().memoizedState=oS.bind(null,Ie)}},vv={readContext:Kt,use:bc,useCallback:av,useContext:Kt,useEffect:tv,useImperativeHandle:sv,useInsertionEffect:nv,useLayoutEffect:iv,useMemo:ov,useReducer:Rc,useRef:Jy,useState:function(){return Rc(er)},useDebugValue:kd,useDeferredValue:function(n,r){var a=wt();return lv(a,Ke.memoizedState,n,r)},useTransition:function(){var n=Rc(er)[0],r=wt().memoizedState;return[typeof n=="boolean"?n:Cl(n),r]},useSyncExternalStore:jy,useId:fv,useHostTransitionStatus:jd,useFormState:Xy,useActionState:Xy,useOptimistic:function(n,r){var a=wt();return Fy(a,Ke,n,r)},useMemoCache:Cd,useCacheRefresh:dv},uS={readContext:Kt,use:bc,useCallback:av,useContext:Kt,useEffect:tv,useImperativeHandle:sv,useInsertionEffect:nv,useLayoutEffect:iv,useMemo:ov,useReducer:Dd,useRef:Jy,useState:function(){return Dd(er)},useDebugValue:kd,useDeferredValue:function(n,r){var a=wt();return Ke===null?Pd(a,n,r):lv(a,Ke.memoizedState,n,r)},useTransition:function(){var n=Dd(er)[0],r=wt().memoizedState;return[typeof n=="boolean"?n:Cl(n),r]},useSyncExternalStore:jy,useId:fv,useHostTransitionStatus:jd,useFormState:Zy,useActionState:Zy,useOptimistic:function(n,r){var a=wt();return Ke!==null?Fy(a,Ke,n,r):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:Cd,useCacheRefresh:dv},no=null,Ol=0;function Dc(n){var r=Ol;return Ol+=1,no===null&&(no=[]),Cy(no,n,r)}function Ml(n,r){r=r.props.ref,n.ref=r!==void 0?r:null}function Oc(n,r){throw r.$$typeof===A?Error(s(525)):(n=Object.prototype.toString.call(r),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n)))}function _v(n){var r=n._init;return r(n._payload)}function Ev(n){function r(z,j){if(n){var H=z.deletions;H===null?(z.deletions=[j],z.flags|=16):H.push(j)}}function a(z,j){if(!n)return null;for(;j!==null;)r(z,j),j=j.sibling;return null}function l(z){for(var j=new Map;z!==null;)z.key!==null?j.set(z.key,z):j.set(z.index,z),z=z.sibling;return j}function f(z,j){return z=Yi(z,j),z.index=0,z.sibling=null,z}function d(z,j,H){return z.index=H,n?(H=z.alternate,H!==null?(H=H.index,H<j?(z.flags|=67108866,j):H):(z.flags|=67108866,j)):(z.flags|=1048576,j)}function T(z){return n&&z.alternate===null&&(z.flags|=67108866),z}function S(z,j,H,J){return j===null||j.tag!==6?(j=sd(H,z.mode,J),j.return=z,j):(j=f(j,H),j.return=z,j)}function N(z,j,H,J){var fe=H.type;return fe===x?W(z,j,H.props.children,J,H.key):j!==null&&(j.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===R&&_v(fe)===j.type)?(j=f(j,H.props),Ml(j,H),j.return=z,j):(j=mc(H.type,H.key,H.props,null,z.mode,J),Ml(j,H),j.return=z,j)}function G(z,j,H,J){return j===null||j.tag!==4||j.stateNode.containerInfo!==H.containerInfo||j.stateNode.implementation!==H.implementation?(j=ad(H,z.mode,J),j.return=z,j):(j=f(j,H.children||[]),j.return=z,j)}function W(z,j,H,J,fe){return j===null||j.tag!==7?(j=Fs(H,z.mode,J,fe),j.return=z,j):(j=f(j,H),j.return=z,j)}function te(z,j,H){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=sd(""+j,z.mode,H),j.return=z,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case w:return H=mc(j.type,j.key,j.props,null,z.mode,H),Ml(H,j),H.return=z,H;case I:return j=ad(j,z.mode,H),j.return=z,j;case R:var J=j._init;return j=J(j._payload),te(z,j,H)}if(it(j)||U(j))return j=Fs(j,z.mode,H,null),j.return=z,j;if(typeof j.then=="function")return te(z,Dc(j),H);if(j.$$typeof===Z)return te(z,vc(z,j),H);Oc(z,j)}return null}function Q(z,j,H,J){var fe=j!==null?j.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return fe!==null?null:S(z,j,""+H,J);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case w:return H.key===fe?N(z,j,H,J):null;case I:return H.key===fe?G(z,j,H,J):null;case R:return fe=H._init,H=fe(H._payload),Q(z,j,H,J)}if(it(H)||U(H))return fe!==null?null:W(z,j,H,J,null);if(typeof H.then=="function")return Q(z,j,Dc(H),J);if(H.$$typeof===Z)return Q(z,j,vc(z,H),J);Oc(z,H)}return null}function $(z,j,H,J,fe){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return z=z.get(H)||null,S(j,z,""+J,fe);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case w:return z=z.get(J.key===null?H:J.key)||null,N(j,z,J,fe);case I:return z=z.get(J.key===null?H:J.key)||null,G(j,z,J,fe);case R:var Ne=J._init;return J=Ne(J._payload),$(z,j,H,J,fe)}if(it(J)||U(J))return z=z.get(H)||null,W(j,z,J,fe,null);if(typeof J.then=="function")return $(z,j,H,Dc(J),fe);if(J.$$typeof===Z)return $(z,j,H,vc(j,J),fe);Oc(j,J)}return null}function we(z,j,H,J){for(var fe=null,Ne=null,me=j,_e=j=0,jt=null;me!==null&&_e<H.length;_e++){me.index>_e?(jt=me,me=null):jt=me.sibling;var Ue=Q(z,me,H[_e],J);if(Ue===null){me===null&&(me=jt);break}n&&me&&Ue.alternate===null&&r(z,me),j=d(Ue,j,_e),Ne===null?fe=Ue:Ne.sibling=Ue,Ne=Ue,me=jt}if(_e===H.length)return a(z,me),ze&&Gs(z,_e),fe;if(me===null){for(;_e<H.length;_e++)me=te(z,H[_e],J),me!==null&&(j=d(me,j,_e),Ne===null?fe=me:Ne.sibling=me,Ne=me);return ze&&Gs(z,_e),fe}for(me=l(me);_e<H.length;_e++)jt=$(me,z,_e,H[_e],J),jt!==null&&(n&&jt.alternate!==null&&me.delete(jt.key===null?_e:jt.key),j=d(jt,j,_e),Ne===null?fe=jt:Ne.sibling=jt,Ne=jt);return n&&me.forEach(function(Yr){return r(z,Yr)}),ze&&Gs(z,_e),fe}function ve(z,j,H,J){if(H==null)throw Error(s(151));for(var fe=null,Ne=null,me=j,_e=j=0,jt=null,Ue=H.next();me!==null&&!Ue.done;_e++,Ue=H.next()){me.index>_e?(jt=me,me=null):jt=me.sibling;var Yr=Q(z,me,Ue.value,J);if(Yr===null){me===null&&(me=jt);break}n&&me&&Yr.alternate===null&&r(z,me),j=d(Yr,j,_e),Ne===null?fe=Yr:Ne.sibling=Yr,Ne=Yr,me=jt}if(Ue.done)return a(z,me),ze&&Gs(z,_e),fe;if(me===null){for(;!Ue.done;_e++,Ue=H.next())Ue=te(z,Ue.value,J),Ue!==null&&(j=d(Ue,j,_e),Ne===null?fe=Ue:Ne.sibling=Ue,Ne=Ue);return ze&&Gs(z,_e),fe}for(me=l(me);!Ue.done;_e++,Ue=H.next())Ue=$(me,z,_e,Ue.value,J),Ue!==null&&(n&&Ue.alternate!==null&&me.delete(Ue.key===null?_e:Ue.key),j=d(Ue,j,_e),Ne===null?fe=Ue:Ne.sibling=Ue,Ne=Ue);return n&&me.forEach(function(cb){return r(z,cb)}),ze&&Gs(z,_e),fe}function Xe(z,j,H,J){if(typeof H=="object"&&H!==null&&H.type===x&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case w:e:{for(var fe=H.key;j!==null;){if(j.key===fe){if(fe=H.type,fe===x){if(j.tag===7){a(z,j.sibling),J=f(j,H.props.children),J.return=z,z=J;break e}}else if(j.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===R&&_v(fe)===j.type){a(z,j.sibling),J=f(j,H.props),Ml(J,H),J.return=z,z=J;break e}a(z,j);break}else r(z,j);j=j.sibling}H.type===x?(J=Fs(H.props.children,z.mode,J,H.key),J.return=z,z=J):(J=mc(H.type,H.key,H.props,null,z.mode,J),Ml(J,H),J.return=z,z=J)}return T(z);case I:e:{for(fe=H.key;j!==null;){if(j.key===fe)if(j.tag===4&&j.stateNode.containerInfo===H.containerInfo&&j.stateNode.implementation===H.implementation){a(z,j.sibling),J=f(j,H.children||[]),J.return=z,z=J;break e}else{a(z,j);break}else r(z,j);j=j.sibling}J=ad(H,z.mode,J),J.return=z,z=J}return T(z);case R:return fe=H._init,H=fe(H._payload),Xe(z,j,H,J)}if(it(H))return we(z,j,H,J);if(U(H)){if(fe=U(H),typeof fe!="function")throw Error(s(150));return H=fe.call(H),ve(z,j,H,J)}if(typeof H.then=="function")return Xe(z,j,Dc(H),J);if(H.$$typeof===Z)return Xe(z,j,vc(z,H),J);Oc(z,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,j!==null&&j.tag===6?(a(z,j.sibling),J=f(j,H),J.return=z,z=J):(a(z,j),J=sd(H,z.mode,J),J.return=z,z=J),T(z)):a(z,j)}return function(z,j,H,J){try{Ol=0;var fe=Xe(z,j,H,J);return no=null,fe}catch(me){if(me===Al||me===Ec)throw me;var Ne=vn(29,me,null,z.mode);return Ne.lanes=J,Ne.return=z,Ne}finally{}}}var io=Ev(!0),Tv=Ev(!1),Ln=ie(null),_i=null;function kr(n){var r=n.alternate;re(Nt,Nt.current&1),re(Ln,n),_i===null&&(r===null||Za.current!==null||r.memoizedState!==null)&&(_i=n)}function wv(n){if(n.tag===22){if(re(Nt,Nt.current),re(Ln,n),_i===null){var r=n.alternate;r!==null&&r.memoizedState!==null&&(_i=n)}}else Pr()}function Pr(){re(Nt,Nt.current),re(Ln,Ln.current)}function tr(n){ue(Ln),_i===n&&(_i=null),ue(Nt)}var Nt=ie(0);function Mc(n){for(var r=n;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||xm(a)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function Ud(n,r,a,l){r=n.memoizedState,a=a(l,r),a=a==null?r:_({},r,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var Bd={enqueueSetState:function(n,r,a){n=n._reactInternals;var l=wn(),f=Dr(l);f.payload=r,a!=null&&(f.callback=a),r=Or(n,f,l),r!==null&&(An(r,n,l),bl(r,n,l))},enqueueReplaceState:function(n,r,a){n=n._reactInternals;var l=wn(),f=Dr(l);f.tag=1,f.payload=r,a!=null&&(f.callback=a),r=Or(n,f,l),r!==null&&(An(r,n,l),bl(r,n,l))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var a=wn(),l=Dr(a);l.tag=2,r!=null&&(l.callback=r),r=Or(n,l,a),r!==null&&(An(r,n,a),bl(r,n,a))}};function Av(n,r,a,l,f,d,T){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,d,T):r.prototype&&r.prototype.isPureReactComponent?!pl(a,l)||!pl(f,d):!0}function Sv(n,r,a,l){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==n&&Bd.enqueueReplaceState(r,r.state,null)}function Zs(n,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(n=n.defaultProps){a===r&&(a=_({},a));for(var f in n)a[f]===void 0&&(a[f]=n[f])}return a}var kc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function bv(n){kc(n)}function Rv(n){console.error(n)}function Iv(n){kc(n)}function Pc(n,r){try{var a=n.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function xv(n,r,a){try{var l=n.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function zd(n,r,a){return a=Dr(a),a.tag=3,a.payload={element:null},a.callback=function(){Pc(n,r)},a}function Cv(n){return n=Dr(n),n.tag=3,n}function Nv(n,r,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;n.payload=function(){return f(d)},n.callback=function(){xv(r,a,l)}}var T=a.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(n.callback=function(){xv(r,a,l),typeof f!="function"&&(zr===null?zr=new Set([this]):zr.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function cS(n,r,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&El(r,a,f,!0),a=Ln.current,a!==null){switch(a.tag){case 13:return _i===null?hm():a.alternate===null&&ft===0&&(ft=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===gd?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),dm(n,l,f)),!1;case 22:return a.flags|=65536,l===gd?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),dm(n,l,f)),!1}throw Error(s(435,a.tag))}return dm(n,l,f),hm(),!1}if(ze)return r=Ln.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,l!==ud&&(n=Error(s(422),{cause:l}),_l(kn(n,a)))):(l!==ud&&(r=Error(s(423),{cause:l}),_l(kn(r,a))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,l=kn(l,a),f=zd(n.stateNode,l,f),_d(n,f),ft!==4&&(ft=2)),!1;var d=Error(s(520),{cause:l});if(d=kn(d,a),Bl===null?Bl=[d]:Bl.push(d),ft!==4&&(ft=2),r===null)return!0;l=kn(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,n=f&-f,a.lanes|=n,n=zd(a.stateNode,l,n),_d(a,n),!1;case 1:if(r=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(zr===null||!zr.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=Cv(f),Nv(f,n,a,l),_d(a,f),!1}a=a.return}while(a!==null);return!1}var Dv=Error(s(461)),Pt=!1;function zt(n,r,a,l){r.child=n===null?Tv(r,null,a,l):io(r,n.child,a,l)}function Ov(n,r,a,l,f){a=a.render;var d=r.ref;if("ref"in l){var T={};for(var S in l)S!=="ref"&&(T[S]=l[S])}else T=l;return Ys(r),l=Sd(n,r,a,T,d,f),S=bd(),n!==null&&!Pt?(Rd(n,r,f),nr(n,r,f)):(ze&&S&&od(r),r.flags|=1,zt(n,r,l,f),r.child)}function Mv(n,r,a,l,f){if(n===null){var d=a.type;return typeof d=="function"&&!rd(d)&&d.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=d,kv(n,r,d,l,f)):(n=mc(a.type,null,l,r,r.mode,f),n.ref=r.ref,n.return=r,r.child=n)}if(d=n.child,!Yd(n,f)){var T=d.memoizedProps;if(a=a.compare,a=a!==null?a:pl,a(T,l)&&n.ref===r.ref)return nr(n,r,f)}return r.flags|=1,n=Yi(d,l),n.ref=r.ref,n.return=r,r.child=n}function kv(n,r,a,l,f){if(n!==null){var d=n.memoizedProps;if(pl(d,l)&&n.ref===r.ref)if(Pt=!1,r.pendingProps=l=d,Yd(n,f))(n.flags&131072)!==0&&(Pt=!0);else return r.lanes=n.lanes,nr(n,r,f)}return qd(n,r,a,l,f)}function Pv(n,r,a){var l=r.pendingProps,f=l.children,d=n!==null?n.memoizedState:null;if(l.mode==="hidden"){if((r.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,n!==null){for(f=r.child=n.child,d=0;f!==null;)d=d|f.lanes|f.childLanes,f=f.sibling;r.childLanes=d&~l}else r.childLanes=0,r.child=null;return Vv(n,r,l,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},n!==null&&_c(r,d!==null?d.cachePool:null),d!==null?ky(r,d):Td(),wv(r);else return r.lanes=r.childLanes=536870912,Vv(n,r,d!==null?d.baseLanes|a:a,a)}else d!==null?(_c(r,d.cachePool),ky(r,d),Pr(),r.memoizedState=null):(n!==null&&_c(r,null),Td(),Pr());return zt(n,r,f,a),r.child}function Vv(n,r,a,l){var f=pd();return f=f===null?null:{parent:Ct._currentValue,pool:f},r.memoizedState={baseLanes:a,cachePool:f},n!==null&&_c(r,null),Td(),wv(r),n!==null&&El(n,r,l,!0),null}function Vc(n,r){var a=r.ref;if(a===null)n!==null&&n.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(n===null||n.ref!==a)&&(r.flags|=4194816)}}function qd(n,r,a,l,f){return Ys(r),a=Sd(n,r,a,l,void 0,f),l=bd(),n!==null&&!Pt?(Rd(n,r,f),nr(n,r,f)):(ze&&l&&od(r),r.flags|=1,zt(n,r,a,f),r.child)}function jv(n,r,a,l,f,d){return Ys(r),r.updateQueue=null,a=Vy(r,l,a,f),Py(n),l=bd(),n!==null&&!Pt?(Rd(n,r,d),nr(n,r,d)):(ze&&l&&od(r),r.flags|=1,zt(n,r,a,d),r.child)}function Lv(n,r,a,l,f){if(Ys(r),r.stateNode===null){var d=$a,T=a.contextType;typeof T=="object"&&T!==null&&(d=Kt(T)),d=new a(l,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Bd,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=l,d.state=r.memoizedState,d.refs={},yd(r),T=a.contextType,d.context=typeof T=="object"&&T!==null?Kt(T):$a,d.state=r.memoizedState,T=a.getDerivedStateFromProps,typeof T=="function"&&(Ud(r,a,T,l),d.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(T=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),T!==d.state&&Bd.enqueueReplaceState(d,d.state,null),Il(r,l,d,f),Rl(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(n===null){d=r.stateNode;var S=r.memoizedProps,N=Zs(a,S);d.props=N;var G=d.context,W=a.contextType;T=$a,typeof W=="object"&&W!==null&&(T=Kt(W));var te=a.getDerivedStateFromProps;W=typeof te=="function"||typeof d.getSnapshotBeforeUpdate=="function",S=r.pendingProps!==S,W||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(S||G!==T)&&Sv(r,d,l,T),Nr=!1;var Q=r.memoizedState;d.state=Q,Il(r,l,d,f),Rl(),G=r.memoizedState,S||Q!==G||Nr?(typeof te=="function"&&(Ud(r,a,te,l),G=r.memoizedState),(N=Nr||Av(r,a,N,l,Q,G,T))?(W||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=G),d.props=l,d.state=G,d.context=T,l=N):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{d=r.stateNode,vd(n,r),T=r.memoizedProps,W=Zs(a,T),d.props=W,te=r.pendingProps,Q=d.context,G=a.contextType,N=$a,typeof G=="object"&&G!==null&&(N=Kt(G)),S=a.getDerivedStateFromProps,(G=typeof S=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T!==te||Q!==N)&&Sv(r,d,l,N),Nr=!1,Q=r.memoizedState,d.state=Q,Il(r,l,d,f),Rl();var $=r.memoizedState;T!==te||Q!==$||Nr||n!==null&&n.dependencies!==null&&yc(n.dependencies)?(typeof S=="function"&&(Ud(r,a,S,l),$=r.memoizedState),(W=Nr||Av(r,a,W,l,Q,$,N)||n!==null&&n.dependencies!==null&&yc(n.dependencies))?(G||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,$,N),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,$,N)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||T===n.memoizedProps&&Q===n.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||T===n.memoizedProps&&Q===n.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=$),d.props=l,d.state=$,d.context=N,l=W):(typeof d.componentDidUpdate!="function"||T===n.memoizedProps&&Q===n.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||T===n.memoizedProps&&Q===n.memoizedState||(r.flags|=1024),l=!1)}return d=l,Vc(n,r),l=(r.flags&128)!==0,d||l?(d=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,n!==null&&l?(r.child=io(r,n.child,null,f),r.child=io(r,null,a,f)):zt(n,r,a,f),r.memoizedState=d.state,n=r.child):n=nr(n,r,f),n}function Uv(n,r,a,l){return vl(),r.flags|=256,zt(n,r,a,l),r.child}var Fd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Hd(n){return{baseLanes:n,cachePool:Ry()}}function Gd(n,r,a){return n=n!==null?n.childLanes&~a:0,r&&(n|=Un),n}function Bv(n,r,a){var l=r.pendingProps,f=!1,d=(r.flags&128)!==0,T;if((T=d)||(T=n!==null&&n.memoizedState===null?!1:(Nt.current&2)!==0),T&&(f=!0,r.flags&=-129),T=(r.flags&32)!==0,r.flags&=-33,n===null){if(ze){if(f?kr(r):Pr(),ze){var S=ht,N;if(N=S){e:{for(N=S,S=vi;N.nodeType!==8;){if(!S){S=null;break e}if(N=Xn(N.nextSibling),N===null){S=null;break e}}S=N}S!==null?(r.memoizedState={dehydrated:S,treeContext:Hs!==null?{id:Xi,overflow:Wi}:null,retryLane:536870912,hydrationErrors:null},N=vn(18,null,null,0),N.stateNode=S,N.return=r,r.child=N,rn=r,ht=null,N=!0):N=!1}N||$s(r)}if(S=r.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return xm(S)?r.lanes=32:r.lanes=536870912,null;tr(r)}return S=l.children,l=l.fallback,f?(Pr(),f=r.mode,S=jc({mode:"hidden",children:S},f),l=Fs(l,f,a,null),S.return=r,l.return=r,S.sibling=l,r.child=S,f=r.child,f.memoizedState=Hd(a),f.childLanes=Gd(n,T,a),r.memoizedState=Fd,l):(kr(r),Qd(r,S))}if(N=n.memoizedState,N!==null&&(S=N.dehydrated,S!==null)){if(d)r.flags&256?(kr(r),r.flags&=-257,r=$d(n,r,a)):r.memoizedState!==null?(Pr(),r.child=n.child,r.flags|=128,r=null):(Pr(),f=l.fallback,S=r.mode,l=jc({mode:"visible",children:l.children},S),f=Fs(f,S,a,null),f.flags|=2,l.return=r,f.return=r,l.sibling=f,r.child=l,io(r,n.child,null,a),l=r.child,l.memoizedState=Hd(a),l.childLanes=Gd(n,T,a),r.memoizedState=Fd,r=f);else if(kr(r),xm(S)){if(T=S.nextSibling&&S.nextSibling.dataset,T)var G=T.dgst;T=G,l=Error(s(419)),l.stack="",l.digest=T,_l({value:l,source:null,stack:null}),r=$d(n,r,a)}else if(Pt||El(n,r,a,!1),T=(a&n.childLanes)!==0,Pt||T){if(T=Je,T!==null&&(l=a&-a,l=(l&42)!==0?1:wr(l),l=(l&(T.suspendedLanes|a))!==0?0:l,l!==0&&l!==N.retryLane))throw N.retryLane=l,Qa(n,l),An(T,n,l),Dv;S.data==="$?"||hm(),r=$d(n,r,a)}else S.data==="$?"?(r.flags|=192,r.child=n.child,r=null):(n=N.treeContext,ht=Xn(S.nextSibling),rn=r,ze=!0,Qs=null,vi=!1,n!==null&&(Vn[jn++]=Xi,Vn[jn++]=Wi,Vn[jn++]=Hs,Xi=n.id,Wi=n.overflow,Hs=r),r=Qd(r,l.children),r.flags|=4096);return r}return f?(Pr(),f=l.fallback,S=r.mode,N=n.child,G=N.sibling,l=Yi(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,G!==null?f=Yi(G,f):(f=Fs(f,S,a,null),f.flags|=2),f.return=r,l.return=r,l.sibling=f,r.child=l,l=f,f=r.child,S=n.child.memoizedState,S===null?S=Hd(a):(N=S.cachePool,N!==null?(G=Ct._currentValue,N=N.parent!==G?{parent:G,pool:G}:N):N=Ry(),S={baseLanes:S.baseLanes|a,cachePool:N}),f.memoizedState=S,f.childLanes=Gd(n,T,a),r.memoizedState=Fd,l):(kr(r),a=n.child,n=a.sibling,a=Yi(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,n!==null&&(T=r.deletions,T===null?(r.deletions=[n],r.flags|=16):T.push(n)),r.child=a,r.memoizedState=null,a)}function Qd(n,r){return r=jc({mode:"visible",children:r},n.mode),r.return=n,n.child=r}function jc(n,r){return n=vn(22,n,null,r),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function $d(n,r,a){return io(r,n.child,null,a),n=Qd(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function zv(n,r,a){n.lanes|=r;var l=n.alternate;l!==null&&(l.lanes|=r),hd(n.return,r,a)}function Kd(n,r,a,l,f){var d=n.memoizedState;d===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f}:(d.isBackwards=r,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=f)}function qv(n,r,a){var l=r.pendingProps,f=l.revealOrder,d=l.tail;if(zt(n,r,l.children,a),l=Nt.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&zv(n,a,r);else if(n.tag===19)zv(n,a,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break e;for(;n.sibling===null;){if(n.return===null||n.return===r)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}l&=1}switch(re(Nt,l),f){case"forwards":for(a=r.child,f=null;a!==null;)n=a.alternate,n!==null&&Mc(n)===null&&(f=a),a=a.sibling;a=f,a===null?(f=r.child,r.child=null):(f=a.sibling,a.sibling=null),Kd(r,!1,f,a,d);break;case"backwards":for(a=null,f=r.child,r.child=null;f!==null;){if(n=f.alternate,n!==null&&Mc(n)===null){r.child=f;break}n=f.sibling,f.sibling=a,a=f,f=n}Kd(r,!0,a,null,d);break;case"together":Kd(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function nr(n,r,a){if(n!==null&&(r.dependencies=n.dependencies),Br|=r.lanes,(a&r.childLanes)===0)if(n!==null){if(El(n,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(n!==null&&r.child!==n.child)throw Error(s(153));if(r.child!==null){for(n=r.child,a=Yi(n,n.pendingProps),r.child=a,a.return=r;n.sibling!==null;)n=n.sibling,a=a.sibling=Yi(n,n.pendingProps),a.return=r;a.sibling=null}return r.child}function Yd(n,r){return(n.lanes&r)!==0?!0:(n=n.dependencies,!!(n!==null&&yc(n)))}function hS(n,r,a){switch(r.tag){case 3:Ze(r,r.stateNode.containerInfo),Cr(r,Ct,n.memoizedState.cache),vl();break;case 27:case 5:Tr(r);break;case 4:Ze(r,r.stateNode.containerInfo);break;case 10:Cr(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(kr(r),r.flags|=128,null):(a&r.child.childLanes)!==0?Bv(n,r,a):(kr(r),n=nr(n,r,a),n!==null?n.sibling:null);kr(r);break;case 19:var f=(n.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(El(n,r,a,!1),l=(a&r.childLanes)!==0),f){if(l)return qv(n,r,a);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),re(Nt,Nt.current),l)break;return null;case 22:case 23:return r.lanes=0,Pv(n,r,a);case 24:Cr(r,Ct,n.memoizedState.cache)}return nr(n,r,a)}function Fv(n,r,a){if(n!==null)if(n.memoizedProps!==r.pendingProps)Pt=!0;else{if(!Yd(n,a)&&(r.flags&128)===0)return Pt=!1,hS(n,r,a);Pt=(n.flags&131072)!==0}else Pt=!1,ze&&(r.flags&1048576)!==0&&_y(r,gc,r.index);switch(r.lanes=0,r.tag){case 16:e:{n=r.pendingProps;var l=r.elementType,f=l._init;if(l=f(l._payload),r.type=l,typeof l=="function")rd(l)?(n=Zs(l,n),r.tag=1,r=Lv(null,r,l,n,a)):(r.tag=0,r=qd(null,r,l,n,a));else{if(l!=null){if(f=l.$$typeof,f===se){r.tag=11,r=Ov(null,r,l,n,a);break e}else if(f===O){r.tag=14,r=Mv(null,r,l,n,a);break e}}throw r=mt(l)||l,Error(s(306,r,""))}}return r;case 0:return qd(n,r,r.type,r.pendingProps,a);case 1:return l=r.type,f=Zs(l,r.pendingProps),Lv(n,r,l,f,a);case 3:e:{if(Ze(r,r.stateNode.containerInfo),n===null)throw Error(s(387));l=r.pendingProps;var d=r.memoizedState;f=d.element,vd(n,r),Il(r,l,null,a);var T=r.memoizedState;if(l=T.cache,Cr(r,Ct,l),l!==d.cache&&fd(r,[Ct],a,!0),Rl(),l=T.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:T.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=Uv(n,r,l,a);break e}else if(l!==f){f=kn(Error(s(424)),r),_l(f),r=Uv(n,r,l,a);break e}else{switch(n=r.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(ht=Xn(n.firstChild),rn=r,ze=!0,Qs=null,vi=!0,a=Tv(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(vl(),l===f){r=nr(n,r,a);break e}zt(n,r,l,a)}r=r.child}return r;case 26:return Vc(n,r),n===null?(a=$_(r.type,null,r.pendingProps,null))?r.memoizedState=a:ze||(a=r.type,n=r.pendingProps,l=Wc(Ae.current).createElement(a),l[Rt]=r,l[_t]=n,Ft(l,a,n),pt(l),r.stateNode=l):r.memoizedState=$_(r.type,n.memoizedProps,r.pendingProps,n.memoizedState),null;case 27:return Tr(r),n===null&&ze&&(l=r.stateNode=H_(r.type,r.pendingProps,Ae.current),rn=r,vi=!0,f=ht,Hr(r.type)?(Cm=f,ht=Xn(l.firstChild)):ht=f),zt(n,r,r.pendingProps.children,a),Vc(n,r),n===null&&(r.flags|=4194304),r.child;case 5:return n===null&&ze&&((f=l=ht)&&(l=US(l,r.type,r.pendingProps,vi),l!==null?(r.stateNode=l,rn=r,ht=Xn(l.firstChild),vi=!1,f=!0):f=!1),f||$s(r)),Tr(r),f=r.type,d=r.pendingProps,T=n!==null?n.memoizedProps:null,l=d.children,bm(f,d)?l=null:T!==null&&bm(f,T)&&(r.flags|=32),r.memoizedState!==null&&(f=Sd(n,r,iS,null,null,a),Yl._currentValue=f),Vc(n,r),zt(n,r,l,a),r.child;case 6:return n===null&&ze&&((n=a=ht)&&(a=BS(a,r.pendingProps,vi),a!==null?(r.stateNode=a,rn=r,ht=null,n=!0):n=!1),n||$s(r)),null;case 13:return Bv(n,r,a);case 4:return Ze(r,r.stateNode.containerInfo),l=r.pendingProps,n===null?r.child=io(r,null,l,a):zt(n,r,l,a),r.child;case 11:return Ov(n,r,r.type,r.pendingProps,a);case 7:return zt(n,r,r.pendingProps,a),r.child;case 8:return zt(n,r,r.pendingProps.children,a),r.child;case 12:return zt(n,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,Cr(r,r.type,l.value),zt(n,r,l.children,a),r.child;case 9:return f=r.type._context,l=r.pendingProps.children,Ys(r),f=Kt(f),l=l(f),r.flags|=1,zt(n,r,l,a),r.child;case 14:return Mv(n,r,r.type,r.pendingProps,a);case 15:return kv(n,r,r.type,r.pendingProps,a);case 19:return qv(n,r,a);case 31:return l=r.pendingProps,a=r.mode,l={mode:l.mode,children:l.children},n===null?(a=jc(l,a),a.ref=r.ref,r.child=a,a.return=r,r=a):(a=Yi(n.child,l),a.ref=r.ref,r.child=a,a.return=r,r=a),r;case 22:return Pv(n,r,a);case 24:return Ys(r),l=Kt(Ct),n===null?(f=pd(),f===null&&(f=Je,d=dd(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),r.memoizedState={parent:l,cache:f},yd(r),Cr(r,Ct,f)):((n.lanes&a)!==0&&(vd(n,r),Il(r,null,null,a),Rl()),f=n.memoizedState,d=r.memoizedState,f.parent!==l?(f={parent:l,cache:l},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),Cr(r,Ct,l)):(l=d.cache,Cr(r,Ct,l),l!==f.cache&&fd(r,[Ct],a,!0))),zt(n,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function ir(n){n.flags|=4}function Hv(n,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!Z_(r)){if(r=Ln.current,r!==null&&((je&4194048)===je?_i!==null:(je&62914560)!==je&&(je&536870912)===0||r!==_i))throw Sl=gd,Iy;n.flags|=8192}}function Lc(n,r){r!==null&&(n.flags|=4),n.flags&16384&&(r=n.tag!==22?Wo():536870912,n.lanes|=r,oo|=r)}function kl(n,r){if(!ze)switch(n.tailMode){case"hidden":r=n.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function ot(n){var r=n.alternate!==null&&n.alternate.child===n.child,a=0,l=0;if(r)for(var f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=l,n.childLanes=a,r}function fS(n,r,a){var l=r.pendingProps;switch(ld(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ot(r),null;case 1:return ot(r),null;case 3:return a=r.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),Ji(Ct),ai(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(yl(r)?ir(r):n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,wy())),ot(r),null;case 26:return a=r.memoizedState,n===null?(ir(r),a!==null?(ot(r),Hv(r,a)):(ot(r),r.flags&=-16777217)):a?a!==n.memoizedState?(ir(r),ot(r),Hv(r,a)):(ot(r),r.flags&=-16777217):(n.memoizedProps!==l&&ir(r),ot(r),r.flags&=-16777217),null;case 27:Vi(r),a=Ae.current;var f=r.type;if(n!==null&&r.stateNode!=null)n.memoizedProps!==l&&ir(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return ot(r),null}n=ye.current,yl(r)?Ey(r):(n=H_(f,l,a),r.stateNode=n,ir(r))}return ot(r),null;case 5:if(Vi(r),a=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==l&&ir(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return ot(r),null}if(n=ye.current,yl(r))Ey(r);else{switch(f=Wc(Ae.current),n){case 1:n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":n=f.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?n.multiple=!0:l.size&&(n.size=l.size);break;default:n=typeof l.is=="string"?f.createElement(a,{is:l.is}):f.createElement(a)}}n[Rt]=r,n[_t]=l;e:for(f=r.child;f!==null;){if(f.tag===5||f.tag===6)n.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===r)break e;for(;f.sibling===null;){if(f.return===null||f.return===r)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}r.stateNode=n;e:switch(Ft(n,a,l),a){case"button":case"input":case"select":case"textarea":n=!!l.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&ir(r)}}return ot(r),r.flags&=-16777217,null;case 6:if(n&&r.stateNode!=null)n.memoizedProps!==l&&ir(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(n=Ae.current,yl(r)){if(n=r.stateNode,a=r.memoizedProps,l=null,f=rn,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}n[Rt]=r,n=!!(n.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||j_(n.nodeValue,a)),n||$s(r)}else n=Wc(n).createTextNode(l),n[Rt]=r,r.stateNode=n}return ot(r),null;case 13:if(l=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=yl(r),l!==null&&l.dehydrated!==null){if(n===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[Rt]=r}else vl(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ot(r),f=!1}else f=wy(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(tr(r),r):(tr(r),null)}if(tr(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=l!==null,n=n!==null&&n.memoizedState!==null,a){l=r.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)}return a!==n&&a&&(r.child.flags|=8192),Lc(r,r.updateQueue),ot(r),null;case 4:return ai(),n===null&&Em(r.stateNode.containerInfo),ot(r),null;case 10:return Ji(r.type),ot(r),null;case 19:if(ue(Nt),f=r.memoizedState,f===null)return ot(r),null;if(l=(r.flags&128)!==0,d=f.rendering,d===null)if(l)kl(f,!1);else{if(ft!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(d=Mc(n),d!==null){for(r.flags|=128,kl(f,!1),n=d.updateQueue,r.updateQueue=n,Lc(r,n),r.subtreeFlags=0,n=a,a=r.child;a!==null;)vy(a,n),a=a.sibling;return re(Nt,Nt.current&1|2),r.child}n=n.sibling}f.tail!==null&&xn()>zc&&(r.flags|=128,l=!0,kl(f,!1),r.lanes=4194304)}else{if(!l)if(n=Mc(d),n!==null){if(r.flags|=128,l=!0,n=n.updateQueue,r.updateQueue=n,Lc(r,n),kl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!d.alternate&&!ze)return ot(r),null}else 2*xn()-f.renderingStartTime>zc&&a!==536870912&&(r.flags|=128,l=!0,kl(f,!1),r.lanes=4194304);f.isBackwards?(d.sibling=r.child,r.child=d):(n=f.last,n!==null?n.sibling=d:r.child=d,f.last=d)}return f.tail!==null?(r=f.tail,f.rendering=r,f.tail=r.sibling,f.renderingStartTime=xn(),r.sibling=null,n=Nt.current,re(Nt,l?n&1|2:n&1),r):(ot(r),null);case 22:case 23:return tr(r),wd(),l=r.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(ot(r),r.subtreeFlags&6&&(r.flags|=8192)):ot(r),a=r.updateQueue,a!==null&&Lc(r,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),n!==null&&ue(Xs),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),Ji(Ct),ot(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function dS(n,r){switch(ld(r),r.tag){case 1:return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return Ji(Ct),ai(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 26:case 27:case 5:return Vi(r),null;case 13:if(tr(r),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(s(340));vl()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return ue(Nt),null;case 4:return ai(),null;case 10:return Ji(r.type),null;case 22:case 23:return tr(r),wd(),n!==null&&ue(Xs),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 24:return Ji(Ct),null;case 25:return null;default:return null}}function Gv(n,r){switch(ld(r),r.tag){case 3:Ji(Ct),ai();break;case 26:case 27:case 5:Vi(r);break;case 4:ai();break;case 13:tr(r);break;case 19:ue(Nt);break;case 10:Ji(r.type);break;case 22:case 23:tr(r),wd(),n!==null&&ue(Xs);break;case 24:Ji(Ct)}}function Pl(n,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&n)===n){l=void 0;var d=a.create,T=a.inst;l=d(),T.destroy=l}a=a.next}while(a!==f)}}catch(S){We(r,r.return,S)}}function Vr(n,r,a){try{var l=r.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&n)===n){var T=l.inst,S=T.destroy;if(S!==void 0){T.destroy=void 0,f=r;var N=a,G=S;try{G()}catch(W){We(f,N,W)}}}l=l.next}while(l!==d)}}catch(W){We(r,r.return,W)}}function Qv(n){var r=n.updateQueue;if(r!==null){var a=n.stateNode;try{My(r,a)}catch(l){We(n,n.return,l)}}}function $v(n,r,a){a.props=Zs(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(l){We(n,r,l)}}function Vl(n,r){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var l=n.stateNode;break;case 30:l=n.stateNode;break;default:l=n.stateNode}typeof a=="function"?n.refCleanup=a(l):a.current=l}}catch(f){We(n,r,f)}}function Ei(n,r){var a=n.ref,l=n.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){We(n,r,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){We(n,r,f)}else a.current=null}function Kv(n){var r=n.type,a=n.memoizedProps,l=n.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){We(n,n.return,f)}}function Xd(n,r,a){try{var l=n.stateNode;kS(l,n.type,a,r),l[_t]=r}catch(f){We(n,n.return,f)}}function Yv(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Hr(n.type)||n.tag===4}function Wd(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Yv(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Hr(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Zd(n,r,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(n),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Xc));else if(l!==4&&(l===27&&Hr(n.type)&&(a=n.stateNode,r=null),n=n.child,n!==null))for(Zd(n,r,a),n=n.sibling;n!==null;)Zd(n,r,a),n=n.sibling}function Uc(n,r,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,r?a.insertBefore(n,r):a.appendChild(n);else if(l!==4&&(l===27&&Hr(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(Uc(n,r,a),n=n.sibling;n!==null;)Uc(n,r,a),n=n.sibling}function Xv(n){var r=n.stateNode,a=n.memoizedProps;try{for(var l=n.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);Ft(r,l,a),r[Rt]=n,r[_t]=a}catch(d){We(n,n.return,d)}}var rr=!1,yt=!1,Jd=!1,Wv=typeof WeakSet=="function"?WeakSet:Set,Vt=null;function mS(n,r){if(n=n.containerInfo,Am=ih,n=ly(n),Wf(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var T=0,S=-1,N=-1,G=0,W=0,te=n,Q=null;t:for(;;){for(var $;te!==a||f!==0&&te.nodeType!==3||(S=T+f),te!==d||l!==0&&te.nodeType!==3||(N=T+l),te.nodeType===3&&(T+=te.nodeValue.length),($=te.firstChild)!==null;)Q=te,te=$;for(;;){if(te===n)break t;if(Q===a&&++G===f&&(S=T),Q===d&&++W===l&&(N=T),($=te.nextSibling)!==null)break;te=Q,Q=te.parentNode}te=$}a=S===-1||N===-1?null:{start:S,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(Sm={focusedElem:n,selectionRange:a},ih=!1,Vt=r;Vt!==null;)if(r=Vt,n=r.child,(r.subtreeFlags&1024)!==0&&n!==null)n.return=r,Vt=n;else for(;Vt!==null;){switch(r=Vt,d=r.alternate,n=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&d!==null){n=void 0,a=r,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var we=Zs(a.type,f,a.elementType===a.type);n=l.getSnapshotBeforeUpdate(we,d),l.__reactInternalSnapshotBeforeUpdate=n}catch(ve){We(a,a.return,ve)}}break;case 3:if((n&1024)!==0){if(n=r.stateNode.containerInfo,a=n.nodeType,a===9)Im(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Im(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=r.sibling,n!==null){n.return=r.return,Vt=n;break}Vt=r.return}}function Zv(n,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:jr(n,a),l&4&&Pl(5,a);break;case 1:if(jr(n,a),l&4)if(n=a.stateNode,r===null)try{n.componentDidMount()}catch(T){We(a,a.return,T)}else{var f=Zs(a.type,r.memoizedProps);r=r.memoizedState;try{n.componentDidUpdate(f,r,n.__reactInternalSnapshotBeforeUpdate)}catch(T){We(a,a.return,T)}}l&64&&Qv(a),l&512&&Vl(a,a.return);break;case 3:if(jr(n,a),l&64&&(n=a.updateQueue,n!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{My(n,r)}catch(T){We(a,a.return,T)}}break;case 27:r===null&&l&4&&Xv(a);case 26:case 5:jr(n,a),r===null&&l&4&&Kv(a),l&512&&Vl(a,a.return);break;case 12:jr(n,a);break;case 13:jr(n,a),l&4&&t_(n,a),l&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=AS.bind(null,a),zS(n,a))));break;case 22:if(l=a.memoizedState!==null||rr,!l){r=r!==null&&r.memoizedState!==null||yt,f=rr;var d=yt;rr=l,(yt=r)&&!d?Lr(n,a,(a.subtreeFlags&8772)!==0):jr(n,a),rr=f,yt=d}break;case 30:break;default:jr(n,a)}}function Jv(n){var r=n.alternate;r!==null&&(n.alternate=null,Jv(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&br(r)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var st=null,on=!1;function sr(n,r,a){for(a=a.child;a!==null;)e_(n,r,a),a=a.sibling}function e_(n,r,a){if(He&&typeof He.onCommitFiberUnmount=="function")try{He.onCommitFiberUnmount(ct,a)}catch{}switch(a.tag){case 26:yt||Ei(a,r),sr(n,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:yt||Ei(a,r);var l=st,f=on;Hr(a.type)&&(st=a.stateNode,on=!1),sr(n,r,a),Gl(a.stateNode),st=l,on=f;break;case 5:yt||Ei(a,r);case 6:if(l=st,f=on,st=null,sr(n,r,a),st=l,on=f,st!==null)if(on)try{(st.nodeType===9?st.body:st.nodeName==="HTML"?st.ownerDocument.body:st).removeChild(a.stateNode)}catch(d){We(a,r,d)}else try{st.removeChild(a.stateNode)}catch(d){We(a,r,d)}break;case 18:st!==null&&(on?(n=st,q_(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),Jl(n)):q_(st,a.stateNode));break;case 4:l=st,f=on,st=a.stateNode.containerInfo,on=!0,sr(n,r,a),st=l,on=f;break;case 0:case 11:case 14:case 15:yt||Vr(2,a,r),yt||Vr(4,a,r),sr(n,r,a);break;case 1:yt||(Ei(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&$v(a,r,l)),sr(n,r,a);break;case 21:sr(n,r,a);break;case 22:yt=(l=yt)||a.memoizedState!==null,sr(n,r,a),yt=l;break;default:sr(n,r,a)}}function t_(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Jl(n)}catch(a){We(r,r.return,a)}}function pS(n){switch(n.tag){case 13:case 19:var r=n.stateNode;return r===null&&(r=n.stateNode=new Wv),r;case 22:return n=n.stateNode,r=n._retryCache,r===null&&(r=n._retryCache=new Wv),r;default:throw Error(s(435,n.tag))}}function em(n,r){var a=pS(n);r.forEach(function(l){var f=SS.bind(null,n,l);a.has(l)||(a.add(l),l.then(f,f))})}function _n(n,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=n,T=r,S=T;e:for(;S!==null;){switch(S.tag){case 27:if(Hr(S.type)){st=S.stateNode,on=!1;break e}break;case 5:st=S.stateNode,on=!1;break e;case 3:case 4:st=S.stateNode.containerInfo,on=!0;break e}S=S.return}if(st===null)throw Error(s(160));e_(d,T,f),st=null,on=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)n_(r,n),r=r.sibling}var Yn=null;function n_(n,r){var a=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:_n(r,n),En(n),l&4&&(Vr(3,n,n.return),Pl(3,n),Vr(5,n,n.return));break;case 1:_n(r,n),En(n),l&512&&(yt||a===null||Ei(a,a.return)),l&64&&rr&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=Yn;if(_n(r,n),En(n),l&512&&(yt||a===null||Ei(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=n.memoizedState,a===null)if(l===null)if(n.stateNode===null){e:{l=n.type,a=n.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[Is]||d[Rt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),Ft(d,l,a),d[Rt]=n,pt(d),l=d;break e;case"link":var T=X_("link","href",f).get(l+(a.href||""));if(T){for(var S=0;S<T.length;S++)if(d=T[S],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){T.splice(S,1);break t}}d=f.createElement(l),Ft(d,l,a),f.head.appendChild(d);break;case"meta":if(T=X_("meta","content",f).get(l+(a.content||""))){for(S=0;S<T.length;S++)if(d=T[S],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){T.splice(S,1);break t}}d=f.createElement(l),Ft(d,l,a),f.head.appendChild(d);break;default:throw Error(s(468,l))}d[Rt]=n,pt(d),l=d}n.stateNode=l}else W_(f,n.type,n.stateNode);else n.stateNode=Y_(f,l,n.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?W_(f,n.type,n.stateNode):Y_(f,l,n.memoizedProps)):l===null&&n.stateNode!==null&&Xd(n,n.memoizedProps,a.memoizedProps)}break;case 27:_n(r,n),En(n),l&512&&(yt||a===null||Ei(a,a.return)),a!==null&&l&4&&Xd(n,n.memoizedProps,a.memoizedProps);break;case 5:if(_n(r,n),En(n),l&512&&(yt||a===null||Ei(a,a.return)),n.flags&32){f=n.stateNode;try{Nn(f,"")}catch($){We(n,n.return,$)}}l&4&&n.stateNode!=null&&(f=n.memoizedProps,Xd(n,f,a!==null?a.memoizedProps:f)),l&1024&&(Jd=!0);break;case 6:if(_n(r,n),En(n),l&4){if(n.stateNode===null)throw Error(s(162));l=n.memoizedProps,a=n.stateNode;try{a.nodeValue=l}catch($){We(n,n.return,$)}}break;case 3:if(eh=null,f=Yn,Yn=Zc(r.containerInfo),_n(r,n),Yn=f,En(n),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Jl(r.containerInfo)}catch($){We(n,n.return,$)}Jd&&(Jd=!1,i_(n));break;case 4:l=Yn,Yn=Zc(n.stateNode.containerInfo),_n(r,n),En(n),Yn=l;break;case 12:_n(r,n),En(n);break;case 13:_n(r,n),En(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(am=xn()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,em(n,l)));break;case 22:f=n.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,G=rr,W=yt;if(rr=G||f,yt=W||N,_n(r,n),yt=W,rr=G,En(n),l&8192)e:for(r=n.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(a===null||N||rr||yt||Js(n)),a=null,r=n;;){if(r.tag===5||r.tag===26){if(a===null){N=a=r;try{if(d=N.stateNode,f)T=d.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{S=N.stateNode;var te=N.memoizedProps.style,Q=te!=null&&te.hasOwnProperty("display")?te.display:null;S.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch($){We(N,N.return,$)}}}else if(r.tag===6){if(a===null){N=r;try{N.stateNode.nodeValue=f?"":N.memoizedProps}catch($){We(N,N.return,$)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===n)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break e;for(;r.sibling===null;){if(r.return===null||r.return===n)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=n.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,em(n,a))));break;case 19:_n(r,n),En(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,em(n,l)));break;case 30:break;case 21:break;default:_n(r,n),En(n)}}function En(n){var r=n.flags;if(r&2){try{for(var a,l=n.return;l!==null;){if(Yv(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,d=Wd(n);Uc(n,d,f);break;case 5:var T=a.stateNode;a.flags&32&&(Nn(T,""),a.flags&=-33);var S=Wd(n);Uc(n,S,T);break;case 3:case 4:var N=a.stateNode.containerInfo,G=Wd(n);Zd(n,G,N);break;default:throw Error(s(161))}}catch(W){We(n,n.return,W)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function i_(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var r=n;i_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),n=n.sibling}}function jr(n,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Zv(n,r.alternate,r),r=r.sibling}function Js(n){for(n=n.child;n!==null;){var r=n;switch(r.tag){case 0:case 11:case 14:case 15:Vr(4,r,r.return),Js(r);break;case 1:Ei(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&$v(r,r.return,a),Js(r);break;case 27:Gl(r.stateNode);case 26:case 5:Ei(r,r.return),Js(r);break;case 22:r.memoizedState===null&&Js(r);break;case 30:Js(r);break;default:Js(r)}n=n.sibling}}function Lr(n,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,f=n,d=r,T=d.flags;switch(d.tag){case 0:case 11:case 15:Lr(f,d,a),Pl(4,d);break;case 1:if(Lr(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(G){We(l,l.return,G)}if(l=d,f=l.updateQueue,f!==null){var S=l.stateNode;try{var N=f.shared.hiddenCallbacks;if(N!==null)for(f.shared.hiddenCallbacks=null,f=0;f<N.length;f++)Oy(N[f],S)}catch(G){We(l,l.return,G)}}a&&T&64&&Qv(d),Vl(d,d.return);break;case 27:Xv(d);case 26:case 5:Lr(f,d,a),a&&l===null&&T&4&&Kv(d),Vl(d,d.return);break;case 12:Lr(f,d,a);break;case 13:Lr(f,d,a),a&&T&4&&t_(f,d);break;case 22:d.memoizedState===null&&Lr(f,d,a),Vl(d,d.return);break;case 30:break;default:Lr(f,d,a)}r=r.sibling}}function tm(n,r){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(n=r.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&Tl(a))}function nm(n,r){n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&Tl(n))}function Ti(n,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)r_(n,r,a,l),r=r.sibling}function r_(n,r,a,l){var f=r.flags;switch(r.tag){case 0:case 11:case 15:Ti(n,r,a,l),f&2048&&Pl(9,r);break;case 1:Ti(n,r,a,l);break;case 3:Ti(n,r,a,l),f&2048&&(n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&Tl(n)));break;case 12:if(f&2048){Ti(n,r,a,l),n=r.stateNode;try{var d=r.memoizedProps,T=d.id,S=d.onPostCommit;typeof S=="function"&&S(T,r.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(N){We(r,r.return,N)}}else Ti(n,r,a,l);break;case 13:Ti(n,r,a,l);break;case 23:break;case 22:d=r.stateNode,T=r.alternate,r.memoizedState!==null?d._visibility&2?Ti(n,r,a,l):jl(n,r):d._visibility&2?Ti(n,r,a,l):(d._visibility|=2,ro(n,r,a,l,(r.subtreeFlags&10256)!==0)),f&2048&&tm(T,r);break;case 24:Ti(n,r,a,l),f&2048&&nm(r.alternate,r);break;default:Ti(n,r,a,l)}}function ro(n,r,a,l,f){for(f=f&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var d=n,T=r,S=a,N=l,G=T.flags;switch(T.tag){case 0:case 11:case 15:ro(d,T,S,N,f),Pl(8,T);break;case 23:break;case 22:var W=T.stateNode;T.memoizedState!==null?W._visibility&2?ro(d,T,S,N,f):jl(d,T):(W._visibility|=2,ro(d,T,S,N,f)),f&&G&2048&&tm(T.alternate,T);break;case 24:ro(d,T,S,N,f),f&&G&2048&&nm(T.alternate,T);break;default:ro(d,T,S,N,f)}r=r.sibling}}function jl(n,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=n,l=r,f=l.flags;switch(l.tag){case 22:jl(a,l),f&2048&&tm(l.alternate,l);break;case 24:jl(a,l),f&2048&&nm(l.alternate,l);break;default:jl(a,l)}r=r.sibling}}var Ll=8192;function so(n){if(n.subtreeFlags&Ll)for(n=n.child;n!==null;)s_(n),n=n.sibling}function s_(n){switch(n.tag){case 26:so(n),n.flags&Ll&&n.memoizedState!==null&&eb(Yn,n.memoizedState,n.memoizedProps);break;case 5:so(n);break;case 3:case 4:var r=Yn;Yn=Zc(n.stateNode.containerInfo),so(n),Yn=r;break;case 22:n.memoizedState===null&&(r=n.alternate,r!==null&&r.memoizedState!==null?(r=Ll,Ll=16777216,so(n),Ll=r):so(n));break;default:so(n)}}function a_(n){var r=n.alternate;if(r!==null&&(n=r.child,n!==null)){r.child=null;do r=n.sibling,n.sibling=null,n=r;while(n!==null)}}function Ul(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Vt=l,l_(l,n)}a_(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)o_(n),n=n.sibling}function o_(n){switch(n.tag){case 0:case 11:case 15:Ul(n),n.flags&2048&&Vr(9,n,n.return);break;case 3:Ul(n);break;case 12:Ul(n);break;case 22:var r=n.stateNode;n.memoizedState!==null&&r._visibility&2&&(n.return===null||n.return.tag!==13)?(r._visibility&=-3,Bc(n)):Ul(n);break;default:Ul(n)}}function Bc(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Vt=l,l_(l,n)}a_(n)}for(n=n.child;n!==null;){switch(r=n,r.tag){case 0:case 11:case 15:Vr(8,r,r.return),Bc(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,Bc(r));break;default:Bc(r)}n=n.sibling}}function l_(n,r){for(;Vt!==null;){var a=Vt;switch(a.tag){case 0:case 11:case 15:Vr(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Tl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Vt=l;else e:for(a=n;Vt!==null;){l=Vt;var f=l.sibling,d=l.return;if(Jv(l),l===a){Vt=null;break e}if(f!==null){f.return=d,Vt=f;break e}Vt=d}}}var gS={getCacheForType:function(n){var r=Kt(Ct),a=r.data.get(n);return a===void 0&&(a=n(),r.data.set(n,a)),a}},yS=typeof WeakMap=="function"?WeakMap:Map,Ge=0,Je=null,De=null,je=0,Qe=0,Tn=null,Ur=!1,ao=!1,im=!1,ar=0,ft=0,Br=0,ea=0,rm=0,Un=0,oo=0,Bl=null,ln=null,sm=!1,am=0,zc=1/0,qc=null,zr=null,qt=0,qr=null,lo=null,uo=0,om=0,lm=null,u_=null,zl=0,um=null;function wn(){if((Ge&2)!==0&&je!==0)return je&-je;if(X.T!==null){var n=Xa;return n!==0?n:gm()}return Ar()}function c_(){Un===0&&(Un=(je&536870912)===0||ze?Xo():536870912);var n=Ln.current;return n!==null&&(n.flags|=32),Un}function An(n,r,a){(n===Je&&(Qe===2||Qe===9)||n.cancelPendingCommit!==null)&&(co(n,0),Fr(n,je,Un,!1)),Li(n,a),((Ge&2)===0||n!==Je)&&(n===Je&&((Ge&2)===0&&(ea|=a),ft===4&&Fr(n,je,Un,!1)),wi(n))}function h_(n,r,a){if((Ge&6)!==0)throw Error(s(327));var l=!a&&(r&124)===0&&(r&n.expiredLanes)===0||Rs(n,r),f=l?ES(n,r):fm(n,r,!0),d=l;do{if(f===0){ao&&!l&&Fr(n,r,0,!1);break}else{if(a=n.current.alternate,d&&!vS(a)){f=fm(n,r,!1),d=!1;continue}if(f===2){if(d=r,n.errorRecoveryDisabledLanes&d)var T=0;else T=n.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){r=T;e:{var S=n;f=Bl;var N=S.current.memoizedState.isDehydrated;if(N&&(co(S,T).flags|=256),T=fm(S,T,!1),T!==2){if(im&&!N){S.errorRecoveryDisabledLanes|=d,ea|=d,f=4;break e}d=ln,ln=f,d!==null&&(ln===null?ln=d:ln.push.apply(ln,d))}f=T}if(d=!1,f!==2)continue}}if(f===1){co(n,0),Fr(n,r,0,!0);break}e:{switch(l=n,d=f,d){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Fr(l,r,Un,!Ur);break e;case 2:ln=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=am+300-xn(),10<f)){if(Fr(l,r,Un,!Ur),Ia(l,0,!0)!==0)break e;l.timeoutHandle=B_(f_.bind(null,l,a,ln,qc,sm,r,Un,ea,oo,Ur,d,2,-0,0),f);break e}f_(l,a,ln,qc,sm,r,Un,ea,oo,Ur,d,0,-0,0)}}break}while(!0);wi(n)}function f_(n,r,a,l,f,d,T,S,N,G,W,te,Q,$){if(n.timeoutHandle=-1,te=r.subtreeFlags,(te&8192||(te&16785408)===16785408)&&(Kl={stylesheets:null,count:0,unsuspend:JS},s_(r),te=tb(),te!==null)){n.cancelPendingCommit=te(__.bind(null,n,r,d,a,l,f,T,S,N,W,1,Q,$)),Fr(n,d,T,!G);return}__(n,r,d,a,l,f,T,S,N)}function vS(n){for(var r=n;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!yn(d(),f))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Fr(n,r,a,l){r&=~rm,r&=~ea,n.suspendedLanes|=r,n.pingedLanes&=~r,l&&(n.warmLanes|=r),l=n.expirationTimes;for(var f=r;0<f;){var d=31-$t(f),T=1<<d;l[d]=-1,f&=~T}a!==0&&oi(n,a,r)}function Fc(){return(Ge&6)===0?(ql(0),!1):!0}function cm(){if(De!==null){if(Qe===0)var n=De.return;else n=De,Zi=Ks=null,Id(n),no=null,Ol=0,n=De;for(;n!==null;)Gv(n.alternate,n),n=n.return;De=null}}function co(n,r){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,VS(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),cm(),Je=n,De=a=Yi(n.current,null),je=r,Qe=0,Tn=null,Ur=!1,ao=Rs(n,r),im=!1,oo=Un=rm=ea=Br=ft=0,ln=Bl=null,sm=!1,(r&8)!==0&&(r|=r&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=r;0<l;){var f=31-$t(l),d=1<<f;r|=n[f],l&=~d}return ar=r,hc(),a}function d_(n,r){Ie=null,X.H=Nc,r===Al||r===Ec?(r=Ny(),Qe=3):r===Iy?(r=Ny(),Qe=4):Qe=r===Dv?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Tn=r,De===null&&(ft=1,Pc(n,kn(r,n.current)))}function m_(){var n=X.H;return X.H=Nc,n===null?Nc:n}function p_(){var n=X.A;return X.A=gS,n}function hm(){ft=4,Ur||(je&4194048)!==je&&Ln.current!==null||(ao=!0),(Br&134217727)===0&&(ea&134217727)===0||Je===null||Fr(Je,je,Un,!1)}function fm(n,r,a){var l=Ge;Ge|=2;var f=m_(),d=p_();(Je!==n||je!==r)&&(qc=null,co(n,r)),r=!1;var T=ft;e:do try{if(Qe!==0&&De!==null){var S=De,N=Tn;switch(Qe){case 8:cm(),T=6;break e;case 3:case 2:case 9:case 6:Ln.current===null&&(r=!0);var G=Qe;if(Qe=0,Tn=null,ho(n,S,N,G),a&&ao){T=0;break e}break;default:G=Qe,Qe=0,Tn=null,ho(n,S,N,G)}}_S(),T=ft;break}catch(W){d_(n,W)}while(!0);return r&&n.shellSuspendCounter++,Zi=Ks=null,Ge=l,X.H=f,X.A=d,De===null&&(Je=null,je=0,hc()),T}function _S(){for(;De!==null;)g_(De)}function ES(n,r){var a=Ge;Ge|=2;var l=m_(),f=p_();Je!==n||je!==r?(qc=null,zc=xn()+500,co(n,r)):ao=Rs(n,r);e:do try{if(Qe!==0&&De!==null){r=De;var d=Tn;t:switch(Qe){case 1:Qe=0,Tn=null,ho(n,r,d,1);break;case 2:case 9:if(xy(d)){Qe=0,Tn=null,y_(r);break}r=function(){Qe!==2&&Qe!==9||Je!==n||(Qe=7),wi(n)},d.then(r,r);break e;case 3:Qe=7;break e;case 4:Qe=5;break e;case 7:xy(d)?(Qe=0,Tn=null,y_(r)):(Qe=0,Tn=null,ho(n,r,d,7));break;case 5:var T=null;switch(De.tag){case 26:T=De.memoizedState;case 5:case 27:var S=De;if(!T||Z_(T)){Qe=0,Tn=null;var N=S.sibling;if(N!==null)De=N;else{var G=S.return;G!==null?(De=G,Hc(G)):De=null}break t}}Qe=0,Tn=null,ho(n,r,d,5);break;case 6:Qe=0,Tn=null,ho(n,r,d,6);break;case 8:cm(),ft=6;break e;default:throw Error(s(462))}}TS();break}catch(W){d_(n,W)}while(!0);return Zi=Ks=null,X.H=l,X.A=f,Ge=a,De!==null?0:(Je=null,je=0,hc(),ft)}function TS(){for(;De!==null&&!Qo();)g_(De)}function g_(n){var r=Fv(n.alternate,n,ar);n.memoizedProps=n.pendingProps,r===null?Hc(n):De=r}function y_(n){var r=n,a=r.alternate;switch(r.tag){case 15:case 0:r=jv(a,r,r.pendingProps,r.type,void 0,je);break;case 11:r=jv(a,r,r.pendingProps,r.type.render,r.ref,je);break;case 5:Id(r);default:Gv(a,r),r=De=vy(r,ar),r=Fv(a,r,ar)}n.memoizedProps=n.pendingProps,r===null?Hc(n):De=r}function ho(n,r,a,l){Zi=Ks=null,Id(r),no=null,Ol=0;var f=r.return;try{if(cS(n,f,r,a,je)){ft=1,Pc(n,kn(a,n.current)),De=null;return}}catch(d){if(f!==null)throw De=f,d;ft=1,Pc(n,kn(a,n.current)),De=null;return}r.flags&32768?(ze||l===1?n=!0:ao||(je&536870912)!==0?n=!1:(Ur=n=!0,(l===2||l===9||l===3||l===6)&&(l=Ln.current,l!==null&&l.tag===13&&(l.flags|=16384))),v_(r,n)):Hc(r)}function Hc(n){var r=n;do{if((r.flags&32768)!==0){v_(r,Ur);return}n=r.return;var a=fS(r.alternate,r,ar);if(a!==null){De=a;return}if(r=r.sibling,r!==null){De=r;return}De=r=n}while(r!==null);ft===0&&(ft=5)}function v_(n,r){do{var a=dS(n.alternate,n);if(a!==null){a.flags&=32767,De=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(n=n.sibling,n!==null)){De=n;return}De=n=a}while(n!==null);ft=6,De=null}function __(n,r,a,l,f,d,T,S,N){n.cancelPendingCommit=null;do Gc();while(qt!==0);if((Ge&6)!==0)throw Error(s(327));if(r!==null){if(r===n.current)throw Error(s(177));if(d=r.lanes|r.childLanes,d|=nd,Zo(n,a,d,T,S,N),n===Je&&(De=Je=null,je=0),lo=r,qr=n,uo=a,om=d,lm=f,u_=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,bS(ws,function(){return S_(),null})):(n.callbackNode=null,n.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=X.T,X.T=null,f=le.p,le.p=2,T=Ge,Ge|=4;try{mS(n,r,a)}finally{Ge=T,le.p=f,X.T=l}}qt=1,E_(),T_(),w_()}}function E_(){if(qt===1){qt=0;var n=qr,r=lo,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=X.T,X.T=null;var l=le.p;le.p=2;var f=Ge;Ge|=4;try{n_(r,n);var d=Sm,T=ly(n.containerInfo),S=d.focusedElem,N=d.selectionRange;if(T!==S&&S&&S.ownerDocument&&oy(S.ownerDocument.documentElement,S)){if(N!==null&&Wf(S)){var G=N.start,W=N.end;if(W===void 0&&(W=G),"selectionStart"in S)S.selectionStart=G,S.selectionEnd=Math.min(W,S.value.length);else{var te=S.ownerDocument||document,Q=te&&te.defaultView||window;if(Q.getSelection){var $=Q.getSelection(),we=S.textContent.length,ve=Math.min(N.start,we),Xe=N.end===void 0?ve:Math.min(N.end,we);!$.extend&&ve>Xe&&(T=Xe,Xe=ve,ve=T);var z=ay(S,ve),j=ay(S,Xe);if(z&&j&&($.rangeCount!==1||$.anchorNode!==z.node||$.anchorOffset!==z.offset||$.focusNode!==j.node||$.focusOffset!==j.offset)){var H=te.createRange();H.setStart(z.node,z.offset),$.removeAllRanges(),ve>Xe?($.addRange(H),$.extend(j.node,j.offset)):(H.setEnd(j.node,j.offset),$.addRange(H))}}}}for(te=[],$=S;$=$.parentNode;)$.nodeType===1&&te.push({element:$,left:$.scrollLeft,top:$.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<te.length;S++){var J=te[S];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}ih=!!Am,Sm=Am=null}finally{Ge=f,le.p=l,X.T=a}}n.current=r,qt=2}}function T_(){if(qt===2){qt=0;var n=qr,r=lo,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=X.T,X.T=null;var l=le.p;le.p=2;var f=Ge;Ge|=4;try{Zv(n,r.alternate,r)}finally{Ge=f,le.p=l,X.T=a}}qt=3}}function w_(){if(qt===4||qt===3){qt=0,Bu();var n=qr,r=lo,a=uo,l=u_;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?qt=5:(qt=0,lo=qr=null,A_(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(zr=null),xa(a),r=r.stateNode,He&&typeof He.onCommitFiberRoot=="function")try{He.onCommitFiberRoot(ct,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=X.T,f=le.p,le.p=2,X.T=null;try{for(var d=n.onRecoverableError,T=0;T<l.length;T++){var S=l[T];d(S.value,{componentStack:S.stack})}}finally{X.T=r,le.p=f}}(uo&3)!==0&&Gc(),wi(n),f=n.pendingLanes,(a&4194090)!==0&&(f&42)!==0?n===um?zl++:(zl=0,um=n):zl=0,ql(0)}}function A_(n,r){(n.pooledCacheLanes&=r)===0&&(r=n.pooledCache,r!=null&&(n.pooledCache=null,Tl(r)))}function Gc(n){return E_(),T_(),w_(),S_()}function S_(){if(qt!==5)return!1;var n=qr,r=om;om=0;var a=xa(uo),l=X.T,f=le.p;try{le.p=32>a?32:a,X.T=null,a=lm,lm=null;var d=qr,T=uo;if(qt=0,lo=qr=null,uo=0,(Ge&6)!==0)throw Error(s(331));var S=Ge;if(Ge|=4,o_(d.current),r_(d,d.current,T,a),Ge=S,ql(0,!1),He&&typeof He.onPostCommitFiberRoot=="function")try{He.onPostCommitFiberRoot(ct,d)}catch{}return!0}finally{le.p=f,X.T=l,A_(n,r)}}function b_(n,r,a){r=kn(a,r),r=zd(n.stateNode,r,2),n=Or(n,r,2),n!==null&&(Li(n,2),wi(n))}function We(n,r,a){if(n.tag===3)b_(n,n,a);else for(;r!==null;){if(r.tag===3){b_(r,n,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(zr===null||!zr.has(l))){n=kn(a,n),a=Cv(2),l=Or(r,a,2),l!==null&&(Nv(a,l,r,n),Li(l,2),wi(l));break}}r=r.return}}function dm(n,r,a){var l=n.pingCache;if(l===null){l=n.pingCache=new yS;var f=new Set;l.set(r,f)}else f=l.get(r),f===void 0&&(f=new Set,l.set(r,f));f.has(a)||(im=!0,f.add(a),n=wS.bind(null,n,r,a),r.then(n,n))}function wS(n,r,a){var l=n.pingCache;l!==null&&l.delete(r),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,Je===n&&(je&a)===a&&(ft===4||ft===3&&(je&62914560)===je&&300>xn()-am?(Ge&2)===0&&co(n,0):rm|=a,oo===je&&(oo=0)),wi(n)}function R_(n,r){r===0&&(r=Wo()),n=Qa(n,r),n!==null&&(Li(n,r),wi(n))}function AS(n){var r=n.memoizedState,a=0;r!==null&&(a=r.retryLane),R_(n,a)}function SS(n,r){var a=0;switch(n.tag){case 13:var l=n.stateNode,f=n.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),R_(n,a)}function bS(n,r){return Es(n,r)}var Qc=null,fo=null,mm=!1,$c=!1,pm=!1,ta=0;function wi(n){n!==fo&&n.next===null&&(fo===null?Qc=fo=n:fo=fo.next=n),$c=!0,mm||(mm=!0,IS())}function ql(n,r){if(!pm&&$c){pm=!0;do for(var a=!1,l=Qc;l!==null;){if(n!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var T=l.suspendedLanes,S=l.pingedLanes;d=(1<<31-$t(42|n)+1)-1,d&=f&~(T&~S),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,N_(l,d))}else d=je,d=Ia(l,l===Je?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Rs(l,d)||(a=!0,N_(l,d));l=l.next}while(a);pm=!1}}function RS(){I_()}function I_(){$c=mm=!1;var n=0;ta!==0&&(PS()&&(n=ta),ta=0);for(var r=xn(),a=null,l=Qc;l!==null;){var f=l.next,d=x_(l,r);d===0?(l.next=null,a===null?Qc=f:a.next=f,f===null&&(fo=a)):(a=l,(n!==0||(d&3)!==0)&&($c=!0)),l=f}ql(n)}function x_(n,r){for(var a=n.suspendedLanes,l=n.pingedLanes,f=n.expirationTimes,d=n.pendingLanes&-62914561;0<d;){var T=31-$t(d),S=1<<T,N=f[T];N===-1?((S&a)===0||(S&l)!==0)&&(f[T]=Yo(S,r)):N<=r&&(n.expiredLanes|=S),d&=~S}if(r=Je,a=je,a=Ia(n,n===r?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l=n.callbackNode,a===0||n===r&&(Qe===2||Qe===9)||n.cancelPendingCommit!==null)return l!==null&&l!==null&&Ts(l),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||Rs(n,a)){if(r=a&-a,r===n.callbackPriority)return r;switch(l!==null&&Ts(l),xa(a)){case 2:case 8:a=ba;break;case 32:a=ws;break;case 268435456:a=Ra;break;default:a=ws}return l=C_.bind(null,n),a=Es(a,l),n.callbackPriority=r,n.callbackNode=a,r}return l!==null&&l!==null&&Ts(l),n.callbackPriority=2,n.callbackNode=null,2}function C_(n,r){if(qt!==0&&qt!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(Gc()&&n.callbackNode!==a)return null;var l=je;return l=Ia(n,n===Je?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l===0?null:(h_(n,l,r),x_(n,xn()),n.callbackNode!=null&&n.callbackNode===a?C_.bind(null,n):null)}function N_(n,r){if(Gc())return null;h_(n,r,!0)}function IS(){jS(function(){(Ge&6)!==0?Es($o,RS):I_()})}function gm(){return ta===0&&(ta=Xo()),ta}function D_(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:ka(""+n)}function O_(n,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,n.id&&a.setAttribute("form",n.id),r.parentNode.insertBefore(a,r),n=new FormData(n),a.parentNode.removeChild(a),n}function xS(n,r,a,l,f){if(r==="submit"&&a&&a.stateNode===f){var d=D_((f[_t]||null).action),T=l.submitter;T&&(r=(r=T[_t]||null)?D_(r.formAction):T.getAttribute("formAction"),r!==null&&(d=r,T=null));var S=new Pa("action","action",null,l,f);n.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ta!==0){var N=T?O_(f,T):new FormData(f);Vd(a,{pending:!0,data:N,method:f.method,action:d},null,N)}}else typeof d=="function"&&(S.preventDefault(),N=T?O_(f,T):new FormData(f),Vd(a,{pending:!0,data:N,method:f.method,action:d},d,N))},currentTarget:f}]})}}for(var ym=0;ym<td.length;ym++){var vm=td[ym],CS=vm.toLowerCase(),NS=vm[0].toUpperCase()+vm.slice(1);Kn(CS,"on"+NS)}Kn(hy,"onAnimationEnd"),Kn(fy,"onAnimationIteration"),Kn(dy,"onAnimationStart"),Kn("dblclick","onDoubleClick"),Kn("focusin","onFocus"),Kn("focusout","onBlur"),Kn($A,"onTransitionRun"),Kn(KA,"onTransitionStart"),Kn(YA,"onTransitionCancel"),Kn(my,"onTransitionEnd"),Bi("onMouseEnter",["mouseout","mouseover"]),Bi("onMouseLeave",["mouseout","mouseover"]),Bi("onPointerEnter",["pointerout","pointerover"]),Bi("onPointerLeave",["pointerout","pointerover"]),Qn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Qn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Qn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Qn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Qn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Qn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),DS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Fl));function M_(n,r){r=(r&4)!==0;for(var a=0;a<n.length;a++){var l=n[a],f=l.event;l=l.listeners;e:{var d=void 0;if(r)for(var T=l.length-1;0<=T;T--){var S=l[T],N=S.instance,G=S.currentTarget;if(S=S.listener,N!==d&&f.isPropagationStopped())break e;d=S,f.currentTarget=G;try{d(f)}catch(W){kc(W)}f.currentTarget=null,d=N}else for(T=0;T<l.length;T++){if(S=l[T],N=S.instance,G=S.currentTarget,S=S.listener,N!==d&&f.isPropagationStopped())break e;d=S,f.currentTarget=G;try{d(f)}catch(W){kc(W)}f.currentTarget=null,d=N}}}}function Oe(n,r){var a=r[el];a===void 0&&(a=r[el]=new Set);var l=n+"__bubble";a.has(l)||(k_(r,n,2,!1),a.add(l))}function _m(n,r,a){var l=0;r&&(l|=4),k_(a,n,l,r)}var Kc="_reactListening"+Math.random().toString(36).slice(2);function Em(n){if(!n[Kc]){n[Kc]=!0,tl.forEach(function(a){a!=="selectionchange"&&(DS.has(a)||_m(a,!1,n),_m(a,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[Kc]||(r[Kc]=!0,_m("selectionchange",!1,r))}}function k_(n,r,a,l){switch(r0(r)){case 2:var f=rb;break;case 8:f=sb;break;default:f=km}a=f.bind(null,r,a,n),f=void 0,!On||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),l?f!==void 0?n.addEventListener(r,a,{capture:!0,passive:f}):n.addEventListener(r,a,!0):f!==void 0?n.addEventListener(r,a,{passive:f}):n.addEventListener(r,a,!1)}function Tm(n,r,a,l,f){var d=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var T=l.tag;if(T===3||T===4){var S=l.stateNode.containerInfo;if(S===f)break;if(T===4)for(T=l.return;T!==null;){var N=T.tag;if((N===3||N===4)&&T.stateNode.containerInfo===f)return;T=T.return}for(;S!==null;){if(T=Ui(S),T===null)return;if(N=T.tag,N===5||N===6||N===26||N===27){l=d=T;continue e}S=S.parentNode}}l=l.return}Xu(function(){var G=d,W=Dn(a),te=[];e:{var Q=py.get(n);if(Q!==void 0){var $=Pa,we=n;switch(n){case"keypress":if(di(a)===0)break e;case"keydown":case"keyup":$=za;break;case"focusin":we="focus",$=La;break;case"focusout":we="blur",$=La;break;case"beforeblur":case"afterblur":$=La;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=Mn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=$f;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=rc;break;case hy:case fy:case dy:$=Ua;break;case my:$=ac;break;case"scroll":case"scrollend":$=Wu;break;case"wheel":$=qa;break;case"copy":case"cut":case"paste":$=Ba;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=dl;break;case"toggle":case"beforetoggle":$=lc}var ve=(r&4)!==0,Xe=!ve&&(n==="scroll"||n==="scrollend"),z=ve?Q!==null?Q+"Capture":null:Q;ve=[];for(var j=G,H;j!==null;){var J=j;if(H=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||H===null||z===null||(J=ks(j,z),J!=null&&ve.push(Hl(j,J,H))),Xe)break;j=j.return}0<ve.length&&(Q=new $(Q,we,null,a,W),te.push({event:Q,listeners:ve}))}}if((r&7)===0){e:{if(Q=n==="mouseover"||n==="pointerover",$=n==="mouseout"||n==="pointerout",Q&&a!==Fi&&(we=a.relatedTarget||a.fromElement)&&(Ui(we)||we[Cn]))break e;if(($||Q)&&(Q=W.window===W?W:(Q=W.ownerDocument)?Q.defaultView||Q.parentWindow:window,$?(we=a.relatedTarget||a.toElement,$=G,we=we?Ui(we):null,we!==null&&(Xe=u(we),ve=we.tag,we!==Xe||ve!==5&&ve!==27&&ve!==6)&&(we=null)):($=null,we=G),$!==we)){if(ve=Mn,J="onMouseLeave",z="onMouseEnter",j="mouse",(n==="pointerout"||n==="pointerover")&&(ve=dl,J="onPointerLeave",z="onPointerEnter",j="pointer"),Xe=$==null?Q:ui($),H=we==null?Q:ui(we),Q=new ve(J,j+"leave",$,a,W),Q.target=Xe,Q.relatedTarget=H,J=null,Ui(W)===G&&(ve=new ve(z,j+"enter",we,a,W),ve.target=H,ve.relatedTarget=Xe,J=ve),Xe=J,$&&we)t:{for(ve=$,z=we,j=0,H=ve;H;H=mo(H))j++;for(H=0,J=z;J;J=mo(J))H++;for(;0<j-H;)ve=mo(ve),j--;for(;0<H-j;)z=mo(z),H--;for(;j--;){if(ve===z||z!==null&&ve===z.alternate)break t;ve=mo(ve),z=mo(z)}ve=null}else ve=null;$!==null&&P_(te,Q,$,ve,!1),we!==null&&Xe!==null&&P_(te,Xe,we,ve,!0)}}e:{if(Q=G?ui(G):window,$=Q.nodeName&&Q.nodeName.toLowerCase(),$==="select"||$==="input"&&Q.type==="file")var fe=ey;else if(xt(Q))if(ty)fe=HA;else{fe=qA;var Ne=zA}else $=Q.nodeName,!$||$.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?G&&al(G.elementType)&&(fe=ey):fe=FA;if(fe&&(fe=fe(n,G))){Ki(te,fe,a,W);break e}Ne&&Ne(n,Q,G),n==="focusout"&&G&&Q.type==="number"&&G.memoizedProps.value!=null&&Ir(Q,"number",Q.value)}switch(Ne=G?ui(G):window,n){case"focusin":(xt(Ne)||Ne.contentEditable==="true")&&(Fa=Ne,Zf=G,gl=null);break;case"focusout":gl=Zf=Fa=null;break;case"mousedown":Jf=!0;break;case"contextmenu":case"mouseup":case"dragend":Jf=!1,uy(te,a,W);break;case"selectionchange":if(QA)break;case"keydown":case"keyup":uy(te,a,W)}var me;if(gi)e:{switch(n){case"compositionstart":var _e="onCompositionStart";break e;case"compositionend":_e="onCompositionEnd";break e;case"compositionupdate":_e="onCompositionUpdate";break e}_e=void 0}else Pe?K(n,a)&&(_e="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(_e="onCompositionStart");_e&&(E&&a.locale!=="ko"&&(Pe||_e!=="onCompositionStart"?_e==="onCompositionEnd"&&Pe&&(me=ll()):(fi=W,xr="value"in fi?fi.value:fi.textContent,Pe=!0)),Ne=Yc(G,_e),0<Ne.length&&(_e=new hl(_e,n,null,a,W),te.push({event:_e,listeners:Ne}),me?_e.data=me:(me=ae(a),me!==null&&(_e.data=me)))),(me=v?It(n,a):Ve(n,a))&&(_e=Yc(G,"onBeforeInput"),0<_e.length&&(Ne=new hl("onBeforeInput","beforeinput",null,a,W),te.push({event:Ne,listeners:_e}),Ne.data=me)),xS(te,n,G,a,W)}M_(te,r)})}function Hl(n,r,a){return{instance:n,listener:r,currentTarget:a}}function Yc(n,r){for(var a=r+"Capture",l=[];n!==null;){var f=n,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=ks(n,a),f!=null&&l.unshift(Hl(n,f,d)),f=ks(n,r),f!=null&&l.push(Hl(n,f,d))),n.tag===3)return l;n=n.return}return[]}function mo(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function P_(n,r,a,l,f){for(var d=r._reactName,T=[];a!==null&&a!==l;){var S=a,N=S.alternate,G=S.stateNode;if(S=S.tag,N!==null&&N===l)break;S!==5&&S!==26&&S!==27||G===null||(N=G,f?(G=ks(a,d),G!=null&&T.unshift(Hl(a,G,N))):f||(G=ks(a,d),G!=null&&T.push(Hl(a,G,N)))),a=a.return}T.length!==0&&n.push({event:r,listeners:T})}var OS=/\r\n?/g,MS=/\u0000|\uFFFD/g;function V_(n){return(typeof n=="string"?n:""+n).replace(OS,`
`).replace(MS,"")}function j_(n,r){return r=V_(r),V_(n)===r}function Xc(){}function Ye(n,r,a,l,f,d){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||Nn(n,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&Nn(n,""+l);break;case"className":ci(n,"class",l);break;case"tabIndex":ci(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":ci(n,a,l);break;case"style":sl(n,l,d);break;case"data":if(r!=="object"){ci(n,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){n.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=ka(""+l),n.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(r!=="input"&&Ye(n,r,"name",f.name,f,null),Ye(n,r,"formEncType",f.formEncType,f,null),Ye(n,r,"formMethod",f.formMethod,f,null),Ye(n,r,"formTarget",f.formTarget,f,null)):(Ye(n,r,"encType",f.encType,f,null),Ye(n,r,"method",f.method,f,null),Ye(n,r,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=ka(""+l),n.setAttribute(a,l);break;case"onClick":l!=null&&(n.onclick=Xc);break;case"onScroll":l!=null&&Oe("scroll",n);break;case"onScrollEnd":l!=null&&Oe("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}a=ka(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""+l):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":l===!0?n.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,l):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(a,l):n.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(a):n.setAttribute(a,l);break;case"popover":Oe("beforetoggle",n),Oe("toggle",n),Rr(n,"popover",l);break;case"xlinkActuate":Ut(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ut(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ut(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ut(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ut(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ut(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ut(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ut(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ut(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Rr(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Gf.get(a)||a,Rr(n,a,l))}}function wm(n,r,a,l,f,d){switch(a){case"style":sl(n,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"children":typeof l=="string"?Nn(n,l):(typeof l=="number"||typeof l=="bigint")&&Nn(n,""+l);break;case"onScroll":l!=null&&Oe("scroll",n);break;case"onScrollEnd":l!=null&&Oe("scrollend",n);break;case"onClick":l!=null&&(n.onclick=Xc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ca.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),r=a.slice(2,f?a.length-7:void 0),d=n[_t]||null,d=d!=null?d[a]:null,typeof d=="function"&&n.removeEventListener(r,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(r,l,f);break e}a in n?n[a]=l:l===!0?n.setAttribute(a,""):Rr(n,a,l)}}}function Ft(n,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Oe("error",n),Oe("load",n);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var T=a[d];if(T!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Ye(n,r,d,T,a,null)}}f&&Ye(n,r,"srcSet",a.srcSet,a,null),l&&Ye(n,r,"src",a.src,a,null);return;case"input":Oe("invalid",n);var S=d=T=f=null,N=null,G=null;for(l in a)if(a.hasOwnProperty(l)){var W=a[l];if(W!=null)switch(l){case"name":f=W;break;case"type":T=W;break;case"checked":N=W;break;case"defaultChecked":G=W;break;case"value":d=W;break;case"defaultValue":S=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,r));break;default:Ye(n,r,l,W,a,null)}}Ds(n,d,S,N,G,T,f,!1),Ma(n);return;case"select":Oe("invalid",n),l=T=d=null;for(f in a)if(a.hasOwnProperty(f)&&(S=a[f],S!=null))switch(f){case"value":d=S;break;case"defaultValue":T=S;break;case"multiple":l=S;default:Ye(n,r,f,S,a,null)}r=d,a=T,n.multiple=!!l,r!=null?qi(n,!!l,r,!1):a!=null&&qi(n,!!l,a,!0);return;case"textarea":Oe("invalid",n),d=f=l=null;for(T in a)if(a.hasOwnProperty(T)&&(S=a[T],S!=null))switch(T){case"value":l=S;break;case"defaultValue":f=S;break;case"children":d=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:Ye(n,r,T,S,a,null)}Os(n,l,f,d),Ma(n);return;case"option":for(N in a)if(a.hasOwnProperty(N)&&(l=a[N],l!=null))switch(N){case"selected":n.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ye(n,r,N,l,a,null)}return;case"dialog":Oe("beforetoggle",n),Oe("toggle",n),Oe("cancel",n),Oe("close",n);break;case"iframe":case"object":Oe("load",n);break;case"video":case"audio":for(l=0;l<Fl.length;l++)Oe(Fl[l],n);break;case"image":Oe("error",n),Oe("load",n);break;case"details":Oe("toggle",n);break;case"embed":case"source":case"link":Oe("error",n),Oe("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in a)if(a.hasOwnProperty(G)&&(l=a[G],l!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Ye(n,r,G,l,a,null)}return;default:if(al(r)){for(W in a)a.hasOwnProperty(W)&&(l=a[W],l!==void 0&&wm(n,r,W,l,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(l=a[S],l!=null&&Ye(n,r,S,l,a,null))}function kS(n,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,T=null,S=null,N=null,G=null,W=null;for($ in a){var te=a[$];if(a.hasOwnProperty($)&&te!=null)switch($){case"checked":break;case"value":break;case"defaultValue":N=te;default:l.hasOwnProperty($)||Ye(n,r,$,null,l,te)}}for(var Q in l){var $=l[Q];if(te=a[Q],l.hasOwnProperty(Q)&&($!=null||te!=null))switch(Q){case"type":d=$;break;case"name":f=$;break;case"checked":G=$;break;case"defaultChecked":W=$;break;case"value":T=$;break;case"defaultValue":S=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,r));break;default:$!==te&&Ye(n,r,Q,$,l,te)}}gn(n,T,S,N,G,W,d,f);return;case"select":$=T=S=Q=null;for(d in a)if(N=a[d],a.hasOwnProperty(d)&&N!=null)switch(d){case"value":break;case"multiple":$=N;default:l.hasOwnProperty(d)||Ye(n,r,d,null,l,N)}for(f in l)if(d=l[f],N=a[f],l.hasOwnProperty(f)&&(d!=null||N!=null))switch(f){case"value":Q=d;break;case"defaultValue":S=d;break;case"multiple":T=d;default:d!==N&&Ye(n,r,f,d,l,N)}r=S,a=T,l=$,Q!=null?qi(n,!!a,Q,!1):!!l!=!!a&&(r!=null?qi(n,!!a,r,!0):qi(n,!!a,a?[]:"",!1));return;case"textarea":$=Q=null;for(S in a)if(f=a[S],a.hasOwnProperty(S)&&f!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:Ye(n,r,S,null,l,f)}for(T in l)if(f=l[T],d=a[T],l.hasOwnProperty(T)&&(f!=null||d!=null))switch(T){case"value":Q=f;break;case"defaultValue":$=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==d&&Ye(n,r,T,f,l,d)}$e(n,Q,$);return;case"option":for(var we in a)if(Q=a[we],a.hasOwnProperty(we)&&Q!=null&&!l.hasOwnProperty(we))switch(we){case"selected":n.selected=!1;break;default:Ye(n,r,we,null,l,Q)}for(N in l)if(Q=l[N],$=a[N],l.hasOwnProperty(N)&&Q!==$&&(Q!=null||$!=null))switch(N){case"selected":n.selected=Q&&typeof Q!="function"&&typeof Q!="symbol";break;default:Ye(n,r,N,Q,l,$)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in a)Q=a[ve],a.hasOwnProperty(ve)&&Q!=null&&!l.hasOwnProperty(ve)&&Ye(n,r,ve,null,l,Q);for(G in l)if(Q=l[G],$=a[G],l.hasOwnProperty(G)&&Q!==$&&(Q!=null||$!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,r));break;default:Ye(n,r,G,Q,l,$)}return;default:if(al(r)){for(var Xe in a)Q=a[Xe],a.hasOwnProperty(Xe)&&Q!==void 0&&!l.hasOwnProperty(Xe)&&wm(n,r,Xe,void 0,l,Q);for(W in l)Q=l[W],$=a[W],!l.hasOwnProperty(W)||Q===$||Q===void 0&&$===void 0||wm(n,r,W,Q,l,$);return}}for(var z in a)Q=a[z],a.hasOwnProperty(z)&&Q!=null&&!l.hasOwnProperty(z)&&Ye(n,r,z,null,l,Q);for(te in l)Q=l[te],$=a[te],!l.hasOwnProperty(te)||Q===$||Q==null&&$==null||Ye(n,r,te,Q,l,$)}var Am=null,Sm=null;function Wc(n){return n.nodeType===9?n:n.ownerDocument}function L_(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function U_(n,r){if(n===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&r==="foreignObject"?0:n}function bm(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Rm=null;function PS(){var n=window.event;return n&&n.type==="popstate"?n===Rm?!1:(Rm=n,!0):(Rm=null,!1)}var B_=typeof setTimeout=="function"?setTimeout:void 0,VS=typeof clearTimeout=="function"?clearTimeout:void 0,z_=typeof Promise=="function"?Promise:void 0,jS=typeof queueMicrotask=="function"?queueMicrotask:typeof z_<"u"?function(n){return z_.resolve(null).then(n).catch(LS)}:B_;function LS(n){setTimeout(function(){throw n})}function Hr(n){return n==="head"}function q_(n,r){var a=r,l=0,f=0;do{var d=a.nextSibling;if(n.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var T=n.ownerDocument;if(a&1&&Gl(T.documentElement),a&2&&Gl(T.body),a&4)for(a=T.head,Gl(a),T=a.firstChild;T;){var S=T.nextSibling,N=T.nodeName;T[Is]||N==="SCRIPT"||N==="STYLE"||N==="LINK"&&T.rel.toLowerCase()==="stylesheet"||a.removeChild(T),T=S}}if(f===0){n.removeChild(d),Jl(r);return}f--}else a==="$"||a==="$?"||a==="$!"?f++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);Jl(r)}function Im(n){var r=n.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Im(a),br(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function US(n,r,a,l){for(;n.nodeType===1;){var f=a;if(n.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[Is])switch(r){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(d=n.getAttribute("rel"),d==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(d!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(d=n.getAttribute("src"),(d!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(r==="input"&&n.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===d)return n}else return n;if(n=Xn(n.nextSibling),n===null)break}return null}function BS(n,r,a){if(r==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=Xn(n.nextSibling),n===null))return null;return n}function xm(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function zS(n,r){var a=n.ownerDocument;if(n.data!=="$?"||a.readyState==="complete")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),n._reactRetry=l}}function Xn(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return n}var Cm=null;function F_(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return n;r--}else a==="/$"&&r++}n=n.previousSibling}return null}function H_(n,r,a){switch(r=Wc(a),n){case"html":if(n=r.documentElement,!n)throw Error(s(452));return n;case"head":if(n=r.head,!n)throw Error(s(453));return n;case"body":if(n=r.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}function Gl(n){for(var r=n.attributes;r.length;)n.removeAttributeNode(r[0]);br(n)}var Bn=new Map,G_=new Set;function Zc(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var or=le.d;le.d={f:qS,r:FS,D:HS,C:GS,L:QS,m:$S,X:YS,S:KS,M:XS};function qS(){var n=or.f(),r=Fc();return n||r}function FS(n){var r=li(n);r!==null&&r.tag===5&&r.type==="form"?hv(r):or.r(n)}var po=typeof document>"u"?null:document;function Q_(n,r,a){var l=po;if(l&&typeof r=="string"&&r){var f=Et(r);f='link[rel="'+n+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),G_.has(f)||(G_.add(f),n={rel:n,crossOrigin:a,href:r},l.querySelector(f)===null&&(r=l.createElement("link"),Ft(r,"link",n),pt(r),l.head.appendChild(r)))}}function HS(n){or.D(n),Q_("dns-prefetch",n,null)}function GS(n,r){or.C(n,r),Q_("preconnect",n,r)}function QS(n,r,a){or.L(n,r,a);var l=po;if(l&&n&&r){var f='link[rel="preload"][as="'+Et(r)+'"]';r==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+Et(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+Et(a.imageSizes)+'"]')):f+='[href="'+Et(n)+'"]';var d=f;switch(r){case"style":d=go(n);break;case"script":d=yo(n)}Bn.has(d)||(n=_({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:n,as:r},a),Bn.set(d,n),l.querySelector(f)!==null||r==="style"&&l.querySelector(Ql(d))||r==="script"&&l.querySelector($l(d))||(r=l.createElement("link"),Ft(r,"link",n),pt(r),l.head.appendChild(r)))}}function $S(n,r){or.m(n,r);var a=po;if(a&&n){var l=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+Et(l)+'"][href="'+Et(n)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=yo(n)}if(!Bn.has(d)&&(n=_({rel:"modulepreload",href:n},r),Bn.set(d,n),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector($l(d)))return}l=a.createElement("link"),Ft(l,"link",n),pt(l),a.head.appendChild(l)}}}function KS(n,r,a){or.S(n,r,a);var l=po;if(l&&n){var f=en(l).hoistableStyles,d=go(n);r=r||"default";var T=f.get(d);if(!T){var S={loading:0,preload:null};if(T=l.querySelector(Ql(d)))S.loading=5;else{n=_({rel:"stylesheet",href:n,"data-precedence":r},a),(a=Bn.get(d))&&Nm(n,a);var N=T=l.createElement("link");pt(N),Ft(N,"link",n),N._p=new Promise(function(G,W){N.onload=G,N.onerror=W}),N.addEventListener("load",function(){S.loading|=1}),N.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Jc(T,r,l)}T={type:"stylesheet",instance:T,count:1,state:S},f.set(d,T)}}}function YS(n,r){or.X(n,r);var a=po;if(a&&n){var l=en(a).hoistableScripts,f=yo(n),d=l.get(f);d||(d=a.querySelector($l(f)),d||(n=_({src:n,async:!0},r),(r=Bn.get(f))&&Dm(n,r),d=a.createElement("script"),pt(d),Ft(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function XS(n,r){or.M(n,r);var a=po;if(a&&n){var l=en(a).hoistableScripts,f=yo(n),d=l.get(f);d||(d=a.querySelector($l(f)),d||(n=_({src:n,async:!0,type:"module"},r),(r=Bn.get(f))&&Dm(n,r),d=a.createElement("script"),pt(d),Ft(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function $_(n,r,a,l){var f=(f=Ae.current)?Zc(f):null;if(!f)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=go(a.href),a=en(f).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=go(a.href);var d=en(f).hoistableStyles,T=d.get(n);if(T||(f=f.ownerDocument||f,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(n,T),(d=f.querySelector(Ql(n)))&&!d._p&&(T.instance=d,T.state.loading=5),Bn.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Bn.set(n,a),d||WS(f,n,a,T.state))),r&&l===null)throw Error(s(528,""));return T}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=yo(a),a=en(f).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function go(n){return'href="'+Et(n)+'"'}function Ql(n){return'link[rel="stylesheet"]['+n+"]"}function K_(n){return _({},n,{"data-precedence":n.precedence,precedence:null})}function WS(n,r,a,l){n.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=n.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),Ft(r,"link",a),pt(r),n.head.appendChild(r))}function yo(n){return'[src="'+Et(n)+'"]'}function $l(n){return"script[async]"+n}function Y_(n,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=n.querySelector('style[data-href~="'+Et(a.href)+'"]');if(l)return r.instance=l,pt(l),l;var f=_({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),pt(l),Ft(l,"style",f),Jc(l,a.precedence,n),r.instance=l;case"stylesheet":f=go(a.href);var d=n.querySelector(Ql(f));if(d)return r.state.loading|=4,r.instance=d,pt(d),d;l=K_(a),(f=Bn.get(f))&&Nm(l,f),d=(n.ownerDocument||n).createElement("link"),pt(d);var T=d;return T._p=new Promise(function(S,N){T.onload=S,T.onerror=N}),Ft(d,"link",l),r.state.loading|=4,Jc(d,a.precedence,n),r.instance=d;case"script":return d=yo(a.src),(f=n.querySelector($l(d)))?(r.instance=f,pt(f),f):(l=a,(f=Bn.get(d))&&(l=_({},a),Dm(l,f)),n=n.ownerDocument||n,f=n.createElement("script"),pt(f),Ft(f,"link",l),n.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,Jc(l,a.precedence,n));return r.instance}function Jc(n,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,T=0;T<l.length;T++){var S=l[T];if(S.dataset.precedence===r)d=S;else if(d!==f)break}d?d.parentNode.insertBefore(n,d.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(n,r.firstChild))}function Nm(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.title==null&&(n.title=r.title)}function Dm(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.integrity==null&&(n.integrity=r.integrity)}var eh=null;function X_(n,r,a){if(eh===null){var l=new Map,f=eh=new Map;f.set(a,l)}else f=eh,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(n))return l;for(l.set(n,null),a=a.getElementsByTagName(n),f=0;f<a.length;f++){var d=a[f];if(!(d[Is]||d[Rt]||n==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var T=d.getAttribute(r)||"";T=n+T;var S=l.get(T);S?S.push(d):l.set(T,[d])}}return l}function W_(n,r,a){n=n.ownerDocument||n,n.head.insertBefore(a,r==="title"?n.querySelector("head > title"):null)}function ZS(n,r,a){if(a===1||r.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return n=r.disabled,typeof r.precedence=="string"&&n==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Z_(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var Kl=null;function JS(){}function eb(n,r,a){if(Kl===null)throw Error(s(475));var l=Kl;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var f=go(a.href),d=n.querySelector(Ql(f));if(d){n=d._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(l.count++,l=th.bind(l),n.then(l,l)),r.state.loading|=4,r.instance=d,pt(d);return}d=n.ownerDocument||n,a=K_(a),(f=Bn.get(f))&&Nm(a,f),d=d.createElement("link"),pt(d);var T=d;T._p=new Promise(function(S,N){T.onload=S,T.onerror=N}),Ft(d,"link",a),r.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(l.count++,r=th.bind(l),n.addEventListener("load",r),n.addEventListener("error",r))}}function tb(){if(Kl===null)throw Error(s(475));var n=Kl;return n.stylesheets&&n.count===0&&Om(n,n.stylesheets),0<n.count?function(r){var a=setTimeout(function(){if(n.stylesheets&&Om(n,n.stylesheets),n.unsuspend){var l=n.unsuspend;n.unsuspend=null,l()}},6e4);return n.unsuspend=r,function(){n.unsuspend=null,clearTimeout(a)}}:null}function th(){if(this.count--,this.count===0){if(this.stylesheets)Om(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var nh=null;function Om(n,r){n.stylesheets=null,n.unsuspend!==null&&(n.count++,nh=new Map,r.forEach(nb,n),nh=null,th.call(n))}function nb(n,r){if(!(r.state.loading&4)){var a=nh.get(n);if(a)var l=a.get(null);else{a=new Map,nh.set(n,a);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var T=f[d];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(a.set(T.dataset.precedence,T),l=T)}l&&a.set(null,l)}f=r.instance,T=f.getAttribute("data-precedence"),d=a.get(T)||l,d===l&&a.set(null,f),a.set(T,f),this.count++,l=th.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),r.state.loading|=4}}var Yl={$$typeof:Z,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function ib(n,r,a,l,f,d,T,S){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ji(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ji(0),this.hiddenUpdates=ji(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function J_(n,r,a,l,f,d,T,S,N,G,W,te){return n=new ib(n,r,a,T,S,N,G,te),r=1,d===!0&&(r|=24),d=vn(3,null,null,r),n.current=d,d.stateNode=n,r=dd(),r.refCount++,n.pooledCache=r,r.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:r},yd(d),n}function e0(n){return n?(n=$a,n):$a}function t0(n,r,a,l,f,d){f=e0(f),l.context===null?l.context=f:l.pendingContext=f,l=Dr(r),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Or(n,l,r),a!==null&&(An(a,n,r),bl(a,n,r))}function n0(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<r?a:r}}function Mm(n,r){n0(n,r),(n=n.alternate)&&n0(n,r)}function i0(n){if(n.tag===13){var r=Qa(n,67108864);r!==null&&An(r,n,67108864),Mm(n,67108864)}}var ih=!0;function rb(n,r,a,l){var f=X.T;X.T=null;var d=le.p;try{le.p=2,km(n,r,a,l)}finally{le.p=d,X.T=f}}function sb(n,r,a,l){var f=X.T;X.T=null;var d=le.p;try{le.p=8,km(n,r,a,l)}finally{le.p=d,X.T=f}}function km(n,r,a,l){if(ih){var f=Pm(l);if(f===null)Tm(n,r,l,rh,a),s0(n,l);else if(ob(f,n,r,a,l))l.stopPropagation();else if(s0(n,l),r&4&&-1<ab.indexOf(n)){for(;f!==null;){var d=li(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var T=Gn(d.pendingLanes);if(T!==0){var S=d;for(S.pendingLanes|=2,S.entangledLanes|=2;T;){var N=1<<31-$t(T);S.entanglements[1]|=N,T&=~N}wi(d),(Ge&6)===0&&(zc=xn()+500,ql(0))}}break;case 13:S=Qa(d,2),S!==null&&An(S,d,2),Fc(),Mm(d,2)}if(d=Pm(l),d===null&&Tm(n,r,l,rh,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else Tm(n,r,l,null,a)}}function Pm(n){return n=Dn(n),Vm(n)}var rh=null;function Vm(n){if(rh=null,n=Ui(n),n!==null){var r=u(n);if(r===null)n=null;else{var a=r.tag;if(a===13){if(n=h(r),n!==null)return n;n=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null)}}return rh=n,null}function r0(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Uf()){case $o:return 2;case ba:return 8;case ws:case Bf:return 32;case Ra:return 268435456;default:return 32}default:return 32}}var jm=!1,Gr=null,Qr=null,$r=null,Xl=new Map,Wl=new Map,Kr=[],ab="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function s0(n,r){switch(n){case"focusin":case"focusout":Gr=null;break;case"dragenter":case"dragleave":Qr=null;break;case"mouseover":case"mouseout":$r=null;break;case"pointerover":case"pointerout":Xl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wl.delete(r.pointerId)}}function Zl(n,r,a,l,f,d){return n===null||n.nativeEvent!==d?(n={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},r!==null&&(r=li(r),r!==null&&i0(r)),n):(n.eventSystemFlags|=l,r=n.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),n)}function ob(n,r,a,l,f){switch(r){case"focusin":return Gr=Zl(Gr,n,r,a,l,f),!0;case"dragenter":return Qr=Zl(Qr,n,r,a,l,f),!0;case"mouseover":return $r=Zl($r,n,r,a,l,f),!0;case"pointerover":var d=f.pointerId;return Xl.set(d,Zl(Xl.get(d)||null,n,r,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,Wl.set(d,Zl(Wl.get(d)||null,n,r,a,l,f)),!0}return!1}function a0(n){var r=Ui(n.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=h(a),r!==null){n.blockedOn=r,Fu(n.priority,function(){if(a.tag===13){var l=wn();l=wr(l);var f=Qa(a,l);f!==null&&An(f,a,l),Mm(a,l)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function sh(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var a=Pm(n.nativeEvent);if(a===null){a=n.nativeEvent;var l=new a.constructor(a.type,a);Fi=l,a.target.dispatchEvent(l),Fi=null}else return r=li(a),r!==null&&i0(r),n.blockedOn=a,!1;r.shift()}return!0}function o0(n,r,a){sh(n)&&a.delete(r)}function lb(){jm=!1,Gr!==null&&sh(Gr)&&(Gr=null),Qr!==null&&sh(Qr)&&(Qr=null),$r!==null&&sh($r)&&($r=null),Xl.forEach(o0),Wl.forEach(o0)}function ah(n,r){n.blockedOn===r&&(n.blockedOn=null,jm||(jm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,lb)))}var oh=null;function l0(n){oh!==n&&(oh=n,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){oh===n&&(oh=null);for(var r=0;r<n.length;r+=3){var a=n[r],l=n[r+1],f=n[r+2];if(typeof l!="function"){if(Vm(l||a)===null)continue;break}var d=li(a);d!==null&&(n.splice(r,3),r-=3,Vd(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function Jl(n){function r(N){return ah(N,n)}Gr!==null&&ah(Gr,n),Qr!==null&&ah(Qr,n),$r!==null&&ah($r,n),Xl.forEach(r),Wl.forEach(r);for(var a=0;a<Kr.length;a++){var l=Kr[a];l.blockedOn===n&&(l.blockedOn=null)}for(;0<Kr.length&&(a=Kr[0],a.blockedOn===null);)a0(a),a.blockedOn===null&&Kr.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],T=f[_t]||null;if(typeof d=="function")T||l0(a);else if(T){var S=null;if(d&&d.hasAttribute("formAction")){if(f=d,T=d[_t]||null)S=T.formAction;else if(Vm(f)!==null)continue}else S=T.action;typeof S=="function"?a[l+1]=S:(a.splice(l,3),l-=3),l0(a)}}}function Lm(n){this._internalRoot=n}lh.prototype.render=Lm.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=wn();t0(a,l,n,r,null,null)},lh.prototype.unmount=Lm.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;t0(n.current,2,null,n,null,null),Fc(),r[Cn]=null}};function lh(n){this._internalRoot=n}lh.prototype.unstable_scheduleHydration=function(n){if(n){var r=Ar();n={blockedOn:null,target:n,priority:r};for(var a=0;a<Kr.length&&r!==0&&r<Kr[a].priority;a++);Kr.splice(a,0,n),a===0&&a0(n)}};var u0=e.version;if(u0!=="19.1.0")throw Error(s(527,u0,"19.1.0"));le.findDOMNode=function(n){var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=p(r),n=n!==null?g(n):null,n=n===null?null:n.stateNode,n};var ub={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var uh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!uh.isDisabled&&uh.supportsFiber)try{ct=uh.inject(ub),He=uh}catch{}}return tu.createRoot=function(n,r){if(!o(n))throw Error(s(299));var a=!1,l="",f=bv,d=Rv,T=Iv,S=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(T=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(S=r.unstable_transitionCallbacks)),r=J_(n,1,!1,null,null,a,l,f,d,T,S,null),n[Cn]=r.current,Em(n),new Lm(r)},tu.hydrateRoot=function(n,r,a){if(!o(n))throw Error(s(299));var l=!1,f="",d=bv,T=Rv,S=Iv,N=null,G=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(T=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(N=a.unstable_transitionCallbacks),a.formState!==void 0&&(G=a.formState)),r=J_(n,1,!0,r,a??null,l,f,d,T,S,N,G),r.context=e0(null),a=r.current,l=wn(),l=wr(l),f=Dr(l),f.callback=null,Or(a,f,l),a=l,r.current.lanes=a,Li(r,a),wi(r),n[Cn]=r.current,Em(n),new lh(r)},tu.version="19.1.0",tu}var _0;function Eb(){if(_0)return zm.exports;_0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),zm.exports=_b(),zm.exports}var Tb=Eb();const wb=_T(Tb);var nu={},E0;function Ab(){if(E0)return nu;E0=1,Object.defineProperty(nu,"__esModule",{value:!0}),nu.parse=h,nu.serialize=g;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const w=function(){};return w.prototype=Object.create(null),w})();function h(w,I){const x=new u,q=w.length;if(q<2)return x;const V=I?.decode||_;let k=0;do{const Y=w.indexOf("=",k);if(Y===-1)break;const Z=w.indexOf(";",k),se=Z===-1?q:Z;if(Y>se){k=w.lastIndexOf(";",Y-1)+1;continue}const oe=m(w,k,Y),de=p(w,Y,oe),O=w.slice(oe,de);if(x[O]===void 0){let R=m(w,Y+1,se),C=p(w,se,R);const M=V(w.slice(R,C));x[O]=M}k=se+1}while(k<q);return x}function m(w,I,x){do{const q=w.charCodeAt(I);if(q!==32&&q!==9)return I}while(++I<x);return x}function p(w,I,x){for(;I>x;){const q=w.charCodeAt(--I);if(q!==32&&q!==9)return I+1}return x}function g(w,I,x){const q=x?.encode||encodeURIComponent;if(!i.test(w))throw new TypeError(`argument name is invalid: ${w}`);const V=q(I);if(!e.test(V))throw new TypeError(`argument val is invalid: ${I}`);let k=w+"="+V;if(!x)return k;if(x.maxAge!==void 0){if(!Number.isInteger(x.maxAge))throw new TypeError(`option maxAge is invalid: ${x.maxAge}`);k+="; Max-Age="+x.maxAge}if(x.domain){if(!t.test(x.domain))throw new TypeError(`option domain is invalid: ${x.domain}`);k+="; Domain="+x.domain}if(x.path){if(!s.test(x.path))throw new TypeError(`option path is invalid: ${x.path}`);k+="; Path="+x.path}if(x.expires){if(!A(x.expires)||!Number.isFinite(x.expires.valueOf()))throw new TypeError(`option expires is invalid: ${x.expires}`);k+="; Expires="+x.expires.toUTCString()}if(x.httpOnly&&(k+="; HttpOnly"),x.secure&&(k+="; Secure"),x.partitioned&&(k+="; Partitioned"),x.priority)switch(typeof x.priority=="string"?x.priority.toLowerCase():void 0){case"low":k+="; Priority=Low";break;case"medium":k+="; Priority=Medium";break;case"high":k+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${x.priority}`)}if(x.sameSite)switch(typeof x.sameSite=="string"?x.sameSite.toLowerCase():x.sameSite){case!0:case"strict":k+="; SameSite=Strict";break;case"lax":k+="; SameSite=Lax";break;case"none":k+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${x.sameSite}`)}return k}function _(w){if(w.indexOf("%")===-1)return w;try{return decodeURIComponent(w)}catch{return w}}function A(w){return o.call(w)==="[object Date]"}return nu}Ab();var T0="popstate";function Sb(i={}){function e(s,o){let{pathname:u,search:h,hash:m}=s.location;return up("",{pathname:u,search:h,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(s,o){return typeof o=="string"?o:yu(o)}return Rb(e,t,null,i)}function at(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function qn(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function bb(){return Math.random().toString(36).substring(2,10)}function w0(i,e){return{usr:i.state,key:i.key,idx:e}}function up(i,e,t=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?jo(e):e,state:t,key:e&&e.key||s||bb()}}function yu({pathname:i="/",search:e="",hash:t=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(i+=t.charAt(0)==="#"?t:"#"+t),i}function jo(i){let e={};if(i){let t=i.indexOf("#");t>=0&&(e.hash=i.substring(t),i=i.substring(0,t));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function Rb(i,e,t,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,m="POP",p=null,g=_();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function _(){return(h.state||{idx:null}).idx}function A(){m="POP";let V=_(),k=V==null?null:V-g;g=V,p&&p({action:m,location:q.location,delta:k})}function w(V,k){m="PUSH";let Y=up(q.location,V,k);g=_()+1;let Z=w0(Y,g),se=q.createHref(Y);try{h.pushState(Z,"",se)}catch(oe){if(oe instanceof DOMException&&oe.name==="DataCloneError")throw oe;o.location.assign(se)}u&&p&&p({action:m,location:q.location,delta:1})}function I(V,k){m="REPLACE";let Y=up(q.location,V,k);g=_();let Z=w0(Y,g),se=q.createHref(Y);h.replaceState(Z,"",se),u&&p&&p({action:m,location:q.location,delta:0})}function x(V){return Ib(V)}let q={get action(){return m},get location(){return i(o,h)},listen(V){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(T0,A),p=V,()=>{o.removeEventListener(T0,A),p=null}},createHref(V){return e(o,V)},createURL:x,encodeLocation(V){let k=x(V);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:w,replace:I,go(V){return h.go(V)}};return q}function Ib(i,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),at(t,"No window.location.(origin|href) available to create URL");let s=typeof i=="string"?i:yu(i);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=t+s),new URL(s,t)}function ET(i,e,t="/"){return xb(i,e,t,!1)}function xb(i,e,t,s){let o=typeof e=="string"?jo(e):e,u=dr(o.pathname||"/",t);if(u==null)return null;let h=TT(i);Cb(h);let m=null;for(let p=0;m==null&&p<h.length;++p){let g=Bb(u);m=Lb(h[p],g,s)}return m}function TT(i,e=[],t=[],s=""){let o=(u,h,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};p.relativePath.startsWith("/")&&(at(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let g=cr([s,p.relativePath]),_=t.concat(p);u.children&&u.children.length>0&&(at(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),TT(u.children,e,_,g)),!(u.path==null&&!u.index)&&e.push({path:g,score:Vb(g,u.index),routesMeta:_})};return i.forEach((u,h)=>{if(u.path===""||!u.path?.includes("?"))o(u,h);else for(let m of wT(u.path))o(u,h,m)}),e}function wT(i){let e=i.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),u=t.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=wT(s.join("/")),m=[];return m.push(...h.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...h),m.map(p=>i.startsWith("/")&&p===""?"/":p)}function Cb(i){i.sort((e,t)=>e.score!==t.score?t.score-e.score:jb(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var Nb=/^:[\w-]+$/,Db=3,Ob=2,Mb=1,kb=10,Pb=-2,A0=i=>i==="*";function Vb(i,e){let t=i.split("/"),s=t.length;return t.some(A0)&&(s+=Pb),e&&(s+=Ob),t.filter(o=>!A0(o)).reduce((o,u)=>o+(Nb.test(u)?Db:u===""?Mb:kb),s)}function jb(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function Lb(i,e,t=!1){let{routesMeta:s}=i,o={},u="/",h=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,_=u==="/"?e:e.slice(u.length)||"/",A=Oh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},_),w=p.route;if(!A&&g&&t&&!s[s.length-1].route.index&&(A=Oh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},_)),!A)return null;Object.assign(o,A.params),h.push({params:o,pathname:cr([u,A.pathname]),pathnameBase:Hb(cr([u,A.pathnameBase])),route:w}),A.pathnameBase!=="/"&&(u=cr([u,A.pathnameBase]))}return h}function Oh(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[t,s]=Ub(i.path,i.caseSensitive,i.end),o=e.match(t);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:_,isOptional:A},w)=>{if(_==="*"){let x=m[w]||"";h=u.slice(0,u.length-x.length).replace(/(.)\/+$/,"$1")}const I=m[w];return A&&!I?g[_]=void 0:g[_]=(I||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:h,pattern:i}}function Ub(i,e=!1,t=!0){qn(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function Bb(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return qn(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function dr(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=i.charAt(t);return s&&s!=="/"?null:i.slice(t)||"/"}function zb(i,e="/"){let{pathname:t,search:s="",hash:o=""}=typeof i=="string"?jo(i):i;return{pathname:t?t.startsWith("/")?t:qb(t,e):e,search:Gb(s),hash:Qb(o)}}function qb(i,e){let t=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Gm(i,e,t,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Fb(i){return i.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function zp(i){let e=Fb(i);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function qp(i,e,t,s=!1){let o;typeof i=="string"?o=jo(i):(o={...i},at(!o.pathname||!o.pathname.includes("?"),Gm("?","pathname","search",o)),at(!o.pathname||!o.pathname.includes("#"),Gm("#","pathname","hash",o)),at(!o.search||!o.search.includes("#"),Gm("#","search","hash",o)));let u=i===""||o.pathname==="",h=u?"/":o.pathname,m;if(h==null)m=t;else{let A=e.length-1;if(!s&&h.startsWith("..")){let w=h.split("/");for(;w[0]==="..";)w.shift(),A-=1;o.pathname=w.join("/")}m=A>=0?e[A]:"/"}let p=zb(o,m),g=h&&h!=="/"&&h.endsWith("/"),_=(u||h===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(g||_)&&(p.pathname+="/"),p}var cr=i=>i.join("/").replace(/\/\/+/g,"/"),Hb=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),Gb=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,Qb=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function $b(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var AT=["POST","PUT","PATCH","DELETE"];new Set(AT);var Kb=["GET",...AT];new Set(Kb);var Lo=L.createContext(null);Lo.displayName="DataRouter";var sf=L.createContext(null);sf.displayName="DataRouterState";var ST=L.createContext({isTransitioning:!1});ST.displayName="ViewTransition";var Yb=L.createContext(new Map);Yb.displayName="Fetchers";var Xb=L.createContext(null);Xb.displayName="Await";var ri=L.createContext(null);ri.displayName="Navigation";var xu=L.createContext(null);xu.displayName="Location";var si=L.createContext({outlet:null,matches:[],isDataRoute:!1});si.displayName="Route";var Fp=L.createContext(null);Fp.displayName="RouteError";function Wb(i,{relative:e}={}){at(Uo(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=L.useContext(ri),{hash:o,pathname:u,search:h}=Cu(i,{relative:e}),m=u;return t!=="/"&&(m=u==="/"?t:cr([t,u])),s.createHref({pathname:m,search:h,hash:o})}function Uo(){return L.useContext(xu)!=null}function ki(){return at(Uo(),"useLocation() may be used only in the context of a <Router> component."),L.useContext(xu).location}var bT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function RT(i){L.useContext(ri).static||L.useLayoutEffect(i)}function pa(){let{isDataRoute:i}=L.useContext(si);return i?cR():Zb()}function Zb(){at(Uo(),"useNavigate() may be used only in the context of a <Router> component.");let i=L.useContext(Lo),{basename:e,navigator:t}=L.useContext(ri),{matches:s}=L.useContext(si),{pathname:o}=ki(),u=JSON.stringify(zp(s)),h=L.useRef(!1);return RT(()=>{h.current=!0}),L.useCallback((p,g={})=>{if(qn(h.current,bT),!h.current)return;if(typeof p=="number"){t.go(p);return}let _=qp(p,JSON.parse(u),o,g.relative==="path");i==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:cr([e,_.pathname])),(g.replace?t.replace:t.push)(_,g.state,g)},[e,t,u,o,i])}L.createContext(null);function IT(){let{matches:i}=L.useContext(si),e=i[i.length-1];return e?e.params:{}}function Cu(i,{relative:e}={}){let{matches:t}=L.useContext(si),{pathname:s}=ki(),o=JSON.stringify(zp(t));return L.useMemo(()=>qp(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function Jb(i,e){return xT(i,e)}function xT(i,e,t,s){at(Uo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=L.useContext(ri),{matches:u}=L.useContext(si),h=u[u.length-1],m=h?h.params:{},p=h?h.pathname:"/",g=h?h.pathnameBase:"/",_=h&&h.route;{let k=_&&_.path||"";CT(p,!_||k.endsWith("*")||k.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${k}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${k}"> to <Route path="${k==="/"?"*":`${k}/*`}">.`)}let A=ki(),w;if(e){let k=typeof e=="string"?jo(e):e;at(g==="/"||k.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${k.pathname}" was given in the \`location\` prop.`),w=k}else w=A;let I=w.pathname||"/",x=I;if(g!=="/"){let k=g.replace(/^\//,"").split("/");x="/"+I.replace(/^\//,"").split("/").slice(k.length).join("/")}let q=ET(i,{pathname:x});qn(_||q!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),qn(q==null||q[q.length-1].route.element!==void 0||q[q.length-1].route.Component!==void 0||q[q.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let V=rR(q&&q.map(k=>Object.assign({},k,{params:Object.assign({},m,k.params),pathname:cr([g,o.encodeLocation?o.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?g:cr([g,o.encodeLocation?o.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),u,t,s);return e&&V?L.createElement(xu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},V):V}function eR(){let i=uR(),e=$b(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),t=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",i),h=L.createElement(L.Fragment,null,L.createElement("p",null,"💿 Hey developer 👋"),L.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",L.createElement("code",{style:u},"ErrorBoundary")," or"," ",L.createElement("code",{style:u},"errorElement")," prop on your route.")),L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},e),t?L.createElement("pre",{style:o},t):null,h)}var tR=L.createElement(eR,null),nR=class extends L.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?L.createElement(si.Provider,{value:this.props.routeContext},L.createElement(Fp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function iR({routeContext:i,match:e,children:t}){let s=L.useContext(Lo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),L.createElement(si.Provider,{value:i},t)}function rR(i,e=[],t=null,s=null){if(i==null){if(!t)return null;if(t.errors)i=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)i=t.matches;else return null}let o=i,u=t?.errors;if(u!=null){let p=o.findIndex(g=>g.route.id&&u?.[g.route.id]!==void 0);at(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let h=!1,m=-1;if(t)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(m=p),g.route.id){let{loaderData:_,errors:A}=t,w=g.route.loader&&!_.hasOwnProperty(g.route.id)&&(!A||A[g.route.id]===void 0);if(g.route.lazy||w){h=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,g,_)=>{let A,w=!1,I=null,x=null;t&&(A=u&&g.route.id?u[g.route.id]:void 0,I=g.route.errorElement||tR,h&&(m<0&&_===0?(CT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,x=null):m===_&&(w=!0,x=g.route.hydrateFallbackElement||null)));let q=e.concat(o.slice(0,_+1)),V=()=>{let k;return A?k=I:w?k=x:g.route.Component?k=L.createElement(g.route.Component,null):g.route.element?k=g.route.element:k=p,L.createElement(iR,{match:g,routeContext:{outlet:p,matches:q,isDataRoute:t!=null},children:k})};return t&&(g.route.ErrorBoundary||g.route.errorElement||_===0)?L.createElement(nR,{location:t.location,revalidation:t.revalidation,component:I,error:A,children:V(),routeContext:{outlet:null,matches:q,isDataRoute:!0}}):V()},null)}function Hp(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function sR(i){let e=L.useContext(Lo);return at(e,Hp(i)),e}function aR(i){let e=L.useContext(sf);return at(e,Hp(i)),e}function oR(i){let e=L.useContext(si);return at(e,Hp(i)),e}function Gp(i){let e=oR(i),t=e.matches[e.matches.length-1];return at(t.route.id,`${i} can only be used on routes that contain a unique "id"`),t.route.id}function lR(){return Gp("useRouteId")}function uR(){let i=L.useContext(Fp),e=aR("useRouteError"),t=Gp("useRouteError");return i!==void 0?i:e.errors?.[t]}function cR(){let{router:i}=sR("useNavigate"),e=Gp("useNavigate"),t=L.useRef(!1);return RT(()=>{t.current=!0}),L.useCallback(async(o,u={})=>{qn(t.current,bT),t.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var S0={};function CT(i,e,t){!e&&!S0[i]&&(S0[i]=!0,qn(!1,t))}L.memo(hR);function hR({routes:i,future:e,state:t}){return xT(i,void 0,t,e)}function NT({to:i,replace:e,state:t,relative:s}){at(Uo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=L.useContext(ri);qn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=L.useContext(si),{pathname:h}=ki(),m=pa(),p=qp(i,zp(u),h,s==="path"),g=JSON.stringify(p);return L.useEffect(()=>{m(JSON.parse(g),{replace:e,state:t,relative:s})},[m,g,s,e,t]),null}function Ai(i){at(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function fR({basename:i="/",children:e=null,location:t,navigationType:s="POP",navigator:o,static:u=!1}){at(!Uo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=i.replace(/^\/*/,"/"),m=L.useMemo(()=>({basename:h,navigator:o,static:u,future:{}}),[h,o,u]);typeof t=="string"&&(t=jo(t));let{pathname:p="/",search:g="",hash:_="",state:A=null,key:w="default"}=t,I=L.useMemo(()=>{let x=dr(p,h);return x==null?null:{location:{pathname:x,search:g,hash:_,state:A,key:w},navigationType:s}},[h,p,g,_,A,w,s]);return qn(I!=null,`<Router basename="${h}"> is not able to match the URL "${p}${g}${_}" because it does not start with the basename, so the <Router> won't render anything.`),I==null?null:L.createElement(ri.Provider,{value:m},L.createElement(xu.Provider,{children:e,value:I}))}function dR({children:i,location:e}){return Jb(cp(i),e)}function cp(i,e=[]){let t=[];return L.Children.forEach(i,(s,o)=>{if(!L.isValidElement(s))return;let u=[...e,o];if(s.type===L.Fragment){t.push.apply(t,cp(s.props.children,u));return}at(s.type===Ai,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),at(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=cp(s.props.children,u)),t.push(h)}),t}var _h="get",Eh="application/x-www-form-urlencoded";function af(i){return i!=null&&typeof i.tagName=="string"}function mR(i){return af(i)&&i.tagName.toLowerCase()==="button"}function pR(i){return af(i)&&i.tagName.toLowerCase()==="form"}function gR(i){return af(i)&&i.tagName.toLowerCase()==="input"}function yR(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function vR(i,e){return i.button===0&&(!e||e==="_self")&&!yR(i)}function hp(i=""){return new URLSearchParams(typeof i=="string"||Array.isArray(i)||i instanceof URLSearchParams?i:Object.keys(i).reduce((e,t)=>{let s=i[t];return e.concat(Array.isArray(s)?s.map(o=>[t,o]):[[t,s]])},[]))}function _R(i,e){let t=hp(i);return e&&e.forEach((s,o)=>{t.has(o)||e.getAll(o).forEach(u=>{t.append(o,u)})}),t}var ch=null;function ER(){if(ch===null)try{new FormData(document.createElement("form"),0),ch=!1}catch{ch=!0}return ch}var TR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Qm(i){return i!=null&&!TR.has(i)?(qn(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Eh}"`),null):i}function wR(i,e){let t,s,o,u,h;if(pR(i)){let m=i.getAttribute("action");s=m?dr(m,e):null,t=i.getAttribute("method")||_h,o=Qm(i.getAttribute("enctype"))||Eh,u=new FormData(i)}else if(mR(i)||gR(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||m.getAttribute("action");if(s=p?dr(p,e):null,t=i.getAttribute("formmethod")||m.getAttribute("method")||_h,o=Qm(i.getAttribute("formenctype"))||Qm(m.getAttribute("enctype"))||Eh,u=new FormData(m,i),!ER()){let{name:g,type:_,value:A}=i;if(_==="image"){let w=g?`${g}.`:"";u.append(`${w}x`,"0"),u.append(`${w}y`,"0")}else g&&u.append(g,A)}}else{if(af(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=_h,s=null,o=Eh,h=i}return u&&o==="text/plain"&&(h=u,u=void 0),{action:s,method:t.toLowerCase(),encType:o,formData:u,body:h}}function Qp(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}async function AR(i,e){if(i.id in e)return e[i.id];try{let t=await import(i.module);return e[i.id]=t,t}catch(t){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function SR(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function bR(i,e,t){let s=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await AR(u,t);return h.links?h.links():[]}return[]}));return CR(s.flat(1).filter(SR).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function b0(i,e,t,s,o,u){let h=(p,g)=>t[g]?p.route.id!==t[g].route.id:!0,m=(p,g)=>t[g].pathname!==p.pathname||t[g].route.path?.endsWith("*")&&t[g].params["*"]!==p.params["*"];return u==="assets"?e.filter((p,g)=>h(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{let _=s.routes[p.route.id];if(!_||!_.hasLoader)return!1;if(h(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let A=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function RR(i,e,{includeHydrateFallback:t}={}){return IR(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function IR(i){return[...new Set(i)]}function xR(i){let e={},t=Object.keys(i).sort();for(let s of t)e[s]=i[s];return e}function CR(i,e){let t=new Set;return new Set(e),i.reduce((s,o)=>{let u=JSON.stringify(xR(o));return t.has(u)||(t.add(u),s.push({key:u,link:o})),s},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var NR=new Set([100,101,204,205]);function DR(i,e){let t=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return t.pathname==="/"?t.pathname="_root.data":e&&dr(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function DT(){let i=L.useContext(Lo);return Qp(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function OR(){let i=L.useContext(sf);return Qp(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var $p=L.createContext(void 0);$p.displayName="FrameworkContext";function OT(){let i=L.useContext($p);return Qp(i,"You must render this element inside a <HydratedRouter> element"),i}function MR(i,e){let t=L.useContext($p),[s,o]=L.useState(!1),[u,h]=L.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:_,onTouchStart:A}=e,w=L.useRef(null);L.useEffect(()=>{if(i==="render"&&h(!0),i==="viewport"){let q=k=>{k.forEach(Y=>{h(Y.isIntersecting)})},V=new IntersectionObserver(q,{threshold:.5});return w.current&&V.observe(w.current),()=>{V.disconnect()}}},[i]),L.useEffect(()=>{if(s){let q=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(q)}}},[s]);let I=()=>{o(!0)},x=()=>{o(!1),h(!1)};return t?i!=="intent"?[u,w,{}]:[u,w,{onFocus:iu(m,I),onBlur:iu(p,x),onMouseEnter:iu(g,I),onMouseLeave:iu(_,x),onTouchStart:iu(A,I)}]:[!1,w,{}]}function iu(i,e){return t=>{i&&i(t),t.defaultPrevented||e(t)}}function kR({page:i,...e}){let{router:t}=DT(),s=L.useMemo(()=>ET(t.routes,i,t.basename),[t.routes,i,t.basename]);return s?L.createElement(VR,{page:i,matches:s,...e}):null}function PR(i){let{manifest:e,routeModules:t}=OT(),[s,o]=L.useState([]);return L.useEffect(()=>{let u=!1;return bR(i,e,t).then(h=>{u||o(h)}),()=>{u=!0}},[i,e,t]),s}function VR({page:i,matches:e,...t}){let s=ki(),{manifest:o,routeModules:u}=OT(),{basename:h}=DT(),{loaderData:m,matches:p}=OR(),g=L.useMemo(()=>b0(i,e,p,o,s,"data"),[i,e,p,o,s]),_=L.useMemo(()=>b0(i,e,p,o,s,"assets"),[i,e,p,o,s]),A=L.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let x=new Set,q=!1;if(e.forEach(k=>{let Y=o.routes[k.route.id];!Y||!Y.hasLoader||(!g.some(Z=>Z.route.id===k.route.id)&&k.route.id in m&&u[k.route.id]?.shouldRevalidate||Y.hasClientLoader?q=!0:x.add(k.route.id))}),x.size===0)return[];let V=DR(i,h);return q&&x.size>0&&V.searchParams.set("_routes",e.filter(k=>x.has(k.route.id)).map(k=>k.route.id).join(",")),[V.pathname+V.search]},[h,m,s,o,g,e,i,u]),w=L.useMemo(()=>RR(_,o),[_,o]),I=PR(_);return L.createElement(L.Fragment,null,A.map(x=>L.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...t})),w.map(x=>L.createElement("link",{key:x,rel:"modulepreload",href:x,...t})),I.map(({key:x,link:q})=>L.createElement("link",{key:x,...q})))}function jR(...i){return e=>{i.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var MT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{MT&&(window.__reactRouterVersion="7.6.3")}catch{}function LR({basename:i,children:e,window:t}){let s=L.useRef();s.current==null&&(s.current=Sb({window:t,v5Compat:!0}));let o=s.current,[u,h]=L.useState({action:o.action,location:o.location}),m=L.useCallback(p=>{L.startTransition(()=>h(p))},[h]);return L.useLayoutEffect(()=>o.listen(m),[o,m]),L.createElement(fR,{basename:i,children:e,location:u.location,navigationType:u.action,navigator:o})}var kT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,hn=L.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:o,reloadDocument:u,replace:h,state:m,target:p,to:g,preventScrollReset:_,viewTransition:A,...w},I){let{basename:x}=L.useContext(ri),q=typeof g=="string"&&kT.test(g),V,k=!1;if(typeof g=="string"&&q&&(V=g,MT))try{let C=new URL(window.location.href),M=g.startsWith("//")?new URL(C.protocol+g):new URL(g),B=dr(M.pathname,x);M.origin===C.origin&&B!=null?g=B+M.search+M.hash:k=!0}catch{qn(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Y=Wb(g,{relative:o}),[Z,se,oe]=MR(s,w),de=qR(g,{replace:h,state:m,target:p,preventScrollReset:_,relative:o,viewTransition:A});function O(C){e&&e(C),C.defaultPrevented||de(C)}let R=L.createElement("a",{...w,...oe,href:V||Y,onClick:k||u?e:O,ref:jR(I,se),target:p,"data-discover":!q&&t==="render"?"true":void 0});return Z&&!q?L.createElement(L.Fragment,null,R,L.createElement(kR,{page:Y})):R});hn.displayName="Link";var UR=L.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:o=!1,style:u,to:h,viewTransition:m,children:p,...g},_){let A=Cu(h,{relative:g.relative}),w=ki(),I=L.useContext(sf),{navigator:x,basename:q}=L.useContext(ri),V=I!=null&&KR(A)&&m===!0,k=x.encodeLocation?x.encodeLocation(A).pathname:A.pathname,Y=w.pathname,Z=I&&I.navigation&&I.navigation.location?I.navigation.location.pathname:null;t||(Y=Y.toLowerCase(),Z=Z?Z.toLowerCase():null,k=k.toLowerCase()),Z&&q&&(Z=dr(Z,q)||Z);const se=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let oe=Y===k||!o&&Y.startsWith(k)&&Y.charAt(se)==="/",de=Z!=null&&(Z===k||!o&&Z.startsWith(k)&&Z.charAt(k.length)==="/"),O={isActive:oe,isPending:de,isTransitioning:V},R=oe?e:void 0,C;typeof s=="function"?C=s(O):C=[s,oe?"active":null,de?"pending":null,V?"transitioning":null].filter(Boolean).join(" ");let M=typeof u=="function"?u(O):u;return L.createElement(hn,{...g,"aria-current":R,className:C,ref:_,style:M,to:h,viewTransition:m},typeof p=="function"?p(O):p)});UR.displayName="NavLink";var BR=L.forwardRef(({discover:i="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:o,state:u,method:h=_h,action:m,onSubmit:p,relative:g,preventScrollReset:_,viewTransition:A,...w},I)=>{let x=QR(),q=$R(m,{relative:g}),V=h.toLowerCase()==="get"?"get":"post",k=typeof m=="string"&&kT.test(m),Y=Z=>{if(p&&p(Z),Z.defaultPrevented)return;Z.preventDefault();let se=Z.nativeEvent.submitter,oe=se?.getAttribute("formmethod")||h;x(se||Z.currentTarget,{fetcherKey:e,method:oe,navigate:t,replace:o,state:u,relative:g,preventScrollReset:_,viewTransition:A})};return L.createElement("form",{ref:I,method:V,action:q,onSubmit:s?p:Y,...w,"data-discover":!k&&i==="render"?"true":void 0})});BR.displayName="Form";function zR(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function PT(i){let e=L.useContext(Lo);return at(e,zR(i)),e}function qR(i,{target:e,replace:t,state:s,preventScrollReset:o,relative:u,viewTransition:h}={}){let m=pa(),p=ki(),g=Cu(i,{relative:u});return L.useCallback(_=>{if(vR(_,e)){_.preventDefault();let A=t!==void 0?t:yu(p)===yu(g);m(i,{replace:A,state:s,preventScrollReset:o,relative:u,viewTransition:h})}},[p,m,g,t,s,e,i,o,u,h])}function FR(i){qn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=L.useRef(hp(i)),t=L.useRef(!1),s=ki(),o=L.useMemo(()=>_R(s.search,t.current?null:e.current),[s.search]),u=pa(),h=L.useCallback((m,p)=>{const g=hp(typeof m=="function"?m(o):m);t.current=!0,u("?"+g,p)},[u,o]);return[o,h]}var HR=0,GR=()=>`__${String(++HR)}__`;function QR(){let{router:i}=PT("useSubmit"),{basename:e}=L.useContext(ri),t=lR();return L.useCallback(async(s,o={})=>{let{action:u,method:h,encType:m,formData:p,body:g}=wR(s,e);if(o.navigate===!1){let _=o.fetcherKey||GR();await i.fetch(_,t,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||m,flushSync:o.flushSync})}else await i.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,t])}function $R(i,{relative:e}={}){let{basename:t}=L.useContext(ri),s=L.useContext(si);at(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Cu(i||".",{relative:e})},h=ki();if(i==null){u.search=h.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(_=>_==="")){m.delete("index"),p.filter(A=>A).forEach(A=>m.append("index",A));let _=m.toString();u.search=_?`?${_}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(u.pathname=u.pathname==="/"?t:cr([t,u.pathname])),yu(u)}function KR(i,e={}){let t=L.useContext(ST);at(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=PT("useViewTransitionState"),o=Cu(i,{relative:e.relative});if(!t.isTransitioning)return!1;let u=dr(t.currentLocation.pathname,s)||t.currentLocation.pathname,h=dr(t.nextLocation.pathname,s)||t.nextLocation.pathname;return Oh(o.pathname,h)!=null||Oh(o.pathname,u)!=null}[...NR];const YR=()=>{};var R0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VT=function(i){const e=[];let t=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},XR=function(i){const e=[];let t=0,s=0;for(;t<i.length;){const o=i[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[t++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[t++],h=i[t++],m=i[t++],p=((o&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=i[t++],h=i[t++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},jT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],h=o+1<i.length,m=h?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,_=u>>2,A=(u&3)<<4|m>>4;let w=(m&15)<<2|g>>6,I=g&63;p||(I=64,h||(w=64)),s.push(t[_],t[A],t[w],t[I])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(VT(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):XR(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=t[i.charAt(o++)],m=o<i.length?t[i.charAt(o)]:0;++o;const g=o<i.length?t[i.charAt(o)]:64;++o;const A=o<i.length?t[i.charAt(o)]:64;if(++o,u==null||m==null||g==null||A==null)throw new WR;const w=u<<2|m>>4;if(s.push(w),g!==64){const I=m<<4&240|g>>2;if(s.push(I),A!==64){const x=g<<6&192|A;s.push(x)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class WR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ZR=function(i){const e=VT(i);return jT.encodeByteArray(e,!0)},Mh=function(i){return ZR(i).replace(/\./g,"")},LT=function(i){try{return jT.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e2=()=>JR().__FIREBASE_DEFAULTS__,t2=()=>{if(typeof process>"u"||typeof R0>"u")return;const i=R0.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},n2=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&LT(i[1]);return e&&JSON.parse(e)},of=()=>{try{return YR()||e2()||t2()||n2()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},UT=i=>{var e,t;return(t=(e=of())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[i]},BT=i=>{const e=UT(i);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},zT=()=>{var i;return(i=of())===null||i===void 0?void 0:i.config},qT=i=>{var e;return(e=of())===null||e===void 0?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ga(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Kp(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FT(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[Mh(JSON.stringify(t)),Mh(JSON.stringify(h)),""].join(".")}const cu={};function r2(){const i={prod:[],emulator:[]};for(const e of Object.keys(cu))cu[e]?i.emulator.push(e):i.prod.push(e);return i}function s2(i){let e=document.getElementById(i),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),t=!0),{created:t,element:e}}let I0=!1;function Yp(i,e){if(typeof window>"u"||typeof document>"u"||!ga(window.location.host)||cu[i]===e||cu[i]||I0)return;cu[i]=e;function t(w){return`__firebase__banner__${w}`}const s="__firebase__banner",u=r2().prod.length>0;function h(){const w=document.getElementById(s);w&&w.remove()}function m(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function p(w,I){w.setAttribute("width","24"),w.setAttribute("id",I),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function g(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{I0=!0,h()},w}function _(w,I){w.setAttribute("id",I),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function A(){const w=s2(s),I=t("text"),x=document.getElementById(I)||document.createElement("span"),q=t("learnmore"),V=document.getElementById(q)||document.createElement("a"),k=t("preprendIcon"),Y=document.getElementById(k)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const Z=w.element;m(Z),_(V,q);const se=g();p(Y,k),Z.append(Y,x,V,se),document.body.appendChild(Z)}u?(x.innerText="Preview backend disconnected.",Y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",I)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function a2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Jt())}function o2(){var i;const e=(i=of())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function l2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function HT(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function u2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function c2(){const i=Jt();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function h2(){return!o2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function GT(){try{return typeof indexedDB=="object"}catch{return!1}}function QT(){return new Promise((i,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(t){e(t)}})}function f2(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d2="FirebaseError";class Hn extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=d2,Object.setPrototypeOf(this,Hn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ya.prototype.create)}}class ya{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?m2(u,s):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new Hn(o,m,s)}}function m2(i,e){return i.replace(p2,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const p2=/\{\$([^}]+)}/g;function g2(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function Di(i,e){if(i===e)return!0;const t=Object.keys(i),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const u=i[o],h=e[o];if(x0(u)&&x0(h)){if(!Di(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function x0(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nu(i){const e=[];for(const[t,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function ru(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function su(i){const e=i.indexOf("?");if(!e)return"";const t=i.indexOf("#",e);return i.substring(e,t>0?t:void 0)}function y2(i,e){const t=new v2(i,e);return t.subscribe.bind(t)}class v2{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");_2(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=$m),o.error===void 0&&(o.error=$m),o.complete===void 0&&(o.complete=$m);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function _2(i,e){if(typeof i!="object"||i===null)return!1;for(const t of e)if(t in i&&typeof i[t]=="function")return!0;return!1}function $m(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E2=1e3,T2=2,w2=4*60*60*1e3,A2=.5;function C0(i,e=E2,t=T2){const s=e*Math.pow(t,i),o=Math.round(A2*s*(Math.random()-.5)*2);return Math.min(w2,s+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lt(i){return i&&i._delegate?i._delegate:i}class Fn{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ia="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S2{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new i2;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const s=this.normalizeInstanceIdentifier(e?.identifier),o=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(R2(e))try{this.getOrInitializeService({instanceIdentifier:ia})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=ia){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ia){return this.instances.has(e)}getOptions(e=ia){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&h.resolve(o)}return o}onInit(e,t){var s;const o=this.normalizeInstanceIdentifier(t),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const h=this.instances.get(o);return h&&e(h,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:b2(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ia){return this.component?this.component.multipleInstances?e:ia:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function b2(i){return i===ia?void 0:i}function R2(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new S2(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Me;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Me||(Me={}));const x2={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},C2=Me.INFO,N2={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},D2=(i,e,...t)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=N2[e];if(o)console[o](`[${s}]  ${i.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class lf{constructor(e){this.name=e,this._logLevel=C2,this._logHandler=D2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?x2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const O2=(i,e)=>e.some(t=>i instanceof t);let N0,D0;function M2(){return N0||(N0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function k2(){return D0||(D0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const $T=new WeakMap,fp=new WeakMap,KT=new WeakMap,Km=new WeakMap,Xp=new WeakMap;function P2(i){const e=new Promise((t,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",h)},u=()=>{t(ns(i.result)),o()},h=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&$T.set(t,i)}).catch(()=>{}),Xp.set(e,i),e}function V2(i){if(fp.has(i))return;const e=new Promise((t,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",h),i.removeEventListener("abort",h)},u=()=>{t(),o()},h=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",h),i.addEventListener("abort",h)});fp.set(i,e)}let dp={get(i,e,t){if(i instanceof IDBTransaction){if(e==="done")return fp.get(i);if(e==="objectStoreNames")return i.objectStoreNames||KT.get(i);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ns(i[e])},set(i,e,t){return i[e]=t,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function j2(i){dp=i(dp)}function L2(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=i.call(Ym(this),e,...t);return KT.set(s,e.sort?e.sort():[e]),ns(s)}:k2().includes(i)?function(...e){return i.apply(Ym(this),e),ns($T.get(this))}:function(...e){return ns(i.apply(Ym(this),e))}}function U2(i){return typeof i=="function"?L2(i):(i instanceof IDBTransaction&&V2(i),O2(i,M2())?new Proxy(i,dp):i)}function ns(i){if(i instanceof IDBRequest)return P2(i);if(Km.has(i))return Km.get(i);const e=U2(i);return e!==i&&(Km.set(i,e),Xp.set(e,i)),e}const Ym=i=>Xp.get(i);function YT(i,e,{blocked:t,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(i,e),m=ns(h);return s&&h.addEventListener("upgradeneeded",p=>{s(ns(h.result),p.oldVersion,p.newVersion,ns(h.transaction),p)}),t&&h.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const B2=["get","getKey","getAll","getAllKeys","count"],z2=["put","add","delete","clear"],Xm=new Map;function O0(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Xm.get(e))return Xm.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=z2.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||B2.includes(t)))return;const u=async function(h,...m){const p=this.transaction(h,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[t](...m),o&&p.done]))[0]};return Xm.set(e,u),u}j2(i=>({...i,get:(e,t,s)=>O0(e,t)||i.get(e,t,s),has:(e,t)=>!!O0(e,t)||i.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(F2(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function F2(i){const e=i.getComponent();return e?.type==="VERSION"}const mp="@firebase/app",M0="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mr=new lf("@firebase/app"),H2="@firebase/app-compat",G2="@firebase/analytics-compat",Q2="@firebase/analytics",$2="@firebase/app-check-compat",K2="@firebase/app-check",Y2="@firebase/auth",X2="@firebase/auth-compat",W2="@firebase/database",Z2="@firebase/data-connect",J2="@firebase/database-compat",eI="@firebase/functions",tI="@firebase/functions-compat",nI="@firebase/installations",iI="@firebase/installations-compat",rI="@firebase/messaging",sI="@firebase/messaging-compat",aI="@firebase/performance",oI="@firebase/performance-compat",lI="@firebase/remote-config",uI="@firebase/remote-config-compat",cI="@firebase/storage",hI="@firebase/storage-compat",fI="@firebase/firestore",dI="@firebase/ai",mI="@firebase/firestore-compat",pI="firebase",gI="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pp="[DEFAULT]",yI={[mp]:"fire-core",[H2]:"fire-core-compat",[Q2]:"fire-analytics",[G2]:"fire-analytics-compat",[K2]:"fire-app-check",[$2]:"fire-app-check-compat",[Y2]:"fire-auth",[X2]:"fire-auth-compat",[W2]:"fire-rtdb",[Z2]:"fire-data-connect",[J2]:"fire-rtdb-compat",[eI]:"fire-fn",[tI]:"fire-fn-compat",[nI]:"fire-iid",[iI]:"fire-iid-compat",[rI]:"fire-fcm",[sI]:"fire-fcm-compat",[aI]:"fire-perf",[oI]:"fire-perf-compat",[lI]:"fire-rc",[uI]:"fire-rc-compat",[cI]:"fire-gcs",[hI]:"fire-gcs-compat",[fI]:"fire-fst",[mI]:"fire-fst-compat",[dI]:"fire-vertex","fire-js":"fire-js",[pI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kh=new Map,vI=new Map,gp=new Map;function k0(i,e){try{i.container.addComponent(e)}catch(t){mr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,t)}}function ti(i){const e=i.name;if(gp.has(e))return mr.debug(`There were multiple attempts to register component ${e}.`),!1;gp.set(e,i);for(const t of kh.values())k0(t,i);for(const t of vI.values())k0(t,i);return!0}function ps(i,e){const t=i.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),i.container.getProvider(e)}function Sn(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _I={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},is=new ya("app","Firebase",_I);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(e,t,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Fn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw is.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const va=gI;function XT(i,e={}){let t=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:pp,automaticDataCollectionEnabled:!0},e),o=s.name;if(typeof o!="string"||!o)throw is.create("bad-app-name",{appName:String(o)});if(t||(t=zT()),!t)throw is.create("no-options");const u=kh.get(o);if(u){if(Di(t,u.options)&&Di(s,u.config))return u;throw is.create("duplicate-app",{appName:o})}const h=new I2(o);for(const p of gp.values())h.addComponent(p);const m=new EI(t,s,h);return kh.set(o,m),m}function uf(i=pp){const e=kh.get(i);if(!e&&i===pp&&zT())return XT();if(!e)throw is.create("no-app",{appName:i});return e}function fn(i,e,t){var s;let o=(s=yI[i])!==null&&s!==void 0?s:i;t&&(o+=`-${t}`);const u=o.match(/\s|\//),h=e.match(/\s|\//);if(u||h){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&h&&m.push("and"),h&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),mr.warn(m.join(" "));return}ti(new Fn(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TI="firebase-heartbeat-database",wI=1,vu="firebase-heartbeat-store";let Wm=null;function WT(){return Wm||(Wm=YT(TI,wI,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(vu)}catch(t){console.warn(t)}}}}).catch(i=>{throw is.create("idb-open",{originalErrorMessage:i.message})})),Wm}async function AI(i){try{const t=(await WT()).transaction(vu),s=await t.objectStore(vu).get(ZT(i));return await t.done,s}catch(e){if(e instanceof Hn)mr.warn(e.message);else{const t=is.create("idb-get",{originalErrorMessage:e?.message});mr.warn(t.message)}}}async function P0(i,e){try{const s=(await WT()).transaction(vu,"readwrite");await s.objectStore(vu).put(e,ZT(i)),await s.done}catch(t){if(t instanceof Hn)mr.warn(t.message);else{const s=is.create("idb-set",{originalErrorMessage:t?.message});mr.warn(s.message)}}}function ZT(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SI=1024,bI=30;class RI{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new xI(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=V0();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>bI){const h=CI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){mr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=V0(),{heartbeatsToSend:s,unsentEntries:o}=II(this._heartbeatsCache.heartbeats),u=Mh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(t){return mr.warn(t),""}}}function V0(){return new Date().toISOString().substring(0,10)}function II(i,e=SI){const t=[];let s=i.slice();for(const o of i){const u=t.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),j0(t)>e){u.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),j0(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class xI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return GT()?QT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await AI(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return P0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return P0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function j0(i){return Mh(JSON.stringify({version:2,heartbeats:i})).length}function CI(i){if(i.length===0)return-1;let e=0,t=i[0].date;for(let s=1;s<i.length;s++)i[s].date<t&&(t=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NI(i){ti(new Fn("platform-logger",e=>new q2(e),"PRIVATE")),ti(new Fn("heartbeat",e=>new RI(e),"PRIVATE")),fn(mp,M0,i),fn(mp,M0,"esm2017"),fn("fire-js","")}NI("");function Wp(i,e){var t={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(t[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(t[s[o]]=i[s[o]]);return t}function JT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const DI=JT,ew=new ya("auth","Firebase",JT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ph=new lf("@firebase/auth");function OI(i,...e){Ph.logLevel<=Me.WARN&&Ph.warn(`Auth (${va}): ${i}`,...e)}function Th(i,...e){Ph.logLevel<=Me.ERROR&&Ph.error(`Auth (${va}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ni(i,...e){throw Zp(i,...e)}function bi(i,...e){return Zp(i,...e)}function tw(i,e,t){const s=Object.assign(Object.assign({},DI()),{[e]:t});return new ya("auth","Firebase",s).create(e,{appName:i.name})}function hr(i){return tw(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Zp(i,...e){if(typeof i!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(t,...s)}return ew.create(i,...e)}function Ee(i,e,...t){if(!i)throw Zp(e,...t)}function lr(i){const e="INTERNAL ASSERTION FAILED: "+i;throw Th(e),new Error(e)}function pr(i,e){i||lr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yp(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function MI(){return L0()==="http:"||L0()==="https:"}function L0(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(MI()||HT()||"connection"in navigator)?navigator.onLine:!0}function PI(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du{constructor(e,t){this.shortDelay=e,this.longDelay=t,pr(t>e,"Short delay should be less than long delay!"),this.isMobile=a2()||u2()}get(){return kI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jp(i,e){pr(i.emulator,"Emulator should always be set here");const{url:t}=i.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nw{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;lr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;lr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;lr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],LI=new Du(3e4,6e4);function gs(i,e){return i.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:i.tenantId}):e}async function _r(i,e,t,s,o={}){return iw(i,o,async()=>{let u={},h={};s&&(e==="GET"?h=s:u={body:JSON.stringify(s)});const m=Nu(Object.assign({key:i.config.apiKey},h)).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g=Object.assign({method:e,headers:p},u);return l2()||(g.referrerPolicy="no-referrer"),i.emulatorConfig&&ga(i.emulatorConfig.host)&&(g.credentials="include"),nw.fetch()(await rw(i,i.config.apiHost,t,m),g)})}async function iw(i,e,t){i._canInitEmulator=!1;const s=Object.assign(Object.assign({},VI),e);try{const o=new BI(i),u=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw hh(i,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const m=u.ok?h.errorMessage:h.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw hh(i,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw hh(i,"email-already-in-use",h);if(p==="USER_DISABLED")throw hh(i,"user-disabled",h);const _=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw tw(i,_,g);ni(i,_)}}catch(o){if(o instanceof Hn)throw o;ni(i,"network-request-failed",{message:String(o)})}}async function Ou(i,e,t,s,o={}){const u=await _r(i,e,t,s,o);return"mfaPendingCredential"in u&&ni(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function rw(i,e,t,s){const o=`${e}${t}?${s}`,u=i,h=u.config.emulator?Jp(i.config,o):`${i.config.apiScheme}://${o}`;return jI.includes(t)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}function UI(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class BI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(bi(this.auth,"network-request-failed")),LI.get())})}}function hh(i,e,t){const s={appName:i.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=bi(i,e,s);return o.customData._tokenResponse=t,o}function U0(i){return i!==void 0&&i.enterprise!==void 0}class zI{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return UI(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function qI(i,e){return _r(i,"GET","/v2/recaptchaConfig",gs(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FI(i,e){return _r(i,"POST","/v1/accounts:delete",e)}async function Vh(i,e){return _r(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hu(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function HI(i,e=!1){const t=lt(i),s=await t.getIdToken(e),o=eg(s);Ee(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u?.sign_in_provider;return{claims:o,token:s,authTime:hu(Zm(o.auth_time)),issuedAtTime:hu(Zm(o.iat)),expirationTime:hu(Zm(o.exp)),signInProvider:h||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Zm(i){return Number(i)*1e3}function eg(i){const[e,t,s]=i.split(".");if(e===void 0||t===void 0||s===void 0)return Th("JWT malformed, contained fewer than 3 sections"),null;try{const o=LT(t);return o?JSON.parse(o):(Th("Failed to decode base64 JWT payload"),null)}catch(o){return Th("Caught error parsing JWT payload as JSON",o?.toString()),null}}function B0(i){const e=eg(i);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xo(i,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof Hn&&GI(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function GI({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=hu(this.lastLoginAt),this.creationTime=hu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jh(i){var e;const t=i.auth,s=await i.getIdToken(),o=await xo(i,Vh(t,{idToken:s}));Ee(o?.users.length,t,"internal-error");const u=o.users[0];i._notifyReloadListener(u);const h=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?sw(u.providerUserInfo):[],m=KI(i.providerData,h),p=i.isAnonymous,g=!(i.email&&u.passwordHash)&&!m?.length,_=p?g:!1,A={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new vp(u.createdAt,u.lastLoginAt),isAnonymous:_};Object.assign(i,A)}async function $I(i){const e=lt(i);await jh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function KI(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function sw(i){return i.map(e=>{var{providerId:t}=e,s=Wp(e,["providerId"]);return{providerId:t,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YI(i,e){const t=await iw(i,{},async()=>{const s=Nu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,h=await rw(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return i.emulatorConfig&&ga(i.emulatorConfig.host)&&(p.credentials="include"),nw.fetch()(h,p)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function XI(i,e){return _r(i,"POST","/v2/accounts:revokeToken",gs(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):B0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const t=B0(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:u}=await YI(e,t);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:u}=t,h=new Ao;return s&&(Ee(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(Ee(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(Ee(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ao,this.toJSON())}_performRefresh(){return lr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xr(i,e){Ee(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class Wn{constructor(e){var{uid:t,auth:s,stsTokenManager:o}=e,u=Wp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new QI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new vp(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const t=await xo(this,this.stsTokenManager.getToken(this.auth,e));return Ee(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return HI(this,e)}reload(){return $I(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Wn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await jh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Sn(this.auth.app))return Promise.reject(hr(this.auth));const e=await this.getIdToken();return await xo(this,FI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var s,o,u,h,m,p,g,_;const A=(s=t.displayName)!==null&&s!==void 0?s:void 0,w=(o=t.email)!==null&&o!==void 0?o:void 0,I=(u=t.phoneNumber)!==null&&u!==void 0?u:void 0,x=(h=t.photoURL)!==null&&h!==void 0?h:void 0,q=(m=t.tenantId)!==null&&m!==void 0?m:void 0,V=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,k=(g=t.createdAt)!==null&&g!==void 0?g:void 0,Y=(_=t.lastLoginAt)!==null&&_!==void 0?_:void 0,{uid:Z,emailVerified:se,isAnonymous:oe,providerData:de,stsTokenManager:O}=t;Ee(Z&&O,e,"internal-error");const R=Ao.fromJSON(this.name,O);Ee(typeof Z=="string",e,"internal-error"),Xr(A,e.name),Xr(w,e.name),Ee(typeof se=="boolean",e,"internal-error"),Ee(typeof oe=="boolean",e,"internal-error"),Xr(I,e.name),Xr(x,e.name),Xr(q,e.name),Xr(V,e.name),Xr(k,e.name),Xr(Y,e.name);const C=new Wn({uid:Z,auth:e,email:w,emailVerified:se,displayName:A,isAnonymous:oe,photoURL:x,phoneNumber:I,tenantId:q,stsTokenManager:R,createdAt:k,lastLoginAt:Y});return de&&Array.isArray(de)&&(C.providerData=de.map(M=>Object.assign({},M))),V&&(C._redirectEventId=V),C}static async _fromIdTokenResponse(e,t,s=!1){const o=new Ao;o.updateFromServerResponse(t);const u=new Wn({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await jh(u),u}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];Ee(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?sw(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!u?.length,m=new Ao;m.updateFromIdToken(s);const p=new Wn({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:h}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new vp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z0=new Map;function ur(i){pr(i instanceof Function,"Expected a class definition");let e=z0.get(i);return e?(pr(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,z0.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}aw.type="NONE";const q0=aw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wh(i,e,t){return`firebase:${i}:${e}:${t}`}class So{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=wh(this.userKey,o.apiKey,u),this.fullPersistenceKey=wh("persistence",o.apiKey,u),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Vh(this.auth,{idToken:e}).catch(()=>{});return t?Wn._fromGetAccountInfoResponse(this.auth,t,e):null}return Wn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new So(ur(q0),e,s);const o=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||ur(q0);const h=wh(s,e.config.apiKey,e.name);let m=null;for(const g of t)try{const _=await g._get(h);if(_){let A;if(typeof _=="string"){const w=await Vh(e,{idToken:_}).catch(()=>{});if(!w)break;A=await Wn._fromGetAccountInfoResponse(e,w,_)}else A=Wn._fromJSON(e,_);g!==u&&(m=A),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new So(u,e,s):(u=p[0],m&&await u._set(h,m.toJSON()),await Promise.all(t.map(async g=>{if(g!==u)try{await g._remove(h)}catch{}})),new So(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F0(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(cw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ow(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(fw(e))return"Blackberry";if(dw(e))return"Webos";if(lw(e))return"Safari";if((e.includes("chrome/")||uw(e))&&!e.includes("edge/"))return"Chrome";if(hw(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(t);if(s?.length===2)return s[1]}return"Other"}function ow(i=Jt()){return/firefox\//i.test(i)}function lw(i=Jt()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function uw(i=Jt()){return/crios\//i.test(i)}function cw(i=Jt()){return/iemobile/i.test(i)}function hw(i=Jt()){return/android/i.test(i)}function fw(i=Jt()){return/blackberry/i.test(i)}function dw(i=Jt()){return/webos/i.test(i)}function tg(i=Jt()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function WI(i=Jt()){var e;return tg(i)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function ZI(){return c2()&&document.documentMode===10}function mw(i=Jt()){return tg(i)||hw(i)||dw(i)||fw(i)||/windows phone/i.test(i)||cw(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pw(i,e=[]){let t;switch(i){case"Browser":t=F0(Jt());break;case"Worker":t=`${F0(Jt())}-${i}`;break;default:t=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${va}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=u=>new Promise((h,m)=>{try{const p=e(u);h(p)}catch(p){m(p)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ex(i,e={}){return _r(i,"GET","/v2/passwordPolicy",gs(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tx=6;class nx{constructor(e){var t,s,o,u;const h=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=h.minPasswordLength)!==null&&t!==void 0?t:tx,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,s,o,u,h,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(h=p.containsNumericCharacter)!==null&&h!==void 0?h:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new H0(this),this.idTokenSubscription=new H0(this),this.beforeStateQueue=new JI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ew,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ur(t)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await So.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Vh(this,{idToken:e}),s=await Wn._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Sn(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,m=o?._redirectEventId,p=await this.tryRedirectSignIn(e);(!h||h===m)&&p?.user&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(h){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await jh(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=PI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Sn(this.app))return Promise.reject(hr(this));const t=e?lt(e):null;return t&&Ee(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Sn(this.app)?Promise.reject(hr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Sn(this.app)?Promise.reject(hr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ur(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await ex(this),t=new nx(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ya("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await XI(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ur(e)||this._popupRedirectResolver;Ee(t,this,"argument-error"),this.redirectPersistenceManager=await So.create(this,[ur(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,s;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const u=typeof t=="function"?t:t.next.bind(t);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(m,this,"internal-error"),m.then(()=>{h||u(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,s,o);return()=>{h=!0,p()}}else{const p=e.addObserver(t);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=pw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(t["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;if(Sn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t?.error&&OI(`Error while retrieving App Check token: ${t.error}`),t?.token}}function _a(i){return lt(i)}class H0{constructor(e){this.auth=e,this.observer=null,this.addObserver=y2(t=>this.observer=t)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function rx(i){cf=i}function gw(i){return cf.loadJS(i)}function sx(){return cf.recaptchaEnterpriseScript}function ax(){return cf.gapiScript}function ox(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class lx{constructor(){this.enterprise=new ux}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class ux{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const cx="recaptcha-enterprise",yw="NO_RECAPTCHA";class hx{constructor(e){this.type=cx,this.auth=_a(e)}async verify(e="verify",t=!1){async function s(u){if(!t){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,m)=>{qI(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new zI(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,h(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,h,m){const p=window.grecaptcha;U0(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{h(g)}).catch(()=>{h(yw)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new lx().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{s(this.auth).then(m=>{if(!t&&U0(window.grecaptcha))o(m,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let p=sx();p.length!==0&&(p+=m),gw(p).then(()=>{o(m,u,h)}).catch(g=>{h(g)})}}).catch(m=>{h(m)})})}}async function G0(i,e,t,s=!1,o=!1){const u=new hx(i);let h;if(o)h=yw;else try{h=await u.verify(t)}catch{h=await u.verify(t,!0)}const m=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:h}):Object.assign(m,{captchaResponse:h}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function _p(i,e,t,s,o){var u;if(!((u=i._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await G0(i,e,t,t==="getOobCode");return s(i,h)}else return s(i,e).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await G0(i,e,t,t==="getOobCode");return s(i,m)}else return Promise.reject(h)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fx(i,e){const t=ps(i,"auth");if(t.isInitialized()){const o=t.getImmediate(),u=t.getOptions();if(Di(u,e??{}))return o;ni(o,"already-initialized")}return t.initialize({options:e})}function dx(i,e){const t=e?.persistence||[],s=(Array.isArray(t)?t:[t]).map(ur);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e?.popupRedirectResolver)}function mx(i,e,t){const s=_a(i);Ee(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=vw(e),{host:h,port:m}=px(e),p=m===null?"":`:${m}`,g={url:`${u}//${h}${p}/`},_=Object.freeze({host:h,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Ee(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ee(Di(g,s.config.emulator)&&Di(_,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=_,s.settings.appVerificationDisabledForTesting=!0,ga(h)?(Kp(`${u}//${h}${p}`),Yp("Auth",!0)):gx()}function vw(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function px(i){const e=vw(i),t=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:Q0(s.substr(u.length+1))}}else{const[u,h]=s.split(":");return{host:u,port:Q0(h)}}}function Q0(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function gx(){function i(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return lr("not implemented")}_getIdTokenResponse(e){return lr("not implemented")}_linkToIdToken(e,t){return lr("not implemented")}_getReauthenticationResolver(e){return lr("not implemented")}}async function yx(i,e){return _r(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vx(i,e){return Ou(i,"POST","/v1/accounts:signInWithPassword",gs(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _x(i,e){return Ou(i,"POST","/v1/accounts:signInWithEmailLink",gs(i,e))}async function Ex(i,e){return Ou(i,"POST","/v1/accounts:signInWithEmailLink",gs(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u extends ng{constructor(e,t,s,o=null){super("password",s),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new _u(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new _u(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return _p(e,t,"signInWithPassword",vx);case"emailLink":return _x(e,{email:this._email,oobCode:this._password});default:ni(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return _p(e,s,"signUpPassword",yx);case"emailLink":return Ex(e,{idToken:t,email:this._email,oobCode:this._password});default:ni(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bo(i,e){return Ou(i,"POST","/v1/accounts:signInWithIdp",gs(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tx="http://localhost";class ua extends ng{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ua(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ni("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=t,u=Wp(t,["providerId","signInMethod"]);if(!s||!o)return null;const h=new ua(s,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const t=this.buildRequest();return bo(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,bo(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,bo(e,t)}buildRequest(){const e={requestUri:Tx,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Nu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wx(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Ax(i){const e=ru(su(i)).link,t=e?ru(su(e)).deep_link_id:null,s=ru(su(i)).deep_link_id;return(s?ru(su(s)).link:null)||s||t||e||i}class ig{constructor(e){var t,s,o,u,h,m;const p=ru(su(e)),g=(t=p.apiKey)!==null&&t!==void 0?t:null,_=(s=p.oobCode)!==null&&s!==void 0?s:null,A=wx((o=p.mode)!==null&&o!==void 0?o:null);Ee(g&&_&&A,"argument-error"),this.apiKey=g,this.operation=A,this.code=_,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(h=p.lang)!==null&&h!==void 0?h:null,this.tenantId=(m=p.tenantId)!==null&&m!==void 0?m:null}static parseLink(e){const t=Ax(e);try{return new ig(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(){this.providerId=Bo.PROVIDER_ID}static credential(e,t){return _u._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=ig.parseLink(t);return Ee(s,"argument-error"),_u._fromEmailAndCode(e,s.code,s.tenantId)}}Bo.PROVIDER_ID="password";Bo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Bo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu extends _w{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr extends Mu{constructor(){super("facebook.com")}static credential(e){return ua._fromParams({providerId:Wr.PROVIDER_ID,signInMethod:Wr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Wr.credentialFromTaggedObject(e)}static credentialFromError(e){return Wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Wr.credential(e.oauthAccessToken)}catch{return null}}}Wr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Wr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr extends Mu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ua._fromParams({providerId:Zr.PROVIDER_ID,signInMethod:Zr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Zr.credentialFromTaggedObject(e)}static credentialFromError(e){return Zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return Zr.credential(t,s)}catch{return null}}}Zr.GOOGLE_SIGN_IN_METHOD="google.com";Zr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr extends Mu{constructor(){super("github.com")}static credential(e){return ua._fromParams({providerId:Jr.PROVIDER_ID,signInMethod:Jr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Jr.credentialFromTaggedObject(e)}static credentialFromError(e){return Jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Jr.credential(e.oauthAccessToken)}catch{return null}}}Jr.GITHUB_SIGN_IN_METHOD="github.com";Jr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es extends Mu{constructor(){super("twitter.com")}static credential(e,t){return ua._fromParams({providerId:es.PROVIDER_ID,signInMethod:es.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return es.credentialFromTaggedObject(e)}static credentialFromError(e){return es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return es.credential(t,s)}catch{return null}}}es.TWITTER_SIGN_IN_METHOD="twitter.com";es.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sx(i,e){return Ou(i,"POST","/v1/accounts:signUp",gs(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const u=await Wn._fromIdTokenResponse(e,s,o),h=$0(s);return new ca({user:u,providerId:h,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=$0(s);return new ca({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function $0(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh extends Hn{constructor(e,t,s,o){var u;super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Lh.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new Lh(e,t,s,o)}}function Ew(i,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(i):t._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Lh._fromErrorAndOperation(i,u,e,s):u})}async function bx(i,e,t=!1){const s=await xo(i,e._linkToIdToken(i.auth,await i.getIdToken()),t);return ca._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rx(i,e,t=!1){const{auth:s}=i;if(Sn(s.app))return Promise.reject(hr(s));const o="reauthenticate";try{const u=await xo(i,Ew(s,o,e,i),t);Ee(u.idToken,s,"internal-error");const h=eg(u.idToken);Ee(h,s,"internal-error");const{sub:m}=h;return Ee(i.uid===m,s,"user-mismatch"),ca._forOperation(i,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&ni(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tw(i,e,t=!1){if(Sn(i.app))return Promise.reject(hr(i));const s="signIn",o=await Ew(i,s,e),u=await ca._fromIdTokenResponse(i,s,o);return t||await i._updateCurrentUser(u.user),u}async function Ix(i,e){return Tw(_a(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ww(i){const e=_a(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function xx(i,e,t){if(Sn(i.app))return Promise.reject(hr(i));const s=_a(i),h=await _p(s,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Sx).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&ww(i),p}),m=await ca._fromIdTokenResponse(s,"signIn",h);return await s._updateCurrentUser(m.user),m}function Cx(i,e,t){return Sn(i.app)?Promise.reject(hr(i)):Ix(lt(i),Bo.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&ww(i),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nx(i,e){return _r(i,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dx(i,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const s=lt(i),u={idToken:await s.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},h=await xo(s,Nx(s.auth,u));s.displayName=h.displayName||null,s.photoURL=h.photoUrl||null;const m=s.providerData.find(({providerId:p})=>p==="password");m&&(m.displayName=s.displayName,m.photoURL=s.photoURL),await s._updateTokensIfNecessary(h)}function Ox(i,e,t,s){return lt(i).onIdTokenChanged(e,t,s)}function Mx(i,e,t){return lt(i).beforeAuthStateChanged(e,t)}function kx(i,e,t,s){return lt(i).onAuthStateChanged(e,t,s)}function Px(i){return lt(i).signOut()}const Uh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Uh,"1"),this.storage.removeItem(Uh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vx=1e3,jx=10;class Sw extends Aw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=mw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((h,m,p)=>{this.notifyListeners(h,p)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!t&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);ZI()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,jx):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},Vx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Sw.type="LOCAL";const Lx=Sw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bw extends Aw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}bw.type="SESSION";const Rw=bw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ux(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new hf(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:u}=t.data,h=this.handlersMap[o];if(!h?.size)return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(h).map(async g=>g(t.origin,u)),p=await Ux(m);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}hf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rg(i="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return i+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bx{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((m,p)=>{const g=rg("",20);o.port1.start();const _=setTimeout(()=>{p(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(A){const w=A;if(w.data.eventId===g)switch(w.data.status){case"ack":clearTimeout(_),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(w.data.response);break;default:clearTimeout(_),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ri(){return window}function zx(i){Ri().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iw(){return typeof Ri().WorkerGlobalScope<"u"&&typeof Ri().importScripts=="function"}async function qx(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Fx(){var i;return((i=navigator?.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function Hx(){return Iw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xw="firebaseLocalStorageDb",Gx=1,Bh="firebaseLocalStorage",Cw="fbase_key";class ku{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function ff(i,e){return i.transaction([Bh],e?"readwrite":"readonly").objectStore(Bh)}function Qx(){const i=indexedDB.deleteDatabase(xw);return new ku(i).toPromise()}function Ep(){const i=indexedDB.open(xw,Gx);return new Promise((e,t)=>{i.addEventListener("error",()=>{t(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(Bh,{keyPath:Cw})}catch(o){t(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(Bh)?e(s):(s.close(),await Qx(),e(await Ep()))})})}async function K0(i,e,t){const s=ff(i,!0).put({[Cw]:e,value:t});return new ku(s).toPromise()}async function $x(i,e){const t=ff(i,!1).get(e),s=await new ku(t).toPromise();return s===void 0?null:s.value}function Y0(i,e){const t=ff(i,!0).delete(e);return new ku(t).toPromise()}const Kx=800,Yx=3;class Nw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ep(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>Yx)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Iw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=hf._getInstance(Hx()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await qx(),!this.activeServiceWorker)return;this.sender=new Bx(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((t=s[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Fx()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ep();return await K0(e,Uh,"1"),await Y0(e,Uh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>K0(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>$x(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Y0(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=ff(o,!1).getAll();return new ku(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Kx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Nw.type="LOCAL";const Xx=Nw;new Du(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wx(i,e){return e?ur(e):(Ee(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg extends ng{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return bo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return bo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return bo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Zx(i){return Tw(i.auth,new sg(i),i.bypassAuthState)}function Jx(i){const{auth:e,user:t}=i;return Ee(t,e,"internal-error"),Rx(t,new sg(i),i.bypassAuthState)}async function eC(i){const{auth:e,user:t}=i;return Ee(t,e,"internal-error"),bx(t,new sg(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{constructor(e,t,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:u,error:h,type:m}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:t,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Zx;case"linkViaPopup":case"linkViaRedirect":return eC;case"reauthViaPopup":case"reauthViaRedirect":return Jx;default:ni(this.auth,"internal-error")}}resolve(e){pr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){pr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tC=new Du(2e3,1e4);class wo extends Dw{constructor(e,t,s,o,u){super(e,t,o,u),this.provider=s,this.authWindow=null,this.pollId=null,wo.currentPopupAction&&wo.currentPopupAction.cancel(),wo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){pr(this.filter.length===1,"Popup operations only handle one event");const e=rg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(bi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(bi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,wo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,s;if(!((s=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(bi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,tC.get())};e()}}wo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nC="pendingRedirect",Ah=new Map;class iC extends Dw{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=Ah.get(this.auth._key());if(!e){try{const s=await rC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}Ah.set(this.auth._key(),e)}return this.bypassAuthState||Ah.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function rC(i,e){const t=oC(e),s=aC(i);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function sC(i,e){Ah.set(i._key(),e)}function aC(i){return ur(i._redirectPersistence)}function oC(i){return wh(nC,i.config.apiKey,i.name)}async function lC(i,e,t=!1){if(Sn(i.app))return Promise.reject(hr(i));const s=_a(i),o=Wx(s,e),h=await new iC(s,o,t).execute();return h&&!t&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uC=10*60*1e3;class cC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!hC(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var s;if(e.error&&!Ow(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";t.onError(bi(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=uC&&this.cachedEventUids.clear(),this.cachedEventUids.has(X0(e))}saveEventToCache(e){this.cachedEventUids.add(X0(e)),this.lastProcessedEventTime=Date.now()}}function X0(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function Ow({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function hC(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ow(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fC(i,e={}){return _r(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,mC=/^https?/;async function pC(i){if(i.config.emulator)return;const{authorizedDomains:e}=await fC(i);for(const t of e)try{if(gC(t))return}catch{}ni(i,"unauthorized-domain")}function gC(i){const e=yp(),{protocol:t,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const h=new URL(i);return h.hostname===""&&s===""?t==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&h.hostname===s}if(!mC.test(t))return!1;if(dC.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yC=new Du(3e4,6e4);function W0(){const i=Ri().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let t=0;t<i.CP.length;t++)i.CP[t]=null}}function vC(i){return new Promise((e,t)=>{var s,o,u;function h(){W0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{W0(),t(bi(i,"network-request-failed"))},timeout:yC.get()})}if(!((o=(s=Ri().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=Ri().gapi)===null||u===void 0)&&u.load)h();else{const m=ox("iframefcb");return Ri()[m]=()=>{gapi.load?h():t(bi(i,"network-request-failed"))},gw(`${ax()}?onload=${m}`).catch(p=>t(p))}}).catch(e=>{throw Sh=null,e})}let Sh=null;function _C(i){return Sh=Sh||vC(i),Sh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EC=new Du(5e3,15e3),TC="__/auth/iframe",wC="emulator/auth/iframe",AC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},SC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function bC(i){const e=i.config;Ee(e.authDomain,i,"auth-domain-config-required");const t=e.emulator?Jp(e,wC):`https://${i.config.authDomain}/${TC}`,s={apiKey:e.apiKey,appName:i.name,v:va},o=SC.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${t}?${Nu(s).slice(1)}`}async function RC(i){const e=await _C(i),t=Ri().gapi;return Ee(t,i,"internal-error"),e.open({where:document.body,url:bC(i),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:AC,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const h=bi(i,"network-request-failed"),m=Ri().setTimeout(()=>{u(h)},EC.get());function p(){Ri().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},xC=500,CC=600,NC="_blank",DC="http://localhost";class Z0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function OC(i,e,t,s=xC,o=CC){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},IC),{width:s.toString(),height:o.toString(),top:u,left:h}),g=Jt().toLowerCase();t&&(m=uw(g)?NC:t),ow(g)&&(e=e||DC,p.scrollbars="yes");const _=Object.entries(p).reduce((w,[I,x])=>`${w}${I}=${x},`,"");if(WI(g)&&m!=="_self")return MC(e||"",m),new Z0(null);const A=window.open(e||"",m,_);Ee(A,i,"popup-blocked");try{A.focus()}catch{}return new Z0(A)}function MC(i,e){const t=document.createElement("a");t.href=i,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kC="__/auth/handler",PC="emulator/auth/handler",VC=encodeURIComponent("fac");async function J0(i,e,t,s,o,u){Ee(i.config.authDomain,i,"auth-domain-config-required"),Ee(i.config.apiKey,i,"invalid-api-key");const h={apiKey:i.config.apiKey,appName:i.name,authType:t,redirectUrl:s,v:va,eventId:o};if(e instanceof _w){e.setDefaultLanguage(i.languageCode),h.providerId=e.providerId||"",g2(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,A]of Object.entries({}))h[_]=A}if(e instanceof Mu){const _=e.getScopes().filter(A=>A!=="");_.length>0&&(h.scopes=_.join(","))}i.tenantId&&(h.tid=i.tenantId);const m=h;for(const _ of Object.keys(m))m[_]===void 0&&delete m[_];const p=await i._getAppCheckToken(),g=p?`#${VC}=${encodeURIComponent(p)}`:"";return`${jC(i)}?${Nu(m).slice(1)}${g}`}function jC({config:i}){return i.emulator?Jp(i,PC):`https://${i.authDomain}/${kC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jm="webStorageSupport";class LC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Rw,this._completeRedirectFn=lC,this._overrideRedirectResult=sC}async _openPopup(e,t,s,o){var u;pr((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const h=await J0(e,t,s,yp(),o);return OC(e,h,rg())}async _openRedirect(e,t,s,o){await this._originValidation(e);const u=await J0(e,t,s,yp(),o);return zx(u),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:u}=this.eventManagers[t];return o?Promise.resolve(o):(pr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await RC(e),s=new cC(e);return t.register("authEvent",o=>(Ee(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Jm,{type:Jm},o=>{var u;const h=(u=o?.[0])===null||u===void 0?void 0:u[Jm];h!==void 0&&t(!!h),ni(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=pC(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return mw()||lw()||tg()}}const UC=LC;var eE="@firebase/auth",tE="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zC(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function qC(i){ti(new Fn("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=s.options;Ee(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:h,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:pw(i)},g=new ix(s,o,u,p);return dx(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),ti(new Fn("auth-internal",e=>{const t=_a(e.getProvider("auth").getImmediate());return(s=>new BC(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),fn(eE,tE,zC(i)),fn(eE,tE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FC=5*60,HC=qT("authIdTokenMaxAge")||FC;let nE=null;const GC=i=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>HC)return;const o=t?.token;nE!==o&&(nE=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function QC(i=uf()){const e=ps(i,"auth");if(e.isInitialized())return e.getImmediate();const t=fx(i,{popupRedirectResolver:UC,persistence:[Xx,Lx,Rw]}),s=qT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const h=GC(u.toString());Mx(t,h,()=>h(t.currentUser)),Ox(t,m=>h(m))}}const o=UT("auth");return o&&mx(t,`http://${o}`),t}function $C(){var i,e;return(e=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&e!==void 0?e:document}rx({loadJS(i){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const u=bi("internal-error");u.customData=o,t(u)},s.type="text/javascript",s.charset="UTF-8",$C().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});qC("Browser");var iE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var rs,Mw;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,R){function C(){}C.prototype=R.prototype,O.D=R.prototype,O.prototype=new C,O.prototype.constructor=O,O.C=function(M,B,U){for(var D=Array(arguments.length-2),mt=2;mt<arguments.length;mt++)D[mt-2]=arguments[mt];return R.prototype[B].apply(M,D)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(O,R,C){C||(C=0);var M=Array(16);if(typeof R=="string")for(var B=0;16>B;++B)M[B]=R.charCodeAt(C++)|R.charCodeAt(C++)<<8|R.charCodeAt(C++)<<16|R.charCodeAt(C++)<<24;else for(B=0;16>B;++B)M[B]=R[C++]|R[C++]<<8|R[C++]<<16|R[C++]<<24;R=O.g[0],C=O.g[1],B=O.g[2];var U=O.g[3],D=R+(U^C&(B^U))+M[0]+3614090360&4294967295;R=C+(D<<7&4294967295|D>>>25),D=U+(B^R&(C^B))+M[1]+3905402710&4294967295,U=R+(D<<12&4294967295|D>>>20),D=B+(C^U&(R^C))+M[2]+606105819&4294967295,B=U+(D<<17&4294967295|D>>>15),D=C+(R^B&(U^R))+M[3]+3250441966&4294967295,C=B+(D<<22&4294967295|D>>>10),D=R+(U^C&(B^U))+M[4]+4118548399&4294967295,R=C+(D<<7&4294967295|D>>>25),D=U+(B^R&(C^B))+M[5]+1200080426&4294967295,U=R+(D<<12&4294967295|D>>>20),D=B+(C^U&(R^C))+M[6]+2821735955&4294967295,B=U+(D<<17&4294967295|D>>>15),D=C+(R^B&(U^R))+M[7]+4249261313&4294967295,C=B+(D<<22&4294967295|D>>>10),D=R+(U^C&(B^U))+M[8]+1770035416&4294967295,R=C+(D<<7&4294967295|D>>>25),D=U+(B^R&(C^B))+M[9]+2336552879&4294967295,U=R+(D<<12&4294967295|D>>>20),D=B+(C^U&(R^C))+M[10]+4294925233&4294967295,B=U+(D<<17&4294967295|D>>>15),D=C+(R^B&(U^R))+M[11]+2304563134&4294967295,C=B+(D<<22&4294967295|D>>>10),D=R+(U^C&(B^U))+M[12]+1804603682&4294967295,R=C+(D<<7&4294967295|D>>>25),D=U+(B^R&(C^B))+M[13]+4254626195&4294967295,U=R+(D<<12&4294967295|D>>>20),D=B+(C^U&(R^C))+M[14]+2792965006&4294967295,B=U+(D<<17&4294967295|D>>>15),D=C+(R^B&(U^R))+M[15]+1236535329&4294967295,C=B+(D<<22&4294967295|D>>>10),D=R+(B^U&(C^B))+M[1]+4129170786&4294967295,R=C+(D<<5&4294967295|D>>>27),D=U+(C^B&(R^C))+M[6]+3225465664&4294967295,U=R+(D<<9&4294967295|D>>>23),D=B+(R^C&(U^R))+M[11]+643717713&4294967295,B=U+(D<<14&4294967295|D>>>18),D=C+(U^R&(B^U))+M[0]+3921069994&4294967295,C=B+(D<<20&4294967295|D>>>12),D=R+(B^U&(C^B))+M[5]+3593408605&4294967295,R=C+(D<<5&4294967295|D>>>27),D=U+(C^B&(R^C))+M[10]+38016083&4294967295,U=R+(D<<9&4294967295|D>>>23),D=B+(R^C&(U^R))+M[15]+3634488961&4294967295,B=U+(D<<14&4294967295|D>>>18),D=C+(U^R&(B^U))+M[4]+3889429448&4294967295,C=B+(D<<20&4294967295|D>>>12),D=R+(B^U&(C^B))+M[9]+568446438&4294967295,R=C+(D<<5&4294967295|D>>>27),D=U+(C^B&(R^C))+M[14]+3275163606&4294967295,U=R+(D<<9&4294967295|D>>>23),D=B+(R^C&(U^R))+M[3]+4107603335&4294967295,B=U+(D<<14&4294967295|D>>>18),D=C+(U^R&(B^U))+M[8]+1163531501&4294967295,C=B+(D<<20&4294967295|D>>>12),D=R+(B^U&(C^B))+M[13]+2850285829&4294967295,R=C+(D<<5&4294967295|D>>>27),D=U+(C^B&(R^C))+M[2]+4243563512&4294967295,U=R+(D<<9&4294967295|D>>>23),D=B+(R^C&(U^R))+M[7]+1735328473&4294967295,B=U+(D<<14&4294967295|D>>>18),D=C+(U^R&(B^U))+M[12]+2368359562&4294967295,C=B+(D<<20&4294967295|D>>>12),D=R+(C^B^U)+M[5]+4294588738&4294967295,R=C+(D<<4&4294967295|D>>>28),D=U+(R^C^B)+M[8]+2272392833&4294967295,U=R+(D<<11&4294967295|D>>>21),D=B+(U^R^C)+M[11]+1839030562&4294967295,B=U+(D<<16&4294967295|D>>>16),D=C+(B^U^R)+M[14]+4259657740&4294967295,C=B+(D<<23&4294967295|D>>>9),D=R+(C^B^U)+M[1]+2763975236&4294967295,R=C+(D<<4&4294967295|D>>>28),D=U+(R^C^B)+M[4]+1272893353&4294967295,U=R+(D<<11&4294967295|D>>>21),D=B+(U^R^C)+M[7]+4139469664&4294967295,B=U+(D<<16&4294967295|D>>>16),D=C+(B^U^R)+M[10]+3200236656&4294967295,C=B+(D<<23&4294967295|D>>>9),D=R+(C^B^U)+M[13]+681279174&4294967295,R=C+(D<<4&4294967295|D>>>28),D=U+(R^C^B)+M[0]+3936430074&4294967295,U=R+(D<<11&4294967295|D>>>21),D=B+(U^R^C)+M[3]+3572445317&4294967295,B=U+(D<<16&4294967295|D>>>16),D=C+(B^U^R)+M[6]+76029189&4294967295,C=B+(D<<23&4294967295|D>>>9),D=R+(C^B^U)+M[9]+3654602809&4294967295,R=C+(D<<4&4294967295|D>>>28),D=U+(R^C^B)+M[12]+3873151461&4294967295,U=R+(D<<11&4294967295|D>>>21),D=B+(U^R^C)+M[15]+530742520&4294967295,B=U+(D<<16&4294967295|D>>>16),D=C+(B^U^R)+M[2]+3299628645&4294967295,C=B+(D<<23&4294967295|D>>>9),D=R+(B^(C|~U))+M[0]+4096336452&4294967295,R=C+(D<<6&4294967295|D>>>26),D=U+(C^(R|~B))+M[7]+1126891415&4294967295,U=R+(D<<10&4294967295|D>>>22),D=B+(R^(U|~C))+M[14]+2878612391&4294967295,B=U+(D<<15&4294967295|D>>>17),D=C+(U^(B|~R))+M[5]+4237533241&4294967295,C=B+(D<<21&4294967295|D>>>11),D=R+(B^(C|~U))+M[12]+1700485571&4294967295,R=C+(D<<6&4294967295|D>>>26),D=U+(C^(R|~B))+M[3]+2399980690&4294967295,U=R+(D<<10&4294967295|D>>>22),D=B+(R^(U|~C))+M[10]+4293915773&4294967295,B=U+(D<<15&4294967295|D>>>17),D=C+(U^(B|~R))+M[1]+2240044497&4294967295,C=B+(D<<21&4294967295|D>>>11),D=R+(B^(C|~U))+M[8]+1873313359&4294967295,R=C+(D<<6&4294967295|D>>>26),D=U+(C^(R|~B))+M[15]+4264355552&4294967295,U=R+(D<<10&4294967295|D>>>22),D=B+(R^(U|~C))+M[6]+2734768916&4294967295,B=U+(D<<15&4294967295|D>>>17),D=C+(U^(B|~R))+M[13]+1309151649&4294967295,C=B+(D<<21&4294967295|D>>>11),D=R+(B^(C|~U))+M[4]+4149444226&4294967295,R=C+(D<<6&4294967295|D>>>26),D=U+(C^(R|~B))+M[11]+3174756917&4294967295,U=R+(D<<10&4294967295|D>>>22),D=B+(R^(U|~C))+M[2]+718787259&4294967295,B=U+(D<<15&4294967295|D>>>17),D=C+(U^(B|~R))+M[9]+3951481745&4294967295,O.g[0]=O.g[0]+R&4294967295,O.g[1]=O.g[1]+(B+(D<<21&4294967295|D>>>11))&4294967295,O.g[2]=O.g[2]+B&4294967295,O.g[3]=O.g[3]+U&4294967295}s.prototype.u=function(O,R){R===void 0&&(R=O.length);for(var C=R-this.blockSize,M=this.B,B=this.h,U=0;U<R;){if(B==0)for(;U<=C;)o(this,O,U),U+=this.blockSize;if(typeof O=="string"){for(;U<R;)if(M[B++]=O.charCodeAt(U++),B==this.blockSize){o(this,M),B=0;break}}else for(;U<R;)if(M[B++]=O[U++],B==this.blockSize){o(this,M),B=0;break}}this.h=B,this.o+=R},s.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var R=1;R<O.length-8;++R)O[R]=0;var C=8*this.o;for(R=O.length-8;R<O.length;++R)O[R]=C&255,C/=256;for(this.u(O),O=Array(16),R=C=0;4>R;++R)for(var M=0;32>M;M+=8)O[C++]=this.g[R]>>>M&255;return O};function u(O,R){var C=m;return Object.prototype.hasOwnProperty.call(C,O)?C[O]:C[O]=R(O)}function h(O,R){this.h=R;for(var C=[],M=!0,B=O.length-1;0<=B;B--){var U=O[B]|0;M&&U==R||(C[B]=U,M=!1)}this.g=C}var m={};function p(O){return-128<=O&&128>O?u(O,function(R){return new h([R|0],0>R?-1:0)}):new h([O|0],0>O?-1:0)}function g(O){if(isNaN(O)||!isFinite(O))return A;if(0>O)return V(g(-O));for(var R=[],C=1,M=0;O>=C;M++)R[M]=O/C|0,C*=4294967296;return new h(R,0)}function _(O,R){if(O.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(O.charAt(0)=="-")return V(_(O.substring(1),R));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=g(Math.pow(R,8)),M=A,B=0;B<O.length;B+=8){var U=Math.min(8,O.length-B),D=parseInt(O.substring(B,B+U),R);8>U?(U=g(Math.pow(R,U)),M=M.j(U).add(g(D))):(M=M.j(C),M=M.add(g(D)))}return M}var A=p(0),w=p(1),I=p(16777216);i=h.prototype,i.m=function(){if(q(this))return-V(this).m();for(var O=0,R=1,C=0;C<this.g.length;C++){var M=this.i(C);O+=(0<=M?M:4294967296+M)*R,R*=4294967296}return O},i.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(x(this))return"0";if(q(this))return"-"+V(this).toString(O);for(var R=g(Math.pow(O,6)),C=this,M="";;){var B=se(C,R).g;C=k(C,B.j(R));var U=((0<C.g.length?C.g[0]:C.h)>>>0).toString(O);if(C=B,x(C))return U+M;for(;6>U.length;)U="0"+U;M=U+M}},i.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function x(O){if(O.h!=0)return!1;for(var R=0;R<O.g.length;R++)if(O.g[R]!=0)return!1;return!0}function q(O){return O.h==-1}i.l=function(O){return O=k(this,O),q(O)?-1:x(O)?0:1};function V(O){for(var R=O.g.length,C=[],M=0;M<R;M++)C[M]=~O.g[M];return new h(C,~O.h).add(w)}i.abs=function(){return q(this)?V(this):this},i.add=function(O){for(var R=Math.max(this.g.length,O.g.length),C=[],M=0,B=0;B<=R;B++){var U=M+(this.i(B)&65535)+(O.i(B)&65535),D=(U>>>16)+(this.i(B)>>>16)+(O.i(B)>>>16);M=D>>>16,U&=65535,D&=65535,C[B]=D<<16|U}return new h(C,C[C.length-1]&-2147483648?-1:0)};function k(O,R){return O.add(V(R))}i.j=function(O){if(x(this)||x(O))return A;if(q(this))return q(O)?V(this).j(V(O)):V(V(this).j(O));if(q(O))return V(this.j(V(O)));if(0>this.l(I)&&0>O.l(I))return g(this.m()*O.m());for(var R=this.g.length+O.g.length,C=[],M=0;M<2*R;M++)C[M]=0;for(M=0;M<this.g.length;M++)for(var B=0;B<O.g.length;B++){var U=this.i(M)>>>16,D=this.i(M)&65535,mt=O.i(B)>>>16,it=O.i(B)&65535;C[2*M+2*B]+=D*it,Y(C,2*M+2*B),C[2*M+2*B+1]+=U*it,Y(C,2*M+2*B+1),C[2*M+2*B+1]+=D*mt,Y(C,2*M+2*B+1),C[2*M+2*B+2]+=U*mt,Y(C,2*M+2*B+2)}for(M=0;M<R;M++)C[M]=C[2*M+1]<<16|C[2*M];for(M=R;M<2*R;M++)C[M]=0;return new h(C,0)};function Y(O,R){for(;(O[R]&65535)!=O[R];)O[R+1]+=O[R]>>>16,O[R]&=65535,R++}function Z(O,R){this.g=O,this.h=R}function se(O,R){if(x(R))throw Error("division by zero");if(x(O))return new Z(A,A);if(q(O))return R=se(V(O),R),new Z(V(R.g),V(R.h));if(q(R))return R=se(O,V(R)),new Z(V(R.g),R.h);if(30<O.g.length){if(q(O)||q(R))throw Error("slowDivide_ only works with positive integers.");for(var C=w,M=R;0>=M.l(O);)C=oe(C),M=oe(M);var B=de(C,1),U=de(M,1);for(M=de(M,2),C=de(C,2);!x(M);){var D=U.add(M);0>=D.l(O)&&(B=B.add(C),U=D),M=de(M,1),C=de(C,1)}return R=k(O,B.j(R)),new Z(B,R)}for(B=A;0<=O.l(R);){for(C=Math.max(1,Math.floor(O.m()/R.m())),M=Math.ceil(Math.log(C)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),U=g(C),D=U.j(R);q(D)||0<D.l(O);)C-=M,U=g(C),D=U.j(R);x(U)&&(U=w),B=B.add(U),O=k(O,D)}return new Z(B,O)}i.A=function(O){return se(this,O).h},i.and=function(O){for(var R=Math.max(this.g.length,O.g.length),C=[],M=0;M<R;M++)C[M]=this.i(M)&O.i(M);return new h(C,this.h&O.h)},i.or=function(O){for(var R=Math.max(this.g.length,O.g.length),C=[],M=0;M<R;M++)C[M]=this.i(M)|O.i(M);return new h(C,this.h|O.h)},i.xor=function(O){for(var R=Math.max(this.g.length,O.g.length),C=[],M=0;M<R;M++)C[M]=this.i(M)^O.i(M);return new h(C,this.h^O.h)};function oe(O){for(var R=O.g.length+1,C=[],M=0;M<R;M++)C[M]=O.i(M)<<1|O.i(M-1)>>>31;return new h(C,O.h)}function de(O,R){var C=R>>5;R%=32;for(var M=O.g.length-C,B=[],U=0;U<M;U++)B[U]=0<R?O.i(U+C)>>>R|O.i(U+C+1)<<32-R:O.i(U+C);return new h(B,O.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,Mw=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=_,rs=h}).apply(typeof iE<"u"?iE:typeof self<"u"?self:typeof window<"u"?window:{});var fh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var kw,au,Pw,bh,Tp,Vw,jw,Lw;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,v,E){return c==Array.prototype||c==Object.prototype||(c[v]=E.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof fh=="object"&&fh];for(var v=0;v<c.length;++v){var E=c[v];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var s=t(this);function o(c,v){if(v)e:{var E=s;c=c.split(".");for(var b=0;b<c.length-1;b++){var F=c[b];if(!(F in E))break e;E=E[F]}c=c[c.length-1],b=E[c],v=v(b),v!=b&&v!=null&&e(E,c,{configurable:!0,writable:!0,value:v})}}function u(c,v){c instanceof String&&(c+="");var E=0,b=!1,F={next:function(){if(!b&&E<c.length){var K=E++;return{value:v(K,c[K]),done:!1}}return b=!0,{done:!0,value:void 0}}};return F[Symbol.iterator]=function(){return F},F}o("Array.prototype.values",function(c){return c||function(){return u(this,function(v,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},m=this||self;function p(c){var v=typeof c;return v=v!="object"?v:c?Array.isArray(c)?"array":v:"null",v=="array"||v=="object"&&typeof c.length=="number"}function g(c){var v=typeof c;return v=="object"&&c!=null||v=="function"}function _(c,v,E){return c.call.apply(c.bind,arguments)}function A(c,v,E){if(!c)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var F=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(F,b),c.apply(v,F)}}return function(){return c.apply(v,arguments)}}function w(c,v,E){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:A,w.apply(null,arguments)}function I(c,v){var E=Array.prototype.slice.call(arguments,1);return function(){var b=E.slice();return b.push.apply(b,arguments),c.apply(this,b)}}function x(c,v){function E(){}E.prototype=v.prototype,c.aa=v.prototype,c.prototype=new E,c.prototype.constructor=c,c.Qb=function(b,F,K){for(var ae=Array(arguments.length-2),Pe=2;Pe<arguments.length;Pe++)ae[Pe-2]=arguments[Pe];return v.prototype[F].apply(b,ae)}}function q(c){const v=c.length;if(0<v){const E=Array(v);for(let b=0;b<v;b++)E[b]=c[b];return E}return[]}function V(c,v){for(let E=1;E<arguments.length;E++){const b=arguments[E];if(p(b)){const F=c.length||0,K=b.length||0;c.length=F+K;for(let ae=0;ae<K;ae++)c[F+ae]=b[ae]}else c.push(b)}}class k{constructor(v,E){this.i=v,this.j=E,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function Y(c){return/^[\s\xa0]*$/.test(c)}function Z(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function se(c){return se[" "](c),c}se[" "]=function(){};var oe=Z().indexOf("Gecko")!=-1&&!(Z().toLowerCase().indexOf("webkit")!=-1&&Z().indexOf("Edge")==-1)&&!(Z().indexOf("Trident")!=-1||Z().indexOf("MSIE")!=-1)&&Z().indexOf("Edge")==-1;function de(c,v,E){for(const b in c)v.call(E,c[b],b,c)}function O(c,v){for(const E in c)v.call(void 0,c[E],E,c)}function R(c){const v={};for(const E in c)v[E]=c[E];return v}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(c,v){let E,b;for(let F=1;F<arguments.length;F++){b=arguments[F];for(E in b)c[E]=b[E];for(let K=0;K<C.length;K++)E=C[K],Object.prototype.hasOwnProperty.call(b,E)&&(c[E]=b[E])}}function B(c){var v=1;c=c.split(":");const E=[];for(;0<v&&c.length;)E.push(c.shift()),v--;return c.length&&E.push(c.join(":")),E}function U(c){m.setTimeout(()=>{throw c},0)}function D(){var c=Be;let v=null;return c.g&&(v=c.g,c.g=c.g.next,c.g||(c.h=null),v.next=null),v}class mt{constructor(){this.h=this.g=null}add(v,E){const b=it.get();b.set(v,E),this.h?this.h.next=b:this.g=b,this.h=b}}var it=new k(()=>new X,c=>c.reset());class X{constructor(){this.next=this.g=this.h=null}set(v,E){this.h=v,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let le,pe=!1,Be=new mt,P=()=>{const c=m.Promise.resolve(void 0);le=()=>{c.then(ie)}};var ie=()=>{for(var c;c=D();){try{c.h.call(c.g)}catch(E){U(E)}var v=it;v.j(c),100>v.h&&(v.h++,c.next=v.g,v.g=c)}pe=!1};function ue(){this.s=this.s,this.C=this.C}ue.prototype.s=!1,ue.prototype.ma=function(){this.s||(this.s=!0,this.N())},ue.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function re(c,v){this.type=c,this.g=this.target=v,this.defaultPrevented=!1}re.prototype.h=function(){this.defaultPrevented=!0};var ye=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,v=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const E=()=>{};m.addEventListener("test",E,v),m.removeEventListener("test",E,v)}catch{}return c}();function Ce(c,v){if(re.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var E=this.type=c.type,b=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=v,v=c.relatedTarget){if(oe){e:{try{se(v.nodeName);var F=!0;break e}catch{}F=!1}F||(v=null)}}else E=="mouseover"?v=c.fromElement:E=="mouseout"&&(v=c.toElement);this.relatedTarget=v,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Ae[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ce.aa.h.call(this)}}x(Ce,re);var Ae={2:"touch",3:"pen",4:"mouse"};Ce.prototype.h=function(){Ce.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ot="closure_listenable_"+(1e6*Math.random()|0),Ze=0;function ai(c,v,E,b,F){this.listener=c,this.proxy=null,this.src=v,this.type=E,this.capture=!!b,this.ha=F,this.key=++Ze,this.da=this.fa=!1}function Tr(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Vi(c){this.src=c,this.g={},this.h=0}Vi.prototype.add=function(c,v,E,b,F){var K=c.toString();c=this.g[K],c||(c=this.g[K]=[],this.h++);var ae=Es(c,v,b,F);return-1<ae?(v=c[ae],E||(v.fa=!1)):(v=new ai(v,this.src,K,!!b,F),v.fa=E,c.push(v)),v};function _s(c,v){var E=v.type;if(E in c.g){var b=c.g[E],F=Array.prototype.indexOf.call(b,v,void 0),K;(K=0<=F)&&Array.prototype.splice.call(b,F,1),K&&(Tr(v),c.g[E].length==0&&(delete c.g[E],c.h--))}}function Es(c,v,E,b){for(var F=0;F<c.length;++F){var K=c[F];if(!K.da&&K.listener==v&&K.capture==!!E&&K.ha==b)return F}return-1}var Ts="closure_lm_"+(1e6*Math.random()|0),Qo={};function Bu(c,v,E,b,F){if(Array.isArray(v)){for(var K=0;K<v.length;K++)Bu(c,v[K],E,b,F);return null}return E=zu(E),c&&c[Ot]?c.K(v,E,g(b)?!!b.capture:!1,F):xn(c,v,E,!1,b,F)}function xn(c,v,E,b,F,K){if(!v)throw Error("Invalid event type");var ae=g(F)?!!F.capture:!!F,Pe=Ra(c);if(Pe||(c[Ts]=Pe=new Vi(c)),E=Pe.add(v,E,b,ae,K),E.proxy)return E;if(b=Uf(),E.proxy=b,b.src=c,b.listener=E,c.addEventListener)ye||(F=ae),F===void 0&&(F=!1),c.addEventListener(v.toString(),b,F);else if(c.attachEvent)c.attachEvent(ws(v.toString()),b);else if(c.addListener&&c.removeListener)c.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Uf(){function c(E){return v.call(c.src,c.listener,E)}const v=Bf;return c}function $o(c,v,E,b,F){if(Array.isArray(v))for(var K=0;K<v.length;K++)$o(c,v[K],E,b,F);else b=g(b)?!!b.capture:!!b,E=zu(E),c&&c[Ot]?(c=c.i,v=String(v).toString(),v in c.g&&(K=c.g[v],E=Es(K,E,b,F),-1<E&&(Tr(K[E]),Array.prototype.splice.call(K,E,1),K.length==0&&(delete c.g[v],c.h--)))):c&&(c=Ra(c))&&(v=c.g[v.toString()],c=-1,v&&(c=Es(v,E,b,F)),(E=-1<c?v[c]:null)&&ba(E))}function ba(c){if(typeof c!="number"&&c&&!c.da){var v=c.src;if(v&&v[Ot])_s(v.i,c);else{var E=c.type,b=c.proxy;v.removeEventListener?v.removeEventListener(E,b,c.capture):v.detachEvent?v.detachEvent(ws(E),b):v.addListener&&v.removeListener&&v.removeListener(b),(E=Ra(v))?(_s(E,c),E.h==0&&(E.src=null,v[Ts]=null)):Tr(c)}}}function ws(c){return c in Qo?Qo[c]:Qo[c]="on"+c}function Bf(c,v){if(c.da)c=!0;else{v=new Ce(v,this);var E=c.listener,b=c.ha||c.src;c.fa&&ba(c),c=E.call(b,v)}return c}function Ra(c){return c=c[Ts],c instanceof Vi?c:null}var Ko="__closure_events_fn_"+(1e9*Math.random()>>>0);function zu(c){return typeof c=="function"?c:(c[Ko]||(c[Ko]=function(v){return c.handleEvent(v)}),c[Ko])}function ct(){ue.call(this),this.i=new Vi(this),this.M=this,this.F=null}x(ct,ue),ct.prototype[Ot]=!0,ct.prototype.removeEventListener=function(c,v,E,b){$o(this,c,v,E,b)};function He(c,v){var E,b=c.F;if(b)for(E=[];b;b=b.F)E.push(b);if(c=c.M,b=v.type||v,typeof v=="string")v=new re(v,c);else if(v instanceof re)v.target=v.target||c;else{var F=v;v=new re(b,c),M(v,F)}if(F=!0,E)for(var K=E.length-1;0<=K;K--){var ae=v.g=E[K];F=pn(ae,b,!0,v)&&F}if(ae=v.g=c,F=pn(ae,b,!0,v)&&F,F=pn(ae,b,!1,v)&&F,E)for(K=0;K<E.length;K++)ae=v.g=E[K],F=pn(ae,b,!1,v)&&F}ct.prototype.N=function(){if(ct.aa.N.call(this),this.i){var c=this.i,v;for(v in c.g){for(var E=c.g[v],b=0;b<E.length;b++)Tr(E[b]);delete c.g[v],c.h--}}this.F=null},ct.prototype.K=function(c,v,E,b){return this.i.add(String(c),v,!1,E,b)},ct.prototype.L=function(c,v,E,b){return this.i.add(String(c),v,!0,E,b)};function pn(c,v,E,b){if(v=c.i.g[String(v)],!v)return!0;v=v.concat();for(var F=!0,K=0;K<v.length;++K){var ae=v[K];if(ae&&!ae.da&&ae.capture==E){var Pe=ae.listener,It=ae.ha||ae.src;ae.fa&&_s(c.i,ae),F=Pe.call(It,b)!==!1&&F}}return F&&!b.defaultPrevented}function $t(c,v,E){if(typeof c=="function")E&&(c=w(c,E));else if(c&&typeof c.handleEvent=="function")c=w(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:m.setTimeout(c,v||0)}function qu(c){c.g=$t(()=>{c.g=null,c.i&&(c.i=!1,qu(c))},c.l);const v=c.h;c.h=null,c.m.apply(null,v)}class zf extends ue{constructor(v,E){super(),this.m=v,this.l=E,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:qu(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function As(c){ue.call(this),this.h=c,this.g={}}x(As,ue);var Ss=[];function bs(c){de(c.g,function(v,E){this.g.hasOwnProperty(E)&&ba(v)},c),c.g={}}As.prototype.N=function(){As.aa.N.call(this),bs(this)},As.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Gn=m.JSON.stringify,Ia=m.JSON.parse,Rs=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function Yo(){}Yo.prototype.h=null;function Xo(c){return c.h||(c.h=c.i())}function Wo(){}var ji={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Li(){re.call(this,"d")}x(Li,re);function Zo(){re.call(this,"c")}x(Zo,re);var oi={},Jo=null;function wr(){return Jo=Jo||new ct}oi.La="serverreachability";function xa(c){re.call(this,oi.La,c)}x(xa,re);function Ar(c){const v=wr();He(v,new xa(v))}oi.STAT_EVENT="statevent";function Fu(c,v){re.call(this,oi.STAT_EVENT,c),this.stat=v}x(Fu,re);function rt(c){const v=wr();He(v,new Fu(v,c))}oi.Ma="timingevent";function Rt(c,v){re.call(this,oi.Ma,c),this.size=v}x(Rt,re);function _t(c,v){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},v)}function Cn(){this.g=!0}Cn.prototype.xa=function(){this.g=!1};function el(c,v,E,b,F,K){c.info(function(){if(c.g)if(K)for(var ae="",Pe=K.split("&"),It=0;It<Pe.length;It++){var Ve=Pe[It].split("=");if(1<Ve.length){var kt=Ve[0];Ve=Ve[1];var xt=kt.split("_");ae=2<=xt.length&&xt[1]=="type"?ae+(kt+"="+Ve+"&"):ae+(kt+"=redacted&")}}else ae=null;else ae=K;return"XMLHTTP REQ ("+b+") [attempt "+F+"]: "+v+`
`+E+`
`+ae})}function qf(c,v,E,b,F,K,ae){c.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+F+"]: "+v+`
`+E+`
`+K+" "+ae})}function Sr(c,v,E,b){c.info(function(){return"XMLHTTP TEXT ("+v+"): "+Is(c,E)+(b?" "+b:"")})}function Hu(c,v){c.info(function(){return"TIMEOUT: "+v})}Cn.prototype.info=function(){};function Is(c,v){if(!c.g)return v;if(!v)return null;try{var E=JSON.parse(v);if(E){for(c=0;c<E.length;c++)if(Array.isArray(E[c])){var b=E[c];if(!(2>b.length)){var F=b[1];if(Array.isArray(F)&&!(1>F.length)){var K=F[0];if(K!="noop"&&K!="stop"&&K!="close")for(var ae=1;ae<F.length;ae++)F[ae]=""}}}}return Gn(E)}catch{return v}}var br={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ui={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},li;function ui(){}x(ui,Yo),ui.prototype.g=function(){return new XMLHttpRequest},ui.prototype.i=function(){return{}},li=new ui;function en(c,v,E,b){this.j=c,this.i=v,this.l=E,this.R=b||1,this.U=new As(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new pt}function pt(){this.i=null,this.g="",this.h=!1}var tl={},Ca={};function Qn(c,v,E){c.L=1,c.v=Os(gn(v)),c.m=E,c.P=!0,Bi(c,null)}function Bi(c,v){c.F=Date.now(),xs(c),c.A=gn(c.v);var E=c.A,b=c.R;Array.isArray(b)||(b=[String(b)]),ol(E.i,"t",b),c.C=0,E=c.j.J,c.h=new pt,c.g=ac(c.j,E?v:null,!c.m),0<c.O&&(c.M=new zf(w(c.Y,c,c.g),c.O)),v=c.U,E=c.g,b=c.ca;var F="readystatechange";Array.isArray(F)||(F&&(Ss[0]=F.toString()),F=Ss);for(var K=0;K<F.length;K++){var ae=Bu(E,F[K],b||v.handleEvent,!1,v.h||v);if(!ae)break;v.g[ae.key]=ae}v=c.H?R(c.H):{},c.m?(c.u||(c.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,v)):(c.u="GET",c.g.ea(c.A,c.u,null,v)),Ar(),el(c.i,c.u,c.A,c.l,c.R,c.m)}en.prototype.ca=function(c){c=c.target;const v=this.M;v&&Mn(c)==3?v.j():this.Y(c)},en.prototype.Y=function(c){try{if(c==this.g)e:{const xt=Mn(this.g);var v=this.g.Ba();const Ki=this.g.Z();if(!(3>xt)&&(xt!=3||this.g&&(this.h.h||this.g.oa()||Zu(this.g)))){this.J||xt!=4||v==7||(v==8||0>=Ki?Ar(3):Ar(2)),Rr(this);var E=this.g.Z();this.X=E;t:if(Gu(this)){var b=Zu(this.g);c="";var F=b.length,K=Mn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ut(this),ci(this);var ae="";break t}this.h.i=new m.TextDecoder}for(v=0;v<F;v++)this.h.h=!0,c+=this.h.i.decode(b[v],{stream:!(K&&v==F-1)});b.length=0,this.h.g+=c,this.C=0,ae=this.h.g}else ae=this.g.oa();if(this.o=E==200,qf(this.i,this.u,this.A,this.l,this.R,xt,E),this.o){if(this.T&&!this.K){t:{if(this.g){var Pe,It=this.g;if((Pe=It.g?It.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Y(Pe)){var Ve=Pe;break t}}Ve=null}if(E=Ve)Sr(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Cs(this,E);else{this.o=!1,this.s=3,rt(12),Ut(this),ci(this);break e}}if(this.P){E=!0;let Bt;for(;!this.J&&this.C<ae.length;)if(Bt=Qu(this,ae),Bt==Ca){xt==4&&(this.s=4,rt(14),E=!1),Sr(this.i,this.l,null,"[Incomplete Response]");break}else if(Bt==tl){this.s=4,rt(15),Sr(this.i,this.l,ae,"[Invalid Chunk]"),E=!1;break}else Sr(this.i,this.l,Bt,null),Cs(this,Bt);if(Gu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xt!=4||ae.length!=0||this.h.h||(this.s=1,rt(16),E=!1),this.o=this.o&&E,!E)Sr(this.i,this.l,ae,"[Invalid Chunked Response]"),Ut(this),ci(this);else if(0<ae.length&&!this.W){this.W=!0;var kt=this.j;kt.g==this&&kt.ba&&!kt.M&&(kt.j.info("Great, no buffering proxy detected. Bytes received: "+ae.length),Bs(kt),kt.M=!0,rt(11))}}else Sr(this.i,this.l,ae,null),Cs(this,ae);xt==4&&Ut(this),this.o&&!this.J&&(xt==4?ic(this.j,this):(this.o=!1,xs(this)))}else $f(this.g),E==400&&0<ae.indexOf("Unknown SID")?(this.s=3,rt(12)):(this.s=0,rt(13)),Ut(this),ci(this)}}}catch{}finally{}};function Gu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Qu(c,v){var E=c.C,b=v.indexOf(`
`,E);return b==-1?Ca:(E=Number(v.substring(E,b)),isNaN(E)?tl:(b+=1,b+E>v.length?Ca:(v=v.slice(b,b+E),c.C=b+E,v)))}en.prototype.cancel=function(){this.J=!0,Ut(this)};function xs(c){c.S=Date.now()+c.I,$u(c,c.I)}function $u(c,v){if(c.B!=null)throw Error("WatchDog timer not null");c.B=_t(w(c.ba,c),v)}function Rr(c){c.B&&(m.clearTimeout(c.B),c.B=null)}en.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Hu(this.i,this.A),this.L!=2&&(Ar(),rt(17)),Ut(this),this.s=2,ci(this)):$u(this,this.S-c)};function ci(c){c.j.G==0||c.J||ic(c.j,c)}function Ut(c){Rr(c);var v=c.M;v&&typeof v.ma=="function"&&v.ma(),c.M=null,bs(c.U),c.g&&(v=c.g,c.g=null,v.abort(),v.ma())}function Cs(c,v){try{var E=c.j;if(E.G!=0&&(E.g==c||nl(E.h,c))){if(!c.K&&nl(E.h,c)&&E.G==3){try{var b=E.Da.g.parse(v)}catch{b=null}if(Array.isArray(b)&&b.length==3){var F=b;if(F[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<c.F)za(E),Ua(E);else break e;fl(E),rt(18)}}else E.za=F[1],0<E.za-E.T&&37500>F[2]&&E.F&&E.v==0&&!E.C&&(E.C=_t(w(E.Za,E),6e3));if(1>=Da(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else $i(E,11)}else if((c.K||E.g==c)&&za(E),!Y(v))for(F=E.Da.g.parse(v),v=0;v<F.length;v++){let Ve=F[v];if(E.T=Ve[0],Ve=Ve[1],E.G==2)if(Ve[0]=="c"){E.K=Ve[1],E.ia=Ve[2];const kt=Ve[3];kt!=null&&(E.la=kt,E.j.info("VER="+E.la));const xt=Ve[4];xt!=null&&(E.Aa=xt,E.j.info("SVER="+E.Aa));const Ki=Ve[5];Ki!=null&&typeof Ki=="number"&&0<Ki&&(b=1.5*Ki,E.L=b,E.j.info("backChannelRequestTimeoutMs_="+b)),b=E;const Bt=c.g;if(Bt){const yi=Bt.g?Bt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(yi){var K=b.h;K.g||yi.indexOf("spdy")==-1&&yi.indexOf("quic")==-1&&yi.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(Oa(K,K.h),K.h=null))}if(b.D){const ml=Bt.g?Bt.g.getResponseHeader("X-HTTP-Session-Id"):null;ml&&(b.ya=ml,$e(b.I,b.D,ml))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-c.F,E.j.info("Handshake RTT: "+E.R+"ms")),b=E;var ae=c;if(b.qa=sc(b,b.J?b.ia:null,b.W),ae.K){tn(b.h,ae);var Pe=ae,It=b.L;It&&(Pe.I=It),Pe.B&&(Rr(Pe),xs(Pe)),b.g=ae}else tc(b);0<E.i.length&&Ba(E)}else Ve[0]!="stop"&&Ve[0]!="close"||$i(E,7);else E.G==3&&(Ve[0]=="stop"||Ve[0]=="close"?Ve[0]=="stop"?$i(E,7):cl(E):Ve[0]!="noop"&&E.l&&E.l.ta(Ve),E.v=0)}}Ar(4)}catch{}}var Ku=class{constructor(c,v){this.g=c,this.map=v}};function zi(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Na(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Da(c){return c.h?1:c.g?c.g.size:0}function nl(c,v){return c.h?c.h==v:c.g?c.g.has(v):!1}function Oa(c,v){c.g?c.g.add(v):c.h=v}function tn(c,v){c.h&&c.h==v?c.h=null:c.g&&c.g.has(v)&&c.g.delete(v)}zi.prototype.cancel=function(){if(this.i=il(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function il(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let v=c.i;for(const E of c.g.values())v=v.concat(E.D);return v}return q(c.i)}function Ff(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var v=[],E=c.length,b=0;b<E;b++)v.push(c[b]);return v}v=[],E=0;for(b in c)v[E++]=c[b];return v}function Ma(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var v=[];c=c.length;for(var E=0;E<c;E++)v.push(E);return v}v=[],E=0;for(const b in c)v[E++]=b;return v}}}function rl(c,v){if(c.forEach&&typeof c.forEach=="function")c.forEach(v,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,v,void 0);else for(var E=Ma(c),b=Ff(c),F=b.length,K=0;K<F;K++)v.call(void 0,b[K],E&&E[K],c)}var Ns=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Hf(c,v){if(c){c=c.split("&");for(var E=0;E<c.length;E++){var b=c[E].indexOf("="),F=null;if(0<=b){var K=c[E].substring(0,b);F=c[E].substring(b+1)}else K=c[E];v(K,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function Et(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Et){this.h=c.h,Ds(this,c.j),this.o=c.o,this.g=c.g,Ir(this,c.s),this.l=c.l;var v=c.i,E=new Fi;E.i=v.i,v.g&&(E.g=new Map(v.g),E.h=v.h),qi(this,E),this.m=c.m}else c&&(v=String(c).match(Ns))?(this.h=!1,Ds(this,v[1]||"",!0),this.o=Nn(v[2]||""),this.g=Nn(v[3]||"",!0),Ir(this,v[4]),this.l=Nn(v[5]||"",!0),qi(this,v[6]||"",!0),this.m=Nn(v[7]||"")):(this.h=!1,this.i=new Fi(null,this.h))}Et.prototype.toString=function(){var c=[],v=this.j;v&&c.push(Ms(v,sl,!0),":");var E=this.g;return(E||v=="file")&&(c.push("//"),(v=this.o)&&c.push(Ms(v,sl,!0),"@"),c.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&c.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&c.push("/"),c.push(Ms(E,E.charAt(0)=="/"?Gf:al,!0))),(E=this.i.toString())&&c.push("?",E),(E=this.m)&&c.push("#",Ms(E,ka)),c.join("")};function gn(c){return new Et(c)}function Ds(c,v,E){c.j=E?Nn(v,!0):v,c.j&&(c.j=c.j.replace(/:$/,""))}function Ir(c,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);c.s=v}else c.s=null}function qi(c,v,E){v instanceof Fi?(c.i=v,Xu(c.i,c.h)):(E||(v=Ms(v,Qf)),c.i=new Fi(v,c.h))}function $e(c,v,E){c.i.set(v,E)}function Os(c){return $e(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Nn(c,v){return c?v?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ms(c,v,E){return typeof c=="string"?(c=encodeURI(c).replace(v,Yu),E&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Yu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var sl=/[#\/\?@]/g,al=/[#\?:]/g,Gf=/[#\?]/g,Qf=/[#\?@]/g,ka=/#/g;function Fi(c,v){this.h=this.g=null,this.i=c||null,this.j=!!v}function Dn(c){c.g||(c.g=new Map,c.h=0,c.i&&Hf(c.i,function(v,E){c.add(decodeURIComponent(v.replace(/\+/g," ")),E)}))}i=Fi.prototype,i.add=function(c,v){Dn(this),this.i=null,c=hi(this,c);var E=this.g.get(c);return E||this.g.set(c,E=[]),E.push(v),this.h+=1,this};function Hi(c,v){Dn(c),v=hi(c,v),c.g.has(v)&&(c.i=null,c.h-=c.g.get(v).length,c.g.delete(v))}function Gi(c,v){return Dn(c),v=hi(c,v),c.g.has(v)}i.forEach=function(c,v){Dn(this),this.g.forEach(function(E,b){E.forEach(function(F){c.call(v,F,b,this)},this)},this)},i.na=function(){Dn(this);const c=Array.from(this.g.values()),v=Array.from(this.g.keys()),E=[];for(let b=0;b<v.length;b++){const F=c[b];for(let K=0;K<F.length;K++)E.push(v[b])}return E},i.V=function(c){Dn(this);let v=[];if(typeof c=="string")Gi(this,c)&&(v=v.concat(this.g.get(hi(this,c))));else{c=Array.from(this.g.values());for(let E=0;E<c.length;E++)v=v.concat(c[E])}return v},i.set=function(c,v){return Dn(this),this.i=null,c=hi(this,c),Gi(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[v]),this.h+=1,this},i.get=function(c,v){return c?(c=this.V(c),0<c.length?String(c[0]):v):v};function ol(c,v,E){Hi(c,v),0<E.length&&(c.i=null,c.g.set(hi(c,v),q(E)),c.h+=E.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],v=Array.from(this.g.keys());for(var E=0;E<v.length;E++){var b=v[E];const K=encodeURIComponent(String(b)),ae=this.V(b);for(b=0;b<ae.length;b++){var F=K;ae[b]!==""&&(F+="="+encodeURIComponent(String(ae[b]))),c.push(F)}}return this.i=c.join("&")};function hi(c,v){return v=String(v),c.j&&(v=v.toLowerCase()),v}function Xu(c,v){v&&!c.j&&(Dn(c),c.i=null,c.g.forEach(function(E,b){var F=b.toLowerCase();b!=F&&(Hi(this,b),ol(this,F,E))},c)),c.j=v}function ks(c,v){const E=new Cn;if(m.Image){const b=new Image;b.onload=I(On,E,"TestLoadImage: loaded",!0,v,b),b.onerror=I(On,E,"TestLoadImage: error",!1,v,b),b.onabort=I(On,E,"TestLoadImage: abort",!1,v,b),b.ontimeout=I(On,E,"TestLoadImage: timeout",!1,v,b),m.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=c}else v(!1)}function $n(c,v){const E=new Cn,b=new AbortController,F=setTimeout(()=>{b.abort(),On(E,"TestPingServer: timeout",!1,v)},1e4);fetch(c,{signal:b.signal}).then(K=>{clearTimeout(F),K.ok?On(E,"TestPingServer: ok",!0,v):On(E,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(F),On(E,"TestPingServer: error",!1,v)})}function On(c,v,E,b,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),b(E)}catch{}}function Ps(){this.g=new Rs}function fi(c,v,E){const b=E||"";try{rl(c,function(F,K){let ae=F;g(F)&&(ae=Gn(F)),v.push(b+K+"="+encodeURIComponent(ae))})}catch(F){throw v.push(b+"type="+encodeURIComponent("_badmap")),F}}function xr(c){this.l=c.Ub||null,this.j=c.eb||!1}x(xr,Yo),xr.prototype.g=function(){return new Qi(this.l,this.j)},xr.prototype.i=function(c){return function(){return c}}({});function Qi(c,v){ct.call(this),this.D=c,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(Qi,ct),i=Qi.prototype,i.open=function(c,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=v,this.readyState=1,mi(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(v.body=c),(this.D||m).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,di(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,mi(this)),this.g&&(this.readyState=3,mi(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ll(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function ll(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var v=c.value?c.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!c.done}))&&(this.response=this.responseText+=v)}c.done?di(this):mi(this),this.readyState==3&&ll(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,di(this))},i.Qa=function(c){this.g&&(this.response=c,di(this))},i.ga=function(){this.g&&di(this)};function di(c){c.readyState=4,c.l=null,c.j=null,c.v=null,mi(c)}i.setRequestHeader=function(c,v){this.u.append(c,v)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],v=this.h.entries();for(var E=v.next();!E.done;)E=E.value,c.push(E[0]+": "+E[1]),E=v.next();return c.join(`\r
`)};function mi(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Qi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function ul(c){let v="";return de(c,function(E,b){v+=b,v+=":",v+=E,v+=`\r
`}),v}function Mt(c,v,E){e:{for(b in E){var b=!1;break e}b=!0}b||(E=ul(E),typeof c=="string"?E!=null&&encodeURIComponent(String(E)):$e(c,v,E))}function qe(c){ct.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(qe,ct);var Pa=/^https?$/i,Vs=["POST","PUT"];i=qe.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,v,E,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);v=v?v.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():li.g(),this.v=this.o?Xo(this.o):Xo(li),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(v,String(c),!0),this.B=!1}catch(K){Wu(this,K);return}if(c=E||"",E=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var F in b)E.set(F,b[F]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const K of b.keys())E.set(K,b.get(K));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(E.keys()).find(K=>K.toLowerCase()=="content-type"),F=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Vs,v,void 0))||b||F||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,ae]of E)this.g.setRequestHeader(K,ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{js(this),this.u=!0,this.g.send(c),this.u=!1}catch(K){Wu(this,K)}};function Wu(c,v){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=v,c.m=5,Va(c),pi(c)}function Va(c){c.A||(c.A=!0,He(c,"complete"),He(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,He(this,"complete"),He(this,"abort"),pi(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),pi(this,!0)),qe.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?ja(this):this.bb())},i.bb=function(){ja(this)};function ja(c){if(c.h&&typeof h<"u"&&(!c.v[1]||Mn(c)!=4||c.Z()!=2)){if(c.u&&Mn(c)==4)$t(c.Ea,0,c);else if(He(c,"readystatechange"),Mn(c)==4){c.h=!1;try{const ae=c.Z();e:switch(ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var E;if(!(E=v)){var b;if(b=ae===0){var F=String(c.D).match(Ns)[1]||null;!F&&m.self&&m.self.location&&(F=m.self.location.protocol.slice(0,-1)),b=!Pa.test(F?F.toLowerCase():"")}E=b}if(E)He(c,"complete"),He(c,"success");else{c.m=6;try{var K=2<Mn(c)?c.g.statusText:""}catch{K=""}c.l=K+" ["+c.Z()+"]",Va(c)}}finally{pi(c)}}}}function pi(c,v){if(c.g){js(c);const E=c.g,b=c.v[0]?()=>{}:null;c.g=null,c.v=null,v||He(c,"ready");try{E.onreadystatechange=b}catch{}}}function js(c){c.I&&(m.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function Mn(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<Mn(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var v=this.g.responseText;return c&&v.indexOf(c)==0&&(v=v.substring(c.length)),Ia(v)}};function Zu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function $f(c){const v={};c=(c.g&&2<=Mn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<c.length;b++){if(Y(c[b]))continue;var E=B(c[b]);const F=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const K=v[F]||[];v[F]=K,K.push(E)}O(v,function(b){return b.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ls(c,v,E){return E&&E.internalChannelParams&&E.internalChannelParams[c]||v}function La(c){this.Aa=0,this.i=[],this.j=new Cn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ls("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ls("baseRetryDelayMs",5e3,c),this.cb=Ls("retryDelaySeedMs",1e4,c),this.Wa=Ls("forwardChannelMaxRetries",2,c),this.wa=Ls("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new zi(c&&c.concurrentRequestLimit),this.Da=new Ps,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=La.prototype,i.la=8,i.G=1,i.connect=function(c,v,E,b){rt(0),this.W=c,this.H=v||{},E&&b!==void 0&&(this.H.OSID=E,this.H.OAID=b),this.F=this.X,this.I=sc(this,null,this.W),Ba(this)};function cl(c){if(Ju(c),c.G==3){var v=c.U++,E=gn(c.I);if($e(E,"SID",c.K),$e(E,"RID",v),$e(E,"TYPE","terminate"),Us(c,E),v=new en(c,c.j,v),v.L=2,v.v=Os(gn(E)),E=!1,m.navigator&&m.navigator.sendBeacon)try{E=m.navigator.sendBeacon(v.v.toString(),"")}catch{}!E&&m.Image&&(new Image().src=v.v,E=!0),E||(v.g=ac(v.j,null),v.g.ea(v.v)),v.F=Date.now(),xs(v)}rc(c)}function Ua(c){c.g&&(Bs(c),c.g.cancel(),c.g=null)}function Ju(c){Ua(c),c.u&&(m.clearTimeout(c.u),c.u=null),za(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function Ba(c){if(!Na(c.h)&&!c.s){c.s=!0;var v=c.Ga;le||P(),pe||(le(),pe=!0),Be.add(v,c),c.B=0}}function Kf(c,v){return Da(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=v.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=_t(w(c.Ga,c,v),dl(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const F=new en(this,this.j,c);let K=this.o;if(this.S&&(K?(K=R(K),M(K,this.S)):K=this.S),this.m!==null||this.O||(F.H=K,K=null),this.P)e:{for(var v=0,E=0;E<this.i.length;E++){t:{var b=this.i[E];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(v+=b,4096<v){v=E;break e}if(v===4096||E===this.i.length-1){v=E+1;break e}}v=1e3}else v=1e3;v=ec(this,F,v),E=gn(this.I),$e(E,"RID",c),$e(E,"CVER",22),this.D&&$e(E,"X-HTTP-Session-Id",this.D),Us(this,E),K&&(this.O?v="headers="+encodeURIComponent(String(ul(K)))+"&"+v:this.m&&Mt(E,this.m,K)),Oa(this.h,F),this.Ua&&$e(E,"TYPE","init"),this.P?($e(E,"$req",v),$e(E,"SID","null"),F.T=!0,Qn(F,E,null)):Qn(F,E,v),this.G=2}}else this.G==3&&(c?hl(this,c):this.i.length==0||Na(this.h)||hl(this))};function hl(c,v){var E;v?E=v.l:E=c.U++;const b=gn(c.I);$e(b,"SID",c.K),$e(b,"RID",E),$e(b,"AID",c.T),Us(c,b),c.m&&c.o&&Mt(b,c.m,c.o),E=new en(c,c.j,E,c.B+1),c.m===null&&(E.H=c.o),v&&(c.i=v.D.concat(c.i)),v=ec(c,E,1e3),E.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Oa(c.h,E),Qn(E,b,v)}function Us(c,v){c.H&&de(c.H,function(E,b){$e(v,b,E)}),c.l&&rl({},function(E,b){$e(v,b,E)})}function ec(c,v,E){E=Math.min(c.i.length,E);var b=c.l?w(c.l.Na,c.l,c):null;e:{var F=c.i;let K=-1;for(;;){const ae=["count="+E];K==-1?0<E?(K=F[0].g,ae.push("ofs="+K)):K=0:ae.push("ofs="+K);let Pe=!0;for(let It=0;It<E;It++){let Ve=F[It].g;const kt=F[It].map;if(Ve-=K,0>Ve)K=Math.max(0,F[It].g-100),Pe=!1;else try{fi(kt,ae,"req"+Ve+"_")}catch{b&&b(kt)}}if(Pe){b=ae.join("&");break e}}}return c=c.i.splice(0,E),v.D=c,b}function tc(c){if(!c.g&&!c.u){c.Y=1;var v=c.Fa;le||P(),pe||(le(),pe=!0),Be.add(v,c),c.v=0}}function fl(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=_t(w(c.Fa,c),dl(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,nc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=_t(w(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,rt(10),Ua(this),nc(this))};function Bs(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function nc(c){c.g=new en(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var v=gn(c.qa);$e(v,"RID","rpc"),$e(v,"SID",c.K),$e(v,"AID",c.T),$e(v,"CI",c.F?"0":"1"),!c.F&&c.ja&&$e(v,"TO",c.ja),$e(v,"TYPE","xmlhttp"),Us(c,v),c.m&&c.o&&Mt(v,c.m,c.o),c.L&&(c.g.I=c.L);var E=c.g;c=c.ia,E.L=1,E.v=Os(gn(v)),E.m=null,E.P=!0,Bi(E,c)}i.Za=function(){this.C!=null&&(this.C=null,Ua(this),fl(this),rt(19))};function za(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function ic(c,v){var E=null;if(c.g==v){za(c),Bs(c),c.g=null;var b=2}else if(nl(c.h,v))E=v.D,tn(c.h,v),b=1;else return;if(c.G!=0){if(v.o)if(b==1){E=v.m?v.m.length:0,v=Date.now()-v.F;var F=c.B;b=wr(),He(b,new Rt(b,E)),Ba(c)}else tc(c);else if(F=v.s,F==3||F==0&&0<v.X||!(b==1&&Kf(c,v)||b==2&&fl(c)))switch(E&&0<E.length&&(v=c.h,v.i=v.i.concat(E)),F){case 1:$i(c,5);break;case 4:$i(c,10);break;case 3:$i(c,6);break;default:$i(c,2)}}}function dl(c,v){let E=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(E*=2),E*v}function $i(c,v){if(c.j.info("Error code "+v),v==2){var E=w(c.fb,c),b=c.Xa;const F=!b;b=new Et(b||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Ds(b,"https"),Os(b),F?ks(b.toString(),E):$n(b.toString(),E)}else rt(2);c.G=0,c.l&&c.l.sa(v),rc(c),Ju(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),rt(2)):(this.j.info("Failed to ping google.com"),rt(1))};function rc(c){if(c.G=0,c.ka=[],c.l){const v=il(c.h);(v.length!=0||c.i.length!=0)&&(V(c.ka,v),V(c.ka,c.i),c.h.i.length=0,q(c.i),c.i.length=0),c.l.ra()}}function sc(c,v,E){var b=E instanceof Et?gn(E):new Et(E);if(b.g!="")v&&(b.g=v+"."+b.g),Ir(b,b.s);else{var F=m.location;b=F.protocol,v=v?v+"."+F.hostname:F.hostname,F=+F.port;var K=new Et(null);b&&Ds(K,b),v&&(K.g=v),F&&Ir(K,F),E&&(K.l=E),b=K}return E=c.D,v=c.ya,E&&v&&$e(b,E,v),$e(b,"VER",c.la),Us(c,b),b}function ac(c,v,E){if(v&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=c.Ca&&!c.pa?new qe(new xr({eb:E})):new qe(c.pa),v.Ha(c.J),v}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function oc(){}i=oc.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function qa(){}qa.prototype.g=function(c,v){return new nn(c,v)};function nn(c,v){ct.call(this),this.g=new La(v),this.l=c,this.h=v&&v.messageUrlParams||null,c=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(c?c["X-WebChannel-Content-Type"]=v.messageContentType:c={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(c?c["X-WebChannel-Client-Profile"]=v.va:c={"X-WebChannel-Client-Profile":v.va}),this.g.S=c,(c=v&&v.Sb)&&!Y(c)&&(this.g.m=c),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!Y(v)&&(this.g.D=v,c=this.h,c!==null&&v in c&&(c=this.h,v in c&&delete c[v])),this.j=new gi(this)}x(nn,ct),nn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},nn.prototype.close=function(){cl(this.g)},nn.prototype.o=function(c){var v=this.g;if(typeof c=="string"){var E={};E.__data__=c,c=E}else this.u&&(E={},E.__data__=Gn(c),c=E);v.i.push(new Ku(v.Ya++,c)),v.G==3&&Ba(v)},nn.prototype.N=function(){this.g.l=null,delete this.j,cl(this.g),delete this.g,nn.aa.N.call(this)};function lc(c){Li.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var v=c.__sm__;if(v){e:{for(const E in v){c=E;break e}c=void 0}(this.i=c)&&(c=this.i,v=v!==null&&c in v?v[c]:void 0),this.data=v}else this.data=c}x(lc,Li);function uc(){Zo.call(this),this.status=1}x(uc,Zo);function gi(c){this.g=c}x(gi,oc),gi.prototype.ua=function(){He(this.g,"a")},gi.prototype.ta=function(c){He(this.g,new lc(c))},gi.prototype.sa=function(c){He(this.g,new uc)},gi.prototype.ra=function(){He(this.g,"b")},qa.prototype.createWebChannel=qa.prototype.g,nn.prototype.send=nn.prototype.o,nn.prototype.open=nn.prototype.m,nn.prototype.close=nn.prototype.close,Lw=function(){return new qa},jw=function(){return wr()},Vw=oi,Tp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},br.NO_ERROR=0,br.TIMEOUT=8,br.HTTP_ERROR=6,bh=br,Ui.COMPLETE="complete",Pw=Ui,Wo.EventType=ji,ji.OPEN="a",ji.CLOSE="b",ji.ERROR="c",ji.MESSAGE="d",ct.prototype.listen=ct.prototype.K,au=Wo,qe.prototype.listenOnce=qe.prototype.L,qe.prototype.getLastError=qe.prototype.Ka,qe.prototype.getLastErrorCode=qe.prototype.Ba,qe.prototype.getStatus=qe.prototype.Z,qe.prototype.getResponseJson=qe.prototype.Oa,qe.prototype.getResponseText=qe.prototype.oa,qe.prototype.send=qe.prototype.ea,qe.prototype.setWithCredentials=qe.prototype.Ha,kw=qe}).apply(typeof fh<"u"?fh:typeof self<"u"?self:typeof window<"u"?window:{});const rE="@firebase/firestore",sE="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Wt.UNAUTHENTICATED=new Wt(null),Wt.GOOGLE_CREDENTIALS=new Wt("google-credentials-uid"),Wt.FIRST_PARTY=new Wt("first-party-uid"),Wt.MOCK_USER=new Wt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zo="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ha=new lf("@firebase/firestore");function vo(){return ha.logLevel}function he(i,...e){if(ha.logLevel<=Me.DEBUG){const t=e.map(ag);ha.debug(`Firestore (${zo}): ${i}`,...t)}}function gr(i,...e){if(ha.logLevel<=Me.ERROR){const t=e.map(ag);ha.error(`Firestore (${zo}): ${i}`,...t)}}function os(i,...e){if(ha.logLevel<=Me.WARN){const t=e.map(ag);ha.warn(`Firestore (${zo}): ${i}`,...t)}}function ag(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(i,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,Uw(i,s,t)}function Uw(i,e,t){let s=`FIRESTORE (${zo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw gr(s),new Error(s)}function Fe(i,e,t,s){let o="Unexpected state";typeof t=="string"?o=t:s=t,i||Uw(e,o,s)}function be(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends Hn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class KC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Wt.UNAUTHENTICATED))}shutdown(){}}class YC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class XC{constructor(e){this.t=e,this.currentUser=Wt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Fe(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,t(p)):Promise.resolve();let u=new fr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new fr,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new fr)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Fe(typeof s.accessToken=="string",31837,{l:s}),new Bw(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Fe(e===null||typeof e=="string",2055,{h:e}),new Wt(e)}}class WC{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=Wt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class ZC{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new WC(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Wt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class aE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class JC{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Sn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Fe(this.o===void 0,3512);const s=u=>{u.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,he("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new aE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Fe(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new aE(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eN(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<i;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zw(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=eN(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<t&&(s+=e.charAt(o[u]%62))}return s}}function xe(i,e){return i<e?-1:i>e?1:0}function wp(i,e){let t=0;for(;t<i.length&&t<e.length;){const s=i.codePointAt(t),o=e.codePointAt(t);if(s!==o){if(s<128&&o<128)return xe(s,o);{const u=zw(),h=tN(u.encode(oE(i,t)),u.encode(oE(e,t)));return h!==0?h:xe(s,o)}}t+=s>65535?2:1}return xe(i.length,e.length)}function oE(i,e){return i.codePointAt(e)>65535?i.substring(e,e+2):i.substring(e,e+1)}function tN(i,e){for(let t=0;t<i.length&&t<e.length;++t)if(i[t]!==e[t])return xe(i[t],e[t]);return xe(i.length,e.length)}function Co(i,e,t){return i.length===e.length&&i.every((s,o)=>t(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lE="__name__";class Si{constructor(e,t,s){t===void 0?t=0:t>e.length&&Te(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&Te(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return Si.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Si?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const u=Si.compareSegments(e.get(o),t.get(o));if(u!==0)return u}return xe(e.length,t.length)}static compareSegments(e,t){const s=Si.isNumericId(e),o=Si.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?Si.extractNumericId(e).compare(Si.extractNumericId(t)):wp(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return rs.fromString(e.substring(4,e.length-2))}}class et extends Si{construct(e,t,s){return new et(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new ce(ee.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(o=>o.length>0))}return new et(t)}static emptyPath(){return new et([])}}const nN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Gt extends Si{construct(e,t,s){return new Gt(e,t,s)}static isValidIdentifier(e){return nN.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Gt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===lE}static keyField(){return new Gt([lE])}static fromServerFormat(e){const t=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ce(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let h=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new ce(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ce(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(s+=m,o++):(u(),o++)}if(u(),h)throw new ce(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Gt(t)}static emptyPath(){return new Gt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.path=e}static fromPath(e){return new ge(et.fromString(e))}static fromName(e){return new ge(et.fromString(e).popFirst(5))}static empty(){return new ge(et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&et.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return et.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new et(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qw(i,e,t){if(!t)throw new ce(ee.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function iN(i,e,t,s){if(e===!0&&s===!0)throw new ce(ee.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function uE(i){if(!ge.isDocumentKey(i))throw new ce(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function cE(i){if(ge.isDocumentKey(i))throw new ce(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Fw(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function df(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Te(12329,{type:typeof i})}function Rn(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new ce(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=df(i);throw new ce(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bt(i,e){const t={typeString:i};return e&&(t.value=e),t}function Pu(i,e){if(!Fw(i))throw new ce(ee.INVALID_ARGUMENT,"JSON must be an object");let t;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in i)){t=`JSON missing required field: '${s}'`;break}const h=i[s];if(o&&typeof h!==o){t=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&h!==u.value){t=`Expected '${s}' field to equal '${u.value}'`;break}}if(t)throw new ce(ee.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hE=-62135596800,fE=1e6;class tt{static now(){return tt.fromMillis(Date.now())}static fromDate(e){return tt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*fE);return new tt(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ce(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ce(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<hE)throw new ce(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/fE}_compareTo(e){return this.seconds===e.seconds?xe(this.nanoseconds,e.nanoseconds):xe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:tt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Pu(e,tt._jsonSchema))return new tt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-hE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}tt._jsonSchemaVersion="firestore/timestamp/1.0",tt._jsonSchema={type:bt("string",tt._jsonSchemaVersion),seconds:bt("number"),nanoseconds:bt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new tt(0,0))}static max(){return new Se(new tt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eu=-1;function rN(i,e){const t=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=Se.fromTimestamp(s===1e9?new tt(t+1,0):new tt(t,s));return new ls(o,ge.empty(),e)}function sN(i){return new ls(i.readTime,i.key,Eu)}class ls{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new ls(Se.min(),ge.empty(),Eu)}static max(){return new ls(Se.max(),ge.empty(),Eu)}}function aN(i,e){let t=i.readTime.compareTo(e.readTime);return t!==0?t:(t=ge.comparator(i.documentKey,e.documentKey),t!==0?t:xe(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class lN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qo(i){if(i.code!==ee.FAILED_PRECONDITION||i.message!==oN)throw i;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ne((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(s,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ne?t:ne.resolve(t)}catch(t){return ne.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ne.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ne.reject(t)}static resolve(e){return new ne((t,s)=>{t(e)})}static reject(e){return new ne((t,s)=>{s(e)})}static waitFor(e){return new ne((t,s)=>{let o=0,u=0,h=!1;e.forEach(m=>{++o,m.next(()=>{++u,h&&u===o&&t()},p=>s(p))}),h=!0,u===o&&t()})}static or(e){let t=ne.resolve(!1);for(const s of e)t=t.next(o=>o?ne.resolve(o):s());return t}static forEach(e,t){const s=[];return e.forEach((o,u)=>{s.push(t.call(this,o,u))}),this.waitFor(s)}static mapArray(e,t){return new ne((s,o)=>{const u=e.length,h=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;t(e[g]).next(_=>{h[g]=_,++m,m===u&&s(h)},_=>o(_))}})}static doWhile(e,t){return new ne((s,o)=>{const u=()=>{e()===!0?t().next(()=>{u()},o):s()};u()})}}function uN(i){const e=i.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Fo(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this._e(s),this.ae=s=>t.writeSequenceNumber(s))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}mf.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lg=-1;function pf(i){return i==null}function zh(i){return i===0&&1/i==-1/0}function cN(i){return typeof i=="number"&&Number.isInteger(i)&&!zh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hw="";function hN(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=dE(e)),e=fN(i.get(t),e);return dE(e)}function fN(i,e){let t=e;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":t+="";break;case Hw:t+="";break;default:t+=u}}return t}function dE(i){return i+Hw+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mE(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function ys(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function Gw(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e,t){this.comparator=e,this.root=t||Ht.EMPTY}insert(e,t){return new ut(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ht.BLACK,null,null))}remove(e){return new ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ht.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new dh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new dh(this.root,e,this.comparator,!1)}getReverseIterator(){return new dh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new dh(this.root,e,this.comparator,!0)}}class dh{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?s(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ht{constructor(e,t,s,o,u){this.key=e,this.value=t,this.color=s??Ht.RED,this.left=o??Ht.EMPTY,this.right=u??Ht.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,u){return new Ht(e??this.key,t??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,s),null):u===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ht.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Ht.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ht.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ht.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Te(27949);return e+(this.isRed()?0:1)}}Ht.EMPTY=null,Ht.RED=!0,Ht.BLACK=!1;Ht.EMPTY=new class{constructor(){this.size=0}get key(){throw Te(57766)}get value(){throw Te(16141)}get color(){throw Te(16727)}get left(){throw Te(29726)}get right(){throw Te(36894)}copy(e,t,s,o,u){return this}insert(e,t,s){return new Ht(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e){this.comparator=e,this.data=new ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new pE(this.data.getIterator())}getIteratorFrom(e){return new pE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof Dt)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Dt(this.comparator);return t.data=e,t}}class pE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this.fields=e,e.sort(Gt.comparator)}static empty(){return new bn([])}unionWith(e){let t=new Dt(Gt.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new bn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Co(this.fields,e.fields,(t,s)=>t.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new Qw("Invalid base64 string: "+u):u}}(e);return new Qt(t)}static fromUint8Array(e){const t=function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u}(e);return new Qt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return xe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Qt.EMPTY_BYTE_STRING=new Qt("");const dN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function us(i){if(Fe(!!i,39018),typeof i=="string"){let e=0;const t=dN.exec(i);if(Fe(!!t,46558,{timestamp:i}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:vt(i.seconds),nanos:vt(i.nanos)}}function vt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function cs(i){return typeof i=="string"?Qt.fromBase64String(i):Qt.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $w="server_timestamp",Kw="__type__",Yw="__previous_value__",Xw="__local_write_time__";function ug(i){var e,t;return((t=(((e=i?.mapValue)===null||e===void 0?void 0:e.fields)||{})[Kw])===null||t===void 0?void 0:t.stringValue)===$w}function gf(i){const e=i.mapValue.fields[Yw];return ug(e)?gf(e):e}function Tu(i){const e=us(i.mapValue.fields[Xw].timestampValue);return new tt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN{constructor(e,t,s,o,u,h,m,p,g,_){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=_}}const qh="(default)";class wu{constructor(e,t){this.projectId=e,this.database=t||qh}static empty(){return new wu("","")}get isDefaultDatabase(){return this.database===qh}isEqual(e){return e instanceof wu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ww="__type__",pN="__max__",mh={mapValue:{}},Zw="__vector__",Fh="value";function hs(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?ug(i)?4:yN(i)?9007199254740991:gN(i)?10:11:Te(28295,{value:i})}function Oi(i,e){if(i===e)return!0;const t=hs(i);if(t!==hs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Tu(i).isEqual(Tu(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=us(o.timestampValue),m=us(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(o,u){return cs(o.bytesValue).isEqual(cs(u.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return vt(o.geoPointValue.latitude)===vt(u.geoPointValue.latitude)&&vt(o.geoPointValue.longitude)===vt(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return vt(o.integerValue)===vt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=vt(o.doubleValue),m=vt(u.doubleValue);return h===m?zh(h)===zh(m):isNaN(h)&&isNaN(m)}return!1}(i,e);case 9:return Co(i.arrayValue.values||[],e.arrayValue.values||[],Oi);case 10:case 11:return function(o,u){const h=o.mapValue.fields||{},m=u.mapValue.fields||{};if(mE(h)!==mE(m))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(m[p]===void 0||!Oi(h[p],m[p])))return!1;return!0}(i,e);default:return Te(52216,{left:i})}}function Au(i,e){return(i.values||[]).find(t=>Oi(t,e))!==void 0}function No(i,e){if(i===e)return 0;const t=hs(i),s=hs(e);if(t!==s)return xe(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return xe(i.booleanValue,e.booleanValue);case 2:return function(u,h){const m=vt(u.integerValue||u.doubleValue),p=vt(h.integerValue||h.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(i,e);case 3:return gE(i.timestampValue,e.timestampValue);case 4:return gE(Tu(i),Tu(e));case 5:return wp(i.stringValue,e.stringValue);case 6:return function(u,h){const m=cs(u),p=cs(h);return m.compareTo(p)}(i.bytesValue,e.bytesValue);case 7:return function(u,h){const m=u.split("/"),p=h.split("/");for(let g=0;g<m.length&&g<p.length;g++){const _=xe(m[g],p[g]);if(_!==0)return _}return xe(m.length,p.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,h){const m=xe(vt(u.latitude),vt(h.latitude));return m!==0?m:xe(vt(u.longitude),vt(h.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return yE(i.arrayValue,e.arrayValue);case 10:return function(u,h){var m,p,g,_;const A=u.fields||{},w=h.fields||{},I=(m=A[Fh])===null||m===void 0?void 0:m.arrayValue,x=(p=w[Fh])===null||p===void 0?void 0:p.arrayValue,q=xe(((g=I?.values)===null||g===void 0?void 0:g.length)||0,((_=x?.values)===null||_===void 0?void 0:_.length)||0);return q!==0?q:yE(I,x)}(i.mapValue,e.mapValue);case 11:return function(u,h){if(u===mh.mapValue&&h===mh.mapValue)return 0;if(u===mh.mapValue)return 1;if(h===mh.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=h.fields||{},_=Object.keys(g);p.sort(),_.sort();for(let A=0;A<p.length&&A<_.length;++A){const w=wp(p[A],_[A]);if(w!==0)return w;const I=No(m[p[A]],g[_[A]]);if(I!==0)return I}return xe(p.length,_.length)}(i.mapValue,e.mapValue);default:throw Te(23264,{le:t})}}function gE(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return xe(i,e);const t=us(i),s=us(e),o=xe(t.seconds,s.seconds);return o!==0?o:xe(t.nanos,s.nanos)}function yE(i,e){const t=i.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const u=No(t[o],s[o]);if(u)return u}return xe(t.length,s.length)}function Do(i){return Ap(i)}function Ap(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(t){const s=us(t);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(t){return cs(t).toBase64()}(i.bytesValue):"referenceValue"in i?function(t){return ge.fromName(t).toString()}(i.referenceValue):"geoPointValue"in i?function(t){return`geo(${t.latitude},${t.longitude})`}(i.geoPointValue):"arrayValue"in i?function(t){let s="[",o=!0;for(const u of t.values||[])o?o=!1:s+=",",s+=Ap(u);return s+"]"}(i.arrayValue):"mapValue"in i?function(t){const s=Object.keys(t.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${Ap(t.fields[h])}`;return o+"}"}(i.mapValue):Te(61005,{value:i})}function Rh(i){switch(hs(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=gf(i);return e?16+Rh(e):16;case 5:return 2*i.stringValue.length;case 6:return cs(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+Rh(u),0)}(i.arrayValue);case 10:case 11:return function(s){let o=0;return ys(s.fields,(u,h)=>{o+=u.length+Rh(h)}),o}(i.mapValue);default:throw Te(13486,{value:i})}}function vE(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Sp(i){return!!i&&"integerValue"in i}function cg(i){return!!i&&"arrayValue"in i}function _E(i){return!!i&&"nullValue"in i}function EE(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Ih(i){return!!i&&"mapValue"in i}function gN(i){var e,t;return((t=(((e=i?.mapValue)===null||e===void 0?void 0:e.fields)||{})[Ww])===null||t===void 0?void 0:t.stringValue)===Zw}function fu(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return ys(i.mapValue.fields,(t,s)=>e.mapValue.fields[t]=fu(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=fu(i.arrayValue.values[t]);return e}return Object.assign({},i)}function yN(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===pN}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.value=e}static empty(){return new cn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!Ih(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=fu(t)}setAll(e){let t=Gt.emptyPath(),s={},o=[];e.forEach((h,m)=>{if(!t.isImmediateParentOf(m)){const p=this.getFieldsMap(t);this.applyChanges(p,s,o),s={},o=[],t=m.popLast()}h?s[m.lastSegment()]=fu(h):o.push(m.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,s,o)}delete(e){const t=this.field(e.popLast());Ih(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Oi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];Ih(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){ys(t,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new cn(fu(this.value))}}function Jw(i){const e=[];return ys(i.fields,(t,s)=>{const o=new Gt([t]);if(Ih(s)){const u=Jw(s.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)}),new bn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e,t,s,o,u,h,m){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(e){return new Zt(e,0,Se.min(),Se.min(),Se.min(),cn.empty(),0)}static newFoundDocument(e,t,s,o){return new Zt(e,1,t,Se.min(),s,o,0)}static newNoDocument(e,t){return new Zt(e,2,t,Se.min(),Se.min(),cn.empty(),0)}static newUnknownDocument(e,t){return new Zt(e,3,t,Se.min(),Se.min(),cn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=cn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(e,t){this.position=e,this.inclusive=t}}function TE(i,e,t){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],h=i.position[o];if(u.field.isKeyField()?s=ge.comparator(ge.fromName(h.referenceValue),t.key):s=No(h,t.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function wE(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!Oi(i.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su{constructor(e,t="asc"){this.field=e,this.dir=t}}function vN(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e1{}class St extends e1{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new EN(e,t,s):t==="array-contains"?new AN(e,s):t==="in"?new SN(e,s):t==="not-in"?new bN(e,s):t==="array-contains-any"?new RN(e,s):new St(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new TN(e,s):new wN(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(No(t,this.value)):t!==null&&hs(this.value)===hs(t)&&this.matchesComparison(No(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ii extends e1{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new ii(e,t)}matches(e){return t1(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function t1(i){return i.op==="and"}function n1(i){return _N(i)&&t1(i)}function _N(i){for(const e of i.filters)if(e instanceof ii)return!1;return!0}function bp(i){if(i instanceof St)return i.field.canonicalString()+i.op.toString()+Do(i.value);if(n1(i))return i.filters.map(e=>bp(e)).join(",");{const e=i.filters.map(t=>bp(t)).join(",");return`${i.op}(${e})`}}function i1(i,e){return i instanceof St?function(s,o){return o instanceof St&&s.op===o.op&&s.field.isEqual(o.field)&&Oi(s.value,o.value)}(i,e):i instanceof ii?function(s,o){return o instanceof ii&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,h,m)=>u&&i1(h,o.filters[m]),!0):!1}(i,e):void Te(19439)}function r1(i){return i instanceof St?function(t){return`${t.field.canonicalString()} ${t.op} ${Do(t.value)}`}(i):i instanceof ii?function(t){return t.op.toString()+" {"+t.getFilters().map(r1).join(" ,")+"}"}(i):"Filter"}class EN extends St{constructor(e,t,s){super(e,t,s),this.key=ge.fromName(s.referenceValue)}matches(e){const t=ge.comparator(e.key,this.key);return this.matchesComparison(t)}}class TN extends St{constructor(e,t){super(e,"in",t),this.keys=s1("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class wN extends St{constructor(e,t){super(e,"not-in",t),this.keys=s1("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function s1(i,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(s=>ge.fromName(s.referenceValue))}class AN extends St{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return cg(t)&&Au(t.arrayValue,this.value)}}class SN extends St{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Au(this.value.arrayValue,t)}}class bN extends St{constructor(e,t){super(e,"not-in",t)}matches(e){if(Au(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Au(this.value.arrayValue,t)}}class RN extends St{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!cg(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>Au(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(e,t=null,s=[],o=[],u=null,h=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=m,this.Pe=null}}function AE(i,e=null,t=[],s=[],o=null,u=null,h=null){return new IN(i,e,t,s,o,u,h)}function hg(i){const e=be(i);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>bp(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),pf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>Do(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>Do(s)).join(",")),e.Pe=t}return e.Pe}function fg(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!vN(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!i1(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!wE(i.startAt,e.startAt)&&wE(i.endAt,e.endAt)}function Rp(i){return ge.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(e,t=null,s=[],o=[],u=null,h="F",m=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=p,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function xN(i,e,t,s,o,u,h,m){return new Ho(i,e,t,s,o,u,h,m)}function yf(i){return new Ho(i)}function SE(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function a1(i){return i.collectionGroup!==null}function du(i){const e=be(i);if(e.Te===null){e.Te=[];const t=new Set;for(const u of e.explicitOrderBy)e.Te.push(u),t.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new Dt(Gt.comparator);return h.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(m=m.add(g.field))})}),m})(e).forEach(u=>{t.has(u.canonicalString())||u.isKeyField()||e.Te.push(new Su(u,s))}),t.has(Gt.keyField().canonicalString())||e.Te.push(new Su(Gt.keyField(),s))}return e.Te}function Ii(i){const e=be(i);return e.Ie||(e.Ie=CN(e,du(i))),e.Ie}function CN(i,e){if(i.limitType==="F")return AE(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Su(o.field,u)});const t=i.endAt?new Hh(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Hh(i.startAt.position,i.startAt.inclusive):null;return AE(i.path,i.collectionGroup,e,i.filters,i.limit,t,s)}}function Ip(i,e){const t=i.filters.concat([e]);return new Ho(i.path,i.collectionGroup,i.explicitOrderBy.slice(),t,i.limit,i.limitType,i.startAt,i.endAt)}function Gh(i,e,t){return new Ho(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function vf(i,e){return fg(Ii(i),Ii(e))&&i.limitType===e.limitType}function o1(i){return`${hg(Ii(i))}|lt:${i.limitType}`}function _o(i){return`Query(target=${function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map(o=>r1(o)).join(", ")}]`),pf(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map(o=>Do(o)).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map(o=>Do(o)).join(",")),`Target(${s})`}(Ii(i))}; limitType=${i.limitType})`}function _f(i,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ge.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(i,e)&&function(s,o){for(const u of du(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(i,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(i,e)&&function(s,o){return!(s.startAt&&!function(h,m,p){const g=TE(h,m,p);return h.inclusive?g<=0:g<0}(s.startAt,du(s),o)||s.endAt&&!function(h,m,p){const g=TE(h,m,p);return h.inclusive?g>=0:g>0}(s.endAt,du(s),o))}(i,e)}function NN(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function l1(i){return(e,t)=>{let s=!1;for(const o of du(i)){const u=DN(o,e,t);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function DN(i,e,t){const s=i.field.isKeyField()?ge.comparator(e.key,t.key):function(u,h,m){const p=h.data.field(u),g=m.data.field(u);return p!==null&&g!==null?No(p,g):Te(42886)}(i.field,e,t);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Te(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ys(this.inner,(t,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return Gw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ON=new ut(ge.comparator);function yr(){return ON}const u1=new ut(ge.comparator);function ou(...i){let e=u1;for(const t of i)e=e.insert(t.key,t);return e}function c1(i){let e=u1;return i.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function ra(){return mu()}function h1(){return mu()}function mu(){return new Ea(i=>i.toString(),(i,e)=>i.isEqual(e))}const MN=new ut(ge.comparator),kN=new Dt(ge.comparator);function ke(...i){let e=kN;for(const t of i)e=e.add(t);return e}const PN=new Dt(xe);function VN(){return PN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dg(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zh(e)?"-0":e}}function f1(i){return{integerValue:""+i}}function d1(i,e){return cN(e)?f1(e):dg(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(){this._=void 0}}function jN(i,e,t){return i instanceof bu?function(o,u){const h={fields:{[Kw]:{stringValue:$w},[Xw]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&ug(u)&&(u=gf(u)),u&&(h.fields[Yw]=u),{mapValue:h}}(t,e):i instanceof Oo?p1(i,e):i instanceof Mo?g1(i,e):function(o,u){const h=m1(o,u),m=bE(h)+bE(o.Ee);return Sp(h)&&Sp(o.Ee)?f1(m):dg(o.serializer,m)}(i,e)}function LN(i,e,t){return i instanceof Oo?p1(i,e):i instanceof Mo?g1(i,e):t}function m1(i,e){return i instanceof Ru?function(s){return Sp(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class bu extends Ef{}class Oo extends Ef{constructor(e){super(),this.elements=e}}function p1(i,e){const t=y1(e);for(const s of i.elements)t.some(o=>Oi(o,s))||t.push(s);return{arrayValue:{values:t}}}class Mo extends Ef{constructor(e){super(),this.elements=e}}function g1(i,e){let t=y1(e);for(const s of i.elements)t=t.filter(o=>!Oi(o,s));return{arrayValue:{values:t}}}class Ru extends Ef{constructor(e,t){super(),this.serializer=e,this.Ee=t}}function bE(i){return vt(i.integerValue||i.doubleValue)}function y1(i){return cg(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(e,t){this.field=e,this.transform=t}}function UN(i,e){return i.field.isEqual(e.field)&&function(s,o){return s instanceof Oo&&o instanceof Oo||s instanceof Mo&&o instanceof Mo?Co(s.elements,o.elements,Oi):s instanceof Ru&&o instanceof Ru?Oi(s.Ee,o.Ee):s instanceof bu&&o instanceof bu}(i.transform,e.transform)}class BN{constructor(e,t){this.version=e,this.transformResults=t}}class Jn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Jn}static exists(e){return new Jn(void 0,e)}static updateTime(e){return new Jn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function xh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class wf{}function v1(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new E1(i.key,Jn.none()):new Vu(i.key,i.data,Jn.none());{const t=i.data,s=cn.empty();let o=new Dt(Gt.comparator);for(let u of e.fields)if(!o.has(u)){let h=t.field(u);h===null&&u.length>1&&(u=u.popLast(),h=t.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new vs(i.key,s,new bn(o.toArray()),Jn.none())}}function zN(i,e,t){i instanceof Vu?function(o,u,h){const m=o.value.clone(),p=IE(o.fieldTransforms,u,h.transformResults);m.setAll(p),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()}(i,e,t):i instanceof vs?function(o,u,h){if(!xh(o.precondition,u))return void u.convertToUnknownDocument(h.version);const m=IE(o.fieldTransforms,u,h.transformResults),p=u.data;p.setAll(_1(o)),p.setAll(m),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()}(i,e,t):function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,t)}function pu(i,e,t,s){return i instanceof Vu?function(u,h,m,p){if(!xh(u.precondition,h))return m;const g=u.value.clone(),_=xE(u.fieldTransforms,p,h);return g.setAll(_),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null}(i,e,t,s):i instanceof vs?function(u,h,m,p){if(!xh(u.precondition,h))return m;const g=xE(u.fieldTransforms,p,h),_=h.data;return _.setAll(_1(u)),_.setAll(g),h.convertToFoundDocument(h.version,_).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(A=>A.field))}(i,e,t,s):function(u,h,m){return xh(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m}(i,e,t)}function qN(i,e){let t=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=m1(s.transform,o||null);u!=null&&(t===null&&(t=cn.empty()),t.set(s.field,u))}return t||null}function RE(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Co(s,o,(u,h)=>UN(u,h))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Vu extends wf{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class vs extends wf{constructor(e,t,s,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function _1(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=i.data.field(t);e.set(t,s)}}),e}function IE(i,e,t){const s=new Map;Fe(i.length===t.length,32656,{Ae:t.length,Re:i.length});for(let o=0;o<t.length;o++){const u=i[o],h=u.transform,m=e.data.field(u.field);s.set(u.field,LN(h,m,t[o]))}return s}function xE(i,e,t){const s=new Map;for(const o of i){const u=o.transform,h=t.data.field(o.field);s.set(o.field,jN(u,h,e))}return s}class E1 extends wf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class FN extends wf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&zN(u,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=pu(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=pu(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=h1();return this.mutations.forEach(o=>{const u=e.get(o.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=t.has(o.key)?null:m;const p=v1(h,m);p!==null&&s.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(Se.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ke())}isEqual(e){return this.batchId===e.batchId&&Co(this.mutations,e.mutations,(t,s)=>RE(t,s))&&Co(this.baseMutations,e.baseMutations,(t,s)=>RE(t,s))}}class mg{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){Fe(e.mutations.length===s.length,58842,{Ve:e.mutations.length,me:s.length});let o=function(){return MN}();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new mg(e,t,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var At,Le;function $N(i){switch(i){case ee.OK:return Te(64938);case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return Te(15467,{code:i})}}function T1(i){if(i===void 0)return gr("GRPC error has no .code"),ee.UNKNOWN;switch(i){case At.OK:return ee.OK;case At.CANCELLED:return ee.CANCELLED;case At.UNKNOWN:return ee.UNKNOWN;case At.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case At.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case At.INTERNAL:return ee.INTERNAL;case At.UNAVAILABLE:return ee.UNAVAILABLE;case At.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case At.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case At.NOT_FOUND:return ee.NOT_FOUND;case At.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case At.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case At.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case At.ABORTED:return ee.ABORTED;case At.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case At.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case At.DATA_LOSS:return ee.DATA_LOSS;default:return Te(39323,{code:i})}}(Le=At||(At={}))[Le.OK=0]="OK",Le[Le.CANCELLED=1]="CANCELLED",Le[Le.UNKNOWN=2]="UNKNOWN",Le[Le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Le[Le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Le[Le.NOT_FOUND=5]="NOT_FOUND",Le[Le.ALREADY_EXISTS=6]="ALREADY_EXISTS",Le[Le.PERMISSION_DENIED=7]="PERMISSION_DENIED",Le[Le.UNAUTHENTICATED=16]="UNAUTHENTICATED",Le[Le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Le[Le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Le[Le.ABORTED=10]="ABORTED",Le[Le.OUT_OF_RANGE=11]="OUT_OF_RANGE",Le[Le.UNIMPLEMENTED=12]="UNIMPLEMENTED",Le[Le.INTERNAL=13]="INTERNAL",Le[Le.UNAVAILABLE=14]="UNAVAILABLE",Le[Le.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KN=new rs([4294967295,4294967295],0);function CE(i){const e=zw().encode(i),t=new Mw;return t.update(e),new Uint8Array(t.digest())}function NE(i){const e=new DataView(i.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new rs([t,s],0),new rs([o,u],0)]}class pg{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new lu(`Invalid padding: ${t}`);if(s<0)throw new lu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new lu(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new lu(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=rs.fromNumber(this.fe)}pe(e,t,s){let o=e.add(t.multiply(rs.fromNumber(s)));return o.compare(KN)===1&&(o=new rs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const t=CE(e),[s,o]=NE(t);for(let u=0;u<this.hashCount;u++){const h=this.pe(s,o,u);if(!this.ye(h))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new pg(u,o,t);return s.forEach(m=>h.insert(m)),h}insert(e){if(this.fe===0)return;const t=CE(e),[s,o]=NE(t);for(let u=0;u<this.hashCount;u++){const h=this.pe(s,o,u);this.we(h)}}we(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class lu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af{constructor(e,t,s,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,ju.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new Af(Se.min(),o,new ut(xe),yr(),ke())}}class ju{constructor(e,t,s,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new ju(s,t,ke(),ke(),ke())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(e,t,s,o){this.Se=e,this.removedTargetIds=t,this.key=s,this.be=o}}class w1{constructor(e,t){this.targetId=e,this.De=t}}class A1{constructor(e,t,s=Qt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class DE{constructor(){this.ve=0,this.Ce=OE(),this.Fe=Qt.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=ke(),t=ke(),s=ke();return this.Ce.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:Te(38017,{changeType:u})}}),new ju(this.Fe,this.Me,e,t,s)}ke(){this.xe=!1,this.Ce=OE()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Fe(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class YN{constructor(e){this.We=e,this.Ge=new Map,this.ze=yr(),this.je=ph(),this.Je=ph(),this.He=new ut(xe)}Ye(e){for(const t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(const t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,t=>{const s=this.tt(t);switch(e.state){case 0:this.nt(t)&&s.Be(e.resumeToken);break;case 1:s.Ue(),s.Oe||s.ke(),s.Be(e.resumeToken);break;case 2:s.Ue(),s.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(s.Ke(),s.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),s.Be(e.resumeToken));break;default:Te(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach((s,o)=>{this.nt(o)&&t(o)})}it(e){const t=e.targetId,s=e.De.count,o=this.st(t);if(o){const u=o.target;if(Rp(u))if(s===0){const h=new ge(u.path);this.Xe(t,h,Zt.newNoDocument(h,Se.min()))}else Fe(s===1,20013,{expectedCount:s});else{const h=this.ot(t);if(h!==s){const m=this._t(e),p=m?this.ut(m,e,h):1;if(p!==0){this.rt(t);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,g)}}}}}_t(e){const t=e.De.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=t;let h,m;try{h=cs(s).toUint8Array()}catch(p){if(p instanceof Qw)return os("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new pg(h,o,u)}catch(p){return os(p instanceof lu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.fe===0?null:m}ut(e,t,s){return t.De.count===s-this.ht(e,t.targetId)?0:2}ht(e,t){const s=this.We.getRemoteKeysForTarget(t);let o=0;return s.forEach(u=>{const h=this.We.lt(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.Xe(t,u,null),o++)}),o}Pt(e){const t=new Map;this.Ge.forEach((u,h)=>{const m=this.st(h);if(m){if(u.current&&Rp(m.target)){const p=new ge(m.target.path);this.Tt(p).has(h)||this.It(h,p)||this.Xe(h,p,Zt.newNoDocument(p,e))}u.Ne&&(t.set(h,u.Le()),u.ke())}});let s=ke();this.Je.forEach((u,h)=>{let m=!0;h.forEachWhile(p=>{const g=this.st(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.ze.forEach((u,h)=>h.setReadTime(e));const o=new Af(e,t,this.He,this.ze,s);return this.ze=yr(),this.je=ph(),this.Je=ph(),this.He=new ut(xe),o}Ze(e,t){if(!this.nt(e))return;const s=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,s),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,s){if(!this.nt(e))return;const o=this.tt(e);this.It(e,t)?o.qe(t,1):o.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),s&&(this.ze=this.ze.insert(t,s))}removeTarget(e){this.Ge.delete(e)}ot(e){const t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new DE,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new Dt(xe),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new Dt(xe),this.je=this.je.insert(e,t)),t}nt(e){const t=this.st(e)!==null;return t||he("WatchChangeAggregator","Detected inactive target",e),t}st(e){const t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new DE),this.We.getRemoteKeysForTarget(e).forEach(t=>{this.Xe(e,t,null)})}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}}function ph(){return new ut(ge.comparator)}function OE(){return new ut(ge.comparator)}const XN={asc:"ASCENDING",desc:"DESCENDING"},WN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ZN={and:"AND",or:"OR"};class JN{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function xp(i,e){return i.useProto3Json||pf(e)?e:{value:e}}function Qh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function S1(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function eD(i,e){return Qh(i,e.toTimestamp())}function xi(i){return Fe(!!i,49232),Se.fromTimestamp(function(t){const s=us(t);return new tt(s.seconds,s.nanos)}(i))}function gg(i,e){return Cp(i,e).canonicalString()}function Cp(i,e){const t=function(o){return new et(["projects",o.projectId,"databases",o.database])}(i).child("documents");return e===void 0?t:t.child(e)}function b1(i){const e=et.fromString(i);return Fe(N1(e),10190,{key:e.toString()}),e}function Np(i,e){return gg(i.databaseId,e.path)}function ep(i,e){const t=b1(e);if(t.get(1)!==i.databaseId.projectId)throw new ce(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new ce(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new ge(I1(t))}function R1(i,e){return gg(i.databaseId,e)}function tD(i){const e=b1(i);return e.length===4?et.emptyPath():I1(e)}function Dp(i){return new et(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function I1(i){return Fe(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function ME(i,e,t){return{name:Np(i,e),fields:t.value.mapValue.fields}}function nD(i,e){let t;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Te(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(g,_){return g.useProto3Json?(Fe(_===void 0||typeof _=="string",58123),Qt.fromBase64String(_||"")):(Fe(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),Qt.fromUint8Array(_||new Uint8Array))}(i,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&function(g){const _=g.code===void 0?ee.UNKNOWN:T1(g.code);return new ce(_,g.message||"")}(h);t=new A1(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=ep(i,s.document.name),u=xi(s.document.updateTime),h=s.document.createTime?xi(s.document.createTime):Se.min(),m=new cn({mapValue:{fields:s.document.fields}}),p=Zt.newFoundDocument(o,u,h,m),g=s.targetIds||[],_=s.removedTargetIds||[];t=new Ch(g,_,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=ep(i,s.document),u=s.readTime?xi(s.readTime):Se.min(),h=Zt.newNoDocument(o,u),m=s.removedTargetIds||[];t=new Ch([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=ep(i,s.document),u=s.removedTargetIds||[];t=new Ch([],u,o,null)}else{if(!("filter"in e))return Te(11601,{At:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new QN(o,u),m=s.targetId;t=new w1(m,h)}}return t}function iD(i,e){let t;if(e instanceof Vu)t={update:ME(i,e.key,e.value)};else if(e instanceof E1)t={delete:Np(i,e.key)};else if(e instanceof vs)t={update:ME(i,e.key,e.data),updateMask:fD(e.fieldMask)};else{if(!(e instanceof FN))return Te(16599,{Rt:e.type});t={verify:Np(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(u,h){const m=h.transform;if(m instanceof bu)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Oo)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Mo)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Ru)return{fieldPath:h.field.canonicalString(),increment:m.Ee};throw Te(20930,{transform:h.transform})}(0,s))),e.precondition.isNone||(t.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:eD(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Te(27497)}(i,e.precondition)),t}function rD(i,e){return i&&i.length>0?(Fe(e!==void 0,14353),i.map(t=>function(o,u){let h=o.updateTime?xi(o.updateTime):xi(u);return h.isEqual(Se.min())&&(h=xi(u)),new BN(h,o.transformResults||[])}(t,e))):[]}function sD(i,e){return{documents:[R1(i,e.path)]}}function aD(i,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=R1(i,o);const u=function(g){if(g.length!==0)return C1(ii.create(g,"and"))}(e.filters);u&&(t.structuredQuery.where=u);const h=function(g){if(g.length!==0)return g.map(_=>function(w){return{field:Eo(w.field),direction:uD(w.dir)}}(_))}(e.orderBy);h&&(t.structuredQuery.orderBy=h);const m=xp(i,e.limit);return m!==null&&(t.structuredQuery.limit=m),e.startAt&&(t.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{Vt:t,parent:o}}function oD(i){let e=tD(i.parent);const t=i.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){Fe(s===1,65062);const _=t.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let u=[];t.where&&(u=function(A){const w=x1(A);return w instanceof ii&&n1(w)?w.getFilters():[w]}(t.where));let h=[];t.orderBy&&(h=function(A){return A.map(w=>function(x){return new Su(To(x.field),function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(w))}(t.orderBy));let m=null;t.limit&&(m=function(A){let w;return w=typeof A=="object"?A.value:A,pf(w)?null:w}(t.limit));let p=null;t.startAt&&(p=function(A){const w=!!A.before,I=A.values||[];return new Hh(I,w)}(t.startAt));let g=null;return t.endAt&&(g=function(A){const w=!A.before,I=A.values||[];return new Hh(I,w)}(t.endAt)),xN(e,o,h,u,m,"F",p,g)}function lD(i,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te(28987,{purpose:o})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function x1(i){return i.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=To(t.unaryFilter.field);return St.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=To(t.unaryFilter.field);return St.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=To(t.unaryFilter.field);return St.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=To(t.unaryFilter.field);return St.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Te(61313);default:return Te(60726)}}(i):i.fieldFilter!==void 0?function(t){return St.create(To(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Te(58110);default:return Te(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(t){return ii.create(t.compositeFilter.filters.map(s=>x1(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Te(1026)}}(t.compositeFilter.op))}(i):Te(30097,{filter:i})}function uD(i){return XN[i]}function cD(i){return WN[i]}function hD(i){return ZN[i]}function Eo(i){return{fieldPath:i.canonicalString()}}function To(i){return Gt.fromServerFormat(i.fieldPath)}function C1(i){return i instanceof St?function(t){if(t.op==="=="){if(EE(t.value))return{unaryFilter:{field:Eo(t.field),op:"IS_NAN"}};if(_E(t.value))return{unaryFilter:{field:Eo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(EE(t.value))return{unaryFilter:{field:Eo(t.field),op:"IS_NOT_NAN"}};if(_E(t.value))return{unaryFilter:{field:Eo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Eo(t.field),op:cD(t.op),value:t.value}}}(i):i instanceof ii?function(t){const s=t.getFilters().map(o=>C1(o));return s.length===1?s[0]:{compositeFilter:{op:hD(t.op),filters:s}}}(i):Te(54877,{filter:i})}function fD(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function N1(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(e,t,s,o,u=Se.min(),h=Se.min(),m=Qt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new ts(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ts(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ts(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ts(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{constructor(e){this.gt=e}}function mD(i){const e=oD({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Gh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{constructor(){this.Dn=new gD}addToCollectionParentIndex(e,t){return this.Dn.add(t),ne.resolve()}getCollectionParents(e,t){return ne.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return ne.resolve()}deleteFieldIndex(e,t){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,t){return ne.resolve()}getDocumentsMatchingTarget(e,t){return ne.resolve(null)}getIndexType(e,t){return ne.resolve(0)}getFieldIndexes(e,t){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,t){return ne.resolve(ls.min())}getMinOffsetFromCollectionGroup(e,t){return ne.resolve(ls.min())}updateCollectionGroup(e,t,s){return ne.resolve()}updateIndexEntries(e,t){return ne.resolve()}}class gD{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new Dt(et.comparator),u=!o.has(s);return this.index[t]=o.add(s),u}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Dt(et.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},D1=41943040;class un{static withCacheSize(e){return new un(e,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */un.DEFAULT_COLLECTION_PERCENTILE=10,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,un.DEFAULT=new un(D1,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),un.DISABLED=new un(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new ko(0)}static ur(){return new ko(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PE="LruGarbageCollector",yD=1048576;function VE([i,e],[t,s]){const o=xe(i,t);return o===0?xe(e,s):o}class vD{constructor(e){this.Tr=e,this.buffer=new Dt(VE),this.Ir=0}dr(){return++this.Ir}Er(e){const t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();VE(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class _D{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){he(PE,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Fo(t)?he(PE,"Ignoring IndexedDB error during garbage collection: ",t):await qo(t)}await this.Rr(3e5)})}}class ED{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(t===0)return ne.resolve(mf.ue);const s=new vD(t);return this.Vr.forEachTarget(e,o=>s.Er(o.sequenceNumber)).next(()=>this.Vr.gr(e,o=>s.Er(o))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.Vr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(kE)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),kE):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let s,o,u,h,m,p,g;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(A=>(A>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,h=Date.now(),this.nthSequenceNumber(e,o))).next(A=>(s=A,m=Date.now(),this.removeTargets(e,s,t))).next(A=>(u=A,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(A=>(g=Date.now(),vo()<=Me.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-_}ms
	Determined least recently used ${o} in `+(m-h)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${A} documents in `+(g-p)+`ms
Total Duration: ${g-_}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:A})))}}function TD(i,e){return new ED(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(){this.changes=new Ea(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Zt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?ne.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(s!==null&&pu(s.mutation,o,bn.empty(),tt.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,ke()).next(()=>s))}getLocalViewOfDocuments(e,t,s=ke()){const o=ra();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,s).next(u=>{let h=ou();return u.forEach((m,p)=>{h=h.insert(m,p.overlayedDocument)}),h}))}getOverlayedDocuments(e,t){const s=ra();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,ke()))}populateOverlays(e,t,s){const o=[];return s.forEach(u=>{t.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((h,m)=>{t.set(h,m)})})}computeViews(e,t,s,o){let u=yr();const h=mu(),m=function(){return mu()}();return t.forEach((p,g)=>{const _=s.get(g.key);o.has(g.key)&&(_===void 0||_.mutation instanceof vs)?u=u.insert(g.key,g):_!==void 0?(h.set(g.key,_.mutation.getFieldMask()),pu(_.mutation,g,_.mutation.getFieldMask(),tt.now())):h.set(g.key,bn.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((g,_)=>h.set(g,_)),t.forEach((g,_)=>{var A;return m.set(g,new AD(_,(A=h.get(g))!==null&&A!==void 0?A:null))}),m))}recalculateAndSaveOverlays(e,t){const s=mu();let o=new ut((h,m)=>h-m),u=ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(h=>{for(const m of h)m.keys().forEach(p=>{const g=t.get(p);if(g===null)return;let _=s.get(p)||bn.empty();_=m.applyToLocalView(g,_),s.set(p,_);const A=(o.get(m.batchId)||ke()).add(p);o=o.insert(m.batchId,A)})}).next(()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,_=p.value,A=h1();_.forEach(w=>{if(!u.has(w)){const I=v1(t.get(w),s.get(w));I!==null&&A.set(w,I),u=u.add(w)}}),h.push(this.documentOverlayCache.saveOverlays(e,g,A))}return ne.waitFor(h)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s,o){return function(h){return ge.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):a1(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next(u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-u.size):ne.resolve(ra());let m=Eu,p=u;return h.next(g=>ne.forEach(g,(_,A)=>(m<A.largestBatchId&&(m=A.largestBatchId),u.get(_)?ne.resolve():this.remoteDocumentCache.getEntry(e,_).next(w=>{p=p.insert(_,w)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,p,g,ke())).next(_=>({batchId:m,changes:c1(_)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ge(t)).next(s=>{let o=ou();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const u=t.collectionGroup;let h=ou();return this.indexManager.getCollectionParents(e,u).next(m=>ne.forEach(m,p=>{const g=function(A,w){return new Ho(w,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)}(t,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next(_=>{_.forEach((A,w)=>{h=h.insert(A,w)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,t,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,u,o))).next(h=>{u.forEach((p,g)=>{const _=g.getKey();h.get(_)===null&&(h=h.insert(_,Zt.newInvalidDocument(_)))});let m=ou();return h.forEach((p,g)=>{const _=u.get(p);_!==void 0&&pu(_.mutation,g,bn.empty(),tt.now()),_f(t,g)&&(m=m.insert(p,g))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return ne.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,function(o){return{id:o.id,version:o.version,createTime:xi(o.createTime)}}(t)),ne.resolve()}getNamedQuery(e,t){return ne.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,function(o){return{name:o.name,query:mD(o.bundledQuery),readTime:xi(o.readTime)}}(t)),ne.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(){this.overlays=new ut(ge.comparator),this.kr=new Map}getOverlay(e,t){return ne.resolve(this.overlays.get(t))}getOverlays(e,t){const s=ra();return ne.forEach(t,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((o,u)=>{this.wt(e,t,u)}),ne.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.kr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.kr.delete(s)),ne.resolve()}getOverlaysForCollection(e,t,s){const o=ra(),u=t.length+1,h=new ge(t.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return ne.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let u=new ut((g,_)=>g-_);const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>s){let _=u.get(g.largestBatchId);_===null&&(_=ra(),u=u.insert(g.largestBatchId,_)),_.set(g.getKey(),g)}}const m=ra(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,_)=>m.set(g,_)),!(m.size()>=o)););return ne.resolve(m)}wt(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.kr.get(o.largestBatchId).delete(s.key);this.kr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new GN(t,s));let u=this.kr.get(t);u===void 0&&(u=ke(),this.kr.set(t,u)),this.kr.set(t,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{constructor(){this.sessionToken=Qt.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ne.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(){this.qr=new Dt(Lt.Qr),this.$r=new Dt(Lt.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){const s=new Lt(e,t);this.qr=this.qr.add(s),this.$r=this.$r.add(s)}Kr(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.Wr(new Lt(e,t))}Gr(e,t){e.forEach(s=>this.removeReference(s,t))}zr(e){const t=new ge(new et([])),s=new Lt(t,e),o=new Lt(t,e+1),u=[];return this.$r.forEachInRange([s,o],h=>{this.Wr(h),u.push(h.key)}),u}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const t=new ge(new et([])),s=new Lt(t,e),o=new Lt(t,e+1);let u=ke();return this.$r.forEachInRange([s,o],h=>{u=u.add(h.key)}),u}containsKey(e){const t=new Lt(e,0),s=this.qr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class Lt{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return ge.comparator(e.key,t.key)||xe(e.Hr,t.Hr)}static Ur(e,t){return xe(e.Hr,t.Hr)||ge.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new Dt(Lt.Qr)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const u=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new HN(u,t,s,o);this.mutationQueue.push(h);for(const m of o)this.Yr=this.Yr.add(new Lt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ne.resolve(h)}lookupMutationBatch(e,t){return ne.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.Xr(s),u=o<0?0:o;return ne.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?lg:this.er-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Lt(t,0),o=new Lt(t,Number.POSITIVE_INFINITY),u=[];return this.Yr.forEachInRange([s,o],h=>{const m=this.Zr(h.Hr);u.push(m)}),ne.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Dt(xe);return t.forEach(o=>{const u=new Lt(o,0),h=new Lt(o,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([u,h],m=>{s=s.add(m.Hr)})}),ne.resolve(this.ei(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let u=s;ge.isDocumentKey(u)||(u=u.child(""));const h=new Lt(new ge(u),0);let m=new Dt(xe);return this.Yr.forEachWhile(p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Hr)),!0)},h),ne.resolve(this.ei(m))}ei(e){const t=[];return e.forEach(s=>{const o=this.Zr(s);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){Fe(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Yr;return ne.forEach(t.mutations,o=>{const u=new Lt(o.key,t.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Yr=s})}rr(e){}containsKey(e,t){const s=new Lt(t,0),o=this.Yr.firstAfterOrEqual(s);return ne.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD{constructor(e){this.ni=e,this.docs=function(){return new ut(ge.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),u=o?o.size:0,h=this.ni(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return ne.resolve(s?s.document.mutableCopy():Zt.newInvalidDocument(t))}getEntries(e,t){let s=yr();return t.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Zt.newInvalidDocument(o))}),ne.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let u=yr();const h=t.path,m=new ge(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:_}}=p.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||aN(sN(_),s)<=0||(o.has(_.key)||_f(t,_))&&(u=u.insert(_.key,_.mutableCopy()))}return ne.resolve(u)}getAllFromCollectionGroup(e,t,s,o){Te(9500)}ri(e,t){return ne.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new ND(this)}getSize(e){return ne.resolve(this.size)}}class ND extends wD{constructor(e){super(),this.Or=e}applyChanges(e){const t=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?t.push(this.Or.addEntry(e,o)):this.Or.removeEntry(s)}),ne.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(e){this.persistence=e,this.ii=new Ea(t=>hg(t),fg),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.si=0,this.oi=new yg,this.targetCount=0,this._i=ko.ar()}forEachTarget(e,t){return this.ii.forEach((s,o)=>t(o)),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.si&&(this.si=t),ne.resolve()}hr(e){this.ii.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this._i=new ko(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,ne.resolve()}updateTargetData(e,t){return this.hr(t),ne.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,t,s){let o=0;const u=[];return this.ii.forEach((h,m)=>{m.sequenceNumber<=t&&s.get(m.targetId)===null&&(this.ii.delete(h),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),ne.waitFor(u).next(()=>o)}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,t){const s=this.ii.get(t)||null;return ne.resolve(s)}addMatchingKeys(e,t,s){return this.oi.Kr(t,s),ne.resolve()}removeMatchingKeys(e,t,s){this.oi.Gr(t,s);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach(h=>{u.push(o.markPotentiallyOrphaned(e,h))}),ne.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),ne.resolve()}getMatchingKeysForTargetId(e,t){const s=this.oi.Jr(t);return ne.resolve(s)}containsKey(e,t){return ne.resolve(this.oi.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1{constructor(e,t){this.ai={},this.overlays={},this.ui=new mf(0),this.ci=!1,this.ci=!0,this.li=new ID,this.referenceDelegate=e(this),this.hi=new DD(this),this.indexManager=new pD,this.remoteDocumentCache=function(o){return new CD(o)}(s=>this.referenceDelegate.Pi(s)),this.serializer=new dD(t),this.Ti=new bD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new RD,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.ai[e.toKey()];return s||(s=new xD(t,this.referenceDelegate),this.ai[e.toKey()]=s),s}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,s){he("MemoryPersistence","Starting transaction:",e);const o=new OD(this.ui.next());return this.referenceDelegate.Ii(),s(o).next(u=>this.referenceDelegate.di(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ei(e,t){return ne.or(Object.values(this.ai).map(s=>()=>s.containsKey(e,t)))}}class OD extends lN{constructor(e){super(),this.currentSequenceNumber=e}}class vg{constructor(e){this.persistence=e,this.Ai=new yg,this.Ri=null}static Vi(e){return new vg(e)}get mi(){if(this.Ri)return this.Ri;throw Te(60996)}addReference(e,t,s){return this.Ai.addReference(s,t),this.mi.delete(s.toString()),ne.resolve()}removeReference(e,t,s){return this.Ai.removeReference(s,t),this.mi.add(s.toString()),ne.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),ne.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(o=>this.mi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(u=>this.mi.add(u.toString()))}).next(()=>s.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.mi,s=>{const o=ge.fromPath(s);return this.fi(e,o).next(u=>{u||t.removeEntry(o,Se.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(s=>{s?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return ne.or([()=>ne.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class $h{constructor(e,t){this.persistence=e,this.gi=new Ea(s=>hN(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=TD(this,t)}static Vi(e,t){return new $h(e,t)}Ii(){}di(e){return ne.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){const t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>t.next(o=>s+o))}yr(e){let t=0;return this.gr(e,s=>{t++}).next(()=>t)}gr(e,t){return ne.forEach(this.gi,(s,o)=>this.Sr(e,s,o).next(u=>u?ne.resolve():t(o)))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ri(e,h=>this.Sr(e,h,t).next(m=>{m||(s++,u.removeEntry(h,Se.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),ne.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.gi.set(s,e.currentSequenceNumber),ne.resolve()}removeReference(e,t,s){return this.gi.set(s,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),ne.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Rh(e.data.value)),t}Sr(e,t,s){return ne.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.gi.get(t);return ne.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.Is=s,this.ds=o}static Es(e,t){let s=ke(),o=ke();for(const u of t.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new _g(e,t.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return h2()?8:uN(Jt())>0?6:4}()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,s,o){const u={result:null};return this.ps(e,t).next(h=>{u.result=h}).next(()=>{if(!u.result)return this.ys(e,t,o,s).next(h=>{u.result=h})}).next(()=>{if(u.result)return;const h=new MD;return this.ws(e,t,h).next(m=>{if(u.result=m,this.Rs)return this.Ss(e,t,h,m.size)})}).next(()=>u.result)}Ss(e,t,s,o){return s.documentReadCount<this.Vs?(vo()<=Me.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",_o(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ne.resolve()):(vo()<=Me.DEBUG&&he("QueryEngine","Query:",_o(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.fs*o?(vo()<=Me.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",_o(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ii(t))):ne.resolve())}ps(e,t){if(SE(t))return ne.resolve(null);let s=Ii(t);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=Gh(t,null,"F"),s=Ii(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const h=ke(...u);return this.gs.getDocuments(e,h).next(m=>this.indexManager.getMinOffset(e,s).next(p=>{const g=this.bs(t,m);return this.Ds(t,g,h,p.readTime)?this.ps(e,Gh(t,null,"F")):this.vs(e,g,t,p)}))})))}ys(e,t,s,o){return SE(t)||o.isEqual(Se.min())?ne.resolve(null):this.gs.getDocuments(e,s).next(u=>{const h=this.bs(t,u);return this.Ds(t,h,s,o)?ne.resolve(null):(vo()<=Me.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),_o(t)),this.vs(e,h,t,rN(o,Eu)).next(m=>m))})}bs(e,t){let s=new Dt(l1(e));return t.forEach((o,u)=>{_f(e,u)&&(s=s.add(u))}),s}Ds(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const u=e.limitType==="F"?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ws(e,t,s){return vo()<=Me.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",_o(t)),this.gs.getDocumentsMatchingQuery(e,t,ls.min(),s)}vs(e,t,s,o){return this.gs.getDocumentsMatchingQuery(e,s,o).next(u=>(t.forEach(h=>{u=u.insert(h.key,h)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eg="LocalStore",PD=3e8;class VD{constructor(e,t,s,o){this.persistence=e,this.Cs=t,this.serializer=o,this.Fs=new ut(xe),this.Ms=new Ea(u=>hg(u),fg),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(s)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new SD(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}}function jD(i,e,t,s){return new VD(i,e,t,s)}async function M1(i,e){const t=be(i);return await t.persistence.runTransaction("Handle user change","readonly",s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,t.Ns(e),t.mutationQueue.getAllMutationBatches(s))).next(u=>{const h=[],m=[];let p=ke();for(const g of o){h.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}for(const g of u){m.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}return t.localDocuments.getDocuments(s,p).next(g=>({Bs:g,removedBatchIds:h,addedBatchIds:m}))})})}function LD(i,e){const t=be(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=t.Os.newChangeBuffer({trackRemovals:!0});return function(m,p,g,_){const A=g.batch,w=A.keys();let I=ne.resolve();return w.forEach(x=>{I=I.next(()=>_.getEntry(p,x)).next(q=>{const V=g.docVersions.get(x);Fe(V!==null,48541),q.version.compareTo(V)<0&&(A.applyToRemoteDocument(q,g),q.isValidDocument()&&(q.setReadTime(g.commitVersion),_.addEntry(q)))})}),I.next(()=>m.mutationQueue.removeMutationBatch(p,A))}(t,s,e,u).next(()=>u.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=ke();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p}(e))).next(()=>t.localDocuments.getDocuments(s,o))})}function k1(i){const e=be(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.hi.getLastRemoteSnapshotVersion(t))}function UD(i,e){const t=be(i),s=e.snapshotVersion;let o=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=t.Os.newChangeBuffer({trackRemovals:!0});o=t.Fs;const m=[];e.targetChanges.forEach((_,A)=>{const w=o.get(A);if(!w)return;m.push(t.hi.removeMatchingKeys(u,_.removedDocuments,A).next(()=>t.hi.addMatchingKeys(u,_.addedDocuments,A)));let I=w.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(A)!==null?I=I.withResumeToken(Qt.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):_.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(_.resumeToken,s)),o=o.insert(A,I),function(q,V,k){return q.resumeToken.approximateByteSize()===0||V.snapshotVersion.toMicroseconds()-q.snapshotVersion.toMicroseconds()>=PD?!0:k.addedDocuments.size+k.modifiedDocuments.size+k.removedDocuments.size>0}(w,I,_)&&m.push(t.hi.updateTargetData(u,I))});let p=yr(),g=ke();if(e.documentUpdates.forEach(_=>{e.resolvedLimboDocuments.has(_)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(u,_))}),m.push(BD(u,h,e.documentUpdates).next(_=>{p=_.Ls,g=_.ks})),!s.isEqual(Se.min())){const _=t.hi.getLastRemoteSnapshotVersion(u).next(A=>t.hi.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(_)}return ne.waitFor(m).next(()=>h.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(t.Fs=o,u))}function BD(i,e,t){let s=ke(),o=ke();return t.forEach(u=>s=s.add(u)),e.getEntries(i,s).next(u=>{let h=yr();return t.forEach((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Se.min())?(e.removeEntry(m,p.readTime),h=h.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),h=h.insert(m,p)):he(Eg,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)}),{Ls:h,ks:o}})}function zD(i,e){const t=be(i);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=lg),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function qD(i,e){const t=be(i);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return t.hi.getTargetData(s,e).next(u=>u?(o=u,ne.resolve(o)):t.hi.allocateTargetId(s).next(h=>(o=new ts(e,h,"TargetPurposeListen",s.currentSequenceNumber),t.hi.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=t.Fs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(s.targetId,s),t.Ms.set(e,s.targetId)),s})}async function Op(i,e,t){const s=be(i),o=s.Fs.get(e),u=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",u,h=>s.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!Fo(h))throw h;he(Eg,`Failed to update sequence numbers for target ${e}: ${h}`)}s.Fs=s.Fs.remove(e),s.Ms.delete(o.target)}function jE(i,e,t){const s=be(i);let o=Se.min(),u=ke();return s.persistence.runTransaction("Execute query","readwrite",h=>function(p,g,_){const A=be(p),w=A.Ms.get(_);return w!==void 0?ne.resolve(A.Fs.get(w)):A.hi.getTargetData(g,_)}(s,h,Ii(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.hi.getMatchingKeysForTargetId(h,m.targetId).next(p=>{u=p})}).next(()=>s.Cs.getDocumentsMatchingQuery(h,e,t?o:Se.min(),t?u:ke())).next(m=>(FD(s,NN(e),m),{documents:m,qs:u})))}function FD(i,e,t){let s=i.xs.get(e)||Se.min();t.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),i.xs.set(e,s)}class LE{constructor(){this.activeTargetIds=VN()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class HD{constructor(){this.Fo=new LE,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,s){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new LE,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UE="ConnectivityMonitor";class BE{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){he(UE,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){he(UE,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gh=null;function Mp(){return gh===null?gh=function(){return 268435456+Math.round(2147483648*Math.random())}():gh++,"0x"+gh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tp="RestConnection",QD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class $D{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${s}/databases/${o}`,this.Ko=this.databaseId.database===qh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(e,t,s,o,u){const h=Mp(),m=this.Go(e,t.toUriEncodedString());he(tp,`Sending RPC '${e}' ${h}:`,m,s);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(p,o,u);const{host:g}=new URL(m),_=ga(g);return this.jo(e,m,p,s,_).then(A=>(he(tp,`Received RPC '${e}' ${h}: `,A),A),A=>{throw os(tp,`RPC '${e}' ${h} failed with error: `,A,"url: ",m,"request:",s),A})}Jo(e,t,s,o,u,h){return this.Wo(e,t,s,o,u)}zo(e,t,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+zo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}Go(e,t){const s=QD[e];return`${this.$o}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KD{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xt="WebChannelConnection";class YD extends $D{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,s,o,u){const h=Mp();return new Promise((m,p)=>{const g=new kw;g.setWithCredentials(!0),g.listenOnce(Pw.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case bh.NO_ERROR:const A=g.getResponseJson();he(Xt,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(A)),m(A);break;case bh.TIMEOUT:he(Xt,`RPC '${e}' ${h} timed out`),p(new ce(ee.DEADLINE_EXCEEDED,"Request time out"));break;case bh.HTTP_ERROR:const w=g.getStatus();if(he(Xt,`RPC '${e}' ${h} failed with status:`,w,"response text:",g.getResponseText()),w>0){let I=g.getResponseJson();Array.isArray(I)&&(I=I[0]);const x=I?.error;if(x&&x.status&&x.message){const q=function(k){const Y=k.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(Y)>=0?Y:ee.UNKNOWN}(x.status);p(new ce(q,x.message))}else p(new ce(ee.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new ce(ee.UNAVAILABLE,"Connection failed."));break;default:Te(9055,{c_:e,streamId:h,l_:g.getLastErrorCode(),h_:g.getLastError()})}}finally{he(Xt,`RPC '${e}' ${h} completed.`)}});const _=JSON.stringify(o);he(Xt,`RPC '${e}' ${h} sending request:`,o),g.send(t,"POST",_,s,15)})}P_(e,t,s){const o=Mp(),u=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=Lw(),m=jw(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.zo(p.initMessageHeaders,t,s),p.encodeInitMessageHeaders=!0;const _=u.join("");he(Xt,`Creating RPC '${e}' stream ${o}: ${_}`,p);const A=h.createWebChannel(_,p);this.T_(A);let w=!1,I=!1;const x=new KD({Ho:V=>{I?he(Xt,`Not sending because RPC '${e}' stream ${o} is closed:`,V):(w||(he(Xt,`Opening RPC '${e}' stream ${o} transport.`),A.open(),w=!0),he(Xt,`RPC '${e}' stream ${o} sending:`,V),A.send(V))},Yo:()=>A.close()}),q=(V,k,Y)=>{V.listen(k,Z=>{try{Y(Z)}catch(se){setTimeout(()=>{throw se},0)}})};return q(A,au.EventType.OPEN,()=>{I||(he(Xt,`RPC '${e}' stream ${o} transport opened.`),x.s_())}),q(A,au.EventType.CLOSE,()=>{I||(I=!0,he(Xt,`RPC '${e}' stream ${o} transport closed`),x.__(),this.I_(A))}),q(A,au.EventType.ERROR,V=>{I||(I=!0,os(Xt,`RPC '${e}' stream ${o} transport errored. Name:`,V.name,"Message:",V.message),x.__(new ce(ee.UNAVAILABLE,"The operation could not be completed")))}),q(A,au.EventType.MESSAGE,V=>{var k;if(!I){const Y=V.data[0];Fe(!!Y,16349);const Z=Y,se=Z?.error||((k=Z[0])===null||k===void 0?void 0:k.error);if(se){he(Xt,`RPC '${e}' stream ${o} received error:`,se);const oe=se.status;let de=function(C){const M=At[C];if(M!==void 0)return T1(M)}(oe),O=se.message;de===void 0&&(de=ee.INTERNAL,O="Unknown error status: "+oe+" with message "+se.message),I=!0,x.__(new ce(de,O)),A.close()}else he(Xt,`RPC '${e}' stream ${o} received:`,Y),x.a_(Y)}}),q(m,Vw.STAT_EVENT,V=>{V.stat===Tp.PROXY?he(Xt,`RPC '${e}' stream ${o} detected buffering proxy`):V.stat===Tp.NOPROXY&&he(Xt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{x.o_()},0),x}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}}function np(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sf(i){return new JN(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P1{constructor(e,t,s=1e3,o=1.5,u=6e4){this.Fi=e,this.timerId=t,this.d_=s,this.E_=o,this.A_=u,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const t=Math.floor(this.R_+this.p_()),s=Math.max(0,Date.now()-this.m_),o=Math.max(0,t-s);o>0&&he("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,o,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zE="PersistentStream";class V1{constructor(e,t,s,o,u,h,m,p){this.Fi=e,this.w_=s,this.S_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new P1(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===ee.RESOURCE_EXHAUSTED?(gr(t.toString()),gr("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(t)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.b_===t&&this.W_(s,o)},s=>{e(()=>{const o=new ce(ee.UNKNOWN,"Fetching auth token failed: "+s.message);return this.G_(o)})})}W_(e,t){const s=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{s(()=>this.listener.Zo())}),this.stream.e_(()=>{s(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(o=>{s(()=>this.G_(o))}),this.stream.onMessage(o=>{s(()=>++this.C_==1?this.j_(o):this.onNext(o))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return he(zE,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():(he(zE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class XD extends V1{constructor(e,t,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,h),this.serializer=u}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const t=nD(this.serializer,e),s=function(u){if(!("targetChange"in u))return Se.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Se.min():h.readTime?xi(h.readTime):Se.min()}(e);return this.listener.J_(t,s)}H_(e){const t={};t.database=Dp(this.serializer),t.addTarget=function(u,h){let m;const p=h.target;if(m=Rp(p)?{documents:sD(u,p)}:{query:aD(u,p).Vt},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=S1(u,h.resumeToken);const g=xp(u,h.expectedCount);g!==null&&(m.expectedCount=g)}else if(h.snapshotVersion.compareTo(Se.min())>0){m.readTime=Qh(u,h.snapshotVersion.toTimestamp());const g=xp(u,h.expectedCount);g!==null&&(m.expectedCount=g)}return m}(this.serializer,e);const s=lD(this.serializer,e);s&&(t.labels=s),this.k_(t)}Y_(e){const t={};t.database=Dp(this.serializer),t.removeTarget=e,this.k_(t)}}class WD extends V1{constructor(e,t,s,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,h),this.serializer=u}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return Fe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Fe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){Fe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const t=rD(e.writeResults,e.commitTime),s=xi(e.commitTime);return this.listener.ta(s,t)}na(){const e={};e.database=Dp(this.serializer),this.k_(e)}X_(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>iD(this.serializer,s))};this.k_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{}class JD extends ZD{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.ra=!1}ia(){if(this.ra)throw new ce(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,s,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Wo(e,Cp(t,s),o,u,h)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ce(ee.UNKNOWN,u.toString())})}Jo(e,t,s,o,u){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,m])=>this.connection.Jo(e,Cp(t,s),o,h,m,u)).catch(h=>{throw h.name==="FirebaseError"?(h.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ce(ee.UNKNOWN,h.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class eO{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(gr(t),this._a=!1):he("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fa="RemoteStore";class tO{constructor(e,t,s,o,u){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=u,this.Ea.xo(h=>{s.enqueueAndForget(async()=>{Ta(this)&&(he(fa,"Restarting streams for network reachability change."),await async function(p){const g=be(p);g.Ia.add(4),await Lu(g),g.Aa.set("Unknown"),g.Ia.delete(4),await bf(g)}(this))})}),this.Aa=new eO(s,o)}}async function bf(i){if(Ta(i))for(const e of i.da)await e(!0)}async function Lu(i){for(const e of i.da)await e(!1)}function j1(i,e){const t=be(i);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),Sg(t)?Ag(t):Go(t).x_()&&wg(t,e))}function Tg(i,e){const t=be(i),s=Go(t);t.Ta.delete(e),s.x_()&&L1(t,e),t.Ta.size===0&&(s.x_()?s.B_():Ta(t)&&t.Aa.set("Unknown"))}function wg(i,e){if(i.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const t=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Go(i).H_(e)}function L1(i,e){i.Ra.$e(e),Go(i).Y_(e)}function Ag(i){i.Ra=new YN({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>i.Ta.get(e)||null,lt:()=>i.datastore.serializer.databaseId}),Go(i).start(),i.Aa.aa()}function Sg(i){return Ta(i)&&!Go(i).M_()&&i.Ta.size>0}function Ta(i){return be(i).Ia.size===0}function U1(i){i.Ra=void 0}async function nO(i){i.Aa.set("Online")}async function iO(i){i.Ta.forEach((e,t)=>{wg(i,e)})}async function rO(i,e){U1(i),Sg(i)?(i.Aa.la(e),Ag(i)):i.Aa.set("Unknown")}async function sO(i,e,t){if(i.Aa.set("Online"),e instanceof A1&&e.state===2&&e.cause)try{await async function(o,u){const h=u.cause;for(const m of u.targetIds)o.Ta.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o.Ta.delete(m),o.Ra.removeTarget(m))}(i,e)}catch(s){he(fa,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Kh(i,s)}else if(e instanceof Ch?i.Ra.Ye(e):e instanceof w1?i.Ra.it(e):i.Ra.et(e),!t.isEqual(Se.min()))try{const s=await k1(i.localStore);t.compareTo(s)>=0&&await function(u,h){const m=u.Ra.Pt(h);return m.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const _=u.Ta.get(g);_&&u.Ta.set(g,_.withResumeToken(p.resumeToken,h))}}),m.targetMismatches.forEach((p,g)=>{const _=u.Ta.get(p);if(!_)return;u.Ta.set(p,_.withResumeToken(Qt.EMPTY_BYTE_STRING,_.snapshotVersion)),L1(u,p);const A=new ts(_.target,p,g,_.sequenceNumber);wg(u,A)}),u.remoteSyncer.applyRemoteEvent(m)}(i,t)}catch(s){he(fa,"Failed to raise snapshot:",s),await Kh(i,s)}}async function Kh(i,e,t){if(!Fo(e))throw e;i.Ia.add(1),await Lu(i),i.Aa.set("Offline"),t||(t=()=>k1(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{he(fa,"Retrying IndexedDB access"),await t(),i.Ia.delete(1),await bf(i)})}function B1(i,e){return e().catch(t=>Kh(i,t,e))}async function Rf(i){const e=be(i),t=fs(e);let s=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:lg;for(;aO(e);)try{const o=await zD(e.localStore,s);if(o===null){e.Pa.length===0&&t.B_();break}s=o.batchId,oO(e,o)}catch(o){await Kh(e,o)}z1(e)&&q1(e)}function aO(i){return Ta(i)&&i.Pa.length<10}function oO(i,e){i.Pa.push(e);const t=fs(i);t.x_()&&t.Z_&&t.X_(e.mutations)}function z1(i){return Ta(i)&&!fs(i).M_()&&i.Pa.length>0}function q1(i){fs(i).start()}async function lO(i){fs(i).na()}async function uO(i){const e=fs(i);for(const t of i.Pa)e.X_(t.mutations)}async function cO(i,e,t){const s=i.Pa.shift(),o=mg.from(s,e,t);await B1(i,()=>i.remoteSyncer.applySuccessfulWrite(o)),await Rf(i)}async function hO(i,e){e&&fs(i).Z_&&await async function(s,o){if(function(h){return $N(h)&&h!==ee.ABORTED}(o.code)){const u=s.Pa.shift();fs(s).N_(),await B1(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await Rf(s)}}(i,e),z1(i)&&q1(i)}async function qE(i,e){const t=be(i);t.asyncQueue.verifyOperationInProgress(),he(fa,"RemoteStore received new credentials");const s=Ta(t);t.Ia.add(3),await Lu(t),s&&t.Aa.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),await bf(t)}async function fO(i,e){const t=be(i);e?(t.Ia.delete(2),await bf(t)):e||(t.Ia.add(2),await Lu(t),t.Aa.set("Unknown"))}function Go(i){return i.Va||(i.Va=function(t,s,o){const u=be(t);return u.ia(),new XD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{Zo:nO.bind(null,i),e_:iO.bind(null,i),n_:rO.bind(null,i),J_:sO.bind(null,i)}),i.da.push(async e=>{e?(i.Va.N_(),Sg(i)?Ag(i):i.Aa.set("Unknown")):(await i.Va.stop(),U1(i))})),i.Va}function fs(i){return i.ma||(i.ma=function(t,s,o){const u=be(t);return u.ia(),new WD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{Zo:()=>Promise.resolve(),e_:lO.bind(null,i),n_:hO.bind(null,i),ea:uO.bind(null,i),ta:cO.bind(null,i)}),i.da.push(async e=>{e?(i.ma.N_(),await Rf(i)):(await i.ma.stop(),i.Pa.length>0&&(he(fa,`Stopping write stream with ${i.Pa.length} pending writes`),i.Pa=[]))})),i.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg{constructor(e,t,s,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new fr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,u){const h=Date.now()+s,m=new bg(e,t,h,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Rg(i,e){if(gr("AsyncQueue",`${e}: ${i}`),Fo(i))return new ce(ee.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{static emptySet(e){return new Ro(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||ge.comparator(t.key,s.key):(t,s)=>ge.comparator(t.key,s.key),this.keyedMap=ou(),this.sortedSet=new ut(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ro)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new Ro;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{constructor(){this.fa=new ut(ge.comparator)}track(e){const t=e.doc.key,s=this.fa.get(t);s?e.type!==0&&s.type===3?this.fa=this.fa.insert(t,e):e.type===3&&s.type!==1?this.fa=this.fa.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.fa=this.fa.remove(t):e.type===1&&s.type===2?this.fa=this.fa.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):Te(63341,{At:e,ga:s}):this.fa=this.fa.insert(t,e)}pa(){const e=[];return this.fa.inorderTraversal((t,s)=>{e.push(s)}),e}}class Po{constructor(e,t,s,o,u,h,m,p,g){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,t,s,o,u){const h=[];return t.forEach(m=>{h.push({type:0,doc:m})}),new Po(e,t,Ro.emptySet(t),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&vf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dO{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class mO{constructor(){this.queries=HE(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,s){const o=be(t),u=o.queries;o.queries=HE(),u.forEach((h,m)=>{for(const p of m.wa)p.onError(s)})})(this,new ce(ee.ABORTED,"Firestore shutting down"))}}function HE(){return new Ea(i=>o1(i),vf)}async function Ig(i,e){const t=be(i);let s=3;const o=e.query;let u=t.queries.get(o);u?!u.Sa()&&e.ba()&&(s=2):(u=new dO,s=e.ba()?0:1);try{switch(s){case 0:u.ya=await t.onListen(o,!0);break;case 1:u.ya=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(h){const m=Rg(h,`Initialization of query '${_o(e.query)}' failed`);return void e.onError(m)}t.queries.set(o,u),u.wa.push(e),e.va(t.onlineState),u.ya&&e.Ca(u.ya)&&Cg(t)}async function xg(i,e){const t=be(i),s=e.query;let o=3;const u=t.queries.get(s);if(u){const h=u.wa.indexOf(e);h>=0&&(u.wa.splice(h,1),u.wa.length===0?o=e.ba()?0:1:!u.Sa()&&e.ba()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function pO(i,e){const t=be(i);let s=!1;for(const o of e){const u=o.query,h=t.queries.get(u);if(h){for(const m of h.wa)m.Ca(o)&&(s=!0);h.ya=o}}s&&Cg(t)}function gO(i,e,t){const s=be(i),o=s.queries.get(e);if(o)for(const u of o.wa)u.onError(t);s.queries.delete(e)}function Cg(i){i.Da.forEach(e=>{e.next()})}var kp,GE;(GE=kp||(kp={})).Fa="default",GE.Cache="cache";class Ng{constructor(e,t,s){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=s||{}}Ca(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Po(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;const s=t!=="Offline";return(!this.options.ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=Po.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==kp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1{constructor(e){this.key=e}}class H1{constructor(e){this.key=e}}class yO{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=ke(),this.mutatedKeys=ke(),this.Xa=l1(e),this.eu=new Ro(this.Xa)}get tu(){return this.Ha}nu(e,t){const s=t?t.ru:new FE,o=t?t.eu:this.eu;let u=t?t.mutatedKeys:this.mutatedKeys,h=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((_,A)=>{const w=o.get(_),I=_f(this.query,A)?A:null,x=!!w&&this.mutatedKeys.has(w.key),q=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let V=!1;w&&I?w.data.isEqual(I.data)?x!==q&&(s.track({type:3,doc:I}),V=!0):this.iu(w,I)||(s.track({type:2,doc:I}),V=!0,(p&&this.Xa(I,p)>0||g&&this.Xa(I,g)<0)&&(m=!0)):!w&&I?(s.track({type:0,doc:I}),V=!0):w&&!I&&(s.track({type:1,doc:w}),V=!0,(p||g)&&(m=!0)),V&&(I?(h=h.add(I),u=q?u.add(_):u.delete(_)):(h=h.delete(_),u=u.delete(_)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const _=this.query.limitType==="F"?h.last():h.first();h=h.delete(_.key),u=u.delete(_.key),s.track({type:1,doc:_})}return{eu:h,ru:s,Ds:m,mutatedKeys:u}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const u=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const h=e.ru.pa();h.sort((_,A)=>function(I,x){const q=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te(20277,{At:V})}};return q(I)-q(x)}(_.type,A.type)||this.Xa(_.doc,A.doc)),this.su(s),o=o!=null&&o;const m=t&&!o?this.ou():[],p=this.Za.size===0&&this.current&&!o?1:0,g=p!==this.Ya;return this.Ya=p,h.length!==0||g?{snapshot:new Po(this.query,e.eu,u,h,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),_u:m}:{_u:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new FE,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=ke(),this.eu.forEach(s=>{this.au(s.key)&&(this.Za=this.Za.add(s.key))});const t=[];return e.forEach(s=>{this.Za.has(s)||t.push(new H1(s))}),this.Za.forEach(s=>{e.has(s)||t.push(new F1(s))}),t}uu(e){this.Ha=e.qs,this.Za=ke();const t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return Po.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const Dg="SyncEngine";class vO{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class _O{constructor(e){this.key=e,this.lu=!1}}class EO{constructor(e,t,s,o,u,h){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.hu={},this.Pu=new Ea(m=>o1(m),vf),this.Tu=new Map,this.Iu=new Set,this.du=new ut(ge.comparator),this.Eu=new Map,this.Au=new yg,this.Ru={},this.Vu=new Map,this.mu=ko.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function TO(i,e,t=!0){const s=X1(i);let o;const u=s.Pu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.cu()):o=await G1(s,e,t,!0),o}async function wO(i,e){const t=X1(i);await G1(t,e,!0,!1)}async function G1(i,e,t,s){const o=await qD(i.localStore,Ii(e)),u=o.targetId,h=i.sharedClientState.addLocalQueryTarget(u,t);let m;return s&&(m=await AO(i,e,u,h==="current",o.resumeToken)),i.isPrimaryClient&&t&&j1(i.remoteStore,o),m}async function AO(i,e,t,s,o){i.gu=(A,w,I)=>async function(q,V,k,Y){let Z=V.view.nu(k);Z.Ds&&(Z=await jE(q.localStore,V.query,!1).then(({documents:O})=>V.view.nu(O,Z)));const se=Y&&Y.targetChanges.get(V.targetId),oe=Y&&Y.targetMismatches.get(V.targetId)!=null,de=V.view.applyChanges(Z,q.isPrimaryClient,se,oe);return $E(q,V.targetId,de._u),de.snapshot}(i,A,w,I);const u=await jE(i.localStore,e,!0),h=new yO(e,u.qs),m=h.nu(u.documents),p=ju.createSynthesizedTargetChangeForCurrentChange(t,s&&i.onlineState!=="Offline",o),g=h.applyChanges(m,i.isPrimaryClient,p);$E(i,t,g._u);const _=new vO(e,t,h);return i.Pu.set(e,_),i.Tu.has(t)?i.Tu.get(t).push(e):i.Tu.set(t,[e]),g.snapshot}async function SO(i,e,t){const s=be(i),o=s.Pu.get(e),u=s.Tu.get(o.targetId);if(u.length>1)return s.Tu.set(o.targetId,u.filter(h=>!vf(h,e))),void s.Pu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Op(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),t&&Tg(s.remoteStore,o.targetId),Pp(s,o.targetId)}).catch(qo)):(Pp(s,o.targetId),await Op(s.localStore,o.targetId,!0))}async function bO(i,e){const t=be(i),s=t.Pu.get(e),o=t.Tu.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),Tg(t.remoteStore,s.targetId))}async function RO(i,e,t){const s=MO(i);try{const o=await function(h,m){const p=be(h),g=tt.now(),_=m.reduce((I,x)=>I.add(x.key),ke());let A,w;return p.persistence.runTransaction("Locally write mutations","readwrite",I=>{let x=yr(),q=ke();return p.Os.getEntries(I,_).next(V=>{x=V,x.forEach((k,Y)=>{Y.isValidDocument()||(q=q.add(k))})}).next(()=>p.localDocuments.getOverlayedDocuments(I,x)).next(V=>{A=V;const k=[];for(const Y of m){const Z=qN(Y,A.get(Y.key).overlayedDocument);Z!=null&&k.push(new vs(Y.key,Z,Jw(Z.value.mapValue),Jn.exists(!0)))}return p.mutationQueue.addMutationBatch(I,g,k,m)}).next(V=>{w=V;const k=V.applyToLocalDocumentSet(A,q);return p.documentOverlayCache.saveOverlays(I,V.batchId,k)})}).then(()=>({batchId:w.batchId,changes:c1(A)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(h,m,p){let g=h.Ru[h.currentUser.toKey()];g||(g=new ut(xe)),g=g.insert(m,p),h.Ru[h.currentUser.toKey()]=g}(s,o.batchId,t),await Uu(s,o.changes),await Rf(s.remoteStore)}catch(o){const u=Rg(o,"Failed to persist write");t.reject(u)}}async function Q1(i,e){const t=be(i);try{const s=await UD(t.localStore,e);e.targetChanges.forEach((o,u)=>{const h=t.Eu.get(u);h&&(Fe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.lu=!0:o.modifiedDocuments.size>0?Fe(h.lu,14607):o.removedDocuments.size>0&&(Fe(h.lu,42227),h.lu=!1))}),await Uu(t,s,e)}catch(s){await qo(s)}}function QE(i,e,t){const s=be(i);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.Pu.forEach((u,h)=>{const m=h.view.va(e);m.snapshot&&o.push(m.snapshot)}),function(h,m){const p=be(h);p.onlineState=m;let g=!1;p.queries.forEach((_,A)=>{for(const w of A.wa)w.va(m)&&(g=!0)}),g&&Cg(p)}(s.eventManager,e),o.length&&s.hu.J_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function IO(i,e,t){const s=be(i);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Eu.get(e),u=o&&o.key;if(u){let h=new ut(ge.comparator);h=h.insert(u,Zt.newNoDocument(u,Se.min()));const m=ke().add(u),p=new Af(Se.min(),new Map,new ut(xe),h,m);await Q1(s,p),s.du=s.du.remove(u),s.Eu.delete(e),Og(s)}else await Op(s.localStore,e,!1).then(()=>Pp(s,e,t)).catch(qo)}async function xO(i,e){const t=be(i),s=e.batch.batchId;try{const o=await LD(t.localStore,e);K1(t,s,null),$1(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await Uu(t,o)}catch(o){await qo(o)}}async function CO(i,e,t){const s=be(i);try{const o=await function(h,m){const p=be(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let _;return p.mutationQueue.lookupMutationBatch(g,m).next(A=>(Fe(A!==null,37113),_=A.keys(),p.mutationQueue.removeMutationBatch(g,A))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,_,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,_)).next(()=>p.localDocuments.getDocuments(g,_))})}(s.localStore,e);K1(s,e,t),$1(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await Uu(s,o)}catch(o){await qo(o)}}function $1(i,e){(i.Vu.get(e)||[]).forEach(t=>{t.resolve()}),i.Vu.delete(e)}function K1(i,e,t){const s=be(i);let o=s.Ru[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),s.Ru[s.currentUser.toKey()]=o}}function Pp(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Tu.get(e))i.Pu.delete(s),t&&i.hu.pu(s,t);i.Tu.delete(e),i.isPrimaryClient&&i.Au.zr(e).forEach(s=>{i.Au.containsKey(s)||Y1(i,s)})}function Y1(i,e){i.Iu.delete(e.path.canonicalString());const t=i.du.get(e);t!==null&&(Tg(i.remoteStore,t),i.du=i.du.remove(e),i.Eu.delete(t),Og(i))}function $E(i,e,t){for(const s of t)s instanceof F1?(i.Au.addReference(s.key,e),NO(i,s)):s instanceof H1?(he(Dg,"Document no longer in limbo: "+s.key),i.Au.removeReference(s.key,e),i.Au.containsKey(s.key)||Y1(i,s.key)):Te(19791,{yu:s})}function NO(i,e){const t=e.key,s=t.path.canonicalString();i.du.get(t)||i.Iu.has(s)||(he(Dg,"New document in limbo: "+t),i.Iu.add(s),Og(i))}function Og(i){for(;i.Iu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Iu.values().next().value;i.Iu.delete(e);const t=new ge(et.fromString(e)),s=i.mu.next();i.Eu.set(s,new _O(t)),i.du=i.du.insert(t,s),j1(i.remoteStore,new ts(Ii(yf(t.path)),s,"TargetPurposeLimboResolution",mf.ue))}}async function Uu(i,e,t){const s=be(i),o=[],u=[],h=[];s.Pu.isEmpty()||(s.Pu.forEach((m,p)=>{h.push(s.gu(p,e,t).then(g=>{var _;if((g||t)&&s.isPrimaryClient){const A=g?!g.fromCache:(_=t?.targetChanges.get(p.targetId))===null||_===void 0?void 0:_.current;s.sharedClientState.updateQueryState(p.targetId,A?"current":"not-current")}if(g){o.push(g);const A=_g.Es(p.targetId,g);u.push(A)}}))}),await Promise.all(h),s.hu.J_(o),await async function(p,g){const _=be(p);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",A=>ne.forEach(g,w=>ne.forEach(w.Is,I=>_.persistence.referenceDelegate.addReference(A,w.targetId,I)).next(()=>ne.forEach(w.ds,I=>_.persistence.referenceDelegate.removeReference(A,w.targetId,I)))))}catch(A){if(!Fo(A))throw A;he(Eg,"Failed to update sequence numbers: "+A)}for(const A of g){const w=A.targetId;if(!A.fromCache){const I=_.Fs.get(w),x=I.snapshotVersion,q=I.withLastLimboFreeSnapshotVersion(x);_.Fs=_.Fs.insert(w,q)}}}(s.localStore,u))}async function DO(i,e){const t=be(i);if(!t.currentUser.isEqual(e)){he(Dg,"User change. New user:",e.toKey());const s=await M1(t.localStore,e);t.currentUser=e,function(u,h){u.Vu.forEach(m=>{m.forEach(p=>{p.reject(new ce(ee.CANCELLED,h))})}),u.Vu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Uu(t,s.Bs)}}function OO(i,e){const t=be(i),s=t.Eu.get(e);if(s&&s.lu)return ke().add(s.key);{let o=ke();const u=t.Tu.get(e);if(!u)return o;for(const h of u){const m=t.Pu.get(h);o=o.unionWith(m.view.tu)}return o}}function X1(i){const e=be(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Q1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=OO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=IO.bind(null,e),e.hu.J_=pO.bind(null,e.eventManager),e.hu.pu=gO.bind(null,e.eventManager),e}function MO(i){const e=be(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=xO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=CO.bind(null,e),e}class Yh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Sf(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,t){return null}Fu(e,t){return null}vu(e){return jD(this.persistence,new kD,e.initialUser,this.serializer)}Du(e){return new O1(vg.Vi,this.serializer)}bu(e){return new HD}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Yh.provider={build:()=>new Yh};class kO extends Yh{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){Fe(this.persistence.referenceDelegate instanceof $h,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new _D(s,e.asyncQueue,t)}Du(e){const t=this.cacheSizeBytes!==void 0?un.withCacheSize(this.cacheSizeBytes):un.DEFAULT;return new O1(s=>$h.Vi(s,t),this.serializer)}}class Vp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>QE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=DO.bind(null,this.syncEngine),await fO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new mO}()}createDatastore(e){const t=Sf(e.databaseInfo.databaseId),s=function(u){return new YD(u)}(e.databaseInfo);return function(u,h,m,p){return new JD(u,h,m,p)}(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return function(s,o,u,h,m){return new tO(s,o,u,h,m)}(this.localStore,this.datastore,e.asyncQueue,t=>QE(this.syncEngine,t,0),function(){return BE.C()?new BE:new GD}())}createSyncEngine(e,t){return function(o,u,h,m,p,g,_){const A=new EO(o,u,h,m,p,g);return _&&(A.fu=!0),A}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const u=be(o);he(fa,"RemoteStore shutting down."),u.Ia.add(5),await Lu(u),u.Ea.shutdown(),u.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Vp.provider={build:()=>new Vp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mg{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):gr("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ds="FirestoreClient";class PO{constructor(e,t,s,o,u){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=Wt.UNAUTHENTICATED,this.clientId=og.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async h=>{he(ds,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(s,h=>(he(ds,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new fr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=Rg(t,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function ip(i,e){i.asyncQueue.verifyOperationInProgress(),he(ds,"Initializing OfflineComponentProvider");const t=i.configuration;await e.initialize(t);let s=t.initialUser;i.setCredentialChangeListener(async o=>{s.isEqual(o)||(await M1(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>{os("Terminating Firestore due to IndexedDb database deletion"),i.terminate().then(()=>{he("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(o=>{os("Terminating Firestore due to IndexedDb database deletion failed",o)})}),i._offlineComponents=e}async function KE(i,e){i.asyncQueue.verifyOperationInProgress();const t=await VO(i);he(ds,"Initializing OnlineComponentProvider"),await e.initialize(t,i.configuration),i.setCredentialChangeListener(s=>qE(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,o)=>qE(e.remoteStore,o)),i._onlineComponents=e}async function VO(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){he(ds,"Using user provided OfflineComponentProvider");try{await ip(i,i._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===ee.FAILED_PRECONDITION||o.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;os("Error using user provided cache. Falling back to memory cache: "+t),await ip(i,new Yh)}}else he(ds,"Using default OfflineComponentProvider"),await ip(i,new kO(void 0));return i._offlineComponents}async function W1(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(he(ds,"Using user provided OnlineComponentProvider"),await KE(i,i._uninitializedComponentsProvider._online)):(he(ds,"Using default OnlineComponentProvider"),await KE(i,new Vp))),i._onlineComponents}function jO(i){return W1(i).then(e=>e.syncEngine)}async function Xh(i){const e=await W1(i),t=e.eventManager;return t.onListen=TO.bind(null,e.syncEngine),t.onUnlisten=SO.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=wO.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=bO.bind(null,e.syncEngine),t}function LO(i,e,t={}){const s=new fr;return i.asyncQueue.enqueueAndForget(async()=>function(u,h,m,p,g){const _=new Mg({next:w=>{_.Ou(),h.enqueueAndForget(()=>xg(u,A));const I=w.docs.has(m);!I&&w.fromCache?g.reject(new ce(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&w.fromCache&&p&&p.source==="server"?g.reject(new ce(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(w)},error:w=>g.reject(w)}),A=new Ng(yf(m.path),_,{includeMetadataChanges:!0,ka:!0});return Ig(u,A)}(await Xh(i),i.asyncQueue,e,t,s)),s.promise}function UO(i,e,t={}){const s=new fr;return i.asyncQueue.enqueueAndForget(async()=>function(u,h,m,p,g){const _=new Mg({next:w=>{_.Ou(),h.enqueueAndForget(()=>xg(u,A)),w.fromCache&&p.source==="server"?g.reject(new ce(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(w)},error:w=>g.reject(w)}),A=new Ng(m,_,{includeMetadataChanges:!0,ka:!0});return Ig(u,A)}(await Xh(i),i.asyncQueue,e,t,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z1(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J1="firestore.googleapis.com",XE=!0;class WE{constructor(e){var t,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ce(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=J1,this.ssl=XE}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:XE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=D1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<yD)throw new ce(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}iN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Z1((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new ce(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new ce(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new ce(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class If{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new WE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new WE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new KC;switch(s.type){case"firstParty":return new ZC(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ce(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const s=YE.get(t);s&&(he("ComponentProvider","Removing Datastore"),YE.delete(t),s.terminate())}(this),Promise.resolve()}}function BO(i,e,t,s={}){var o;i=Rn(i,If);const u=ga(e),h=i._getSettings(),m=Object.assign(Object.assign({},h),{emulatorOptions:i._getEmulatorOptions()}),p=`${e}:${t}`;u&&(Kp(`https://${p}`),Yp("Firestore",!0)),h.host!==J1&&h.host!==p&&os("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},h),{host:p,ssl:u,emulatorOptions:s});if(!Di(g,m)&&(i._setSettings(g),s.mockUserToken)){let _,A;if(typeof s.mockUserToken=="string")_=s.mockUserToken,A=Wt.MOCK_USER;else{_=FT(s.mockUserToken,(o=i._app)===null||o===void 0?void 0:o.options.projectId);const w=s.mockUserToken.sub||s.mockUserToken.user_id;if(!w)throw new ce(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Wt(w)}i._authCredentials=new YC(new Bw(_,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Er(this.firestore,e,this._query)}}class dt{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ss(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new dt(this.firestore,e,this._key)}toJSON(){return{type:dt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,s){if(Pu(t,dt._jsonSchema))return new dt(e,s||null,new ge(et.fromString(t.referencePath)))}}dt._jsonSchemaVersion="firestore/documentReference/1.0",dt._jsonSchema={type:bt("string",dt._jsonSchemaVersion),referencePath:bt("string")};class ss extends Er{constructor(e,t,s){super(e,t,yf(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new dt(this.firestore,null,new ge(e))}withConverter(e){return new ss(this.firestore,e,this._path)}}function ei(i,e,...t){if(i=lt(i),qw("collection","path",e),i instanceof If){const s=et.fromString(e,...t);return cE(s),new ss(i,null,s)}{if(!(i instanceof dt||i instanceof ss))throw new ce(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(et.fromString(e,...t));return cE(s),new ss(i.firestore,null,s)}}function sn(i,e,...t){if(i=lt(i),arguments.length===1&&(e=og.newId()),qw("doc","path",e),i instanceof If){const s=et.fromString(e,...t);return uE(s),new dt(i,null,new ge(s))}{if(!(i instanceof dt||i instanceof ss))throw new ce(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(et.fromString(e,...t));return uE(s),new dt(i.firestore,i instanceof ss?i.converter:null,new ge(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZE="AsyncQueue";class JE{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new P1(this,"async_queue_retry"),this.oc=()=>{const s=np();s&&he(ZE,"Visibility state changed to "+s.visibilityState),this.F_.y_()},this._c=e;const t=np();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const t=np();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const t=new fr;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Fo(e))throw e;he(ZE,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const t=this._c.then(()=>(this.nc=!0,e().catch(s=>{throw this.tc=s,this.nc=!1,gr("INTERNAL UNHANDLED ERROR: ",eT(s)),s}).then(s=>(this.nc=!1,s))));return this._c=t,t}enqueueAfterDelay(e,t,s){this.ac(),this.sc.indexOf(e)>-1&&(t=0);const o=bg.createAndSchedule(this,e,t,s,u=>this.lc(u));return this.ec.push(o),o}ac(){this.tc&&Te(47125,{hc:eT(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const t=this.ec.indexOf(e);this.ec.splice(t,1)}}function eT(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tT(i){return function(t,s){if(typeof t!="object"||t===null)return!1;const o=t;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1}(i,["next","error","complete"])}class ms extends If{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new JE,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new JE(e),this._firestoreClient=void 0,await e}}}function zO(i,e){const t=typeof i=="object"?i:uf(),s=typeof i=="string"?i:qh,o=ps(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=BT("firestore");u&&BO(o,...u)}return o}function xf(i){if(i._terminated)throw new ce(ee.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||qO(i),i._firestoreClient}function qO(i){var e,t,s;const o=i._freezeSettings(),u=function(m,p,g,_){return new mN(m,p,g,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,Z1(_.experimentalLongPollingOptions),_.useFetchStreams,_.isUsingEmulator)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,o);i._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),i._firestoreClient=new PO(i._authCredentials,i._appCheckCredentials,i._queue,u,i._componentsProvider&&function(m){const p=m?._online.build();return{_offline:m?._offline.build(p),_online:p}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new zn(Qt.fromBase64String(e))}catch(t){throw new ce(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new zn(Qt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:zn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Pu(e,zn._jsonSchema))return zn.fromBase64String(e.bytes)}}zn._jsonSchemaVersion="firestore/bytes/1.0",zn._jsonSchema={type:bt("string",zn._jsonSchemaVersion),bytes:bt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ce(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Gt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ce(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ce(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return xe(this._lat,e._lat)||xe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ci._jsonSchemaVersion}}static fromJSON(e){if(Pu(e,Ci._jsonSchema))return new Ci(e.latitude,e.longitude)}}Ci._jsonSchemaVersion="firestore/geoPoint/1.0",Ci._jsonSchema={type:bt("string",Ci._jsonSchemaVersion),latitude:bt("number"),longitude:bt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Ni._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Pu(e,Ni._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new Ni(e.vectorValues);throw new ce(ee.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ni._jsonSchemaVersion="firestore/vectorValue/1.0",Ni._jsonSchema={type:bt("string",Ni._jsonSchemaVersion),vectorValues:bt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FO=/^__.*__$/;class HO{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new vs(e,this.data,this.fieldMask,t,this.fieldTransforms):new Vu(e,this.data,t,this.fieldTransforms)}}class eA{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new vs(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function tA(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te(40011,{Ec:i})}}class Nf{constructor(e,t,s,o,u,h){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Ac(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new Nf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Rc({path:s,mc:!1});return o.fc(e),o}gc(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Rc({path:s,mc:!1});return o.Ac(),o}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Wh(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(tA(this.Ec)&&FO.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class GO{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||Sf(e)}Dc(e,t,s,o=!1){return new Nf({Ec:e,methodName:t,bc:s,path:Gt.emptyPath(),mc:!1,Sc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Df(i){const e=i._freezeSettings(),t=Sf(i._databaseId);return new GO(i._databaseId,!!e.ignoreUndefinedProperties,t)}function nA(i,e,t,s,o,u={}){const h=i.Dc(u.merge||u.mergeFields?2:0,e,t,o);Lg("Data must be an object, but it was:",h,s);const m=rA(s,h);let p,g;if(u.merge)p=new bn(h.fieldMask),g=h.fieldTransforms;else if(u.mergeFields){const _=[];for(const A of u.mergeFields){const w=jp(e,A,t);if(!h.contains(w))throw new ce(ee.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);aA(_,w)||_.push(w)}p=new bn(_),g=h.fieldTransforms.filter(A=>p.covers(A.field))}else p=null,g=h.fieldTransforms;return new HO(new cn(m),p,g)}class Of extends wa{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Of}}function iA(i,e,t){return new Nf({Ec:3,bc:e.settings.bc,methodName:i._methodName,mc:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class kg extends wa{_toFieldTransform(e){return new Tf(e.path,new bu)}isEqual(e){return e instanceof kg}}class Pg extends wa{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){const t=iA(this,e,!0),s=this.vc.map(u=>Aa(u,t)),o=new Oo(s);return new Tf(e.path,o)}isEqual(e){return e instanceof Pg&&Di(this.vc,e.vc)}}class Vg extends wa{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){const t=iA(this,e,!0),s=this.vc.map(u=>Aa(u,t)),o=new Mo(s);return new Tf(e.path,o)}isEqual(e){return e instanceof Vg&&Di(this.vc,e.vc)}}class jg extends wa{constructor(e,t){super(e),this.Cc=t}_toFieldTransform(e){const t=new Ru(e.serializer,d1(e.serializer,this.Cc));return new Tf(e.path,t)}isEqual(e){return e instanceof jg&&this.Cc===e.Cc}}function QO(i,e,t,s){const o=i.Dc(1,e,t);Lg("Data must be an object, but it was:",o,s);const u=[],h=cn.empty();ys(s,(p,g)=>{const _=Ug(e,p,t);g=lt(g);const A=o.gc(_);if(g instanceof Of)u.push(_);else{const w=Aa(g,A);w!=null&&(u.push(_),h.set(_,w))}});const m=new bn(u);return new eA(h,m,o.fieldTransforms)}function $O(i,e,t,s,o,u){const h=i.Dc(1,e,t),m=[jp(e,s,t)],p=[o];if(u.length%2!=0)throw new ce(ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<u.length;w+=2)m.push(jp(e,u[w])),p.push(u[w+1]);const g=[],_=cn.empty();for(let w=m.length-1;w>=0;--w)if(!aA(g,m[w])){const I=m[w];let x=p[w];x=lt(x);const q=h.gc(I);if(x instanceof Of)g.push(I);else{const V=Aa(x,q);V!=null&&(g.push(I),_.set(I,V))}}const A=new bn(g);return new eA(_,A,h.fieldTransforms)}function KO(i,e,t,s=!1){return Aa(t,i.Dc(s?4:3,e))}function Aa(i,e){if(sA(i=lt(i)))return Lg("Unsupported field value:",e,i),rA(i,e);if(i instanceof wa)return function(s,o){if(!tA(o.Ec))throw o.wc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.wc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(s,o){const u=[];let h=0;for(const m of s){let p=Aa(m,o.yc(h));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),h++}return{arrayValue:{values:u}}}(i,e)}return function(s,o){if((s=lt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return d1(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=tt.fromDate(s);return{timestampValue:Qh(o.serializer,u)}}if(s instanceof tt){const u=new tt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Qh(o.serializer,u)}}if(s instanceof Ci)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof zn)return{bytesValue:S1(o.serializer,s._byteString)};if(s instanceof dt){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.wc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:gg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Ni)return function(h,m){return{mapValue:{fields:{[Ww]:{stringValue:Zw},[Fh]:{arrayValue:{values:h.toArray().map(g=>{if(typeof g!="number")throw m.wc("VectorValues must only contain numeric values.");return dg(m.serializer,g)})}}}}}}(s,o);throw o.wc(`Unsupported field value: ${df(s)}`)}(i,e)}function rA(i,e){const t={};return Gw(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ys(i,(s,o)=>{const u=Aa(o,e.Vc(s));u!=null&&(t[s]=u)}),{mapValue:{fields:t}}}function sA(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof tt||i instanceof Ci||i instanceof zn||i instanceof dt||i instanceof wa||i instanceof Ni)}function Lg(i,e,t){if(!sA(t)||!Fw(t)){const s=df(t);throw s==="an object"?e.wc(i+" a custom object"):e.wc(i+" "+s)}}function jp(i,e,t){if((e=lt(e))instanceof Cf)return e._internalPath;if(typeof e=="string")return Ug(i,e);throw Wh("Field path arguments must be of type string or ",i,!1,void 0,t)}const YO=new RegExp("[~\\*/\\[\\]]");function Ug(i,e,t){if(e.search(YO)>=0)throw Wh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new Cf(...e.split("."))._internalPath}catch{throw Wh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function Wh(i,e,t,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||h)&&(p+=" (found",u&&(p+=` in field ${s}`),h&&(p+=` in document ${o}`),p+=")"),new ce(ee.INVALID_ARGUMENT,m+i+p)}function aA(i,e){return i.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA{constructor(e,t,s,o,u){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new dt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new XO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Mf("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class XO extends oA{data(){return super.data()}}function Mf(i,e){return typeof e=="string"?Ug(i,e):e instanceof Cf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lA(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new ce(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Bg{}class zg extends Bg{}function aa(i,e,...t){let s=[];e instanceof Bg&&s.push(e),s=s.concat(t),function(u){const h=u.filter(p=>p instanceof qg).length,m=u.filter(p=>p instanceof kf).length;if(h>1||h>0&&m>0)throw new ce(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)i=o._apply(i);return i}class kf extends zg{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new kf(e,t,s)}_apply(e){const t=this._parse(e);return uA(e._query,t),new Er(e.firestore,e.converter,Ip(e._query,t))}_parse(e){const t=Df(e.firestore);return function(u,h,m,p,g,_,A){let w;if(g.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new ce(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){iT(A,_);const x=[];for(const q of A)x.push(nT(p,u,q));w={arrayValue:{values:x}}}else w=nT(p,u,A)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||iT(A,_),w=KO(m,h,A,_==="in"||_==="not-in");return St.create(g,_,w)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Lp(i,e,t){const s=e,o=Mf("where",i);return kf._create(o,s,t)}class qg extends Bg{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new qg(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return t.length===1?t[0]:ii.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,u){let h=o;const m=u.getFlattenedFilters();for(const p of m)uA(h,p),h=Ip(h,p)}(e._query,t),new Er(e.firestore,e.converter,Ip(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Fg extends zg{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Fg(e,t)}_apply(e){const t=function(o,u,h){if(o.startAt!==null)throw new ce(ee.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ce(ee.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Su(u,h)}(e._query,this._field,this._direction);return new Er(e.firestore,e.converter,function(o,u){const h=o.explicitOrderBy.concat([u]);return new Ho(o.path,o.collectionGroup,h,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}function Nh(i,e="asc"){const t=e,s=Mf("orderBy",i);return Fg._create(s,t)}class Hg extends zg{constructor(e,t,s){super(),this.type=e,this._limit=t,this._limitType=s}static _create(e,t,s){return new Hg(e,t,s)}_apply(e){return new Er(e.firestore,e.converter,Gh(e._query,this._limit,this._limitType))}}function rp(i){return Hg._create("limit",i,"F")}function nT(i,e,t){if(typeof(t=lt(t))=="string"){if(t==="")throw new ce(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!a1(e)&&t.indexOf("/")!==-1)throw new ce(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(et.fromString(t));if(!ge.isDocumentKey(s))throw new ce(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return vE(i,new ge(s))}if(t instanceof dt)return vE(i,t._key);throw new ce(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${df(t)}.`)}function iT(i,e){if(!Array.isArray(i)||i.length===0)throw new ce(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function uA(i,e){const t=function(o,u){for(const h of o)for(const m of h.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(i.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new ce(ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ce(ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class WO{convertValue(e,t="none"){switch(hs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(cs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Te(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return ys(e,(o,u)=>{s[o]=this.convertValue(u,t)}),s}convertVectorValue(e){var t,s,o;const u=(o=(s=(t=e.fields)===null||t===void 0?void 0:t[Fh].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(h=>vt(h.doubleValue));return new Ni(u)}convertGeoPoint(e){return new Ci(vt(e.latitude),vt(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=gf(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(Tu(e));default:return null}}convertTimestamp(e){const t=us(e);return new tt(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=et.fromString(e);Fe(N1(s),9688,{name:e});const o=new wu(s.get(1),s.get(3)),u=new ge(s.popFirst(5));return o.isEqual(t)||gr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cA(i,e,t){let s;return s=i?i.toFirestore(e):e,s}class uu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class oa extends oA{constructor(e,t,s,o,u,h){super(e,t,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Dh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Mf("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(ee.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=oa._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}oa._jsonSchemaVersion="firestore/documentSnapshot/1.0",oa._jsonSchema={type:bt("string",oa._jsonSchemaVersion),bundleSource:bt("string","DocumentSnapshot"),bundleName:bt("string"),bundle:bt("string")};class Dh extends oa{data(e={}){return super.data(e)}}class la{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new uu(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new Dh(this._firestore,this._userDataWriter,s.key,s,new uu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ce(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(m=>{const p=new Dh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new uu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}})}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new Dh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new uu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,_=-1;return m.type!==0&&(g=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),_=h.indexOf(m.doc.key)),{type:ZO(m.type),doc:p,oldIndex:g,newIndex:_}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(ee.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=la._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=og.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],s=[],o=[];return this.docs.forEach(u=>{u._document!==null&&(t.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function ZO(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te(61501,{type:i})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vo(i){i=Rn(i,dt);const e=Rn(i.firestore,ms);return LO(xf(e),i._key).then(t=>fA(e,i,t))}la._jsonSchemaVersion="firestore/querySnapshot/1.0",la._jsonSchema={type:bt("string",la._jsonSchemaVersion),bundleSource:bt("string","QuerySnapshot"),bundleName:bt("string"),bundle:bt("string")};class Gg extends WO{constructor(e){super(),this.firestore=e}convertBytes(e){return new zn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new dt(this.firestore,null,t)}}function Zh(i){i=Rn(i,Er);const e=Rn(i.firestore,ms),t=xf(e),s=new Gg(e);return lA(i._query),UO(t,i._query).then(o=>new la(e,s,i,o))}function rT(i,e,t){i=Rn(i,dt);const s=Rn(i.firestore,ms),o=cA(i.converter,e);return Qg(s,[nA(Df(s),"setDoc",i._key,o,i.converter!==null,t).toMutation(i._key,Jn.none())])}function vr(i,e,t,...s){i=Rn(i,dt);const o=Rn(i.firestore,ms),u=Df(o);let h;return h=typeof(e=lt(e))=="string"||e instanceof Cf?$O(u,"updateDoc",i._key,e,t,s):QO(u,"updateDoc",i._key,e),Qg(o,[h.toMutation(i._key,Jn.exists(!0))])}function hA(i,e){const t=Rn(i.firestore,ms),s=sn(i),o=cA(i.converter,e);return Qg(t,[nA(Df(i.firestore),"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,Jn.exists(!1))]).then(()=>s)}function Pf(i,...e){var t,s,o;i=lt(i);let u={includeMetadataChanges:!1,source:"default"},h=0;typeof e[h]!="object"||tT(e[h])||(u=e[h++]);const m={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(tT(e[h])){const A=e[h];e[h]=(t=A.next)===null||t===void 0?void 0:t.bind(A),e[h+1]=(s=A.error)===null||s===void 0?void 0:s.bind(A),e[h+2]=(o=A.complete)===null||o===void 0?void 0:o.bind(A)}let p,g,_;if(i instanceof dt)g=Rn(i.firestore,ms),_=yf(i._key.path),p={next:A=>{e[h]&&e[h](fA(g,i,A))},error:e[h+1],complete:e[h+2]};else{const A=Rn(i,Er);g=Rn(A.firestore,ms),_=A._query;const w=new Gg(g);p={next:I=>{e[h]&&e[h](new la(g,w,A,I))},error:e[h+1],complete:e[h+2]},lA(i._query)}return function(w,I,x,q){const V=new Mg(q),k=new Ng(I,V,x);return w.asyncQueue.enqueueAndForget(async()=>Ig(await Xh(w),k)),()=>{V.Ou(),w.asyncQueue.enqueueAndForget(async()=>xg(await Xh(w),k))}}(xf(g),_,m,p)}function Qg(i,e){return function(s,o){const u=new fr;return s.asyncQueue.enqueueAndForget(async()=>RO(await jO(s),o,u)),u.promise}(xf(i),e)}function fA(i,e,t){const s=t.docs.get(e._key),o=new Gg(i);return new oa(i,o,e._key,s,new uu(t.hasPendingWrites,t.fromCache),e.converter)}function as(){return new kg("serverTimestamp")}function $g(...i){return new Pg("arrayUnion",i)}function Jh(...i){return new Vg("arrayRemove",i)}function Io(i){return new jg("increment",i)}(function(e,t=!0){(function(o){zo=o})(va),ti(new Fn("firestore",(s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),m=new ms(new XC(s.getProvider("auth-internal")),new JC(h,s.getProvider("app-check-internal")),function(g,_){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ce(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new wu(g.options.projectId,_)}(h,o),h);return u=Object.assign({useFetchStreams:t},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),fn(rE,sE,e),fn(rE,sE,"esm2017")})();var JO="firebase",e4="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fn(JO,e4,"app");const dA="@firebase/installations",Kg="0.6.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mA=1e4,pA=`w:${Kg}`,gA="FIS_v2",t4="https://firebaseinstallations.googleapis.com/v1",n4=60*60*1e3,i4="installations",r4="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s4={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},da=new ya(i4,r4,s4);function yA(i){return i instanceof Hn&&i.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vA({projectId:i}){return`${t4}/projects/${i}/installations`}function _A(i){return{token:i.token,requestStatus:2,expiresIn:o4(i.expiresIn),creationTime:Date.now()}}async function EA(i,e){const s=(await e.json()).error;return da.create("request-failed",{requestName:i,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function TA({apiKey:i}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":i})}function a4(i,{refreshToken:e}){const t=TA(i);return t.append("Authorization",l4(e)),t}async function wA(i){const e=await i();return e.status>=500&&e.status<600?i():e}function o4(i){return Number(i.replace("s","000"))}function l4(i){return`${gA} ${i}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u4({appConfig:i,heartbeatServiceProvider:e},{fid:t}){const s=vA(i),o=TA(i),u=e.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const h={fid:t,authVersion:gA,appId:i.appId,sdkVersion:pA},m={method:"POST",headers:o,body:JSON.stringify(h)},p=await wA(()=>fetch(s,m));if(p.ok){const g=await p.json();return{fid:g.fid||t,registrationStatus:2,refreshToken:g.refreshToken,authToken:_A(g.authToken)}}else throw await EA("Create Installation",p)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AA(i){return new Promise(e=>{setTimeout(e,i)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c4(i){return btoa(String.fromCharCode(...i)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h4=/^[cdef][\w-]{21}$/,Up="";function f4(){try{const i=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(i),i[0]=112+i[0]%16;const t=d4(i);return h4.test(t)?t:Up}catch{return Up}}function d4(i){return c4(i).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vf(i){return`${i.appName}!${i.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SA=new Map;function bA(i,e){const t=Vf(i);RA(t,e),m4(t,e)}function RA(i,e){const t=SA.get(i);if(t)for(const s of t)s(e)}function m4(i,e){const t=p4();t&&t.postMessage({key:i,fid:e}),g4()}let sa=null;function p4(){return!sa&&"BroadcastChannel"in self&&(sa=new BroadcastChannel("[Firebase] FID Change"),sa.onmessage=i=>{RA(i.data.key,i.data.fid)}),sa}function g4(){SA.size===0&&sa&&(sa.close(),sa=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y4="firebase-installations-database",v4=1,ma="firebase-installations-store";let sp=null;function Yg(){return sp||(sp=YT(y4,v4,{upgrade:(i,e)=>{switch(e){case 0:i.createObjectStore(ma)}}})),sp}async function ef(i,e){const t=Vf(i),o=(await Yg()).transaction(ma,"readwrite"),u=o.objectStore(ma),h=await u.get(t);return await u.put(e,t),await o.done,(!h||h.fid!==e.fid)&&bA(i,e.fid),e}async function IA(i){const e=Vf(i),s=(await Yg()).transaction(ma,"readwrite");await s.objectStore(ma).delete(e),await s.done}async function jf(i,e){const t=Vf(i),o=(await Yg()).transaction(ma,"readwrite"),u=o.objectStore(ma),h=await u.get(t),m=e(h);return m===void 0?await u.delete(t):await u.put(m,t),await o.done,m&&(!h||h.fid!==m.fid)&&bA(i,m.fid),m}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xg(i){let e;const t=await jf(i.appConfig,s=>{const o=_4(s),u=E4(i,o);return e=u.registrationPromise,u.installationEntry});return t.fid===Up?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function _4(i){const e=i||{fid:f4(),registrationStatus:0};return xA(e)}function E4(i,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(da.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=T4(i,t);return{installationEntry:t,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:w4(i)}:{installationEntry:e}}async function T4(i,e){try{const t=await u4(i,e);return ef(i.appConfig,t)}catch(t){throw yA(t)&&t.customData.serverCode===409?await IA(i.appConfig):await ef(i.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function w4(i){let e=await sT(i.appConfig);for(;e.registrationStatus===1;)await AA(100),e=await sT(i.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:s}=await Xg(i);return s||t}return e}function sT(i){return jf(i,e=>{if(!e)throw da.create("installation-not-found");return xA(e)})}function xA(i){return A4(i)?{fid:i.fid,registrationStatus:0}:i}function A4(i){return i.registrationStatus===1&&i.registrationTime+mA<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S4({appConfig:i,heartbeatServiceProvider:e},t){const s=b4(i,t),o=a4(i,t),u=e.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const h={installation:{sdkVersion:pA,appId:i.appId}},m={method:"POST",headers:o,body:JSON.stringify(h)},p=await wA(()=>fetch(s,m));if(p.ok){const g=await p.json();return _A(g)}else throw await EA("Generate Auth Token",p)}function b4(i,{fid:e}){return`${vA(i)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wg(i,e=!1){let t;const s=await jf(i.appConfig,u=>{if(!CA(u))throw da.create("not-registered");const h=u.authToken;if(!e&&x4(h))return u;if(h.requestStatus===1)return t=R4(i,e),u;{if(!navigator.onLine)throw da.create("app-offline");const m=N4(u);return t=I4(i,m),m}});return t?await t:s.authToken}async function R4(i,e){let t=await aT(i.appConfig);for(;t.authToken.requestStatus===1;)await AA(100),t=await aT(i.appConfig);const s=t.authToken;return s.requestStatus===0?Wg(i,e):s}function aT(i){return jf(i,e=>{if(!CA(e))throw da.create("not-registered");const t=e.authToken;return D4(t)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function I4(i,e){try{const t=await S4(i,e),s=Object.assign(Object.assign({},e),{authToken:t});return await ef(i.appConfig,s),t}catch(t){if(yA(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await IA(i.appConfig);else{const s=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await ef(i.appConfig,s)}throw t}}function CA(i){return i!==void 0&&i.registrationStatus===2}function x4(i){return i.requestStatus===2&&!C4(i)}function C4(i){const e=Date.now();return e<i.creationTime||i.creationTime+i.expiresIn<e+n4}function N4(i){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},i),{authToken:e})}function D4(i){return i.requestStatus===1&&i.requestTime+mA<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O4(i){const e=i,{installationEntry:t,registrationPromise:s}=await Xg(e);return s?s.catch(console.error):Wg(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M4(i,e=!1){const t=i;return await k4(t),(await Wg(t,e)).token}async function k4(i){const{registrationPromise:e}=await Xg(i);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P4(i){if(!i||!i.options)throw ap("App Configuration");if(!i.name)throw ap("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!i.options[t])throw ap(t);return{appName:i.name,projectId:i.options.projectId,apiKey:i.options.apiKey,appId:i.options.appId}}function ap(i){return da.create("missing-app-config-values",{valueName:i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NA="installations",V4="installations-internal",j4=i=>{const e=i.getProvider("app").getImmediate(),t=P4(e),s=ps(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},L4=i=>{const e=i.getProvider("app").getImmediate(),t=ps(e,NA).getImmediate();return{getId:()=>O4(t),getToken:o=>M4(t,o)}};function U4(){ti(new Fn(NA,j4,"PUBLIC")),ti(new Fn(V4,L4,"PRIVATE"))}U4();fn(dA,Kg);fn(dA,Kg,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tf="analytics",B4="firebase_id",z4="origin",q4=60*1e3,F4="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Zg="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dn=new lf("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H4={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},In=new ya("analytics","Analytics",H4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G4(i){if(!i.startsWith(Zg)){const e=In.create("invalid-gtag-resource",{gtagURL:i});return dn.warn(e.message),""}return i}function DA(i){return Promise.all(i.map(e=>e.catch(t=>t)))}function Q4(i,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(i,e)),t}function $4(i,e){const t=Q4("firebase-js-sdk-policy",{createScriptURL:G4}),s=document.createElement("script"),o=`${Zg}?l=${i}&id=${e}`;s.src=t?t?.createScriptURL(o):o,s.async=!0,document.head.appendChild(s)}function K4(i){let e=[];return Array.isArray(window[i])?e=window[i]:window[i]=e,e}async function Y4(i,e,t,s,o,u){const h=s[o];try{if(h)await e[h];else{const p=(await DA(t)).find(g=>g.measurementId===o);p&&await e[p.appId]}}catch(m){dn.error(m)}i("config",o,u)}async function X4(i,e,t,s,o){try{let u=[];if(o&&o.send_to){let h=o.send_to;Array.isArray(h)||(h=[h]);const m=await DA(t);for(const p of h){const g=m.find(A=>A.measurementId===p),_=g&&e[g.appId];if(_)u.push(_);else{u=[];break}}}u.length===0&&(u=Object.values(e)),await Promise.all(u),i("event",s,o||{})}catch(u){dn.error(u)}}function W4(i,e,t,s){async function o(u,...h){try{if(u==="event"){const[m,p]=h;await X4(i,e,t,m,p)}else if(u==="config"){const[m,p]=h;await Y4(i,e,t,s,m,p)}else if(u==="consent"){const[m,p]=h;i("consent",m,p)}else if(u==="get"){const[m,p,g]=h;i("get",m,p,g)}else if(u==="set"){const[m]=h;i("set",m)}else i(u,...h)}catch(m){dn.error(m)}}return o}function Z4(i,e,t,s,o){let u=function(...h){window[s].push(arguments)};return window[o]&&typeof window[o]=="function"&&(u=window[o]),window[o]=W4(u,i,e,t),{gtagCore:u,wrappedGtag:window[o]}}function J4(i){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(Zg)&&t.src.includes(i))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eM=30,tM=1e3;class nM{constructor(e={},t=tM){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const OA=new nM;function iM(i){return new Headers({Accept:"application/json","x-goog-api-key":i})}async function rM(i){var e;const{appId:t,apiKey:s}=i,o={method:"GET",headers:iM(s)},u=F4.replace("{app-id}",t),h=await fetch(u,o);if(h.status!==200&&h.status!==304){let m="";try{const p=await h.json();!((e=p.error)===null||e===void 0)&&e.message&&(m=p.error.message)}catch{}throw In.create("config-fetch-failed",{httpStatus:h.status,responseMessage:m})}return h.json()}async function sM(i,e=OA,t){const{appId:s,apiKey:o,measurementId:u}=i.options;if(!s)throw In.create("no-app-id");if(!o){if(u)return{measurementId:u,appId:s};throw In.create("no-api-key")}const h=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},m=new lM;return setTimeout(async()=>{m.abort()},q4),MA({appId:s,apiKey:o,measurementId:u},h,m,e)}async function MA(i,{throttleEndTimeMillis:e,backoffCount:t},s,o=OA){var u;const{appId:h,measurementId:m}=i;try{await aM(s,e)}catch(p){if(m)return dn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${m} provided in the "measurementId" field in the local Firebase config. [${p?.message}]`),{appId:h,measurementId:m};throw p}try{const p=await rM(i);return o.deleteThrottleMetadata(h),p}catch(p){const g=p;if(!oM(g)){if(o.deleteThrottleMetadata(h),m)return dn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${m} provided in the "measurementId" field in the local Firebase config. [${g?.message}]`),{appId:h,measurementId:m};throw p}const _=Number((u=g?.customData)===null||u===void 0?void 0:u.httpStatus)===503?C0(t,o.intervalMillis,eM):C0(t,o.intervalMillis),A={throttleEndTimeMillis:Date.now()+_,backoffCount:t+1};return o.setThrottleMetadata(h,A),dn.debug(`Calling attemptFetch again in ${_} millis`),MA(i,A,s,o)}}function aM(i,e){return new Promise((t,s)=>{const o=Math.max(e-Date.now(),0),u=setTimeout(t,o);i.addEventListener(()=>{clearTimeout(u),s(In.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function oM(i){if(!(i instanceof Hn)||!i.customData)return!1;const e=Number(i.customData.httpStatus);return e===429||e===500||e===503||e===504}class lM{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function uM(i,e,t,s,o){if(o&&o.global){i("event",t,s);return}else{const u=await e,h=Object.assign(Object.assign({},s),{send_to:u});i("event",t,h)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cM(){if(GT())try{await QT()}catch(i){return dn.warn(In.create("indexeddb-unavailable",{errorInfo:i?.toString()}).message),!1}else return dn.warn(In.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function hM(i,e,t,s,o,u,h){var m;const p=sM(i);p.then(I=>{t[I.measurementId]=I.appId,i.options.measurementId&&I.measurementId!==i.options.measurementId&&dn.warn(`The measurement ID in the local Firebase config (${i.options.measurementId}) does not match the measurement ID fetched from the server (${I.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(I=>dn.error(I)),e.push(p);const g=cM().then(I=>{if(I)return s.getId()}),[_,A]=await Promise.all([p,g]);J4(u)||$4(u,_.measurementId),o("js",new Date);const w=(m=h?.config)!==null&&m!==void 0?m:{};return w[z4]="firebase",w.update=!0,A!=null&&(w[B4]=A),o("config",_.measurementId,w),_.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fM{constructor(e){this.app=e}_delete(){return delete gu[this.app.options.appId],Promise.resolve()}}let gu={},oT=[];const lT={};let op="dataLayer",dM="gtag",uT,kA,cT=!1;function mM(){const i=[];if(HT()&&i.push("This is a browser extension environment."),f2()||i.push("Cookies are not available."),i.length>0){const e=i.map((s,o)=>`(${o+1}) ${s}`).join(" "),t=In.create("invalid-analytics-context",{errorInfo:e});dn.warn(t.message)}}function pM(i,e,t){mM();const s=i.options.appId;if(!s)throw In.create("no-app-id");if(!i.options.apiKey)if(i.options.measurementId)dn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${i.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw In.create("no-api-key");if(gu[s]!=null)throw In.create("already-exists",{id:s});if(!cT){K4(op);const{wrappedGtag:u,gtagCore:h}=Z4(gu,oT,lT,op,dM);kA=u,uT=h,cT=!0}return gu[s]=hM(i,oT,lT,e,uT,op,t),new fM(i)}function gM(i=uf()){i=lt(i);const e=ps(i,tf);return e.isInitialized()?e.getImmediate():yM(i)}function yM(i,e={}){const t=ps(i,tf);if(t.isInitialized()){const o=t.getImmediate();if(Di(e,t.getOptions()))return o;throw In.create("already-initialized")}return t.initialize({options:e})}function vM(i,e,t,s){i=lt(i),uM(kA,gu[i.app.options.appId],e,t,s).catch(o=>dn.error(o))}const hT="@firebase/analytics",fT="0.10.17";function _M(){ti(new Fn(tf,(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return pM(s,o,t)},"PUBLIC")),ti(new Fn("analytics-internal",i,"PRIVATE")),fn(hT,fT),fn(hT,fT,"esm2017");function i(e){try{const t=e.getProvider(tf).getImmediate();return{logEvent:(s,o,u)=>vM(t,s,o,u)}}catch(t){throw In.create("interop-component-reg-failed",{reason:t})}}}_M();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PA="firebasestorage.googleapis.com",EM="storageBucket",TM=2*60*1e3,wM=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi extends Hn{constructor(e,t,s=0){super(lp(e),`Firebase Storage: ${t} (${lp(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Pi.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return lp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Mi;(function(i){i.UNKNOWN="unknown",i.OBJECT_NOT_FOUND="object-not-found",i.BUCKET_NOT_FOUND="bucket-not-found",i.PROJECT_NOT_FOUND="project-not-found",i.QUOTA_EXCEEDED="quota-exceeded",i.UNAUTHENTICATED="unauthenticated",i.UNAUTHORIZED="unauthorized",i.UNAUTHORIZED_APP="unauthorized-app",i.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",i.INVALID_CHECKSUM="invalid-checksum",i.CANCELED="canceled",i.INVALID_EVENT_NAME="invalid-event-name",i.INVALID_URL="invalid-url",i.INVALID_DEFAULT_BUCKET="invalid-default-bucket",i.NO_DEFAULT_BUCKET="no-default-bucket",i.CANNOT_SLICE_BLOB="cannot-slice-blob",i.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",i.NO_DOWNLOAD_URL="no-download-url",i.INVALID_ARGUMENT="invalid-argument",i.INVALID_ARGUMENT_COUNT="invalid-argument-count",i.APP_DELETED="app-deleted",i.INVALID_ROOT_OPERATION="invalid-root-operation",i.INVALID_FORMAT="invalid-format",i.INTERNAL_ERROR="internal-error",i.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Mi||(Mi={}));function lp(i){return"storage/"+i}function AM(){const i="An unknown error occurred, please check the error payload for server response.";return new Pi(Mi.UNKNOWN,i)}function SM(){return new Pi(Mi.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function bM(){return new Pi(Mi.CANCELED,"User canceled the upload/download.")}function RM(i){return new Pi(Mi.INVALID_URL,"Invalid URL '"+i+"'.")}function IM(i){return new Pi(Mi.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}function dT(i){return new Pi(Mi.INVALID_ARGUMENT,i)}function VA(){return new Pi(Mi.APP_DELETED,"The Firebase app was deleted.")}function xM(i){return new Pi(Mi.INVALID_ROOT_OPERATION,"The operation '"+i+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let s;try{s=Zn.makeFromUrl(e,t)}catch{return new Zn(e,"")}if(s.path==="")return s;throw IM(e)}static makeFromUrl(e,t){let s=null;const o="([A-Za-z0-9.\\-_]+)";function u(se){se.path.charAt(se.path.length-1)==="/"&&(se.path_=se.path_.slice(0,-1))}const h="(/(.*))?$",m=new RegExp("^gs://"+o+h,"i"),p={bucket:1,path:3};function g(se){se.path_=decodeURIComponent(se.path)}const _="v[A-Za-z0-9_]+",A=t.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",I=new RegExp(`^https?://${A}/${_}/b/${o}/o${w}`,"i"),x={bucket:1,path:3},q=t===PA?"(?:storage.googleapis.com|storage.cloud.google.com)":t,V="([^?#]*)",k=new RegExp(`^https?://${q}/${o}/${V}`,"i"),Z=[{regex:m,indices:p,postModify:u},{regex:I,indices:x,postModify:g},{regex:k,indices:{bucket:1,path:2},postModify:g}];for(let se=0;se<Z.length;se++){const oe=Z[se],de=oe.regex.exec(e);if(de){const O=de[oe.indices.bucket];let R=de[oe.indices.path];R||(R=""),s=new Zn(O,R),oe.postModify(s);break}}if(s==null)throw RM(e);return s}}class CM{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NM(i,e,t){let s=1,o=null,u=null,h=!1,m=0;function p(){return m===2}let g=!1;function _(...V){g||(g=!0,e.apply(null,V))}function A(V){o=setTimeout(()=>{o=null,i(I,p())},V)}function w(){u&&clearTimeout(u)}function I(V,...k){if(g){w();return}if(V){w(),_.call(null,V,...k);return}if(p()||h){w(),_.call(null,V,...k);return}s<64&&(s*=2);let Z;m===1?(m=2,Z=0):Z=(s+Math.random())*1e3,A(Z)}let x=!1;function q(V){x||(x=!0,w(),!g&&(o!==null?(V||(m=2),clearTimeout(o),A(0)):V||(m=1)))}return A(0),u=setTimeout(()=>{h=!0,q(!0)},t),q}function DM(i){i(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OM(i){return i!==void 0}function mT(i,e,t,s){if(s<e)throw dT(`Invalid value for '${i}'. Expected ${e} or greater.`);if(s>t)throw dT(`Invalid value for '${i}'. Expected ${t} or less.`)}function MM(i){const e=encodeURIComponent;let t="?";for(const s in i)if(i.hasOwnProperty(s)){const o=e(s)+"="+e(i[s]);t=t+o+"&"}return t=t.slice(0,-1),t}var nf;(function(i){i[i.NO_ERROR=0]="NO_ERROR",i[i.NETWORK_ERROR=1]="NETWORK_ERROR",i[i.ABORT=2]="ABORT"})(nf||(nf={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kM(i,e){const t=i>=500&&i<600,o=[408,429].indexOf(i)!==-1,u=e.indexOf(i)!==-1;return t||o||u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PM{constructor(e,t,s,o,u,h,m,p,g,_,A,w=!0,I=!1){this.url_=e,this.method_=t,this.headers_=s,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=h,this.callback_=m,this.errorCallback_=p,this.timeout_=g,this.progressCallback_=_,this.connectionFactory_=A,this.retry=w,this.isUsingEmulator=I,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((x,q)=>{this.resolve_=x,this.reject_=q,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new yh(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const h=m=>{const p=m.loaded,g=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,g)};this.progressCallback_!==null&&u.addUploadProgressListener(h),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(h),this.pendingConnection_=null;const m=u.getErrorCode()===nf.NO_ERROR,p=u.getStatus();if(!m||kM(p,this.additionalRetryCodes_)&&this.retry){const _=u.getErrorCode()===nf.ABORT;s(!1,new yh(!1,null,_));return}const g=this.successCodes_.indexOf(p)!==-1;s(!0,new yh(g,u))})},t=(s,o)=>{const u=this.resolve_,h=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(m,m.getResponse());OM(p)?u(p):u()}catch(p){h(p)}else if(m!==null){const p=AM();p.serverResponse=m.getErrorText(),this.errorCallback_?h(this.errorCallback_(m,p)):h(p)}else if(o.canceled){const p=this.appDelete_?VA():bM();h(p)}else{const p=SM();h(p)}};this.canceled_?t(!1,new yh(!1,null,!0)):this.backoffId_=NM(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&DM(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class yh{constructor(e,t,s){this.wasSuccessCode=e,this.connection=t,this.canceled=!!s}}function VM(i,e){e!==null&&e.length>0&&(i.Authorization="Firebase "+e)}function jM(i,e){i["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function LM(i,e){e&&(i["X-Firebase-GMPID"]=e)}function UM(i,e){e!==null&&(i["X-Firebase-AppCheck"]=e)}function BM(i,e,t,s,o,u,h=!0,m=!1){const p=MM(i.urlParams),g=i.url+p,_=Object.assign({},i.headers);return LM(_,e),VM(_,t),jM(_,u),UM(_,s),new PM(g,i.method,_,i.body,i.successCodes,i.additionalRetryCodes,i.handler,i.errorHandler,i.timeout,i.progressCallback,o,h,m)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zM(i){if(i.length===0)return null;const e=i.lastIndexOf("/");return e===-1?"":i.slice(0,e)}function qM(i){const e=i.lastIndexOf("/",i.length-2);return e===-1?i:i.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(e,t){this._service=e,t instanceof Zn?this._location=t:this._location=Zn.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new rf(e,t)}get root(){const e=new Zn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return qM(this._location.path)}get storage(){return this._service}get parent(){const e=zM(this._location.path);if(e===null)return null;const t=new Zn(this._location.bucket,e);return new rf(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw xM(e)}}function pT(i,e){const t=e?.[EM];return t==null?null:Zn.makeFromBucketSpec(t,i)}function FM(i,e,t,s={}){i.host=`${e}:${t}`;const o=ga(e);o&&(Kp(`https://${i.host}/b`),Yp("Storage",!0)),i._isUsingEmulator=!0,i._protocol=o?"https":"http";const{mockUserToken:u}=s;u&&(i._overrideAuthToken=typeof u=="string"?u:FT(u,i.app.options.projectId))}class HM{constructor(e,t,s,o,u,h=!1){this.app=e,this._authProvider=t,this._appCheckProvider=s,this._url=o,this._firebaseVersion=u,this._isUsingEmulator=h,this._bucket=null,this._host=PA,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=TM,this._maxUploadRetryTime=wM,this._requests=new Set,o!=null?this._bucket=Zn.makeFromBucketSpec(o,this._host):this._bucket=pT(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Zn.makeFromBucketSpec(this._url,e):this._bucket=pT(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){mT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){mT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(Sn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new rf(this,e)}_makeRequest(e,t,s,o,u=!0){if(this._deleted)return new CM(VA());{const h=BM(e,this._appId,s,o,t,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(h),h.getPromise().then(()=>this._requests.delete(h),()=>this._requests.delete(h)),h}}async makeRequestWithTokens(e,t){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,s,o).getPromise()}}const gT="@firebase/storage",yT="0.13.14";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jA="storage";function GM(i=uf(),e){i=lt(i);const s=ps(i,jA).getImmediate({identifier:e}),o=BT("storage");return o&&QM(s,...o),s}function QM(i,e,t,s={}){FM(i,e,t,s)}function $M(i,{instanceIdentifier:e}){const t=i.getProvider("app").getImmediate(),s=i.getProvider("auth-internal"),o=i.getProvider("app-check-internal");return new HM(t,s,o,e,va)}function KM(){ti(new Fn(jA,$M,"PUBLIC").setMultipleInstances(!0)),fn(gT,yT,""),fn(gT,yT,"esm2017")}KM();const YM={apiKey:"AIzaSyDQMZtq62eh2VAJ6wSq61zHphyaCVOHEis",authDomain:"quora-82f25.firebaseapp.com",projectId:"quora-82f25",storageBucket:"quora-82f25.firebasestorage.app",messagingSenderId:"1081951012110",appId:"1:1081951012110:web:b7fc478370692b08f8c35f",measurementId:"G-1MD9928C32"},Lf=XT(YM);gM(Lf);const vh=QC(Lf),nt=zO(Lf);GM(Lf);const LA=L.createContext();function mn(){return L.useContext(LA)}function XM({children:i}){const[e,t]=L.useState(null),[s,o]=L.useState(!0);async function u(g,_,A){try{const w=await xx(vh,g,_);return await Dx(w.user,{displayName:A}),await rT(sn(nt,"users",w.user.uid),{displayName:A||"",email:g,createdAt:new Date,updatedAt:new Date,reputation:0,questionsCount:0,answersCount:0}),w}catch(w){throw console.error("Signup error:",w),w.code==="auth/email-already-in-use"?new Error("This email is already registered. Please try logging in instead."):w.code==="auth/weak-password"?new Error("Password is too weak. Please use at least 6 characters."):w.code==="auth/invalid-email"?new Error("Please enter a valid email address."):w.code==="auth/operation-not-allowed"?new Error("Email/password authentication is not enabled. Please contact support."):new Error("Failed to create account. Please check your internet connection and try again.")}}async function h(g,_){try{return await Cx(vh,g,_)}catch(A){throw console.error("Login error:",A),A.code==="auth/user-not-found"?new Error("No account found with this email address."):A.code==="auth/wrong-password"?new Error("Incorrect password. Please try again."):A.code==="auth/invalid-email"?new Error("Please enter a valid email address."):A.code==="auth/too-many-requests"?new Error("Too many failed login attempts. Please try again later."):new Error("Failed to log in. Please check your credentials and try again.")}}function m(){return Px(vh)}L.useEffect(()=>kx(vh,async _=>{if(_)try{const A=await Vo(sn(nt,"users",_.uid));if(A.exists())t({..._,...A.data()});else{const w={displayName:_.displayName||"",email:_.email,createdAt:new Date,updatedAt:new Date,reputation:0,questionsCount:0,answersCount:0};await rT(sn(nt,"users",_.uid),w),t({..._,...w})}}catch(A){console.error("Error fetching user data:",A),t(_)}else t(null);o(!1)}),[]);const p={currentUser:e,signup:u,login:h,logout:m,loading:s};return y.jsx(LA.Provider,{value:p,children:i})}const UA=L.createContext();function WM(){return L.useContext(UA)}function ZM({children:i}){const[e,t]=L.useState(()=>{try{const u=localStorage.getItem("theme");return u===null?!1:u==="true"||u==="false"?u==="true":JSON.parse(u)}catch(u){return console.warn("Error parsing theme from localStorage:",u),!1}});L.useEffect(()=>{localStorage.setItem("theme",e.toString()),document.documentElement.setAttribute("data-theme",e?"dark":"light")},[e]);const o={isDark:e,toggleTheme:()=>{t(!e)}};return y.jsx(UA.Provider,{value:o,children:i})}function JM(){const{currentUser:i,logout:e}=mn(),{isDark:t,toggleTheme:s}=WM(),[o,u]=L.useState(""),[h,m]=L.useState(!1),p=pa(),g=L.useRef(null);L.useEffect(()=>{function w(I){g.current&&!g.current.contains(I.target)&&m(!1)}return document.addEventListener("mousedown",w),()=>document.removeEventListener("mousedown",w)},[]);const _=async()=>{try{await e(),p("/login")}catch(w){console.error("Failed to log out:",w)}},A=w=>{w.preventDefault(),o.trim()&&(p(`/search?q=${encodeURIComponent(o)}`),u(""))};return i?y.jsx("nav",{className:"navbar",children:y.jsxs("div",{className:"nav-container",children:[y.jsxs(hn,{to:"/",className:"nav-logo",children:[y.jsx("div",{className:"logo-icon",children:"Q"}),y.jsx("span",{className:"logo-text",children:"Quora"})]}),y.jsx("form",{className:"search-form",onSubmit:A,children:y.jsxs("div",{className:"search-input-container",children:[y.jsxs("svg",{className:"search-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[y.jsx("circle",{cx:"11",cy:"11",r:"8"}),y.jsx("path",{d:"m21 21-4.35-4.35"})]}),y.jsx("input",{type:"text",placeholder:"Search for questions, topics, or people...",value:o,onChange:w=>u(w.target.value),className:"search-input"})]})}),y.jsxs("div",{className:"nav-actions",children:[y.jsxs(hn,{to:"/ask",className:"ask-btn",children:[y.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:y.jsx("path",{d:"M12 5v14M5 12h14"})}),"Ask Question"]}),y.jsx("button",{onClick:s,className:"theme-toggle",children:t?y.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[y.jsx("circle",{cx:"12",cy:"12",r:"5"}),y.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"3"}),y.jsx("line",{x1:"12",y1:"21",x2:"12",y2:"23"}),y.jsx("line",{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"}),y.jsx("line",{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"}),y.jsx("line",{x1:"1",y1:"12",x2:"3",y2:"12"}),y.jsx("line",{x1:"21",y1:"12",x2:"23",y2:"12"}),y.jsx("line",{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"}),y.jsx("line",{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"})]}):y.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:y.jsx("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"})})}),y.jsxs("div",{className:"user-menu",ref:g,children:[y.jsx("button",{className:"user-avatar",onClick:()=>m(!h),children:y.jsx("div",{className:"avatar-circle",children:(i.displayName||i.email)[0].toUpperCase()})}),h&&y.jsxs("div",{className:"user-dropdown",children:[y.jsxs("div",{className:"user-info",children:[y.jsx("div",{className:"user-name",children:i.displayName||"User"}),y.jsx("div",{className:"user-email",children:i.email})]}),y.jsx("div",{className:"dropdown-divider"}),y.jsxs(hn,{to:"/profile",className:"dropdown-item",onClick:()=>m(!1),children:[y.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[y.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),y.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),"Profile"]}),y.jsxs(hn,{to:"/following",className:"dropdown-item",onClick:()=>m(!1),children:[y.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[y.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}),y.jsx("circle",{cx:"9",cy:"7",r:"4"}),y.jsx("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),y.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),"Following"]}),y.jsx("div",{className:"dropdown-divider"}),y.jsxs("button",{onClick:_,className:"dropdown-item logout-btn",children:[y.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[y.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),y.jsx("polyline",{points:"16,17 21,12 16,7"}),y.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),"Logout"]})]})]})]})]})}):null}function ek(){const i=ki(),e=t=>i.pathname===t;return y.jsx("aside",{className:"sidebar",children:y.jsxs("nav",{className:"sidebar-nav",children:[y.jsxs(hn,{to:"/",className:`nav-item ${e("/")?"active":""}`,children:[y.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[y.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),y.jsx("polyline",{points:"9,22 9,12 15,12 15,22"})]}),"Home"]}),y.jsxs(hn,{to:"/following",className:`nav-item ${e("/following")?"active":""}`,children:[y.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[y.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}),y.jsx("circle",{cx:"9",cy:"7",r:"4"}),y.jsx("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),y.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),"Following"]}),y.jsxs(hn,{to:"/topics",className:`nav-item ${e("/topics")?"active":""}`,children:[y.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[y.jsx("path",{d:"M4 19.5A2.5 2.5 0 0 1 6.5 17H20"}),y.jsx("path",{d:"M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"})]}),"Topics"]}),y.jsx("div",{className:"sidebar-divider"}),y.jsxs("div",{className:"sidebar-section",children:[y.jsx("h3",{className:"section-title",children:"Your Activity"}),y.jsxs(hn,{to:"/profile",className:`nav-item ${e("/profile")?"active":""}`,children:[y.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[y.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),y.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),"Your Profile"]})]})]})})}function Jg({itemId:i,itemType:e,initialUpvotes:t,initialDownvotes:s,compact:o=!1}){const{currentUser:u}=mn(),[h,m]=L.useState(t),[p,g]=L.useState(s),[_,A]=L.useState(null),[w,I]=L.useState(!1);L.useEffect(()=>{u&&(async()=>{try{const V=sn(nt,e,i),k=await Vo(V);if(k.exists()){const se=(k.data().votes||[]).find(oe=>oe.userId===u.uid);se&&A(se.type)}}catch(V){console.error("Error checking user vote:",V)}})()},[i,e,u]);const x=async q=>{if(!(!u||w)){I(!0);try{const V=sn(nt,e,i),k={userId:u.uid,type:q};if(_===q)await vr(V,{[q==="up"?"upvotes":"downvotes"]:Io(-1),votes:Jh(k)}),A(null),q==="up"?m(Y=>Y-1):g(Y=>Y-1);else{const Y={votes:$g(k)};if(_){const Z={userId:u.uid,type:_};Y.votes=Jh(Z),Y[_==="up"?"upvotes":"downvotes"]=Io(-1)}Y[q==="up"?"upvotes":"downvotes"]=Io(1),await vr(V,Y),_&&(_==="up"?m(Z=>Z-1):g(Z=>Z-1)),q==="up"?m(Z=>Z+1):g(Z=>Z+1),A(q)}}catch(V){console.error("Error voting:",V)}finally{I(!1)}}};return o?y.jsxs("div",{className:"vote-buttons compact",children:[y.jsxs("button",{className:`vote-btn upvote ${_==="up"?"active":""}`,onClick:()=>x("up"),disabled:w,children:[y.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:y.jsx("path",{d:"M7 14l5-5 5 5"})}),y.jsx("span",{children:h})]}),y.jsx("button",{className:`vote-btn downvote ${_==="down"?"active":""}`,onClick:()=>x("down"),disabled:w,children:y.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:y.jsx("path",{d:"M17 10l-5 5-5-5"})})})]}):y.jsxs("div",{className:"vote-buttons",children:[y.jsx("button",{className:`vote-btn upvote ${_==="up"?"active":""}`,onClick:()=>x("up"),disabled:w,children:y.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:y.jsx("path",{d:"M7 14l5-5 5 5"})})}),y.jsx("span",{className:"vote-count",children:h-p}),y.jsx("button",{className:`vote-btn downvote ${_==="down"?"active":""}`,onClick:()=>x("down"),disabled:w,children:y.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:y.jsx("path",{d:"M17 10l-5 5-5-5"})})})]})}function Iu({question:i}){const{currentUser:e}=mn(),[t,s]=L.useState(!1),[o,u]=L.useState(!1),[h,m]=L.useState(!1);L.useEffect(()=>{(async()=>{if(e)try{const I=await Vo(sn(nt,"users",e.uid));if(I.exists()){const q=I.data().followedQuestions||[];u(q.includes(i.id))}}catch(I){console.error("Error checking follow status:",I)}})()},[e,i.id]);const p=w=>{if(!w)return"Unknown date";const I=new Date(w.toDate()),q=Math.abs(new Date-I),V=Math.ceil(q/(1e3*60*60*24));return V===1?"1 day ago":V<7?`${V} days ago`:V<30?`${Math.ceil(V/7)} weeks ago`:I.toLocaleDateString()},g=(w,I=200)=>w.length<=I?w:w.substring(0,I)+"...",_=async()=>{if(!(!e||h)){m(!0);try{const w=sn(nt,"users",e.uid),I=await Vo(w);((I.exists()?I.data():{}).followedQuestions||[]).includes(i.id)?(await vr(w,{followedQuestions:Jh(i.id),updatedAt:as()}),u(!1)):(await vr(w,{followedQuestions:$g(i.id),updatedAt:as()}),u(!0))}catch(w){console.error("Error following question:",w)}finally{m(!1)}}},A=async()=>{const w=`${window.location.origin}/question/${i.id}`;if(navigator.share)try{await navigator.share({title:i.title,text:i.content.substring(0,100)+"...",url:w})}catch(I){console.log("Error sharing:",I)}else try{await navigator.clipboard.writeText(w),alert("Link copied to clipboard!")}catch(I){console.log("Error copying to clipboard:",I)}};return y.jsxs("article",{className:"question-card",children:[y.jsx("div",{className:"question-header",children:y.jsxs("div",{className:"author-info",children:[y.jsx("div",{className:"author-avatar",children:(i.authorName||"U")[0].toUpperCase()}),y.jsxs("div",{className:"author-details",children:[y.jsx("span",{className:"author-name",children:i.authorName}),y.jsx("span",{className:"question-date",children:p(i.createdAt)})]})]})}),y.jsxs("div",{className:"question-content",children:[y.jsx("h2",{className:"question-title",children:y.jsx(hn,{to:`/question/${i.id}`,children:i.title})}),y.jsx("div",{className:"question-body",children:y.jsxs("p",{children:[t?i.content:g(i.content),i.content.length>200&&y.jsx("button",{className:"expand-btn",onClick:()=>s(!t),children:t?" Show less":" Read more"})]})}),i.tags&&i.tags.length>0&&y.jsxs("div",{className:"question-tags",children:[i.tags.slice(0,3).map((w,I)=>y.jsx("span",{className:"tag",children:w},I)),i.tags.length>3&&y.jsxs("span",{className:"tag-more",children:["+",i.tags.length-3," more"]})]})]}),y.jsxs("div",{className:"question-footer",children:[y.jsxs("div",{className:"question-stats",children:[y.jsx(Jg,{itemId:i.id,itemType:"questions",initialUpvotes:i.upvotes||0,initialDownvotes:i.downvotes||0,compact:!0}),y.jsxs(hn,{to:`/question/${i.id}`,className:"stat-item",children:[y.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:y.jsx("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"})}),y.jsxs("span",{children:[i.answerCount||0," answers"]})]}),y.jsxs("div",{className:"stat-item",children:[y.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[y.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),y.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),y.jsxs("span",{children:[i.views||0," views"]})]})]}),y.jsxs("div",{className:"question-actions",children:[y.jsxs("button",{className:"action-btn",onClick:A,children:[y.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[y.jsx("path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"}),y.jsx("polyline",{points:"16,6 12,2 8,6"}),y.jsx("line",{x1:"12",y1:"2",x2:"12",y2:"15"})]}),"Share"]}),y.jsx("button",{className:`action-btn ${o?"following":""}`,onClick:_,disabled:h,children:h?y.jsx("div",{className:"btn-spinner"}):o?y.jsxs(y.Fragment,{children:[y.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:y.jsx("polyline",{points:"20,6 9,17 4,12"})}),"Following"]}):y.jsxs(y.Fragment,{children:[y.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:y.jsx("path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.29 1.51 4.04 3 5.5l7 7z"})}),"Follow"]})})]})]})]})}function Sa({size:i="medium",text:e="Loading..."}){return y.jsxs("div",{className:`loading-spinner ${i}`,children:[y.jsx("div",{className:"spinner"}),e&&y.jsx("p",{className:"loading-text",children:e})]})}function tk(){const[i,e]=L.useState([]),[t,s]=L.useState(!0),[o,u]=L.useState("recent");return L.useEffect(()=>{let h;switch(o){case"popular":h=aa(ei(nt,"questions"),Nh("upvotes","desc"),rp(20));break;case"unanswered":h=aa(ei(nt,"questions"),Nh("createdAt","desc"),rp(20));break;default:h=aa(ei(nt,"questions"),Nh("createdAt","desc"),rp(20))}return Pf(h,p=>{let g=p.docs.map(_=>({id:_.id,..._.data()}));o==="unanswered"&&(g=g.filter(_=>(_.answerCount||0)===0)),e(g),s(!1)})},[o]),t?y.jsx(Sa,{text:"Loading questions..."}):y.jsxs("div",{className:"home",children:[y.jsxs("div",{className:"home-header",children:[y.jsx("h1",{children:"Questions for you"}),y.jsxs("div",{className:"filter-tabs",children:[y.jsx("button",{className:`filter-tab ${o==="recent"?"active":""}`,onClick:()=>u("recent"),children:"Recent"}),y.jsx("button",{className:`filter-tab ${o==="popular"?"active":""}`,onClick:()=>u("popular"),children:"Popular"}),y.jsx("button",{className:`filter-tab ${o==="unanswered"?"active":""}`,onClick:()=>u("unanswered"),children:"Unanswered"})]})]}),y.jsx("div",{className:"questions-feed",children:i.length===0?y.jsxs("div",{className:"empty-state",children:[y.jsx("div",{className:"empty-icon",children:y.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[y.jsx("circle",{cx:"12",cy:"12",r:"10"}),y.jsx("path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}),y.jsx("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]})}),y.jsx("h3",{children:"No questions found"}),y.jsx("p",{children:"Be the first to ask a question in this category!"})]}):i.map(h=>y.jsx(Iu,{question:h},h.id))})]})}function nk(){const[i,e]=L.useState(""),[t,s]=L.useState(""),[o,u]=L.useState(""),[h,m]=L.useState(!1),[p,g]=L.useState(!1),{login:_}=mn(),A=pa(),w=async I=>{I.preventDefault();try{u(""),m(!0),await _(i,t),A("/")}catch(x){u(x.message||"Failed to log in. Please check your credentials.")}m(!1)};return y.jsx("div",{className:"auth-page",children:y.jsxs("div",{className:"auth-container",children:[y.jsxs("div",{className:"auth-card",children:[y.jsxs("div",{className:"auth-header",children:[y.jsxs("div",{className:"logo",children:[y.jsx("div",{className:"logo-icon",children:"Q"}),y.jsx("span",{className:"logo-text",children:"Quora"})]}),y.jsx("h1",{children:"Welcome back"}),y.jsx("p",{children:"Sign in to your account to continue"})]}),o&&y.jsxs("div",{className:"error-message",children:[y.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[y.jsx("circle",{cx:"12",cy:"12",r:"10"}),y.jsx("line",{x1:"15",y1:"9",x2:"9",y2:"15"}),y.jsx("line",{x1:"9",y1:"9",x2:"15",y2:"15"})]}),o]}),y.jsxs("form",{onSubmit:w,className:"auth-form",children:[y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"email",children:"Email address"}),y.jsxs("div",{className:"input-container",children:[y.jsxs("svg",{className:"input-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[y.jsx("path",{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"}),y.jsx("polyline",{points:"22,6 12,13 2,6"})]}),y.jsx("input",{type:"email",id:"email",value:i,onChange:I=>e(I.target.value),required:!0,className:"form-input",placeholder:"Enter your email"})]})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"password",children:"Password"}),y.jsxs("div",{className:"input-container",children:[y.jsxs("svg",{className:"input-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[y.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),y.jsx("circle",{cx:"12",cy:"16",r:"1"}),y.jsx("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})]}),y.jsx("input",{type:p?"text":"password",id:"password",value:t,onChange:I=>s(I.target.value),required:!0,className:"form-input",placeholder:"Enter your password"}),y.jsx("button",{type:"button",className:"password-toggle",onClick:()=>g(!p),children:p?y.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[y.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),y.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}):y.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[y.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),y.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]})]}),y.jsx("button",{type:"submit",disabled:h,className:"auth-btn",children:h?y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"btn-spinner"}),"Signing in..."]}):"Sign in"})]}),y.jsx("div",{className:"auth-footer",children:y.jsxs("p",{children:["Don't have an account?"," ",y.jsx(hn,{to:"/register",className:"auth-link",children:"Sign up"})]})})]}),y.jsx("div",{className:"auth-illustration",children:y.jsxs("div",{className:"illustration-content",children:[y.jsx("h2",{children:"Join the Knowledge Community"}),y.jsx("p",{children:"Connect with experts, share insights, and discover answers to your questions."}),y.jsxs("div",{className:"features",children:[y.jsxs("div",{className:"feature",children:[y.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[y.jsx("circle",{cx:"12",cy:"12",r:"10"}),y.jsx("path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}),y.jsx("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]}),y.jsx("span",{children:"Ask Questions"})]}),y.jsxs("div",{className:"feature",children:[y.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:y.jsx("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"})}),y.jsx("span",{children:"Share Knowledge"})]}),y.jsxs("div",{className:"feature",children:[y.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[y.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}),y.jsx("circle",{cx:"9",cy:"7",r:"4"}),y.jsx("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),y.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),y.jsx("span",{children:"Connect with Experts"})]})]})]})})]})})}function ik(){const[i,e]=L.useState({displayName:"",email:"",password:"",confirmPassword:""}),[t,s]=L.useState(""),[o,u]=L.useState(!1),[h,m]=L.useState(!1),[p,g]=L.useState(!1),{signup:_}=mn(),A=pa(),w=k=>{e({...i,[k.target.name]:k.target.value})},I=()=>i.password!==i.confirmPassword?"Passwords do not match":i.password.length<6?"Password must be at least 6 characters":i.displayName.length<2?"Name must be at least 2 characters":null,x=async k=>{k.preventDefault();const Y=I();if(Y){s(Y);return}try{s(""),u(!0),await _(i.email,i.password,i.displayName),A("/")}catch(Z){s(Z.message||"Failed to create account. Please try again.")}u(!1)},V=(k=>k.length===0?{strength:0,text:""}:k.length<6?{strength:1,text:"Weak"}:k.length<10?{strength:2,text:"Medium"}:{strength:3,text:"Strong"})(i.password);return y.jsx("div",{className:"auth-page",children:y.jsxs("div",{className:"auth-container",children:[y.jsxs("div",{className:"auth-card",children:[y.jsxs("div",{className:"auth-header",children:[y.jsxs("div",{className:"logo",children:[y.jsx("div",{className:"logo-icon",children:"Q"}),y.jsx("span",{className:"logo-text",children:"Quora"})]}),y.jsx("h1",{children:"Create your account"}),y.jsx("p",{children:"Join our community and start sharing knowledge"})]}),t&&y.jsxs("div",{className:"error-message",children:[y.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[y.jsx("circle",{cx:"12",cy:"12",r:"10"}),y.jsx("line",{x1:"15",y1:"9",x2:"9",y2:"15"}),y.jsx("line",{x1:"9",y1:"9",x2:"15",y2:"15"})]}),t]}),y.jsxs("form",{onSubmit:x,className:"auth-form",children:[y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"displayName",children:"Full name"}),y.jsxs("div",{className:"input-container",children:[y.jsxs("svg",{className:"input-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[y.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),y.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),y.jsx("input",{type:"text",id:"displayName",name:"displayName",value:i.displayName,onChange:w,required:!0,className:"form-input",placeholder:"Enter your full name"})]})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"email",children:"Email address"}),y.jsxs("div",{className:"input-container",children:[y.jsxs("svg",{className:"input-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[y.jsx("path",{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"}),y.jsx("polyline",{points:"22,6 12,13 2,6"})]}),y.jsx("input",{type:"email",id:"email",name:"email",value:i.email,onChange:w,required:!0,className:"form-input",placeholder:"Enter your email"})]})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"password",children:"Password"}),y.jsxs("div",{className:"input-container",children:[y.jsxs("svg",{className:"input-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[y.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),y.jsx("circle",{cx:"12",cy:"16",r:"1"}),y.jsx("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})]}),y.jsx("input",{type:h?"text":"password",id:"password",name:"password",value:i.password,onChange:w,required:!0,className:"form-input",placeholder:"Create a password"}),y.jsx("button",{type:"button",className:"password-toggle",onClick:()=>m(!h),children:h?y.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[y.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),y.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}):y.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[y.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),y.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]}),i.password&&y.jsxs("div",{className:"password-strength",children:[y.jsx("div",{className:"strength-bar",children:y.jsx("div",{className:`strength-fill strength-${V.strength}`,style:{width:`${V.strength/3*100}%`}})}),y.jsx("span",{className:`strength-text strength-${V.strength}`,children:V.text})]})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"confirmPassword",children:"Confirm password"}),y.jsxs("div",{className:"input-container",children:[y.jsxs("svg",{className:"input-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[y.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),y.jsx("circle",{cx:"12",cy:"16",r:"1"}),y.jsx("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})]}),y.jsx("input",{type:p?"text":"password",id:"confirmPassword",name:"confirmPassword",value:i.confirmPassword,onChange:w,required:!0,className:"form-input",placeholder:"Confirm your password"}),y.jsx("button",{type:"button",className:"password-toggle",onClick:()=>g(!p),children:p?y.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[y.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),y.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}):y.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[y.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),y.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]})]}),y.jsx("button",{type:"submit",disabled:o,className:"auth-btn",children:o?y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"btn-spinner"}),"Creating account..."]}):"Create account"})]}),y.jsx("div",{className:"auth-footer",children:y.jsxs("p",{children:["Already have an account?"," ",y.jsx(hn,{to:"/login",className:"auth-link",children:"Sign in"})]})})]}),y.jsx("div",{className:"auth-illustration",children:y.jsxs("div",{className:"illustration-content",children:[y.jsx("h2",{children:"Start Your Journey"}),y.jsx("p",{children:"Join thousands of users sharing knowledge and learning together."}),y.jsxs("div",{className:"features",children:[y.jsxs("div",{className:"feature",children:[y.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:y.jsx("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})}),y.jsx("span",{children:"Build Reputation"})]}),y.jsxs("div",{className:"feature",children:[y.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[y.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),y.jsx("circle",{cx:"9",cy:"7",r:"4"}),y.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),y.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),y.jsx("span",{children:"Join Community"})]}),y.jsxs("div",{className:"feature",children:[y.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[y.jsx("path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"}),y.jsx("path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"})]}),y.jsx("span",{children:"Learn & Grow"})]})]})]})})]})})}function rk(){const{userId:i}=IT(),{currentUser:e}=mn(),[t,s]=L.useState(null),[o,u]=L.useState([]),[h,m]=L.useState([]),[p,g]=L.useState("questions"),[_,A]=L.useState(!0),[w,I]=L.useState({totalUpvotes:0,totalViews:0,questionsCount:0,answersCount:0}),x=i||e?.uid,q=!i||i===e?.uid;return L.useEffect(()=>{(async()=>{if(x)try{const k=await Vo(sn(nt,"users",x));k.exists()?s({id:k.id,...k.data()}):q&&s(e);const Y=aa(ei(nt,"questions"),Lp("authorId","==",x)),se=(await Zh(Y)).docs.map(U=>({id:U.id,...U.data()})),oe=se.sort((U,D)=>{const mt=U.createdAt?.toDate()||new Date(0);return(D.createdAt?.toDate()||new Date(0))-mt});u(oe);const de=aa(ei(nt,"answers"),Lp("authorId","==",x)),R=(await Zh(de)).docs.map(U=>({id:U.id,...U.data()})),C=R.sort((U,D)=>{const mt=U.createdAt?.toDate()||new Date(0);return(D.createdAt?.toDate()||new Date(0))-mt});m(C);const M=se.reduce((U,D)=>U+(D.upvotes||0),0)+R.reduce((U,D)=>U+(D.upvotes||0),0),B=se.reduce((U,D)=>U+(D.views||0),0);I({totalUpvotes:M,totalViews:B,questionsCount:se.length,answersCount:R.length})}catch(k){console.error("Error fetching user data:",k)}finally{A(!1)}})()},[x,e,q]),_?y.jsx(Sa,{text:"Loading profile..."}):t?y.jsxs("div",{className:"profile-page",children:[y.jsxs("div",{className:"profile-header",children:[y.jsx("div",{className:"profile-banner",children:y.jsxs("div",{className:"profile-info",children:[y.jsx("div",{className:"profile-avatar",children:(t.displayName||t.email||"U")[0].toUpperCase()}),y.jsxs("div",{className:"profile-details",children:[y.jsx("h1",{className:"profile-name",children:t.displayName||"Anonymous User"}),y.jsx("p",{className:"profile-email",children:t.email}),t.bio&&y.jsx("p",{className:"profile-bio",children:t.bio}),y.jsx("div",{className:"profile-meta",children:y.jsxs("span",{children:["Joined ",new Date(t.createdAt?.toDate()||Date.now()).toLocaleDateString()]})})]})]})}),y.jsxs("div",{className:"profile-stats",children:[y.jsxs("div",{className:"stat-card",children:[y.jsx("div",{className:"stat-number",children:w.questionsCount}),y.jsx("div",{className:"stat-label",children:"Questions"})]}),y.jsxs("div",{className:"stat-card",children:[y.jsx("div",{className:"stat-number",children:w.answersCount}),y.jsx("div",{className:"stat-label",children:"Answers"})]}),y.jsxs("div",{className:"stat-card",children:[y.jsx("div",{className:"stat-number",children:w.totalUpvotes}),y.jsx("div",{className:"stat-label",children:"Upvotes"})]}),y.jsxs("div",{className:"stat-card",children:[y.jsx("div",{className:"stat-number",children:w.totalViews}),y.jsx("div",{className:"stat-label",children:"Views"})]})]})]}),y.jsxs("div",{className:"profile-content",children:[y.jsxs("div",{className:"profile-tabs",children:[y.jsxs("button",{className:`tab ${p==="questions"?"active":""}`,onClick:()=>g("questions"),children:[y.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[y.jsx("circle",{cx:"12",cy:"12",r:"10"}),y.jsx("path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}),y.jsx("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]}),"Questions (",o.length,")"]}),y.jsxs("button",{className:`tab ${p==="answers"?"active":""}`,onClick:()=>g("answers"),children:[y.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:y.jsx("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"})}),"Answers (",h.length,")"]})]}),y.jsxs("div",{className:"tab-content",children:[p==="questions"&&y.jsx("div",{className:"questions-tab",children:o.length===0?y.jsxs("div",{className:"empty-state",children:[y.jsx("div",{className:"empty-icon",children:y.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[y.jsx("circle",{cx:"12",cy:"12",r:"10"}),y.jsx("path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}),y.jsx("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]})}),y.jsx("h3",{children:"No questions yet"}),y.jsx("p",{children:q?"Start asking questions to build your profile":"This user hasn't asked any questions yet"})]}):y.jsx("div",{className:"content-list",children:o.map(V=>y.jsx(Iu,{question:V},V.id))})}),p==="answers"&&y.jsx("div",{className:"answers-tab",children:h.length===0?y.jsxs("div",{className:"empty-state",children:[y.jsx("div",{className:"empty-icon",children:y.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:y.jsx("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"})})}),y.jsx("h3",{children:"No answers yet"}),y.jsx("p",{children:q?"Start answering questions to help the community":"This user hasn't answered any questions yet"})]}):y.jsx("div",{className:"answers-list",children:h.map(V=>y.jsxs("div",{className:"answer-preview",children:[y.jsx("div",{className:"answer-content",children:y.jsx("p",{children:V.content})}),y.jsx("div",{className:"answer-meta",children:y.jsxs("div",{className:"answer-stats",children:[y.jsxs("span",{className:"upvotes",children:[V.upvotes||0," upvotes"]}),y.jsx("span",{className:"date",children:new Date(V.createdAt?.toDate()).toLocaleDateString()})]})})]},V.id))})})]})]})]}):y.jsxs("div",{className:"profile-error",children:[y.jsx("h2",{children:"User not found"}),y.jsx("p",{children:"The profile you're looking for doesn't exist."})]})}function sk({answer:i}){const e=t=>t?new Date(t.toDate()).toLocaleDateString():"Unknown date";return y.jsxs("div",{className:"answer-card",children:[y.jsx("div",{className:"answer-votes",children:y.jsx(Jg,{itemId:i.id,itemType:"answers",initialUpvotes:i.upvotes||0,initialDownvotes:i.downvotes||0})}),y.jsxs("div",{className:"answer-content",children:[y.jsx("div",{className:"answer-text",children:y.jsx("p",{children:i.content})}),y.jsx("div",{className:"answer-footer",children:y.jsxs("div",{className:"answer-meta",children:[y.jsxs("span",{children:["answered by ",i.authorName]}),y.jsx("span",{children:"•"}),y.jsx("span",{children:e(i.createdAt)})]})})]})]})}function ak(){const{id:i}=IT(),{currentUser:e}=mn(),[t,s]=L.useState(null),[o,u]=L.useState([]),[h,m]=L.useState(""),[p,g]=L.useState(!0),[_,A]=L.useState(!1);L.useEffect(()=>{(async()=>{try{const x=await Vo(sn(nt,"questions",i));x.exists()&&(s({id:x.id,...x.data()}),await vr(sn(nt,"questions",i),{views:Io(1)}))}catch(x){console.error("Error fetching question:",x)}})()},[i]),L.useEffect(()=>{const I=aa(ei(nt,"answers"),Lp("questionId","==",i));return Pf(I,q=>{const k=q.docs.map(Y=>({id:Y.id,...Y.data()})).sort((Y,Z)=>{const se=Y.createdAt?.toDate()||new Date(0);return(Z.createdAt?.toDate()||new Date(0))-se});u(k),g(!1)})},[i]);const w=async I=>{if(I.preventDefault(),!!h.trim())try{A(!0);const x={content:h.trim(),questionId:i,authorId:e.uid,authorName:e.displayName||e.email,createdAt:as(),upvotes:0,downvotes:0,votes:[]};await hA(ei(nt,"answers"),x),await vr(sn(nt,"questions",i),{answerCount:Io(1)}),m("")}catch(x){console.error("Error submitting answer:",x)}finally{A(!1)}};return p?y.jsx("div",{className:"loading",children:"Loading question..."}):t?y.jsx("div",{className:"question-detail",children:y.jsxs("div",{className:"question-container",children:[y.jsxs("div",{className:"question-header",children:[y.jsx("div",{className:"question-votes",children:y.jsx(Jg,{itemId:t.id,itemType:"questions",initialUpvotes:t.upvotes||0,initialDownvotes:t.downvotes||0})}),y.jsxs("div",{className:"question-content",children:[y.jsx("h1",{children:t.title}),y.jsxs("div",{className:"question-meta",children:[y.jsxs("span",{children:["Asked by ",t.authorName]}),y.jsx("span",{children:"•"}),y.jsx("span",{children:new Date(t.createdAt?.toDate()).toLocaleDateString()}),y.jsx("span",{children:"•"}),y.jsxs("span",{children:[t.views||0," views"]})]}),y.jsx("div",{className:"question-body",children:y.jsx("p",{children:t.content})}),t.tags&&t.tags.length>0&&y.jsx("div",{className:"question-tags",children:t.tags.map((I,x)=>y.jsx("span",{className:"tag",children:I},x))})]})]}),y.jsxs("div",{className:"answers-section",children:[y.jsxs("h2",{children:[o.length," Answer",o.length!==1?"s":""]}),y.jsxs("form",{onSubmit:w,className:"answer-form",children:[y.jsx("textarea",{value:h,onChange:I=>m(I.target.value),placeholder:"Write your answer...",className:"answer-textarea",rows:6}),y.jsx("button",{type:"submit",disabled:_||!h.trim(),className:"submit-answer-btn",children:_?"Posting...":"Post Answer"})]}),y.jsx("div",{className:"answers-list",children:o.map(I=>y.jsx(sk,{answer:I},I.id))})]})]})}):y.jsx("div",{className:"error",children:"Question not found"})}function ok(){const[i,e]=L.useState(""),[t,s]=L.useState(""),[o,u]=L.useState(""),[h,m]=L.useState(!1),[p,g]=L.useState(""),{currentUser:_}=mn(),A=pa(),w=async I=>{if(I.preventDefault(),!i.trim()||!t.trim()){g("Please fill in all required fields");return}if(i.length>200){g("Question title must be 200 characters or less");return}if(t.length>5e3){g("Question content must be 5000 characters or less");return}try{m(!0),g("");const x={title:i.trim(),content:t.trim(),tags:o.split(",").map(V=>V.trim()).filter(V=>V).slice(0,5),authorId:_.uid,authorName:_.displayName||_.email,createdAt:as(),updatedAt:as(),upvotes:0,downvotes:0,answerCount:0,views:0,votes:[]},q=await hA(ei(nt,"questions"),x);await vr(sn(nt,"users",_.uid),{questionsCount:Io(1),updatedAt:as()}),A(`/question/${q.id}`)}catch(x){console.error("Error posting question:",x),x.code==="permission-denied"?g("You don't have permission to post questions. Please make sure you're logged in."):g("Failed to post question. Please try again.")}finally{m(!1)}};return y.jsx("div",{className:"ask-question",children:y.jsxs("div",{className:"ask-container",children:[y.jsx("h1",{children:"Ask a Question"}),y.jsx("p",{children:"Share your question with the community and get helpful answers"}),p&&y.jsx("div",{className:"error-message",children:p}),y.jsxs("form",{onSubmit:w,className:"question-form",children:[y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"title",children:"Question Title *"}),y.jsx("input",{type:"text",id:"title",value:i,onChange:I=>e(I.target.value),placeholder:"What's your question? Be specific.",className:"form-input",maxLength:200}),y.jsxs("small",{className:"char-count",children:[i.length,"/200"]})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"content",children:"Question Details *"}),y.jsx("textarea",{id:"content",value:t,onChange:I=>s(I.target.value),placeholder:"Provide more details about your question...",className:"form-textarea",rows:8,maxLength:5e3}),y.jsxs("small",{className:"char-count",children:[t.length,"/5000"]})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"tags",children:"Tags (optional)"}),y.jsx("input",{type:"text",id:"tags",value:o,onChange:I=>u(I.target.value),placeholder:"Add up to 5 tags separated by commas (e.g., javascript, react, programming)",className:"form-input"}),y.jsx("small",{className:"help-text",children:"Tags help others find your question (max 5 tags)"})]}),y.jsxs("div",{className:"form-actions",children:[y.jsx("button",{type:"button",onClick:()=>A("/"),className:"cancel-btn",children:"Cancel"}),y.jsx("button",{type:"submit",disabled:h,className:"submit-btn",children:h?"Posting...":"Post Question"})]})]})]})})}function lk(){const[i]=FR(),e=i.get("q")||"",[t,s]=L.useState([]),[o,u]=L.useState(!0),[h,m]=L.useState("questions"),[p,g]=L.useState("relevance");return L.useEffect(()=>{(async()=>{if(!e.trim()){s([]),u(!1);return}try{if(u(!0),h==="questions"){const A=ei(nt,"questions"),w=aa(A,Nh("createdAt","desc")),q=(await Zh(w)).docs.map(V=>({id:V.id,...V.data()})).filter(V=>{const k=e.toLowerCase();return V.title.toLowerCase().includes(k)||V.content.toLowerCase().includes(k)||V.tags&&V.tags.some(Y=>Y.toLowerCase().includes(k))});p==="popular"?q.sort((V,k)=>(k.upvotes||0)-(V.upvotes||0)):p==="recent"&&q.sort((V,k)=>{const Y=V.createdAt?.toDate()||new Date(0);return(k.createdAt?.toDate()||new Date(0))-Y}),s(q)}}catch(A){console.error("Error searching:",A),s([])}finally{u(!1)}})()},[e,h,p]),o?y.jsx(Sa,{text:"Searching..."}):y.jsxs("div",{className:"search-page",children:[y.jsxs("div",{className:"search-header",children:[y.jsx("h1",{children:"Search Results"}),y.jsxs("p",{className:"search-query",children:[t.length," result",t.length!==1?"s":"",' for "',e,'"']}),y.jsxs("div",{className:"search-filters",children:[y.jsxs("div",{className:"filter-group",children:[y.jsx("label",{children:"Search in:"}),y.jsxs("select",{value:h,onChange:_=>m(_.target.value),children:[y.jsx("option",{value:"questions",children:"Questions"}),y.jsx("option",{value:"answers",children:"Answers"}),y.jsx("option",{value:"users",children:"Users"})]})]}),y.jsxs("div",{className:"filter-group",children:[y.jsx("label",{children:"Sort by:"}),y.jsxs("select",{value:p,onChange:_=>g(_.target.value),children:[y.jsx("option",{value:"relevance",children:"Relevance"}),y.jsx("option",{value:"recent",children:"Most Recent"}),y.jsx("option",{value:"popular",children:"Most Popular"})]})]})]})]}),y.jsx("div",{className:"search-results",children:t.length===0?y.jsxs("div",{className:"empty-state",children:[y.jsx("div",{className:"empty-icon",children:y.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[y.jsx("circle",{cx:"11",cy:"11",r:"8"}),y.jsx("path",{d:"m21 21-4.35-4.35"})]})}),y.jsx("h3",{children:"No results found"}),y.jsx("p",{children:"Try different keywords or check your spelling"}),y.jsxs("div",{className:"search-suggestions",children:[y.jsx("h4",{children:"Search suggestions:"}),y.jsxs("ul",{children:[y.jsx("li",{children:"Use different keywords"}),y.jsx("li",{children:"Check your spelling"}),y.jsx("li",{children:"Try more general terms"}),y.jsx("li",{children:"Use fewer keywords"})]})]})]}):y.jsx("div",{className:"results-list",children:t.map(_=>y.jsx(Iu,{question:_},_.id))})})]})}function BA(){const{currentUser:i}=mn(),[e,t]=L.useState(null),[s,o]=L.useState(!0);return L.useEffect(()=>{if(!i){t(null),o(!1);return}const u=sn(nt,"users",i.uid);return Pf(u,m=>{m.exists()?t({id:m.id,...m.data()}):t(null),o(!1)},m=>{console.error("Error fetching user data:",m),o(!1)})},[i]),{userData:e,loading:s}}function uk(){const{currentUser:i}=mn(),[e,t]=L.useState([]),[s,o]=L.useState(!0),[u,h]=L.useState(new Set),[m,p]=L.useState(new Set),[g,_]=L.useState(""),[A,w]=L.useState("popular"),{userData:I}=BA();L.useEffect(()=>{(async()=>{try{const Y=await Zh(ei(nt,"questions")),Z=new Map,se=new Map;Y.docs.forEach(de=>{const O=de.data();O.tags&&O.tags.forEach(R=>{if(Z.has(R)){const C=Z.get(R);Z.set(R,C+1);const M=se.get(R);(!M.latestActivity||O.createdAt?.toDate()>M.latestActivity)&&se.set(R,{...M,latestActivity:O.createdAt?.toDate(),totalUpvotes:M.totalUpvotes+(O.upvotes||0)})}else Z.set(R,1),se.set(R,{latestActivity:O.createdAt?.toDate(),totalUpvotes:O.upvotes||0,description:x(R)})})});const oe=Array.from(Z.entries()).map(([de,O])=>({name:de,count:O,...se.get(de)}));A==="popular"?oe.sort((de,O)=>O.count-de.count):A==="alphabetical"?oe.sort((de,O)=>de.name.localeCompare(O.name)):A==="recent"&&oe.sort((de,O)=>(O.latestActivity||new Date(0))-(de.latestActivity||new Date(0))),t(oe)}catch(Y){console.error("Error fetching topics:",Y)}finally{o(!1)}})()},[A]),L.useEffect(()=>{h(I?new Set(I.followedTopics||[]):new Set)},[I]);const x=k=>({javascript:"Programming language for web development",react:"JavaScript library for building user interfaces",python:"High-level programming language",technology:"Latest tech trends and innovations",programming:"Software development and coding",web:"Web development and design",mobile:"Mobile app development",ai:"Artificial Intelligence and Machine Learning",career:"Professional development and career advice",startup:"Entrepreneurship and startup culture",design:"UI/UX and graphic design",business:"Business strategy and management"})[k.toLowerCase()]||`Discussion about ${k}`,q=async k=>{if(!(!i||m.has(k))){p(Y=>new Set([...Y,k]));try{const Y=sn(nt,"users",i.uid);u.has(k)?(await vr(Y,{followedTopics:Jh(k),updatedAt:as()}),h(se=>{const oe=new Set(se);return oe.delete(k),oe})):(await vr(Y,{followedTopics:$g(k),updatedAt:as()}),h(se=>new Set([...se,k])))}catch(Y){console.error("Error toggling topic follow:",Y)}finally{p(Y=>{const Z=new Set(Y);return Z.delete(k),Z})}}},V=e.filter(k=>k.name.toLowerCase().includes(g.toLowerCase()));return s?y.jsx(Sa,{text:"Loading topics..."}):y.jsxs("div",{className:"topics-page",children:[y.jsxs("div",{className:"topics-header",children:[y.jsx("h1",{children:"Discover Topics"}),y.jsx("p",{children:"Follow topics that interest you to see related questions in your feed"}),y.jsxs("div",{className:"topics-controls",children:[y.jsxs("div",{className:"search-container",children:[y.jsxs("svg",{className:"search-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[y.jsx("circle",{cx:"11",cy:"11",r:"8"}),y.jsx("path",{d:"m21 21-4.35-4.35"})]}),y.jsx("input",{type:"text",placeholder:"Search topics...",value:g,onChange:k=>_(k.target.value),className:"search-input"})]}),y.jsxs("select",{value:A,onChange:k=>w(k.target.value),className:"sort-select",children:[y.jsx("option",{value:"popular",children:"Most Popular"}),y.jsx("option",{value:"alphabetical",children:"Alphabetical"}),y.jsx("option",{value:"recent",children:"Recently Active"})]})]}),u.size>0&&y.jsxs("div",{className:"followed-topics-summary",children:[y.jsxs("h3",{children:["You're following ",u.size," topics"]}),y.jsxs("div",{className:"followed-tags",children:[Array.from(u).slice(0,5).map(k=>y.jsx("span",{className:"followed-tag",children:k},k)),u.size>5&&y.jsxs("span",{className:"more-count",children:["+",u.size-5," more"]})]})]})]}),y.jsx("div",{className:"topics-grid",children:V.length===0?y.jsxs("div",{className:"empty-state",children:[y.jsx("div",{className:"empty-icon",children:y.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[y.jsx("path",{d:"M4 19.5A2.5 2.5 0 0 1 6.5 17H20"}),y.jsx("path",{d:"M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"})]})}),y.jsx("h3",{children:g?"No topics found":"No topics yet"}),y.jsx("p",{children:g?"Try different keywords":"Topics will appear here as questions are posted with tags"})]}):V.map(k=>y.jsxs("div",{className:"topic-card",children:[y.jsxs("div",{className:"topic-header",children:[y.jsx("h3",{className:"topic-name",children:k.name}),y.jsx("button",{className:`follow-btn ${u.has(k.name)?"following":""}`,onClick:()=>q(k.name),disabled:m.has(k.name),children:m.has(k.name)?y.jsx("div",{className:"btn-spinner"}):u.has(k.name)?y.jsxs(y.Fragment,{children:[y.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:y.jsx("polyline",{points:"20,6 9,17 4,12"})}),"Following"]}):y.jsxs(y.Fragment,{children:[y.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[y.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),y.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Follow"]})})]}),y.jsx("p",{className:"topic-description",children:k.description}),y.jsxs("div",{className:"topic-stats",children:[y.jsxs("div",{className:"stat",children:[y.jsx("span",{className:"stat-number",children:k.count}),y.jsx("span",{className:"stat-label",children:"Questions"})]}),y.jsxs("div",{className:"stat",children:[y.jsx("span",{className:"stat-number",children:k.totalUpvotes||0}),y.jsx("span",{className:"stat-label",children:"Upvotes"})]}),k.latestActivity&&y.jsx("div",{className:"stat",children:y.jsxs("span",{className:"stat-text",children:["Active ",new Date(k.latestActivity).toLocaleDateString()]})})]})]},k.name))})]})}function ck(){const{currentUser:i}=mn(),[e,t]=L.useState("questions"),[s,o]=L.useState(!0),[u,h]=L.useState([]),[m,p]=L.useState([]),[g,_]=L.useState({}),[A,w]=L.useState([]),{userData:I}=BA();return L.useEffect(()=>{if(!I){h([]),p([]),w([]),_({}),o(!1);return}const x=I.followedTopics||[];if(h(x),x.length===0){p([]),w([]),_({}),o(!1);return}const q=ei(nt,"questions");return Pf(q,k=>{const Y=k.docs.map(O=>({id:O.id,...O.data()})),Z=Y.filter(O=>O.tags&&O.tags.some(R=>x.includes(R))).sort((O,R)=>{const C=O.createdAt?.toDate()||new Date(0);return(R.createdAt?.toDate()||new Date(0))-C});p(Z);const se={};x.forEach(O=>{const R=Y.filter(C=>C.tags&&C.tags.includes(O));se[O]={questionCount:R.length,totalUpvotes:R.reduce((C,M)=>C+(M.upvotes||0),0),recentQuestions:R.slice(0,3)}}),_(se);const oe=new Date;oe.setDate(oe.getDate()-7);const de=Z.filter(O=>O.createdAt?.toDate()>oe).slice(0,10);w(de),o(!1)})},[I]),s?y.jsx(Sa,{text:"Loading your feed..."}):u.length===0?y.jsxs("div",{className:"following-page",children:[y.jsxs("div",{className:"following-header",children:[y.jsx("h1",{children:"Your Following Feed"}),y.jsx("p",{children:"Follow topics to see related questions and activity here"})]}),y.jsxs("div",{className:"empty-following",children:[y.jsx("div",{className:"empty-icon",children:y.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[y.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}),y.jsx("circle",{cx:"9",cy:"7",r:"4"}),y.jsx("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),y.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]})}),y.jsx("h3",{children:"Start following topics"}),y.jsx("p",{children:"Discover interesting topics and follow them to see related content in your personalized feed."}),y.jsxs("div",{className:"suggested-topics",children:[y.jsx("h4",{children:"Popular topics to follow:"}),y.jsx("div",{className:"topic-suggestions",children:["JavaScript","React","Python","Technology","Programming","Career"].map(x=>y.jsx("span",{className:"suggested-topic",children:x},x))})]}),y.jsxs("a",{href:"/topics",className:"explore-topics-btn",children:[y.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[y.jsx("path",{d:"M4 19.5A2.5 2.5 0 0 1 6.5 17H20"}),y.jsx("path",{d:"M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"})]}),"Explore Topics"]})]})]}):y.jsxs("div",{className:"following-page",children:[y.jsxs("div",{className:"following-header",children:[y.jsx("h1",{children:"Your Following Feed"}),y.jsxs("p",{children:["Questions and activity from ",u.length," topics you follow"]}),y.jsx("div",{className:"following-summary",children:y.jsxs("div",{className:"summary-stats",children:[y.jsxs("div",{className:"summary-stat",children:[y.jsx("span",{className:"stat-number",children:m.length}),y.jsx("span",{className:"stat-label",children:"Questions"})]}),y.jsxs("div",{className:"summary-stat",children:[y.jsx("span",{className:"stat-number",children:A.length}),y.jsx("span",{className:"stat-label",children:"This Week"})]}),y.jsxs("div",{className:"summary-stat",children:[y.jsx("span",{className:"stat-number",children:u.length}),y.jsx("span",{className:"stat-label",children:"Topics"})]})]})}),y.jsxs("div",{className:"following-tabs",children:[y.jsxs("button",{className:`tab ${e==="questions"?"active":""}`,onClick:()=>t("questions"),children:[y.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[y.jsx("circle",{cx:"12",cy:"12",r:"10"}),y.jsx("path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}),y.jsx("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]}),"All Questions (",m.length,")"]}),y.jsxs("button",{className:`tab ${e==="recent"?"active":""}`,onClick:()=>t("recent"),children:[y.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[y.jsx("circle",{cx:"12",cy:"12",r:"10"}),y.jsx("polyline",{points:"12,6 12,12 16,14"})]}),"Recent Activity (",A.length,")"]}),y.jsxs("button",{className:`tab ${e==="topics"?"active":""}`,onClick:()=>t("topics"),children:[y.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[y.jsx("path",{d:"M4 19.5A2.5 2.5 0 0 1 6.5 17H20"}),y.jsx("path",{d:"M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"})]}),"My Topics (",u.length,")"]})]})]}),y.jsxs("div",{className:"following-content",children:[e==="questions"&&y.jsx("div",{className:"questions-feed",children:m.length===0?y.jsxs("div",{className:"empty-state",children:[y.jsx("div",{className:"empty-icon",children:y.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[y.jsx("circle",{cx:"12",cy:"12",r:"10"}),y.jsx("path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}),y.jsx("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]})}),y.jsx("h3",{children:"No questions yet"}),y.jsx("p",{children:"Questions from your followed topics will appear here"})]}):m.map(x=>y.jsx(Iu,{question:x},x.id))}),e==="recent"&&y.jsx("div",{className:"recent-activity",children:A.length===0?y.jsxs("div",{className:"empty-state",children:[y.jsx("div",{className:"empty-icon",children:y.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[y.jsx("circle",{cx:"12",cy:"12",r:"10"}),y.jsx("polyline",{points:"12,6 12,12 16,14"})]})}),y.jsx("h3",{children:"No recent activity"}),y.jsx("p",{children:"Recent questions from your followed topics will appear here"})]}):A.map(x=>y.jsx(Iu,{question:x},x.id))}),e==="topics"&&y.jsx("div",{className:"topics-overview",children:y.jsx("div",{className:"topics-grid",children:u.map(x=>y.jsxs("div",{className:"topic-overview-card",children:[y.jsxs("div",{className:"topic-header",children:[y.jsx("h3",{children:x}),y.jsxs("div",{className:"topic-stats",children:[y.jsxs("span",{children:[g[x]?.questionCount||0," questions"]}),y.jsxs("span",{children:[g[x]?.totalUpvotes||0," upvotes"]})]})]}),g[x]?.recentQuestions?.length>0&&y.jsxs("div",{className:"recent-questions",children:[y.jsx("h4",{children:"Recent questions:"}),y.jsx("ul",{children:g[x].recentQuestions.map(q=>y.jsx("li",{children:y.jsx("a",{href:`/question/${q.id}`,children:q.title})},q.id))})]})]},x))})})]})]})}function na({children:i}){const{currentUser:e,loading:t}=mn();return t?y.jsx(Sa,{}):e?i:y.jsx(NT,{to:"/login"})}function vT({children:i}){const{currentUser:e,loading:t}=mn();return t?y.jsx(Sa,{}):e?y.jsx(NT,{to:"/"}):i}function hk({children:i}){const{currentUser:e}=mn();return e?y.jsxs("div",{className:"app-layout",children:[y.jsx(JM,{}),y.jsxs("div",{className:"main-layout",children:[y.jsx(ek,{}),y.jsx("main",{className:"main-content",children:i})]})]}):i}function fk(){return y.jsx(ZM,{children:y.jsx(XM,{children:y.jsx(LR,{children:y.jsx("div",{className:"App",children:y.jsx(hk,{children:y.jsxs(dR,{children:[y.jsx(Ai,{path:"/",element:y.jsx(na,{children:y.jsx(tk,{})})}),y.jsx(Ai,{path:"/login",element:y.jsx(vT,{children:y.jsx(nk,{})})}),y.jsx(Ai,{path:"/register",element:y.jsx(vT,{children:y.jsx(ik,{})})}),y.jsx(Ai,{path:"/profile/:userId?",element:y.jsx(na,{children:y.jsx(rk,{})})}),y.jsx(Ai,{path:"/question/:id",element:y.jsx(na,{children:y.jsx(ak,{})})}),y.jsx(Ai,{path:"/ask",element:y.jsx(na,{children:y.jsx(ok,{})})}),y.jsx(Ai,{path:"/search",element:y.jsx(na,{children:y.jsx(lk,{})})}),y.jsx(Ai,{path:"/topics",element:y.jsx(na,{children:y.jsx(uk,{})})}),y.jsx(Ai,{path:"/following",element:y.jsx(na,{children:y.jsx(ck,{})})})]})})})})})})}wb.createRoot(document.getElementById("root")).render(y.jsx(mb.StrictMode,{children:y.jsx(fk,{})}));
