(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&r(h)}).observe(document,{childList:!0,subtree:!0});function t(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=t(o);fetch(o.href,u)}})();function TT(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Fm={exports:{}},eu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f0;function fS(){if(f0)return eu;f0=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var d in o)d!=="key"&&(u[d]=o[d])}else u=o;return o=u.ref,{$$typeof:i,type:r,key:h,ref:o!==void 0?o:null,props:u}}return eu.Fragment=e,eu.jsx=t,eu.jsxs=t,eu}var d0;function dS(){return d0||(d0=1,Fm.exports=fS()),Fm.exports}var y=dS(),Hm={exports:{}},Re={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m0;function mS(){if(m0)return Re;m0=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),A=Symbol.iterator;function w(j){return j===null||typeof j!="object"?null:(j=A&&j[A]||j["@@iterator"],typeof j=="function"?j:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,z={};function P(j,ie,ue){this.props=j,this.context=ie,this.refs=z,this.updater=ue||I}P.prototype.isReactComponent={},P.prototype.setState=function(j,ie){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,ie,"setState")},P.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function M(){}M.prototype=P.prototype;function K(j,ie,ue){this.props=j,this.context=ie,this.refs=z,this.updater=ue||I}var X=K.prototype=new M;X.constructor=K,x(X,P.prototype),X.isPureReactComponent=!0;var se=Array.isArray,re={H:null,A:null,T:null,S:null,V:null},fe=Object.prototype.hasOwnProperty;function N(j,ie,ue,ae,ye,Ce){return ue=Ce.ref,{$$typeof:i,type:j,key:ie,ref:ue!==void 0?ue:null,props:Ce}}function R(j,ie){return N(j.type,ie,void 0,void 0,void 0,j.props)}function C(j){return typeof j=="object"&&j!==null&&j.$$typeof===i}function k(j){var ie={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(ue){return ie[ue]})}var U=/\/+/g;function B(j,ie){return typeof j=="object"&&j!==null&&j.key!=null?k(""+j.key):ie.toString(36)}function O(){}function mt(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(O,O):(j.status="pending",j.then(function(ie){j.status==="pending"&&(j.status="fulfilled",j.value=ie)},function(ie){j.status==="pending"&&(j.status="rejected",j.reason=ie)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function it(j,ie,ue,ae,ye){var Ce=typeof j;(Ce==="undefined"||Ce==="boolean")&&(j=null);var Ae=!1;if(j===null)Ae=!0;else switch(Ce){case"bigint":case"string":case"number":Ae=!0;break;case"object":switch(j.$$typeof){case i:case e:Ae=!0;break;case _:return Ae=j._init,it(Ae(j._payload),ie,ue,ae,ye)}}if(Ae)return ye=ye(j),Ae=ae===""?"."+B(j,0):ae,se(ye)?(ue="",Ae!=null&&(ue=Ae.replace(U,"$&/")+"/"),it(ye,ie,ue,"",function(oi){return oi})):ye!=null&&(C(ye)&&(ye=R(ye,ue+(ye.key==null||j&&j.key===ye.key?"":(""+ye.key).replace(U,"$&/")+"/")+Ae)),ie.push(ye)),1;Ae=0;var Ot=ae===""?".":ae+":";if(se(j))for(var Je=0;Je<j.length;Je++)ae=j[Je],Ce=Ot+B(ae,Je),Ae+=it(ae,ie,ue,Ce,ye);else if(Je=w(j),typeof Je=="function")for(j=Je.call(j),Je=0;!(ae=j.next()).done;)ae=ae.value,Ce=Ot+B(ae,Je++),Ae+=it(ae,ie,ue,Ce,ye);else if(Ce==="object"){if(typeof j.then=="function")return it(mt(j),ie,ue,ae,ye);throw ie=String(j),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return Ae}function W(j,ie,ue){if(j==null)return j;var ae=[],ye=0;return it(j,ae,"","",function(Ce){return ie.call(ue,Ce,ye++)}),ae}function le(j){if(j._status===-1){var ie=j._result;ie=ie(),ie.then(function(ue){(j._status===0||j._status===-1)&&(j._status=1,j._result=ue)},function(ue){(j._status===0||j._status===-1)&&(j._status=2,j._result=ue)}),j._status===-1&&(j._status=0,j._result=ie)}if(j._status===1)return j._result.default;throw j._result}var pe=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)};function Be(){}return Re.Children={map:W,forEach:function(j,ie,ue){W(j,function(){ie.apply(this,arguments)},ue)},count:function(j){var ie=0;return W(j,function(){ie++}),ie},toArray:function(j){return W(j,function(ie){return ie})||[]},only:function(j){if(!C(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},Re.Component=P,Re.Fragment=t,Re.Profiler=o,Re.PureComponent=K,Re.StrictMode=r,Re.Suspense=p,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=re,Re.__COMPILER_RUNTIME={__proto__:null,c:function(j){return re.H.useMemoCache(j)}},Re.cache=function(j){return function(){return j.apply(null,arguments)}},Re.cloneElement=function(j,ie,ue){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var ae=x({},j.props),ye=j.key,Ce=void 0;if(ie!=null)for(Ae in ie.ref!==void 0&&(Ce=void 0),ie.key!==void 0&&(ye=""+ie.key),ie)!fe.call(ie,Ae)||Ae==="key"||Ae==="__self"||Ae==="__source"||Ae==="ref"&&ie.ref===void 0||(ae[Ae]=ie[Ae]);var Ae=arguments.length-2;if(Ae===1)ae.children=ue;else if(1<Ae){for(var Ot=Array(Ae),Je=0;Je<Ae;Je++)Ot[Je]=arguments[Je+2];ae.children=Ot}return N(j.type,ye,void 0,void 0,Ce,ae)},Re.createContext=function(j){return j={$$typeof:h,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:u,_context:j},j},Re.createElement=function(j,ie,ue){var ae,ye={},Ce=null;if(ie!=null)for(ae in ie.key!==void 0&&(Ce=""+ie.key),ie)fe.call(ie,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(ye[ae]=ie[ae]);var Ae=arguments.length-2;if(Ae===1)ye.children=ue;else if(1<Ae){for(var Ot=Array(Ae),Je=0;Je<Ae;Je++)Ot[Je]=arguments[Je+2];ye.children=Ot}if(j&&j.defaultProps)for(ae in Ae=j.defaultProps,Ae)ye[ae]===void 0&&(ye[ae]=Ae[ae]);return N(j,Ce,void 0,void 0,null,ye)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(j){return{$$typeof:d,render:j}},Re.isValidElement=C,Re.lazy=function(j){return{$$typeof:_,_payload:{_status:-1,_result:j},_init:le}},Re.memo=function(j,ie){return{$$typeof:g,type:j,compare:ie===void 0?null:ie}},Re.startTransition=function(j){var ie=re.T,ue={};re.T=ue;try{var ae=j(),ye=re.S;ye!==null&&ye(ue,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(Be,pe)}catch(Ce){pe(Ce)}finally{re.T=ie}},Re.unstable_useCacheRefresh=function(){return re.H.useCacheRefresh()},Re.use=function(j){return re.H.use(j)},Re.useActionState=function(j,ie,ue){return re.H.useActionState(j,ie,ue)},Re.useCallback=function(j,ie){return re.H.useCallback(j,ie)},Re.useContext=function(j){return re.H.useContext(j)},Re.useDebugValue=function(){},Re.useDeferredValue=function(j,ie){return re.H.useDeferredValue(j,ie)},Re.useEffect=function(j,ie,ue){var ae=re.H;if(typeof ue=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ae.useEffect(j,ie)},Re.useId=function(){return re.H.useId()},Re.useImperativeHandle=function(j,ie,ue){return re.H.useImperativeHandle(j,ie,ue)},Re.useInsertionEffect=function(j,ie){return re.H.useInsertionEffect(j,ie)},Re.useLayoutEffect=function(j,ie){return re.H.useLayoutEffect(j,ie)},Re.useMemo=function(j,ie){return re.H.useMemo(j,ie)},Re.useOptimistic=function(j,ie){return re.H.useOptimistic(j,ie)},Re.useReducer=function(j,ie,ue){return re.H.useReducer(j,ie,ue)},Re.useRef=function(j){return re.H.useRef(j)},Re.useState=function(j){return re.H.useState(j)},Re.useSyncExternalStore=function(j,ie,ue){return re.H.useSyncExternalStore(j,ie,ue)},Re.useTransition=function(){return re.H.useTransition()},Re.version="19.1.0",Re}var p0;function Fp(){return p0||(p0=1,Hm.exports=mS()),Hm.exports}var V=Fp();const pS=TT(V);var Gm={exports:{}},tu={},$m={exports:{}},Qm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g0;function gS(){return g0||(g0=1,function(i){function e(W,le){var pe=W.length;W.push(le);e:for(;0<pe;){var Be=pe-1>>>1,j=W[Be];if(0<o(j,le))W[Be]=le,W[pe]=j,pe=Be;else break e}}function t(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var le=W[0],pe=W.pop();if(pe!==le){W[0]=pe;e:for(var Be=0,j=W.length,ie=j>>>1;Be<ie;){var ue=2*(Be+1)-1,ae=W[ue],ye=ue+1,Ce=W[ye];if(0>o(ae,pe))ye<j&&0>o(Ce,ae)?(W[Be]=Ce,W[ye]=pe,Be=ye):(W[Be]=ae,W[ue]=pe,Be=ue);else if(ye<j&&0>o(Ce,pe))W[Be]=Ce,W[ye]=pe,Be=ye;else break e}}return le}function o(W,le){var pe=W.sortIndex-le.sortIndex;return pe!==0?pe:W.id-le.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var h=Date,d=h.now();i.unstable_now=function(){return h.now()-d}}var p=[],g=[],_=1,A=null,w=3,I=!1,x=!1,z=!1,P=!1,M=typeof setTimeout=="function"?setTimeout:null,K=typeof clearTimeout=="function"?clearTimeout:null,X=typeof setImmediate<"u"?setImmediate:null;function se(W){for(var le=t(g);le!==null;){if(le.callback===null)r(g);else if(le.startTime<=W)r(g),le.sortIndex=le.expirationTime,e(p,le);else break;le=t(g)}}function re(W){if(z=!1,se(W),!x)if(t(p)!==null)x=!0,fe||(fe=!0,B());else{var le=t(g);le!==null&&it(re,le.startTime-W)}}var fe=!1,N=-1,R=5,C=-1;function k(){return P?!0:!(i.unstable_now()-C<R)}function U(){if(P=!1,fe){var W=i.unstable_now();C=W;var le=!0;try{e:{x=!1,z&&(z=!1,K(N),N=-1),I=!0;var pe=w;try{t:{for(se(W),A=t(p);A!==null&&!(A.expirationTime>W&&k());){var Be=A.callback;if(typeof Be=="function"){A.callback=null,w=A.priorityLevel;var j=Be(A.expirationTime<=W);if(W=i.unstable_now(),typeof j=="function"){A.callback=j,se(W),le=!0;break t}A===t(p)&&r(p),se(W)}else r(p);A=t(p)}if(A!==null)le=!0;else{var ie=t(g);ie!==null&&it(re,ie.startTime-W),le=!1}}break e}finally{A=null,w=pe,I=!1}le=void 0}}finally{le?B():fe=!1}}}var B;if(typeof X=="function")B=function(){X(U)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,mt=O.port2;O.port1.onmessage=U,B=function(){mt.postMessage(null)}}else B=function(){M(U,0)};function it(W,le){N=M(function(){W(i.unstable_now())},le)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(W){W.callback=null},i.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<W?Math.floor(1e3/W):5},i.unstable_getCurrentPriorityLevel=function(){return w},i.unstable_next=function(W){switch(w){case 1:case 2:case 3:var le=3;break;default:le=w}var pe=w;w=le;try{return W()}finally{w=pe}},i.unstable_requestPaint=function(){P=!0},i.unstable_runWithPriority=function(W,le){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var pe=w;w=W;try{return le()}finally{w=pe}},i.unstable_scheduleCallback=function(W,le,pe){var Be=i.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?Be+pe:Be):pe=Be,W){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=pe+j,W={id:_++,callback:le,priorityLevel:W,startTime:pe,expirationTime:j,sortIndex:-1},pe>Be?(W.sortIndex=pe,e(g,W),t(p)===null&&W===t(g)&&(z?(K(N),N=-1):z=!0,it(re,pe-Be))):(W.sortIndex=j,e(p,W),x||I||(x=!0,fe||(fe=!0,B()))),W},i.unstable_shouldYield=k,i.unstable_wrapCallback=function(W){var le=w;return function(){var pe=w;w=le;try{return W.apply(this,arguments)}finally{w=pe}}}}(Qm)),Qm}var y0;function yS(){return y0||(y0=1,$m.exports=gS()),$m.exports}var Km={exports:{}},Yt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v0;function vS(){if(v0)return Yt;v0=1;var i=Fp();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)g+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,_){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:p,containerInfo:g,implementation:_}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Yt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Yt.createPortal=function(p,g){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,_)},Yt.flushSync=function(p){var g=h.T,_=r.p;try{if(h.T=null,r.p=2,p)return p()}finally{h.T=g,r.p=_,r.d.f()}},Yt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(p,g))},Yt.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},Yt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var _=g.as,A=d(_,g.crossOrigin),w=typeof g.integrity=="string"?g.integrity:void 0,I=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;_==="style"?r.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:A,integrity:w,fetchPriority:I}):_==="script"&&r.d.X(p,{crossOrigin:A,integrity:w,fetchPriority:I,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Yt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var _=d(g.as,g.crossOrigin);r.d.M(p,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(p)},Yt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var _=g.as,A=d(_,g.crossOrigin);r.d.L(p,_,{crossOrigin:A,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Yt.preloadModule=function(p,g){if(typeof p=="string")if(g){var _=d(g.as,g.crossOrigin);r.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(p)},Yt.requestFormReset=function(p){r.d.r(p)},Yt.unstable_batchedUpdates=function(p,g){return p(g)},Yt.useFormState=function(p,g,_){return h.H.useFormState(p,g,_)},Yt.useFormStatus=function(){return h.H.useHostTransitionStatus()},Yt.version="19.1.0",Yt}var _0;function _S(){if(_0)return Km.exports;_0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Km.exports=vS(),Km.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E0;function ES(){if(E0)return tu;E0=1;var i=yS(),e=Fp(),t=_S();function r(n){var s="https://react.dev/errors/"+n;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function u(n){var s=n,a=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(a=s.return),n=s.return;while(n)}return s.tag===3?a:null}function h(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function d(n){if(u(n)!==n)throw Error(r(188))}function p(n){var s=n.alternate;if(!s){if(s=u(n),s===null)throw Error(r(188));return s!==n?null:n}for(var a=n,l=s;;){var f=a.return;if(f===null)break;var m=f.alternate;if(m===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===a)return d(f),n;if(m===l)return d(f),s;m=m.sibling}throw Error(r(188))}if(a.return!==l.return)a=f,l=m;else{for(var T=!1,b=f.child;b;){if(b===a){T=!0,a=f,l=m;break}if(b===l){T=!0,l=f,a=m;break}b=b.sibling}if(!T){for(b=m.child;b;){if(b===a){T=!0,a=m,l=f;break}if(b===l){T=!0,l=m,a=f;break}b=b.sibling}if(!T)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?n:s}function g(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n;for(n=n.child;n!==null;){if(s=g(n),s!==null)return s;n=n.sibling}return null}var _=Object.assign,A=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),I=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),K=Symbol.for("react.consumer"),X=Symbol.for("react.context"),se=Symbol.for("react.forward_ref"),re=Symbol.for("react.suspense"),fe=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function B(n){return n===null||typeof n!="object"?null:(n=U&&n[U]||n["@@iterator"],typeof n=="function"?n:null)}var O=Symbol.for("react.client.reference");function mt(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===O?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case x:return"Fragment";case P:return"Profiler";case z:return"StrictMode";case re:return"Suspense";case fe:return"SuspenseList";case C:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case I:return"Portal";case X:return(n.displayName||"Context")+".Provider";case K:return(n._context.displayName||"Context")+".Consumer";case se:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case N:return s=n.displayName||null,s!==null?s:mt(n.type)||"Memo";case R:s=n._payload,n=n._init;try{return mt(n(s))}catch{}}return null}var it=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},Be=[],j=-1;function ie(n){return{current:n}}function ue(n){0>j||(n.current=Be[j],Be[j]=null,j--)}function ae(n,s){j++,Be[j]=n.current,n.current=s}var ye=ie(null),Ce=ie(null),Ae=ie(null),Ot=ie(null);function Je(n,s){switch(ae(Ae,s),ae(Ce,n),ae(ye,null),s.nodeType){case 9:case 11:n=(n=s.documentElement)&&(n=n.namespaceURI)?B_(n):0;break;default:if(n=s.tagName,s=s.namespaceURI)s=B_(s),n=z_(s,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}ue(ye),ae(ye,n)}function oi(){ue(ye),ue(Ce),ue(Ae)}function As(n){n.memoizedState!==null&&ae(Ot,n);var s=ye.current,a=z_(s,n.type);s!==a&&(ae(Ce,n),ae(ye,a))}function ji(n){Ce.current===n&&(ue(ye),ue(Ce)),Ot.current===n&&(ue(Ot),Yl._currentValue=pe)}var Er=Object.prototype.hasOwnProperty,Tr=i.unstable_scheduleCallback,wr=i.unstable_cancelCallback,$o=i.unstable_shouldYield,zu=i.unstable_requestPaint,Cn=i.unstable_now,Ff=i.unstable_getCurrentPriorityLevel,Qo=i.unstable_ImmediatePriority,Sa=i.unstable_UserBlockingPriority,Ar=i.unstable_NormalPriority,Hf=i.unstable_LowPriority,Ra=i.unstable_IdlePriority,Ko=i.log,qu=i.unstable_setDisableYieldValue,ct=null,He=null;function yn(n){if(typeof Ko=="function"&&qu(n),He&&typeof He.setStrictMode=="function")try{He.setStrictMode(ct,n)}catch{}}var Qt=Math.clz32?Math.clz32:br,Fu=Math.log,Gf=Math.LN2;function br(n){return n>>>=0,n===0?32:31-(Fu(n)/Gf|0)|0}var Sr=256,Rr=4194304;function Kn(n){var s=n&42;if(s!==0)return s;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Ia(n,s,a){var l=n.pendingLanes;if(l===0)return 0;var f=0,m=n.suspendedLanes,T=n.pingedLanes;n=n.warmLanes;var b=l&134217727;return b!==0?(l=b&~m,l!==0?f=Kn(l):(T&=b,T!==0?f=Kn(T):a||(a=b&~n,a!==0&&(f=Kn(a))))):(b=l&~m,b!==0?f=Kn(b):T!==0?f=Kn(T):a||(a=l&~n,a!==0&&(f=Kn(a)))),f===0?0:s!==0&&s!==f&&(s&m)===0&&(m=f&-f,a=s&-s,m>=a||m===32&&(a&4194048)!==0)?s:f}function Ir(n,s){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&s)===0}function Yo(n,s){switch(n){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xo(){var n=Sr;return Sr<<=1,(Sr&4194048)===0&&(Sr=256),n}function Wo(){var n=Rr;return Rr<<=1,(Rr&62914560)===0&&(Rr=4194304),n}function Li(n){for(var s=[],a=0;31>a;a++)s.push(n);return s}function Ui(n,s){n.pendingLanes|=s,s!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Zo(n,s,a,l,f,m){var T=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var b=n.entanglements,D=n.expirationTimes,G=n.hiddenUpdates;for(a=T&~a;0<a;){var Z=31-Qt(a),te=1<<Z;b[Z]=0,D[Z]=-1;var $=G[Z];if($!==null)for(G[Z]=null,Z=0;Z<$.length;Z++){var Q=$[Z];Q!==null&&(Q.lane&=-536870913)}a&=~te}l!==0&&li(n,l,0),m!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=m&~(T&~s))}function li(n,s,a){n.pendingLanes|=s,n.suspendedLanes&=~s;var l=31-Qt(s);n.entangledLanes|=s,n.entanglements[l]=n.entanglements[l]|1073741824|a&4194090}function Jo(n,s){var a=n.entangledLanes|=s;for(n=n.entanglements;a;){var l=31-Qt(a),f=1<<l;f&s|n[l]&s&&(n[l]|=s),a&=~f}}function bs(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function xa(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Ss(){var n=le.p;return n!==0?n:(n=window.event,n===void 0?32:a0(n.type))}function Hu(n,s){var a=le.p;try{return le.p=n,s()}finally{le.p=a}}var st=Math.random().toString(36).slice(2),Rt="__reactFiber$"+st,_t="__reactProps$"+st,Nn="__reactContainer$"+st,el="__reactEvents$"+st,$f="__reactListeners$"+st,Rs="__reactHandles$"+st,Gu="__reactResources$"+st,xr="__reactMarker$"+st;function Is(n){delete n[Rt],delete n[_t],delete n[el],delete n[$f],delete n[Rs]}function Bi(n){var s=n[Rt];if(s)return s;for(var a=n.parentNode;a;){if(s=a[Nn]||a[Rt]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(n=G_(n);n!==null;){if(a=n[Rt])return a;n=G_(n)}return s}n=a,a=n.parentNode}return null}function ui(n){if(n=n[Rt]||n[Nn]){var s=n.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return n}return null}function ci(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n.stateNode;throw Error(r(33))}function nn(n){var s=n[Gu];return s||(s=n[Gu]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function pt(n){n[xr]=!0}var tl=new Set,Ca={};function Yn(n,s){zi(n,s),zi(n+"Capture",s)}function zi(n,s){for(Ca[n]=s,n=0;n<s.length;n++)tl.add(s[n])}var $u=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Qu={},Cr={};function Ku(n){return Er.call(Cr,n)?!0:Er.call(Qu,n)?!1:$u.test(n)?Cr[n]=!0:(Qu[n]=!0,!1)}function xs(n,s,a){if(Ku(s))if(a===null)n.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(s);return;case"boolean":var l=s.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(s);return}}n.setAttribute(s,""+a)}}function hi(n,s,a){if(a===null)n.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttribute(s,""+a)}}function Ut(n,s,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(s,a,""+l)}}var Nr,Yu;function qi(n){if(Nr===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);Nr=s&&s[1]||"",Yu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Nr+n+Yu}var Na=!1;function Da(n,s){if(!n||Na)return"";Na=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(s){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(Q){var $=Q}Reflect.construct(n,[],te)}else{try{te.call()}catch(Q){$=Q}n.call(te.prototype)}}else{try{throw Error()}catch(Q){$=Q}(te=n())&&typeof te.catch=="function"&&te.catch(function(){})}}catch(Q){if(Q&&$&&typeof Q.stack=="string")return[Q.stack,$.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=l.DetermineComponentFrameRoot(),T=m[0],b=m[1];if(T&&b){var D=T.split(`
`),G=b.split(`
`);for(f=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;f<G.length&&!G[f].includes("DetermineComponentFrameRoot");)f++;if(l===D.length||f===G.length)for(l=D.length-1,f=G.length-1;1<=l&&0<=f&&D[l]!==G[f];)f--;for(;1<=l&&0<=f;l--,f--)if(D[l]!==G[f]){if(l!==1||f!==1)do if(l--,f--,0>f||D[l]!==G[f]){var Z=`
`+D[l].replace(" at new "," at ");return n.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",n.displayName)),Z}while(1<=l&&0<=f);break}}}finally{Na=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?qi(a):""}function nl(n){switch(n.tag){case 26:case 27:case 5:return qi(n.type);case 16:return qi("Lazy");case 13:return qi("Suspense");case 19:return qi("SuspenseList");case 0:case 15:return Da(n.type,!1);case 11:return Da(n.type.render,!1);case 1:return Da(n.type,!0);case 31:return qi("Activity");default:return""}}function Oa(n){try{var s="";do s+=nl(n),n=n.return;while(n);return s}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function sn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function il(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Qf(n){var s=il(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,s),l=""+n[s];if(!n.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,m=a.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return f.call(this)},set:function(T){l=""+T,m.call(this,T)}}),Object.defineProperty(n,s,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(T){l=""+T},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function Ma(n){n._valueTracker||(n._valueTracker=Qf(n))}function sl(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var a=s.getValue(),l="";return n&&(l=il(n)?n.checked?"true":"false":n.value),n=l,n!==a?(s.setValue(n),!0):!1}function Dr(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Kf=/[\n"\\]/g;function Et(n){return n.replace(Kf,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function vn(n,s,a,l,f,m,T,b){n.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?n.type=T:n.removeAttribute("type"),s!=null?T==="number"?(s===0&&n.value===""||n.value!=s)&&(n.value=""+sn(s)):n.value!==""+sn(s)&&(n.value=""+sn(s)):T!=="submit"&&T!=="reset"||n.removeAttribute("value"),s!=null?Cs(n,T,sn(s)):a!=null?Cs(n,T,sn(a)):l!=null&&n.removeAttribute("value"),f==null&&m!=null&&(n.defaultChecked=!!m),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?n.name=""+sn(b):n.removeAttribute("name")}function Or(n,s,a,l,f,m,T,b){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(n.type=m),s!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||s!=null))return;a=a!=null?""+sn(a):"",s=s!=null?""+sn(s):a,b||s===n.value||(n.value=s),n.defaultValue=s}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=b?n.checked:!!l,n.defaultChecked=!!l,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(n.name=T)}function Cs(n,s,a){s==="number"&&Dr(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function Fi(n,s,a,l){if(n=n.options,s){s={};for(var f=0;f<a.length;f++)s["$"+a[f]]=!0;for(a=0;a<n.length;a++)f=s.hasOwnProperty("$"+n[a].value),n[a].selected!==f&&(n[a].selected=f),f&&l&&(n[a].defaultSelected=!0)}else{for(a=""+sn(a),s=null,f=0;f<n.length;f++){if(n[f].value===a){n[f].selected=!0,l&&(n[f].defaultSelected=!0);return}s!==null||n[f].disabled||(s=n[f])}s!==null&&(s.selected=!0)}}function Ke(n,s,a){if(s!=null&&(s=""+sn(s),s!==n.value&&(n.value=s),a==null)){n.defaultValue!==s&&(n.defaultValue=s);return}n.defaultValue=a!=null?""+sn(a):""}function Mr(n,s,a,l){if(s==null){if(l!=null){if(a!=null)throw Error(r(92));if(it(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),s=a}a=sn(s),n.defaultValue=a,l=n.textContent,l===a&&l!==""&&l!==null&&(n.value=l)}function Dn(n,s){if(s){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=s;return}}n.textContent=s}var kr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Xu(n,s,a){var l=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?n.setProperty(s,""):s==="float"?n.cssFloat="":n[s]="":l?n.setProperty(s,a):typeof a!="number"||a===0||kr.has(s)?s==="float"?n.cssFloat=a:n[s]=(""+a).trim():n[s]=a+"px"}function rl(n,s,a){if(s!=null&&typeof s!="object")throw Error(r(62));if(n=n.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||s!=null&&s.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var f in s)l=s[f],s.hasOwnProperty(f)&&a[f]!==l&&Xu(n,f,l)}else for(var m in s)s.hasOwnProperty(m)&&Xu(n,m,s[m])}function al(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Xf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ka(n){return Xf.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var Hi=null;function On(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Gi=null,$i=null;function ol(n){var s=ui(n);if(s&&(n=s.stateNode)){var a=n[_t]||null;e:switch(n=s.stateNode,s.type){case"input":if(vn(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Et(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var l=a[s];if(l!==n&&l.form===n.form){var f=l[_t]||null;if(!f)throw Error(r(90));vn(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<a.length;s++)l=a[s],l.form===n.form&&sl(l)}break e;case"textarea":Ke(n,a.value,a.defaultValue);break e;case"select":s=a.value,s!=null&&Fi(n,!!a.multiple,s,!1)}}}var fi=!1;function Wu(n,s,a){if(fi)return n(s,a);fi=!0;try{var l=n(s);return l}finally{if(fi=!1,(Gi!==null||$i!==null)&&(Hc(),Gi&&(s=Gi,n=$i,$i=Gi=null,ol(s),n)))for(s=0;s<n.length;s++)ol(n[s])}}function Pr(n,s){var a=n.stateNode;if(a===null)return null;var l=a[_t]||null;if(l===null)return null;a=l[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(r(231,s,typeof a));return a}var Xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Mn=!1;if(Xn)try{var Vr={};Object.defineProperty(Vr,"passive",{get:function(){Mn=!0}}),window.addEventListener("test",Vr,Vr),window.removeEventListener("test",Vr,Vr)}catch{Mn=!1}var di=null,Ns=null,Qi=null;function ll(){if(Qi)return Qi;var n,s=Ns,a=s.length,l,f="value"in di?di.value:di.textContent,m=f.length;for(n=0;n<a&&s[n]===f[n];n++);var T=a-n;for(l=1;l<=T&&s[a-l]===f[m-l];l++);return Qi=f.slice(n,1<l?1-l:void 0)}function mi(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function pi(){return!0}function ul(){return!1}function Mt(n){function s(a,l,f,m,T){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=m,this.target=T,this.currentTarget=null;for(var b in n)n.hasOwnProperty(b)&&(a=n[b],this[b]=a?a(m):m[b]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?pi:ul,this.isPropagationStopped=ul,this}return _(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=pi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=pi)},persist:function(){},isPersistent:pi}),s}var qe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pa=Mt(qe),jr=_({},qe,{view:0,detail:0}),Zu=Mt(jr),Va,ja,gi,Lr=_({},jr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zr,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==gi&&(gi&&n.type==="mousemove"?(Va=n.screenX-gi.screenX,ja=n.screenY-gi.screenY):ja=Va=0,gi=n),Va)},movementY:function(n){return"movementY"in n?n.movementY:ja}}),kn=Mt(Lr),Ju=_({},Lr,{dataTransfer:0}),Wf=Mt(Ju),Ur=_({},jr,{relatedTarget:0}),La=Mt(Ur),cl=_({},qe,{animationName:0,elapsedTime:0,pseudoElement:0}),Ua=Mt(cl),ec=_({},qe,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Ba=Mt(ec),Zf=_({},qe,{data:0}),hl=Mt(Zf),Br={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fl(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=nc[n])?!!s[n]:!1}function zr(){return fl}var ic=_({},jr,{key:function(n){if(n.key){var s=Br[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=mi(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?tc[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zr,charCode:function(n){return n.type==="keypress"?mi(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?mi(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),za=Mt(ic),sc=_({},Lr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),dl=Mt(sc),Ki=_({},jr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zr}),rc=Mt(Ki),ac=_({},qe,{propertyName:0,elapsedTime:0,pseudoElement:0}),oc=Mt(ac),lc=_({},Lr,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),qa=Mt(lc),rn=_({},qe,{newState:0,oldState:0}),uc=Mt(rn),cc=[9,13,27,32],yi=Xn&&"CompositionEvent"in window,c=null;Xn&&"documentMode"in document&&(c=document.documentMode);var v=Xn&&"TextEvent"in window&&!c,E=Xn&&(!yi||c&&8<c&&11>=c),S=" ",F=!1;function Y(n,s){switch(n){case"keyup":return cc.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oe(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Pe=!1;function It(n,s){switch(n){case"compositionend":return oe(s);case"keypress":return s.which!==32?null:(F=!0,S);case"textInput":return n=s.data,n===S&&F?null:n;default:return null}}function Ve(n,s){if(Pe)return n==="compositionend"||!yi&&Y(n,s)?(n=ll(),Qi=Ns=di=null,Pe=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return E&&s.locale!=="ko"?null:s.data;default:return null}}var kt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xt(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!kt[n.type]:s==="textarea"}function Yi(n,s,a,l){Gi?$i?$i.push(l):$i=[l]:Gi=l,s=Xc(s,"onChange"),0<s.length&&(a=new Pa("onChange","change",null,a,l),n.push({event:a,listeners:s}))}var Bt=null,vi=null;function ml(n){P_(n,0)}function hc(n){var s=ci(n);if(sl(s))return n}function ny(n,s){if(n==="change")return s}var iy=!1;if(Xn){var Jf;if(Xn){var ed="oninput"in document;if(!ed){var sy=document.createElement("div");sy.setAttribute("oninput","return;"),ed=typeof sy.oninput=="function"}Jf=ed}else Jf=!1;iy=Jf&&(!document.documentMode||9<document.documentMode)}function ry(){Bt&&(Bt.detachEvent("onpropertychange",ay),vi=Bt=null)}function ay(n){if(n.propertyName==="value"&&hc(vi)){var s=[];Yi(s,vi,n,On(n)),Wu(ml,s)}}function qA(n,s,a){n==="focusin"?(ry(),Bt=s,vi=a,Bt.attachEvent("onpropertychange",ay)):n==="focusout"&&ry()}function FA(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return hc(vi)}function HA(n,s){if(n==="click")return hc(s)}function GA(n,s){if(n==="input"||n==="change")return hc(s)}function $A(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var _n=typeof Object.is=="function"?Object.is:$A;function pl(n,s){if(_n(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var a=Object.keys(n),l=Object.keys(s);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!Er.call(s,f)||!_n(n[f],s[f]))return!1}return!0}function oy(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function ly(n,s){var a=oy(n);n=0;for(var l;a;){if(a.nodeType===3){if(l=n+a.textContent.length,n<=s&&l>=s)return{node:a,offset:s-n};n=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=oy(a)}}function uy(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?uy(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function cy(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var s=Dr(n.document);s instanceof n.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)n=s.contentWindow;else break;s=Dr(n.document)}return s}function td(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}var QA=Xn&&"documentMode"in document&&11>=document.documentMode,Fa=null,nd=null,gl=null,id=!1;function hy(n,s,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;id||Fa==null||Fa!==Dr(l)||(l=Fa,"selectionStart"in l&&td(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),gl&&pl(gl,l)||(gl=l,l=Xc(nd,"onSelect"),0<l.length&&(s=new Pa("onSelect","select",null,s,a),n.push({event:s,listeners:l}),s.target=Fa)))}function qr(n,s){var a={};return a[n.toLowerCase()]=s.toLowerCase(),a["Webkit"+n]="webkit"+s,a["Moz"+n]="moz"+s,a}var Ha={animationend:qr("Animation","AnimationEnd"),animationiteration:qr("Animation","AnimationIteration"),animationstart:qr("Animation","AnimationStart"),transitionrun:qr("Transition","TransitionRun"),transitionstart:qr("Transition","TransitionStart"),transitioncancel:qr("Transition","TransitionCancel"),transitionend:qr("Transition","TransitionEnd")},sd={},fy={};Xn&&(fy=document.createElement("div").style,"AnimationEvent"in window||(delete Ha.animationend.animation,delete Ha.animationiteration.animation,delete Ha.animationstart.animation),"TransitionEvent"in window||delete Ha.transitionend.transition);function Fr(n){if(sd[n])return sd[n];if(!Ha[n])return n;var s=Ha[n],a;for(a in s)if(s.hasOwnProperty(a)&&a in fy)return sd[n]=s[a];return n}var dy=Fr("animationend"),my=Fr("animationiteration"),py=Fr("animationstart"),KA=Fr("transitionrun"),YA=Fr("transitionstart"),XA=Fr("transitioncancel"),gy=Fr("transitionend"),yy=new Map,rd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");rd.push("scrollEnd");function Wn(n,s){yy.set(n,s),Yn(s,[n])}var vy=new WeakMap;function Pn(n,s){if(typeof n=="object"&&n!==null){var a=vy.get(n);return a!==void 0?a:(s={value:n,source:s,stack:Oa(s)},vy.set(n,s),s)}return{value:n,source:s,stack:Oa(s)}}var Vn=[],Ga=0,ad=0;function fc(){for(var n=Ga,s=ad=Ga=0;s<n;){var a=Vn[s];Vn[s++]=null;var l=Vn[s];Vn[s++]=null;var f=Vn[s];Vn[s++]=null;var m=Vn[s];if(Vn[s++]=null,l!==null&&f!==null){var T=l.pending;T===null?f.next=f:(f.next=T.next,T.next=f),l.pending=f}m!==0&&_y(a,f,m)}}function dc(n,s,a,l){Vn[Ga++]=n,Vn[Ga++]=s,Vn[Ga++]=a,Vn[Ga++]=l,ad|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function od(n,s,a,l){return dc(n,s,a,l),mc(n)}function $a(n,s){return dc(n,null,null,s),mc(n)}function _y(n,s,a){n.lanes|=a;var l=n.alternate;l!==null&&(l.lanes|=a);for(var f=!1,m=n.return;m!==null;)m.childLanes|=a,l=m.alternate,l!==null&&(l.childLanes|=a),m.tag===22&&(n=m.stateNode,n===null||n._visibility&1||(f=!0)),n=m,m=m.return;return n.tag===3?(m=n.stateNode,f&&s!==null&&(f=31-Qt(a),n=m.hiddenUpdates,l=n[f],l===null?n[f]=[s]:l.push(s),s.lane=a|536870912),m):null}function mc(n){if(50<zl)throw zl=0,dm=null,Error(r(185));for(var s=n.return;s!==null;)n=s,s=n.return;return n.tag===3?n.stateNode:null}var Qa={};function WA(n,s,a,l){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function En(n,s,a,l){return new WA(n,s,a,l)}function ld(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Xi(n,s){var a=n.alternate;return a===null?(a=En(n.tag,s,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=s,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,s=n.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function Ey(n,s){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=s,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,s=a.dependencies,n.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),n}function pc(n,s,a,l,f,m){var T=0;if(l=n,typeof n=="function")ld(n)&&(T=1);else if(typeof n=="string")T=Jb(n,a,ye.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case C:return n=En(31,a,s,f),n.elementType=C,n.lanes=m,n;case x:return Hr(a.children,f,m,s);case z:T=8,f|=24;break;case P:return n=En(12,a,s,f|2),n.elementType=P,n.lanes=m,n;case re:return n=En(13,a,s,f),n.elementType=re,n.lanes=m,n;case fe:return n=En(19,a,s,f),n.elementType=fe,n.lanes=m,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case M:case X:T=10;break e;case K:T=9;break e;case se:T=11;break e;case N:T=14;break e;case R:T=16,l=null;break e}T=29,a=Error(r(130,n===null?"null":typeof n,"")),l=null}return s=En(T,a,s,f),s.elementType=n,s.type=l,s.lanes=m,s}function Hr(n,s,a,l){return n=En(7,n,l,s),n.lanes=a,n}function ud(n,s,a){return n=En(6,n,null,s),n.lanes=a,n}function cd(n,s,a){return s=En(4,n.children!==null?n.children:[],n.key,s),s.lanes=a,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}var Ka=[],Ya=0,gc=null,yc=0,jn=[],Ln=0,Gr=null,Wi=1,Zi="";function $r(n,s){Ka[Ya++]=yc,Ka[Ya++]=gc,gc=n,yc=s}function Ty(n,s,a){jn[Ln++]=Wi,jn[Ln++]=Zi,jn[Ln++]=Gr,Gr=n;var l=Wi;n=Zi;var f=32-Qt(l)-1;l&=~(1<<f),a+=1;var m=32-Qt(s)+f;if(30<m){var T=f-f%5;m=(l&(1<<T)-1).toString(32),l>>=T,f-=T,Wi=1<<32-Qt(s)+f|a<<f|l,Zi=m+n}else Wi=1<<m|a<<f|l,Zi=n}function hd(n){n.return!==null&&($r(n,1),Ty(n,1,0))}function fd(n){for(;n===gc;)gc=Ka[--Ya],Ka[Ya]=null,yc=Ka[--Ya],Ka[Ya]=null;for(;n===Gr;)Gr=jn[--Ln],jn[Ln]=null,Zi=jn[--Ln],jn[Ln]=null,Wi=jn[--Ln],jn[Ln]=null}var an=null,ht=null,ze=!1,Qr=null,_i=!1,dd=Error(r(519));function Kr(n){var s=Error(r(418,""));throw _l(Pn(s,n)),dd}function wy(n){var s=n.stateNode,a=n.type,l=n.memoizedProps;switch(s[Rt]=n,s[_t]=l,a){case"dialog":Oe("cancel",s),Oe("close",s);break;case"iframe":case"object":case"embed":Oe("load",s);break;case"video":case"audio":for(a=0;a<Fl.length;a++)Oe(Fl[a],s);break;case"source":Oe("error",s);break;case"img":case"image":case"link":Oe("error",s),Oe("load",s);break;case"details":Oe("toggle",s);break;case"input":Oe("invalid",s),Or(s,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Ma(s);break;case"select":Oe("invalid",s);break;case"textarea":Oe("invalid",s),Mr(s,l.value,l.defaultValue,l.children),Ma(s)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||l.suppressHydrationWarning===!0||U_(s.textContent,a)?(l.popover!=null&&(Oe("beforetoggle",s),Oe("toggle",s)),l.onScroll!=null&&Oe("scroll",s),l.onScrollEnd!=null&&Oe("scrollend",s),l.onClick!=null&&(s.onclick=Wc),s=!0):s=!1,s||Kr(n)}function Ay(n){for(an=n.return;an;)switch(an.tag){case 5:case 13:_i=!1;return;case 27:case 3:_i=!0;return;default:an=an.return}}function yl(n){if(n!==an)return!1;if(!ze)return Ay(n),ze=!0,!1;var s=n.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||Cm(n.type,n.memoizedProps)),a=!a),a&&ht&&Kr(n),Ay(n),s===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));e:{for(n=n.nextSibling,s=0;n;){if(n.nodeType===8)if(a=n.data,a==="/$"){if(s===0){ht=Jn(n.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++;n=n.nextSibling}ht=null}}else s===27?(s=ht,$s(n.type)?(n=Mm,Mm=null,ht=n):ht=s):ht=an?Jn(n.stateNode.nextSibling):null;return!0}function vl(){ht=an=null,ze=!1}function by(){var n=Qr;return n!==null&&(un===null?un=n:un.push.apply(un,n),Qr=null),n}function _l(n){Qr===null?Qr=[n]:Qr.push(n)}var md=ie(null),Yr=null,Ji=null;function Ds(n,s,a){ae(md,s._currentValue),s._currentValue=a}function es(n){n._currentValue=md.current,ue(md)}function pd(n,s,a){for(;n!==null;){var l=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,l!==null&&(l.childLanes|=s)):l!==null&&(l.childLanes&s)!==s&&(l.childLanes|=s),n===a)break;n=n.return}}function gd(n,s,a,l){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var m=f.dependencies;if(m!==null){var T=f.child;m=m.firstContext;e:for(;m!==null;){var b=m;m=f;for(var D=0;D<s.length;D++)if(b.context===s[D]){m.lanes|=a,b=m.alternate,b!==null&&(b.lanes|=a),pd(m.return,a,n),l||(T=null);break e}m=b.next}}else if(f.tag===18){if(T=f.return,T===null)throw Error(r(341));T.lanes|=a,m=T.alternate,m!==null&&(m.lanes|=a),pd(T,a,n),T=null}else T=f.child;if(T!==null)T.return=f;else for(T=f;T!==null;){if(T===n){T=null;break}if(f=T.sibling,f!==null){f.return=T.return,T=f;break}T=T.return}f=T}}function El(n,s,a,l){n=null;for(var f=s,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var T=f.alternate;if(T===null)throw Error(r(387));if(T=T.memoizedProps,T!==null){var b=f.type;_n(f.pendingProps.value,T.value)||(n!==null?n.push(b):n=[b])}}else if(f===Ot.current){if(T=f.alternate,T===null)throw Error(r(387));T.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(Yl):n=[Yl])}f=f.return}n!==null&&gd(s,n,a,l),s.flags|=262144}function vc(n){for(n=n.firstContext;n!==null;){if(!_n(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Xr(n){Yr=n,Ji=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Kt(n){return Sy(Yr,n)}function _c(n,s){return Yr===null&&Xr(n),Sy(n,s)}function Sy(n,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},Ji===null){if(n===null)throw Error(r(308));Ji=s,n.dependencies={lanes:0,firstContext:s},n.flags|=524288}else Ji=Ji.next=s;return a}var ZA=typeof AbortController<"u"?AbortController:function(){var n=[],s=this.signal={aborted:!1,addEventListener:function(a,l){n.push(l)}};this.abort=function(){s.aborted=!0,n.forEach(function(a){return a()})}},JA=i.unstable_scheduleCallback,eb=i.unstable_NormalPriority,Ct={$$typeof:X,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function yd(){return{controller:new ZA,data:new Map,refCount:0}}function Tl(n){n.refCount--,n.refCount===0&&JA(eb,function(){n.controller.abort()})}var wl=null,vd=0,Xa=0,Wa=null;function tb(n,s){if(wl===null){var a=wl=[];vd=0,Xa=Em(),Wa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return vd++,s.then(Ry,Ry),s}function Ry(){if(--vd===0&&wl!==null){Wa!==null&&(Wa.status="fulfilled");var n=wl;wl=null,Xa=0,Wa=null;for(var s=0;s<n.length;s++)(0,n[s])()}}function nb(n,s){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return n.then(function(){l.status="fulfilled",l.value=s;for(var f=0;f<a.length;f++)(0,a[f])(s)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var Iy=W.S;W.S=function(n,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&tb(n,s),Iy!==null&&Iy(n,s)};var Wr=ie(null);function _d(){var n=Wr.current;return n!==null?n:et.pooledCache}function Ec(n,s){s===null?ae(Wr,Wr.current):ae(Wr,s.pool)}function xy(){var n=_d();return n===null?null:{parent:Ct._currentValue,pool:n}}var Al=Error(r(460)),Cy=Error(r(474)),Tc=Error(r(542)),Ed={then:function(){}};function Ny(n){return n=n.status,n==="fulfilled"||n==="rejected"}function wc(){}function Dy(n,s,a){switch(a=n[a],a===void 0?n.push(s):a!==s&&(s.then(wc,wc),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,My(n),n;default:if(typeof s.status=="string")s.then(wc,wc);else{if(n=et,n!==null&&100<n.shellSuspendCounter)throw Error(r(482));n=s,n.status="pending",n.then(function(l){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=l}},function(l){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=l}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,My(n),n}throw bl=s,Al}}var bl=null;function Oy(){if(bl===null)throw Error(r(459));var n=bl;return bl=null,n}function My(n){if(n===Al||n===Tc)throw Error(r(483))}var Os=!1;function Td(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function wd(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Ms(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function ks(n,s,a){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,(Ge&2)!==0){var f=l.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),l.pending=s,s=mc(n),_y(n,null,a),s}return dc(n,l,s,a),mc(n)}function Sl(n,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var l=s.lanes;l&=n.pendingLanes,a|=l,s.lanes=a,Jo(n,a)}}function Ad(n,s){var a=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var T={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?f=m=T:m=m.next=T,a=a.next}while(a!==null);m===null?f=m=s:m=m.next=s}else f=m=s;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:l.shared,callbacks:l.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=s:n.next=s,a.lastBaseUpdate=s}var bd=!1;function Rl(){if(bd){var n=Wa;if(n!==null)throw n}}function Il(n,s,a,l){bd=!1;var f=n.updateQueue;Os=!1;var m=f.firstBaseUpdate,T=f.lastBaseUpdate,b=f.shared.pending;if(b!==null){f.shared.pending=null;var D=b,G=D.next;D.next=null,T===null?m=G:T.next=G,T=D;var Z=n.alternate;Z!==null&&(Z=Z.updateQueue,b=Z.lastBaseUpdate,b!==T&&(b===null?Z.firstBaseUpdate=G:b.next=G,Z.lastBaseUpdate=D))}if(m!==null){var te=f.baseState;T=0,Z=G=D=null,b=m;do{var $=b.lane&-536870913,Q=$!==b.lane;if(Q?(je&$)===$:(l&$)===$){$!==0&&$===Xa&&(bd=!0),Z!==null&&(Z=Z.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var we=n,ve=b;$=s;var We=a;switch(ve.tag){case 1:if(we=ve.payload,typeof we=="function"){te=we.call(We,te,$);break e}te=we;break e;case 3:we.flags=we.flags&-65537|128;case 0:if(we=ve.payload,$=typeof we=="function"?we.call(We,te,$):we,$==null)break e;te=_({},te,$);break e;case 2:Os=!0}}$=b.callback,$!==null&&(n.flags|=64,Q&&(n.flags|=8192),Q=f.callbacks,Q===null?f.callbacks=[$]:Q.push($))}else Q={lane:$,tag:b.tag,payload:b.payload,callback:b.callback,next:null},Z===null?(G=Z=Q,D=te):Z=Z.next=Q,T|=$;if(b=b.next,b===null){if(b=f.shared.pending,b===null)break;Q=b,b=Q.next,Q.next=null,f.lastBaseUpdate=Q,f.shared.pending=null}}while(!0);Z===null&&(D=te),f.baseState=D,f.firstBaseUpdate=G,f.lastBaseUpdate=Z,m===null&&(f.shared.lanes=0),qs|=T,n.lanes=T,n.memoizedState=te}}function ky(n,s){if(typeof n!="function")throw Error(r(191,n));n.call(s)}function Py(n,s){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)ky(a[n],s)}var Za=ie(null),Ac=ie(0);function Vy(n,s){n=os,ae(Ac,n),ae(Za,s),os=n|s.baseLanes}function Sd(){ae(Ac,os),ae(Za,Za.current)}function Rd(){os=Ac.current,ue(Za),ue(Ac)}var Ps=0,Ie=null,Ye=null,Tt=null,bc=!1,Ja=!1,Zr=!1,Sc=0,xl=0,eo=null,ib=0;function gt(){throw Error(r(321))}function Id(n,s){if(s===null)return!1;for(var a=0;a<s.length&&a<n.length;a++)if(!_n(n[a],s[a]))return!1;return!0}function xd(n,s,a,l,f,m){return Ps=m,Ie=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,W.H=n===null||n.memoizedState===null?_v:Ev,Zr=!1,m=a(l,f),Zr=!1,Ja&&(m=Ly(s,a,l,f)),jy(n),m}function jy(n){W.H=Dc;var s=Ye!==null&&Ye.next!==null;if(Ps=0,Tt=Ye=Ie=null,bc=!1,xl=0,eo=null,s)throw Error(r(300));n===null||Pt||(n=n.dependencies,n!==null&&vc(n)&&(Pt=!0))}function Ly(n,s,a,l){Ie=n;var f=0;do{if(Ja&&(eo=null),xl=0,Ja=!1,25<=f)throw Error(r(301));if(f+=1,Tt=Ye=null,n.updateQueue!=null){var m=n.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}W.H=cb,m=s(a,l)}while(Ja);return m}function sb(){var n=W.H,s=n.useState()[0];return s=typeof s.then=="function"?Cl(s):s,n=n.useState()[0],(Ye!==null?Ye.memoizedState:null)!==n&&(Ie.flags|=1024),s}function Cd(){var n=Sc!==0;return Sc=0,n}function Nd(n,s,a){s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~a}function Dd(n){if(bc){for(n=n.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}bc=!1}Ps=0,Tt=Ye=Ie=null,Ja=!1,xl=Sc=0,eo=null}function on(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tt===null?Ie.memoizedState=Tt=n:Tt=Tt.next=n,Tt}function wt(){if(Ye===null){var n=Ie.alternate;n=n!==null?n.memoizedState:null}else n=Ye.next;var s=Tt===null?Ie.memoizedState:Tt.next;if(s!==null)Tt=s,Ye=n;else{if(n===null)throw Ie.alternate===null?Error(r(467)):Error(r(310));Ye=n,n={memoizedState:Ye.memoizedState,baseState:Ye.baseState,baseQueue:Ye.baseQueue,queue:Ye.queue,next:null},Tt===null?Ie.memoizedState=Tt=n:Tt=Tt.next=n}return Tt}function Od(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Cl(n){var s=xl;return xl+=1,eo===null&&(eo=[]),n=Dy(eo,n,s),s=Ie,(Tt===null?s.memoizedState:Tt.next)===null&&(s=s.alternate,W.H=s===null||s.memoizedState===null?_v:Ev),n}function Rc(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Cl(n);if(n.$$typeof===X)return Kt(n)}throw Error(r(438,String(n)))}function Md(n){var s=null,a=Ie.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var l=Ie.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(s={data:l.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=Od(),Ie.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(n),l=0;l<n;l++)a[l]=k;return s.index++,a}function ts(n,s){return typeof s=="function"?s(n):s}function Ic(n){var s=wt();return kd(s,Ye,n)}function kd(n,s,a){var l=n.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var f=n.baseQueue,m=l.pending;if(m!==null){if(f!==null){var T=f.next;f.next=m.next,m.next=T}s.baseQueue=f=m,l.pending=null}if(m=n.baseState,f===null)n.memoizedState=m;else{s=f.next;var b=T=null,D=null,G=s,Z=!1;do{var te=G.lane&-536870913;if(te!==G.lane?(je&te)===te:(Ps&te)===te){var $=G.revertLane;if($===0)D!==null&&(D=D.next={lane:0,revertLane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),te===Xa&&(Z=!0);else if((Ps&$)===$){G=G.next,$===Xa&&(Z=!0);continue}else te={lane:0,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},D===null?(b=D=te,T=m):D=D.next=te,Ie.lanes|=$,qs|=$;te=G.action,Zr&&a(m,te),m=G.hasEagerState?G.eagerState:a(m,te)}else $={lane:te,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},D===null?(b=D=$,T=m):D=D.next=$,Ie.lanes|=te,qs|=te;G=G.next}while(G!==null&&G!==s);if(D===null?T=m:D.next=b,!_n(m,n.memoizedState)&&(Pt=!0,Z&&(a=Wa,a!==null)))throw a;n.memoizedState=m,n.baseState=T,n.baseQueue=D,l.lastRenderedState=m}return f===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function Pd(n){var s=wt(),a=s.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=n;var l=a.dispatch,f=a.pending,m=s.memoizedState;if(f!==null){a.pending=null;var T=f=f.next;do m=n(m,T.action),T=T.next;while(T!==f);_n(m,s.memoizedState)||(Pt=!0),s.memoizedState=m,s.baseQueue===null&&(s.baseState=m),a.lastRenderedState=m}return[m,l]}function Uy(n,s,a){var l=Ie,f=wt(),m=ze;if(m){if(a===void 0)throw Error(r(407));a=a()}else a=s();var T=!_n((Ye||f).memoizedState,a);T&&(f.memoizedState=a,Pt=!0),f=f.queue;var b=qy.bind(null,l,f,n);if(Nl(2048,8,b,[n]),f.getSnapshot!==s||T||Tt!==null&&Tt.memoizedState.tag&1){if(l.flags|=2048,to(9,xc(),zy.bind(null,l,f,a,s),null),et===null)throw Error(r(349));m||(Ps&124)!==0||By(l,s,a)}return a}function By(n,s,a){n.flags|=16384,n={getSnapshot:s,value:a},s=Ie.updateQueue,s===null?(s=Od(),Ie.updateQueue=s,s.stores=[n]):(a=s.stores,a===null?s.stores=[n]:a.push(n))}function zy(n,s,a,l){s.value=a,s.getSnapshot=l,Fy(s)&&Hy(n)}function qy(n,s,a){return a(function(){Fy(s)&&Hy(n)})}function Fy(n){var s=n.getSnapshot;n=n.value;try{var a=s();return!_n(n,a)}catch{return!0}}function Hy(n){var s=$a(n,2);s!==null&&Sn(s,n,2)}function Vd(n){var s=on();if(typeof n=="function"){var a=n;if(n=a(),Zr){yn(!0);try{a()}finally{yn(!1)}}}return s.memoizedState=s.baseState=n,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ts,lastRenderedState:n},s}function Gy(n,s,a,l){return n.baseState=a,kd(n,Ye,typeof l=="function"?l:ts)}function rb(n,s,a,l,f){if(Nc(n))throw Error(r(485));if(n=s.action,n!==null){var m={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){m.listeners.push(T)}};W.T!==null?a(!0):m.isTransition=!1,l(m),a=s.pending,a===null?(m.next=s.pending=m,$y(s,m)):(m.next=a.next,s.pending=a.next=m)}}function $y(n,s){var a=s.action,l=s.payload,f=n.state;if(s.isTransition){var m=W.T,T={};W.T=T;try{var b=a(f,l),D=W.S;D!==null&&D(T,b),Qy(n,s,b)}catch(G){jd(n,s,G)}finally{W.T=m}}else try{m=a(f,l),Qy(n,s,m)}catch(G){jd(n,s,G)}}function Qy(n,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Ky(n,s,l)},function(l){return jd(n,s,l)}):Ky(n,s,a)}function Ky(n,s,a){s.status="fulfilled",s.value=a,Yy(s),n.state=a,s=n.pending,s!==null&&(a=s.next,a===s?n.pending=null:(a=a.next,s.next=a,$y(n,a)))}function jd(n,s,a){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do s.status="rejected",s.reason=a,Yy(s),s=s.next;while(s!==l)}n.action=null}function Yy(n){n=n.listeners;for(var s=0;s<n.length;s++)(0,n[s])()}function Xy(n,s){return s}function Wy(n,s){if(ze){var a=et.formState;if(a!==null){e:{var l=Ie;if(ze){if(ht){t:{for(var f=ht,m=_i;f.nodeType!==8;){if(!m){f=null;break t}if(f=Jn(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){ht=Jn(f.nextSibling),l=f.data==="F!";break e}}Kr(l)}l=!1}l&&(s=a[0])}}return a=on(),a.memoizedState=a.baseState=s,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xy,lastRenderedState:s},a.queue=l,a=gv.bind(null,Ie,l),l.dispatch=a,l=Vd(!1),m=qd.bind(null,Ie,!1,l.queue),l=on(),f={state:s,dispatch:null,action:n,pending:null},l.queue=f,a=rb.bind(null,Ie,f,m,a),f.dispatch=a,l.memoizedState=n,[s,a,!1]}function Zy(n){var s=wt();return Jy(s,Ye,n)}function Jy(n,s,a){if(s=kd(n,s,Xy)[0],n=Ic(ts)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var l=Cl(s)}catch(T){throw T===Al?Tc:T}else l=s;s=wt();var f=s.queue,m=f.dispatch;return a!==s.memoizedState&&(Ie.flags|=2048,to(9,xc(),ab.bind(null,f,a),null)),[l,m,n]}function ab(n,s){n.action=s}function ev(n){var s=wt(),a=Ye;if(a!==null)return Jy(s,a,n);wt(),s=s.memoizedState,a=wt();var l=a.queue.dispatch;return a.memoizedState=n,[s,l,!1]}function to(n,s,a,l){return n={tag:n,create:a,deps:l,inst:s,next:null},s=Ie.updateQueue,s===null&&(s=Od(),Ie.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=n.next=n:(l=a.next,a.next=n,n.next=l,s.lastEffect=n),n}function xc(){return{destroy:void 0,resource:void 0}}function tv(){return wt().memoizedState}function Cc(n,s,a,l){var f=on();l=l===void 0?null:l,Ie.flags|=n,f.memoizedState=to(1|s,xc(),a,l)}function Nl(n,s,a,l){var f=wt();l=l===void 0?null:l;var m=f.memoizedState.inst;Ye!==null&&l!==null&&Id(l,Ye.memoizedState.deps)?f.memoizedState=to(s,m,a,l):(Ie.flags|=n,f.memoizedState=to(1|s,m,a,l))}function nv(n,s){Cc(8390656,8,n,s)}function iv(n,s){Nl(2048,8,n,s)}function sv(n,s){return Nl(4,2,n,s)}function rv(n,s){return Nl(4,4,n,s)}function av(n,s){if(typeof s=="function"){n=n();var a=s(n);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function ov(n,s,a){a=a!=null?a.concat([n]):null,Nl(4,4,av.bind(null,s,n),a)}function Ld(){}function lv(n,s){var a=wt();s=s===void 0?null:s;var l=a.memoizedState;return s!==null&&Id(s,l[1])?l[0]:(a.memoizedState=[n,s],n)}function uv(n,s){var a=wt();s=s===void 0?null:s;var l=a.memoizedState;if(s!==null&&Id(s,l[1]))return l[0];if(l=n(),Zr){yn(!0);try{n()}finally{yn(!1)}}return a.memoizedState=[l,s],l}function Ud(n,s,a){return a===void 0||(Ps&1073741824)!==0?n.memoizedState=s:(n.memoizedState=a,n=f_(),Ie.lanes|=n,qs|=n,a)}function cv(n,s,a,l){return _n(a,s)?a:Za.current!==null?(n=Ud(n,a,l),_n(n,s)||(Pt=!0),n):(Ps&42)===0?(Pt=!0,n.memoizedState=a):(n=f_(),Ie.lanes|=n,qs|=n,s)}function hv(n,s,a,l,f){var m=le.p;le.p=m!==0&&8>m?m:8;var T=W.T,b={};W.T=b,qd(n,!1,s,a);try{var D=f(),G=W.S;if(G!==null&&G(b,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var Z=nb(D,l);Dl(n,s,Z,bn(n))}else Dl(n,s,l,bn(n))}catch(te){Dl(n,s,{then:function(){},status:"rejected",reason:te},bn())}finally{le.p=m,W.T=T}}function ob(){}function Bd(n,s,a,l){if(n.tag!==5)throw Error(r(476));var f=fv(n).queue;hv(n,f,s,pe,a===null?ob:function(){return dv(n),a(l)})}function fv(n){var s=n.memoizedState;if(s!==null)return s;s={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ts,lastRenderedState:pe},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ts,lastRenderedState:a},next:null},n.memoizedState=s,n=n.alternate,n!==null&&(n.memoizedState=s),s}function dv(n){var s=fv(n).next.queue;Dl(n,s,{},bn())}function zd(){return Kt(Yl)}function mv(){return wt().memoizedState}function pv(){return wt().memoizedState}function lb(n){for(var s=n.return;s!==null;){switch(s.tag){case 24:case 3:var a=bn();n=Ms(a);var l=ks(s,n,a);l!==null&&(Sn(l,s,a),Sl(l,s,a)),s={cache:yd()},n.payload=s;return}s=s.return}}function ub(n,s,a){var l=bn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Nc(n)?yv(s,a):(a=od(n,s,a,l),a!==null&&(Sn(a,n,l),vv(a,s,l)))}function gv(n,s,a){var l=bn();Dl(n,s,a,l)}function Dl(n,s,a,l){var f={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Nc(n))yv(s,f);else{var m=n.alternate;if(n.lanes===0&&(m===null||m.lanes===0)&&(m=s.lastRenderedReducer,m!==null))try{var T=s.lastRenderedState,b=m(T,a);if(f.hasEagerState=!0,f.eagerState=b,_n(b,T))return dc(n,s,f,0),et===null&&fc(),!1}catch{}finally{}if(a=od(n,s,f,l),a!==null)return Sn(a,n,l),vv(a,s,l),!0}return!1}function qd(n,s,a,l){if(l={lane:2,revertLane:Em(),action:l,hasEagerState:!1,eagerState:null,next:null},Nc(n)){if(s)throw Error(r(479))}else s=od(n,a,l,2),s!==null&&Sn(s,n,2)}function Nc(n){var s=n.alternate;return n===Ie||s!==null&&s===Ie}function yv(n,s){Ja=bc=!0;var a=n.pending;a===null?s.next=s:(s.next=a.next,a.next=s),n.pending=s}function vv(n,s,a){if((a&4194048)!==0){var l=s.lanes;l&=n.pendingLanes,a|=l,s.lanes=a,Jo(n,a)}}var Dc={readContext:Kt,use:Rc,useCallback:gt,useContext:gt,useEffect:gt,useImperativeHandle:gt,useLayoutEffect:gt,useInsertionEffect:gt,useMemo:gt,useReducer:gt,useRef:gt,useState:gt,useDebugValue:gt,useDeferredValue:gt,useTransition:gt,useSyncExternalStore:gt,useId:gt,useHostTransitionStatus:gt,useFormState:gt,useActionState:gt,useOptimistic:gt,useMemoCache:gt,useCacheRefresh:gt},_v={readContext:Kt,use:Rc,useCallback:function(n,s){return on().memoizedState=[n,s===void 0?null:s],n},useContext:Kt,useEffect:nv,useImperativeHandle:function(n,s,a){a=a!=null?a.concat([n]):null,Cc(4194308,4,av.bind(null,s,n),a)},useLayoutEffect:function(n,s){return Cc(4194308,4,n,s)},useInsertionEffect:function(n,s){Cc(4,2,n,s)},useMemo:function(n,s){var a=on();s=s===void 0?null:s;var l=n();if(Zr){yn(!0);try{n()}finally{yn(!1)}}return a.memoizedState=[l,s],l},useReducer:function(n,s,a){var l=on();if(a!==void 0){var f=a(s);if(Zr){yn(!0);try{a(s)}finally{yn(!1)}}}else f=s;return l.memoizedState=l.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},l.queue=n,n=n.dispatch=ub.bind(null,Ie,n),[l.memoizedState,n]},useRef:function(n){var s=on();return n={current:n},s.memoizedState=n},useState:function(n){n=Vd(n);var s=n.queue,a=gv.bind(null,Ie,s);return s.dispatch=a,[n.memoizedState,a]},useDebugValue:Ld,useDeferredValue:function(n,s){var a=on();return Ud(a,n,s)},useTransition:function(){var n=Vd(!1);return n=hv.bind(null,Ie,n.queue,!0,!1),on().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,s,a){var l=Ie,f=on();if(ze){if(a===void 0)throw Error(r(407));a=a()}else{if(a=s(),et===null)throw Error(r(349));(je&124)!==0||By(l,s,a)}f.memoizedState=a;var m={value:a,getSnapshot:s};return f.queue=m,nv(qy.bind(null,l,m,n),[n]),l.flags|=2048,to(9,xc(),zy.bind(null,l,m,a,s),null),a},useId:function(){var n=on(),s=et.identifierPrefix;if(ze){var a=Zi,l=Wi;a=(l&~(1<<32-Qt(l)-1)).toString(32)+a,s=""+s+"R"+a,a=Sc++,0<a&&(s+="H"+a.toString(32)),s+=""}else a=ib++,s=""+s+"r"+a.toString(32)+"";return n.memoizedState=s},useHostTransitionStatus:zd,useFormState:Wy,useActionState:Wy,useOptimistic:function(n){var s=on();s.memoizedState=s.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=qd.bind(null,Ie,!0,a),a.dispatch=s,[n,s]},useMemoCache:Md,useCacheRefresh:function(){return on().memoizedState=lb.bind(null,Ie)}},Ev={readContext:Kt,use:Rc,useCallback:lv,useContext:Kt,useEffect:iv,useImperativeHandle:ov,useInsertionEffect:sv,useLayoutEffect:rv,useMemo:uv,useReducer:Ic,useRef:tv,useState:function(){return Ic(ts)},useDebugValue:Ld,useDeferredValue:function(n,s){var a=wt();return cv(a,Ye.memoizedState,n,s)},useTransition:function(){var n=Ic(ts)[0],s=wt().memoizedState;return[typeof n=="boolean"?n:Cl(n),s]},useSyncExternalStore:Uy,useId:mv,useHostTransitionStatus:zd,useFormState:Zy,useActionState:Zy,useOptimistic:function(n,s){var a=wt();return Gy(a,Ye,n,s)},useMemoCache:Md,useCacheRefresh:pv},cb={readContext:Kt,use:Rc,useCallback:lv,useContext:Kt,useEffect:iv,useImperativeHandle:ov,useInsertionEffect:sv,useLayoutEffect:rv,useMemo:uv,useReducer:Pd,useRef:tv,useState:function(){return Pd(ts)},useDebugValue:Ld,useDeferredValue:function(n,s){var a=wt();return Ye===null?Ud(a,n,s):cv(a,Ye.memoizedState,n,s)},useTransition:function(){var n=Pd(ts)[0],s=wt().memoizedState;return[typeof n=="boolean"?n:Cl(n),s]},useSyncExternalStore:Uy,useId:mv,useHostTransitionStatus:zd,useFormState:ev,useActionState:ev,useOptimistic:function(n,s){var a=wt();return Ye!==null?Gy(a,Ye,n,s):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:Md,useCacheRefresh:pv},no=null,Ol=0;function Oc(n){var s=Ol;return Ol+=1,no===null&&(no=[]),Dy(no,n,s)}function Ml(n,s){s=s.props.ref,n.ref=s!==void 0?s:null}function Mc(n,s){throw s.$$typeof===A?Error(r(525)):(n=Object.prototype.toString.call(s),Error(r(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n)))}function Tv(n){var s=n._init;return s(n._payload)}function wv(n){function s(q,L){if(n){var H=q.deletions;H===null?(q.deletions=[L],q.flags|=16):H.push(L)}}function a(q,L){if(!n)return null;for(;L!==null;)s(q,L),L=L.sibling;return null}function l(q){for(var L=new Map;q!==null;)q.key!==null?L.set(q.key,q):L.set(q.index,q),q=q.sibling;return L}function f(q,L){return q=Xi(q,L),q.index=0,q.sibling=null,q}function m(q,L,H){return q.index=H,n?(H=q.alternate,H!==null?(H=H.index,H<L?(q.flags|=67108866,L):H):(q.flags|=67108866,L)):(q.flags|=1048576,L)}function T(q){return n&&q.alternate===null&&(q.flags|=67108866),q}function b(q,L,H,J){return L===null||L.tag!==6?(L=ud(H,q.mode,J),L.return=q,L):(L=f(L,H),L.return=q,L)}function D(q,L,H,J){var de=H.type;return de===x?Z(q,L,H.props.children,J,H.key):L!==null&&(L.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===R&&Tv(de)===L.type)?(L=f(L,H.props),Ml(L,H),L.return=q,L):(L=pc(H.type,H.key,H.props,null,q.mode,J),Ml(L,H),L.return=q,L)}function G(q,L,H,J){return L===null||L.tag!==4||L.stateNode.containerInfo!==H.containerInfo||L.stateNode.implementation!==H.implementation?(L=cd(H,q.mode,J),L.return=q,L):(L=f(L,H.children||[]),L.return=q,L)}function Z(q,L,H,J,de){return L===null||L.tag!==7?(L=Hr(H,q.mode,J,de),L.return=q,L):(L=f(L,H),L.return=q,L)}function te(q,L,H){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=ud(""+L,q.mode,H),L.return=q,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case w:return H=pc(L.type,L.key,L.props,null,q.mode,H),Ml(H,L),H.return=q,H;case I:return L=cd(L,q.mode,H),L.return=q,L;case R:var J=L._init;return L=J(L._payload),te(q,L,H)}if(it(L)||B(L))return L=Hr(L,q.mode,H,null),L.return=q,L;if(typeof L.then=="function")return te(q,Oc(L),H);if(L.$$typeof===X)return te(q,_c(q,L),H);Mc(q,L)}return null}function $(q,L,H,J){var de=L!==null?L.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return de!==null?null:b(q,L,""+H,J);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case w:return H.key===de?D(q,L,H,J):null;case I:return H.key===de?G(q,L,H,J):null;case R:return de=H._init,H=de(H._payload),$(q,L,H,J)}if(it(H)||B(H))return de!==null?null:Z(q,L,H,J,null);if(typeof H.then=="function")return $(q,L,Oc(H),J);if(H.$$typeof===X)return $(q,L,_c(q,H),J);Mc(q,H)}return null}function Q(q,L,H,J,de){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return q=q.get(H)||null,b(L,q,""+J,de);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case w:return q=q.get(J.key===null?H:J.key)||null,D(L,q,J,de);case I:return q=q.get(J.key===null?H:J.key)||null,G(L,q,J,de);case R:var Ne=J._init;return J=Ne(J._payload),Q(q,L,H,J,de)}if(it(J)||B(J))return q=q.get(H)||null,Z(L,q,J,de,null);if(typeof J.then=="function")return Q(q,L,H,Oc(J),de);if(J.$$typeof===X)return Q(q,L,H,_c(L,J),de);Mc(L,J)}return null}function we(q,L,H,J){for(var de=null,Ne=null,me=L,_e=L=0,jt=null;me!==null&&_e<H.length;_e++){me.index>_e?(jt=me,me=null):jt=me.sibling;var Ue=$(q,me,H[_e],J);if(Ue===null){me===null&&(me=jt);break}n&&me&&Ue.alternate===null&&s(q,me),L=m(Ue,L,_e),Ne===null?de=Ue:Ne.sibling=Ue,Ne=Ue,me=jt}if(_e===H.length)return a(q,me),ze&&$r(q,_e),de;if(me===null){for(;_e<H.length;_e++)me=te(q,H[_e],J),me!==null&&(L=m(me,L,_e),Ne===null?de=me:Ne.sibling=me,Ne=me);return ze&&$r(q,_e),de}for(me=l(me);_e<H.length;_e++)jt=Q(me,q,_e,H[_e],J),jt!==null&&(n&&jt.alternate!==null&&me.delete(jt.key===null?_e:jt.key),L=m(jt,L,_e),Ne===null?de=jt:Ne.sibling=jt,Ne=jt);return n&&me.forEach(function(Ws){return s(q,Ws)}),ze&&$r(q,_e),de}function ve(q,L,H,J){if(H==null)throw Error(r(151));for(var de=null,Ne=null,me=L,_e=L=0,jt=null,Ue=H.next();me!==null&&!Ue.done;_e++,Ue=H.next()){me.index>_e?(jt=me,me=null):jt=me.sibling;var Ws=$(q,me,Ue.value,J);if(Ws===null){me===null&&(me=jt);break}n&&me&&Ws.alternate===null&&s(q,me),L=m(Ws,L,_e),Ne===null?de=Ws:Ne.sibling=Ws,Ne=Ws,me=jt}if(Ue.done)return a(q,me),ze&&$r(q,_e),de;if(me===null){for(;!Ue.done;_e++,Ue=H.next())Ue=te(q,Ue.value,J),Ue!==null&&(L=m(Ue,L,_e),Ne===null?de=Ue:Ne.sibling=Ue,Ne=Ue);return ze&&$r(q,_e),de}for(me=l(me);!Ue.done;_e++,Ue=H.next())Ue=Q(me,q,_e,Ue.value,J),Ue!==null&&(n&&Ue.alternate!==null&&me.delete(Ue.key===null?_e:Ue.key),L=m(Ue,L,_e),Ne===null?de=Ue:Ne.sibling=Ue,Ne=Ue);return n&&me.forEach(function(hS){return s(q,hS)}),ze&&$r(q,_e),de}function We(q,L,H,J){if(typeof H=="object"&&H!==null&&H.type===x&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case w:e:{for(var de=H.key;L!==null;){if(L.key===de){if(de=H.type,de===x){if(L.tag===7){a(q,L.sibling),J=f(L,H.props.children),J.return=q,q=J;break e}}else if(L.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===R&&Tv(de)===L.type){a(q,L.sibling),J=f(L,H.props),Ml(J,H),J.return=q,q=J;break e}a(q,L);break}else s(q,L);L=L.sibling}H.type===x?(J=Hr(H.props.children,q.mode,J,H.key),J.return=q,q=J):(J=pc(H.type,H.key,H.props,null,q.mode,J),Ml(J,H),J.return=q,q=J)}return T(q);case I:e:{for(de=H.key;L!==null;){if(L.key===de)if(L.tag===4&&L.stateNode.containerInfo===H.containerInfo&&L.stateNode.implementation===H.implementation){a(q,L.sibling),J=f(L,H.children||[]),J.return=q,q=J;break e}else{a(q,L);break}else s(q,L);L=L.sibling}J=cd(H,q.mode,J),J.return=q,q=J}return T(q);case R:return de=H._init,H=de(H._payload),We(q,L,H,J)}if(it(H))return we(q,L,H,J);if(B(H)){if(de=B(H),typeof de!="function")throw Error(r(150));return H=de.call(H),ve(q,L,H,J)}if(typeof H.then=="function")return We(q,L,Oc(H),J);if(H.$$typeof===X)return We(q,L,_c(q,H),J);Mc(q,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,L!==null&&L.tag===6?(a(q,L.sibling),J=f(L,H),J.return=q,q=J):(a(q,L),J=ud(H,q.mode,J),J.return=q,q=J),T(q)):a(q,L)}return function(q,L,H,J){try{Ol=0;var de=We(q,L,H,J);return no=null,de}catch(me){if(me===Al||me===Tc)throw me;var Ne=En(29,me,null,q.mode);return Ne.lanes=J,Ne.return=q,Ne}finally{}}}var io=wv(!0),Av=wv(!1),Un=ie(null),Ei=null;function Vs(n){var s=n.alternate;ae(Nt,Nt.current&1),ae(Un,n),Ei===null&&(s===null||Za.current!==null||s.memoizedState!==null)&&(Ei=n)}function bv(n){if(n.tag===22){if(ae(Nt,Nt.current),ae(Un,n),Ei===null){var s=n.alternate;s!==null&&s.memoizedState!==null&&(Ei=n)}}else js()}function js(){ae(Nt,Nt.current),ae(Un,Un.current)}function ns(n){ue(Un),Ei===n&&(Ei=null),ue(Nt)}var Nt=ie(0);function kc(n){for(var s=n;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Om(a)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function Fd(n,s,a,l){s=n.memoizedState,a=a(l,s),a=a==null?s:_({},s,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var Hd={enqueueSetState:function(n,s,a){n=n._reactInternals;var l=bn(),f=Ms(l);f.payload=s,a!=null&&(f.callback=a),s=ks(n,f,l),s!==null&&(Sn(s,n,l),Sl(s,n,l))},enqueueReplaceState:function(n,s,a){n=n._reactInternals;var l=bn(),f=Ms(l);f.tag=1,f.payload=s,a!=null&&(f.callback=a),s=ks(n,f,l),s!==null&&(Sn(s,n,l),Sl(s,n,l))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var a=bn(),l=Ms(a);l.tag=2,s!=null&&(l.callback=s),s=ks(n,l,a),s!==null&&(Sn(s,n,a),Sl(s,n,a))}};function Sv(n,s,a,l,f,m,T){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,m,T):s.prototype&&s.prototype.isPureReactComponent?!pl(a,l)||!pl(f,m):!0}function Rv(n,s,a,l){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,l),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,l),s.state!==n&&Hd.enqueueReplaceState(s,s.state,null)}function Jr(n,s){var a=s;if("ref"in s){a={};for(var l in s)l!=="ref"&&(a[l]=s[l])}if(n=n.defaultProps){a===s&&(a=_({},a));for(var f in n)a[f]===void 0&&(a[f]=n[f])}return a}var Pc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function Iv(n){Pc(n)}function xv(n){console.error(n)}function Cv(n){Pc(n)}function Vc(n,s){try{var a=n.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(l){setTimeout(function(){throw l})}}function Nv(n,s,a){try{var l=n.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Gd(n,s,a){return a=Ms(a),a.tag=3,a.payload={element:null},a.callback=function(){Vc(n,s)},a}function Dv(n){return n=Ms(n),n.tag=3,n}function Ov(n,s,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var m=l.value;n.payload=function(){return f(m)},n.callback=function(){Nv(s,a,l)}}var T=a.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(n.callback=function(){Nv(s,a,l),typeof f!="function"&&(Fs===null?Fs=new Set([this]):Fs.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function hb(n,s,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(s=a.alternate,s!==null&&El(s,a,f,!0),a=Un.current,a!==null){switch(a.tag){case 13:return Ei===null?pm():a.alternate===null&&ft===0&&(ft=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===Ed?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([l]):s.add(l),ym(n,l,f)),!1;case 22:return a.flags|=65536,l===Ed?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([l]):a.add(l)),ym(n,l,f)),!1}throw Error(r(435,a.tag))}return ym(n,l,f),pm(),!1}if(ze)return s=Un.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=f,l!==dd&&(n=Error(r(422),{cause:l}),_l(Pn(n,a)))):(l!==dd&&(s=Error(r(423),{cause:l}),_l(Pn(s,a))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,l=Pn(l,a),f=Gd(n.stateNode,l,f),Ad(n,f),ft!==4&&(ft=2)),!1;var m=Error(r(520),{cause:l});if(m=Pn(m,a),Bl===null?Bl=[m]:Bl.push(m),ft!==4&&(ft=2),s===null)return!0;l=Pn(l,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,n=f&-f,a.lanes|=n,n=Gd(a.stateNode,l,n),Ad(a,n),!1;case 1:if(s=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Fs===null||!Fs.has(m))))return a.flags|=65536,f&=-f,a.lanes|=f,f=Dv(f),Ov(f,n,a,l),Ad(a,f),!1}a=a.return}while(a!==null);return!1}var Mv=Error(r(461)),Pt=!1;function zt(n,s,a,l){s.child=n===null?Av(s,null,a,l):io(s,n.child,a,l)}function kv(n,s,a,l,f){a=a.render;var m=s.ref;if("ref"in l){var T={};for(var b in l)b!=="ref"&&(T[b]=l[b])}else T=l;return Xr(s),l=xd(n,s,a,T,m,f),b=Cd(),n!==null&&!Pt?(Nd(n,s,f),is(n,s,f)):(ze&&b&&hd(s),s.flags|=1,zt(n,s,l,f),s.child)}function Pv(n,s,a,l,f){if(n===null){var m=a.type;return typeof m=="function"&&!ld(m)&&m.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=m,Vv(n,s,m,l,f)):(n=pc(a.type,null,l,s,s.mode,f),n.ref=s.ref,n.return=s,s.child=n)}if(m=n.child,!Jd(n,f)){var T=m.memoizedProps;if(a=a.compare,a=a!==null?a:pl,a(T,l)&&n.ref===s.ref)return is(n,s,f)}return s.flags|=1,n=Xi(m,l),n.ref=s.ref,n.return=s,s.child=n}function Vv(n,s,a,l,f){if(n!==null){var m=n.memoizedProps;if(pl(m,l)&&n.ref===s.ref)if(Pt=!1,s.pendingProps=l=m,Jd(n,f))(n.flags&131072)!==0&&(Pt=!0);else return s.lanes=n.lanes,is(n,s,f)}return $d(n,s,a,l,f)}function jv(n,s,a){var l=s.pendingProps,f=l.children,m=n!==null?n.memoizedState:null;if(l.mode==="hidden"){if((s.flags&128)!==0){if(l=m!==null?m.baseLanes|a:a,n!==null){for(f=s.child=n.child,m=0;f!==null;)m=m|f.lanes|f.childLanes,f=f.sibling;s.childLanes=m&~l}else s.childLanes=0,s.child=null;return Lv(n,s,l,a)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},n!==null&&Ec(s,m!==null?m.cachePool:null),m!==null?Vy(s,m):Sd(),bv(s);else return s.lanes=s.childLanes=536870912,Lv(n,s,m!==null?m.baseLanes|a:a,a)}else m!==null?(Ec(s,m.cachePool),Vy(s,m),js(),s.memoizedState=null):(n!==null&&Ec(s,null),Sd(),js());return zt(n,s,f,a),s.child}function Lv(n,s,a,l){var f=_d();return f=f===null?null:{parent:Ct._currentValue,pool:f},s.memoizedState={baseLanes:a,cachePool:f},n!==null&&Ec(s,null),Sd(),bv(s),n!==null&&El(n,s,l,!0),null}function jc(n,s){var a=s.ref;if(a===null)n!==null&&n.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(n===null||n.ref!==a)&&(s.flags|=4194816)}}function $d(n,s,a,l,f){return Xr(s),a=xd(n,s,a,l,void 0,f),l=Cd(),n!==null&&!Pt?(Nd(n,s,f),is(n,s,f)):(ze&&l&&hd(s),s.flags|=1,zt(n,s,a,f),s.child)}function Uv(n,s,a,l,f,m){return Xr(s),s.updateQueue=null,a=Ly(s,l,a,f),jy(n),l=Cd(),n!==null&&!Pt?(Nd(n,s,m),is(n,s,m)):(ze&&l&&hd(s),s.flags|=1,zt(n,s,a,m),s.child)}function Bv(n,s,a,l,f){if(Xr(s),s.stateNode===null){var m=Qa,T=a.contextType;typeof T=="object"&&T!==null&&(m=Kt(T)),m=new a(l,m),s.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Hd,s.stateNode=m,m._reactInternals=s,m=s.stateNode,m.props=l,m.state=s.memoizedState,m.refs={},Td(s),T=a.contextType,m.context=typeof T=="object"&&T!==null?Kt(T):Qa,m.state=s.memoizedState,T=a.getDerivedStateFromProps,typeof T=="function"&&(Fd(s,a,T,l),m.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(T=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),T!==m.state&&Hd.enqueueReplaceState(m,m.state,null),Il(s,l,m,f),Rl(),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308),l=!0}else if(n===null){m=s.stateNode;var b=s.memoizedProps,D=Jr(a,b);m.props=D;var G=m.context,Z=a.contextType;T=Qa,typeof Z=="object"&&Z!==null&&(T=Kt(Z));var te=a.getDerivedStateFromProps;Z=typeof te=="function"||typeof m.getSnapshotBeforeUpdate=="function",b=s.pendingProps!==b,Z||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(b||G!==T)&&Rv(s,m,l,T),Os=!1;var $=s.memoizedState;m.state=$,Il(s,l,m,f),Rl(),G=s.memoizedState,b||$!==G||Os?(typeof te=="function"&&(Fd(s,a,te,l),G=s.memoizedState),(D=Os||Sv(s,a,D,l,$,G,T))?(Z||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(s.flags|=4194308)):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=l,s.memoizedState=G),m.props=l,m.state=G,m.context=T,l=D):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),l=!1)}else{m=s.stateNode,wd(n,s),T=s.memoizedProps,Z=Jr(a,T),m.props=Z,te=s.pendingProps,$=m.context,G=a.contextType,D=Qa,typeof G=="object"&&G!==null&&(D=Kt(G)),b=a.getDerivedStateFromProps,(G=typeof b=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(T!==te||$!==D)&&Rv(s,m,l,D),Os=!1,$=s.memoizedState,m.state=$,Il(s,l,m,f),Rl();var Q=s.memoizedState;T!==te||$!==Q||Os||n!==null&&n.dependencies!==null&&vc(n.dependencies)?(typeof b=="function"&&(Fd(s,a,b,l),Q=s.memoizedState),(Z=Os||Sv(s,a,Z,l,$,Q,D)||n!==null&&n.dependencies!==null&&vc(n.dependencies))?(G||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(l,Q,D),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(l,Q,D)),typeof m.componentDidUpdate=="function"&&(s.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof m.componentDidUpdate!="function"||T===n.memoizedProps&&$===n.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===n.memoizedProps&&$===n.memoizedState||(s.flags|=1024),s.memoizedProps=l,s.memoizedState=Q),m.props=l,m.state=Q,m.context=D,l=Z):(typeof m.componentDidUpdate!="function"||T===n.memoizedProps&&$===n.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===n.memoizedProps&&$===n.memoizedState||(s.flags|=1024),l=!1)}return m=l,jc(n,s),l=(s.flags&128)!==0,m||l?(m=s.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:m.render(),s.flags|=1,n!==null&&l?(s.child=io(s,n.child,null,f),s.child=io(s,null,a,f)):zt(n,s,a,f),s.memoizedState=m.state,n=s.child):n=is(n,s,f),n}function zv(n,s,a,l){return vl(),s.flags|=256,zt(n,s,a,l),s.child}var Qd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Kd(n){return{baseLanes:n,cachePool:xy()}}function Yd(n,s,a){return n=n!==null?n.childLanes&~a:0,s&&(n|=Bn),n}function qv(n,s,a){var l=s.pendingProps,f=!1,m=(s.flags&128)!==0,T;if((T=m)||(T=n!==null&&n.memoizedState===null?!1:(Nt.current&2)!==0),T&&(f=!0,s.flags&=-129),T=(s.flags&32)!==0,s.flags&=-33,n===null){if(ze){if(f?Vs(s):js(),ze){var b=ht,D;if(D=b){e:{for(D=b,b=_i;D.nodeType!==8;){if(!b){b=null;break e}if(D=Jn(D.nextSibling),D===null){b=null;break e}}b=D}b!==null?(s.memoizedState={dehydrated:b,treeContext:Gr!==null?{id:Wi,overflow:Zi}:null,retryLane:536870912,hydrationErrors:null},D=En(18,null,null,0),D.stateNode=b,D.return=s,s.child=D,an=s,ht=null,D=!0):D=!1}D||Kr(s)}if(b=s.memoizedState,b!==null&&(b=b.dehydrated,b!==null))return Om(b)?s.lanes=32:s.lanes=536870912,null;ns(s)}return b=l.children,l=l.fallback,f?(js(),f=s.mode,b=Lc({mode:"hidden",children:b},f),l=Hr(l,f,a,null),b.return=s,l.return=s,b.sibling=l,s.child=b,f=s.child,f.memoizedState=Kd(a),f.childLanes=Yd(n,T,a),s.memoizedState=Qd,l):(Vs(s),Xd(s,b))}if(D=n.memoizedState,D!==null&&(b=D.dehydrated,b!==null)){if(m)s.flags&256?(Vs(s),s.flags&=-257,s=Wd(n,s,a)):s.memoizedState!==null?(js(),s.child=n.child,s.flags|=128,s=null):(js(),f=l.fallback,b=s.mode,l=Lc({mode:"visible",children:l.children},b),f=Hr(f,b,a,null),f.flags|=2,l.return=s,f.return=s,l.sibling=f,s.child=l,io(s,n.child,null,a),l=s.child,l.memoizedState=Kd(a),l.childLanes=Yd(n,T,a),s.memoizedState=Qd,s=f);else if(Vs(s),Om(b)){if(T=b.nextSibling&&b.nextSibling.dataset,T)var G=T.dgst;T=G,l=Error(r(419)),l.stack="",l.digest=T,_l({value:l,source:null,stack:null}),s=Wd(n,s,a)}else if(Pt||El(n,s,a,!1),T=(a&n.childLanes)!==0,Pt||T){if(T=et,T!==null&&(l=a&-a,l=(l&42)!==0?1:bs(l),l=(l&(T.suspendedLanes|a))!==0?0:l,l!==0&&l!==D.retryLane))throw D.retryLane=l,$a(n,l),Sn(T,n,l),Mv;b.data==="$?"||pm(),s=Wd(n,s,a)}else b.data==="$?"?(s.flags|=192,s.child=n.child,s=null):(n=D.treeContext,ht=Jn(b.nextSibling),an=s,ze=!0,Qr=null,_i=!1,n!==null&&(jn[Ln++]=Wi,jn[Ln++]=Zi,jn[Ln++]=Gr,Wi=n.id,Zi=n.overflow,Gr=s),s=Xd(s,l.children),s.flags|=4096);return s}return f?(js(),f=l.fallback,b=s.mode,D=n.child,G=D.sibling,l=Xi(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&65011712,G!==null?f=Xi(G,f):(f=Hr(f,b,a,null),f.flags|=2),f.return=s,l.return=s,l.sibling=f,s.child=l,l=f,f=s.child,b=n.child.memoizedState,b===null?b=Kd(a):(D=b.cachePool,D!==null?(G=Ct._currentValue,D=D.parent!==G?{parent:G,pool:G}:D):D=xy(),b={baseLanes:b.baseLanes|a,cachePool:D}),f.memoizedState=b,f.childLanes=Yd(n,T,a),s.memoizedState=Qd,l):(Vs(s),a=n.child,n=a.sibling,a=Xi(a,{mode:"visible",children:l.children}),a.return=s,a.sibling=null,n!==null&&(T=s.deletions,T===null?(s.deletions=[n],s.flags|=16):T.push(n)),s.child=a,s.memoizedState=null,a)}function Xd(n,s){return s=Lc({mode:"visible",children:s},n.mode),s.return=n,n.child=s}function Lc(n,s){return n=En(22,n,null,s),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function Wd(n,s,a){return io(s,n.child,null,a),n=Xd(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function Fv(n,s,a){n.lanes|=s;var l=n.alternate;l!==null&&(l.lanes|=s),pd(n.return,s,a)}function Zd(n,s,a,l,f){var m=n.memoizedState;m===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f}:(m.isBackwards=s,m.rendering=null,m.renderingStartTime=0,m.last=l,m.tail=a,m.tailMode=f)}function Hv(n,s,a){var l=s.pendingProps,f=l.revealOrder,m=l.tail;if(zt(n,s,l.children,a),l=Nt.current,(l&2)!==0)l=l&1|2,s.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Fv(n,a,s);else if(n.tag===19)Fv(n,a,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}l&=1}switch(ae(Nt,l),f){case"forwards":for(a=s.child,f=null;a!==null;)n=a.alternate,n!==null&&kc(n)===null&&(f=a),a=a.sibling;a=f,a===null?(f=s.child,s.child=null):(f=a.sibling,a.sibling=null),Zd(s,!1,f,a,m);break;case"backwards":for(a=null,f=s.child,s.child=null;f!==null;){if(n=f.alternate,n!==null&&kc(n)===null){s.child=f;break}n=f.sibling,f.sibling=a,a=f,f=n}Zd(s,!0,a,null,m);break;case"together":Zd(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function is(n,s,a){if(n!==null&&(s.dependencies=n.dependencies),qs|=s.lanes,(a&s.childLanes)===0)if(n!==null){if(El(n,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(n!==null&&s.child!==n.child)throw Error(r(153));if(s.child!==null){for(n=s.child,a=Xi(n,n.pendingProps),s.child=a,a.return=s;n.sibling!==null;)n=n.sibling,a=a.sibling=Xi(n,n.pendingProps),a.return=s;a.sibling=null}return s.child}function Jd(n,s){return(n.lanes&s)!==0?!0:(n=n.dependencies,!!(n!==null&&vc(n)))}function fb(n,s,a){switch(s.tag){case 3:Je(s,s.stateNode.containerInfo),Ds(s,Ct,n.memoizedState.cache),vl();break;case 27:case 5:As(s);break;case 4:Je(s,s.stateNode.containerInfo);break;case 10:Ds(s,s.type,s.memoizedProps.value);break;case 13:var l=s.memoizedState;if(l!==null)return l.dehydrated!==null?(Vs(s),s.flags|=128,null):(a&s.child.childLanes)!==0?qv(n,s,a):(Vs(s),n=is(n,s,a),n!==null?n.sibling:null);Vs(s);break;case 19:var f=(n.flags&128)!==0;if(l=(a&s.childLanes)!==0,l||(El(n,s,a,!1),l=(a&s.childLanes)!==0),f){if(l)return Hv(n,s,a);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ae(Nt,Nt.current),l)break;return null;case 22:case 23:return s.lanes=0,jv(n,s,a);case 24:Ds(s,Ct,n.memoizedState.cache)}return is(n,s,a)}function Gv(n,s,a){if(n!==null)if(n.memoizedProps!==s.pendingProps)Pt=!0;else{if(!Jd(n,a)&&(s.flags&128)===0)return Pt=!1,fb(n,s,a);Pt=(n.flags&131072)!==0}else Pt=!1,ze&&(s.flags&1048576)!==0&&Ty(s,yc,s.index);switch(s.lanes=0,s.tag){case 16:e:{n=s.pendingProps;var l=s.elementType,f=l._init;if(l=f(l._payload),s.type=l,typeof l=="function")ld(l)?(n=Jr(l,n),s.tag=1,s=Bv(null,s,l,n,a)):(s.tag=0,s=$d(null,s,l,n,a));else{if(l!=null){if(f=l.$$typeof,f===se){s.tag=11,s=kv(null,s,l,n,a);break e}else if(f===N){s.tag=14,s=Pv(null,s,l,n,a);break e}}throw s=mt(l)||l,Error(r(306,s,""))}}return s;case 0:return $d(n,s,s.type,s.pendingProps,a);case 1:return l=s.type,f=Jr(l,s.pendingProps),Bv(n,s,l,f,a);case 3:e:{if(Je(s,s.stateNode.containerInfo),n===null)throw Error(r(387));l=s.pendingProps;var m=s.memoizedState;f=m.element,wd(n,s),Il(s,l,null,a);var T=s.memoizedState;if(l=T.cache,Ds(s,Ct,l),l!==m.cache&&gd(s,[Ct],a,!0),Rl(),l=T.element,m.isDehydrated)if(m={element:l,isDehydrated:!1,cache:T.cache},s.updateQueue.baseState=m,s.memoizedState=m,s.flags&256){s=zv(n,s,l,a);break e}else if(l!==f){f=Pn(Error(r(424)),s),_l(f),s=zv(n,s,l,a);break e}else{switch(n=s.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(ht=Jn(n.firstChild),an=s,ze=!0,Qr=null,_i=!0,a=Av(s,null,l,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(vl(),l===f){s=is(n,s,a);break e}zt(n,s,l,a)}s=s.child}return s;case 26:return jc(n,s),n===null?(a=Y_(s.type,null,s.pendingProps,null))?s.memoizedState=a:ze||(a=s.type,n=s.pendingProps,l=Zc(Ae.current).createElement(a),l[Rt]=s,l[_t]=n,Ft(l,a,n),pt(l),s.stateNode=l):s.memoizedState=Y_(s.type,n.memoizedProps,s.pendingProps,n.memoizedState),null;case 27:return As(s),n===null&&ze&&(l=s.stateNode=$_(s.type,s.pendingProps,Ae.current),an=s,_i=!0,f=ht,$s(s.type)?(Mm=f,ht=Jn(l.firstChild)):ht=f),zt(n,s,s.pendingProps.children,a),jc(n,s),n===null&&(s.flags|=4194304),s.child;case 5:return n===null&&ze&&((f=l=ht)&&(l=Bb(l,s.type,s.pendingProps,_i),l!==null?(s.stateNode=l,an=s,ht=Jn(l.firstChild),_i=!1,f=!0):f=!1),f||Kr(s)),As(s),f=s.type,m=s.pendingProps,T=n!==null?n.memoizedProps:null,l=m.children,Cm(f,m)?l=null:T!==null&&Cm(f,T)&&(s.flags|=32),s.memoizedState!==null&&(f=xd(n,s,sb,null,null,a),Yl._currentValue=f),jc(n,s),zt(n,s,l,a),s.child;case 6:return n===null&&ze&&((n=a=ht)&&(a=zb(a,s.pendingProps,_i),a!==null?(s.stateNode=a,an=s,ht=null,n=!0):n=!1),n||Kr(s)),null;case 13:return qv(n,s,a);case 4:return Je(s,s.stateNode.containerInfo),l=s.pendingProps,n===null?s.child=io(s,null,l,a):zt(n,s,l,a),s.child;case 11:return kv(n,s,s.type,s.pendingProps,a);case 7:return zt(n,s,s.pendingProps,a),s.child;case 8:return zt(n,s,s.pendingProps.children,a),s.child;case 12:return zt(n,s,s.pendingProps.children,a),s.child;case 10:return l=s.pendingProps,Ds(s,s.type,l.value),zt(n,s,l.children,a),s.child;case 9:return f=s.type._context,l=s.pendingProps.children,Xr(s),f=Kt(f),l=l(f),s.flags|=1,zt(n,s,l,a),s.child;case 14:return Pv(n,s,s.type,s.pendingProps,a);case 15:return Vv(n,s,s.type,s.pendingProps,a);case 19:return Hv(n,s,a);case 31:return l=s.pendingProps,a=s.mode,l={mode:l.mode,children:l.children},n===null?(a=Lc(l,a),a.ref=s.ref,s.child=a,a.return=s,s=a):(a=Xi(n.child,l),a.ref=s.ref,s.child=a,a.return=s,s=a),s;case 22:return jv(n,s,a);case 24:return Xr(s),l=Kt(Ct),n===null?(f=_d(),f===null&&(f=et,m=yd(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=a),f=m),s.memoizedState={parent:l,cache:f},Td(s),Ds(s,Ct,f)):((n.lanes&a)!==0&&(wd(n,s),Il(s,null,null,a),Rl()),f=n.memoizedState,m=s.memoizedState,f.parent!==l?(f={parent:l,cache:l},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),Ds(s,Ct,l)):(l=m.cache,Ds(s,Ct,l),l!==f.cache&&gd(s,[Ct],a,!0))),zt(n,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function ss(n){n.flags|=4}function $v(n,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!e0(s)){if(s=Un.current,s!==null&&((je&4194048)===je?Ei!==null:(je&62914560)!==je&&(je&536870912)===0||s!==Ei))throw bl=Ed,Cy;n.flags|=8192}}function Uc(n,s){s!==null&&(n.flags|=4),n.flags&16384&&(s=n.tag!==22?Wo():536870912,n.lanes|=s,oo|=s)}function kl(n,s){if(!ze)switch(n.tailMode){case"hidden":s=n.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function ot(n){var s=n.alternate!==null&&n.alternate.child===n.child,a=0,l=0;if(s)for(var f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=l,n.childLanes=a,s}function db(n,s,a){var l=s.pendingProps;switch(fd(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ot(s),null;case 1:return ot(s),null;case 3:return a=s.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),es(Ct),oi(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(yl(s)?ss(s):n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,by())),ot(s),null;case 26:return a=s.memoizedState,n===null?(ss(s),a!==null?(ot(s),$v(s,a)):(ot(s),s.flags&=-16777217)):a?a!==n.memoizedState?(ss(s),ot(s),$v(s,a)):(ot(s),s.flags&=-16777217):(n.memoizedProps!==l&&ss(s),ot(s),s.flags&=-16777217),null;case 27:ji(s),a=Ae.current;var f=s.type;if(n!==null&&s.stateNode!=null)n.memoizedProps!==l&&ss(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return ot(s),null}n=ye.current,yl(s)?wy(s):(n=$_(f,l,a),s.stateNode=n,ss(s))}return ot(s),null;case 5:if(ji(s),a=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==l&&ss(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return ot(s),null}if(n=ye.current,yl(s))wy(s);else{switch(f=Zc(Ae.current),n){case 1:n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":n=f.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?n.multiple=!0:l.size&&(n.size=l.size);break;default:n=typeof l.is=="string"?f.createElement(a,{is:l.is}):f.createElement(a)}}n[Rt]=s,n[_t]=l;e:for(f=s.child;f!==null;){if(f.tag===5||f.tag===6)n.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===s)break e;for(;f.sibling===null;){if(f.return===null||f.return===s)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}s.stateNode=n;e:switch(Ft(n,a,l),a){case"button":case"input":case"select":case"textarea":n=!!l.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&ss(s)}}return ot(s),s.flags&=-16777217,null;case 6:if(n&&s.stateNode!=null)n.memoizedProps!==l&&ss(s);else{if(typeof l!="string"&&s.stateNode===null)throw Error(r(166));if(n=Ae.current,yl(s)){if(n=s.stateNode,a=s.memoizedProps,l=null,f=an,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}n[Rt]=s,n=!!(n.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||U_(n.nodeValue,a)),n||Kr(s)}else n=Zc(n).createTextNode(l),n[Rt]=s,s.stateNode=n}return ot(s),null;case 13:if(l=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=yl(s),l!==null&&l.dehydrated!==null){if(n===null){if(!f)throw Error(r(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[Rt]=s}else vl(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ot(s),f=!1}else f=by(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return s.flags&256?(ns(s),s):(ns(s),null)}if(ns(s),(s.flags&128)!==0)return s.lanes=a,s;if(a=l!==null,n=n!==null&&n.memoizedState!==null,a){l=s.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var m=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==f&&(l.flags|=2048)}return a!==n&&a&&(s.child.flags|=8192),Uc(s,s.updateQueue),ot(s),null;case 4:return oi(),n===null&&bm(s.stateNode.containerInfo),ot(s),null;case 10:return es(s.type),ot(s),null;case 19:if(ue(Nt),f=s.memoizedState,f===null)return ot(s),null;if(l=(s.flags&128)!==0,m=f.rendering,m===null)if(l)kl(f,!1);else{if(ft!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(m=kc(n),m!==null){for(s.flags|=128,kl(f,!1),n=m.updateQueue,s.updateQueue=n,Uc(s,n),s.subtreeFlags=0,n=a,a=s.child;a!==null;)Ey(a,n),a=a.sibling;return ae(Nt,Nt.current&1|2),s.child}n=n.sibling}f.tail!==null&&Cn()>qc&&(s.flags|=128,l=!0,kl(f,!1),s.lanes=4194304)}else{if(!l)if(n=kc(m),n!==null){if(s.flags|=128,l=!0,n=n.updateQueue,s.updateQueue=n,Uc(s,n),kl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!m.alternate&&!ze)return ot(s),null}else 2*Cn()-f.renderingStartTime>qc&&a!==536870912&&(s.flags|=128,l=!0,kl(f,!1),s.lanes=4194304);f.isBackwards?(m.sibling=s.child,s.child=m):(n=f.last,n!==null?n.sibling=m:s.child=m,f.last=m)}return f.tail!==null?(s=f.tail,f.rendering=s,f.tail=s.sibling,f.renderingStartTime=Cn(),s.sibling=null,n=Nt.current,ae(Nt,l?n&1|2:n&1),s):(ot(s),null);case 22:case 23:return ns(s),Rd(),l=s.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(s.flags|=8192):l&&(s.flags|=8192),l?(a&536870912)!==0&&(s.flags&128)===0&&(ot(s),s.subtreeFlags&6&&(s.flags|=8192)):ot(s),a=s.updateQueue,a!==null&&Uc(s,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),l=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),l!==a&&(s.flags|=2048),n!==null&&ue(Wr),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),es(Ct),ot(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function mb(n,s){switch(fd(s),s.tag){case 1:return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return es(Ct),oi(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 26:case 27:case 5:return ji(s),null;case 13:if(ns(s),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(r(340));vl()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return ue(Nt),null;case 4:return oi(),null;case 10:return es(s.type),null;case 22:case 23:return ns(s),Rd(),n!==null&&ue(Wr),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 24:return es(Ct),null;case 25:return null;default:return null}}function Qv(n,s){switch(fd(s),s.tag){case 3:es(Ct),oi();break;case 26:case 27:case 5:ji(s);break;case 4:oi();break;case 13:ns(s);break;case 19:ue(Nt);break;case 10:es(s.type);break;case 22:case 23:ns(s),Rd(),n!==null&&ue(Wr);break;case 24:es(Ct)}}function Pl(n,s){try{var a=s.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&n)===n){l=void 0;var m=a.create,T=a.inst;l=m(),T.destroy=l}a=a.next}while(a!==f)}}catch(b){Ze(s,s.return,b)}}function Ls(n,s,a){try{var l=s.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var m=f.next;l=m;do{if((l.tag&n)===n){var T=l.inst,b=T.destroy;if(b!==void 0){T.destroy=void 0,f=s;var D=a,G=b;try{G()}catch(Z){Ze(f,D,Z)}}}l=l.next}while(l!==m)}}catch(Z){Ze(s,s.return,Z)}}function Kv(n){var s=n.updateQueue;if(s!==null){var a=n.stateNode;try{Py(s,a)}catch(l){Ze(n,n.return,l)}}}function Yv(n,s,a){a.props=Jr(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(l){Ze(n,s,l)}}function Vl(n,s){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var l=n.stateNode;break;case 30:l=n.stateNode;break;default:l=n.stateNode}typeof a=="function"?n.refCleanup=a(l):a.current=l}}catch(f){Ze(n,s,f)}}function Ti(n,s){var a=n.ref,l=n.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){Ze(n,s,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Ze(n,s,f)}else a.current=null}function Xv(n){var s=n.type,a=n.memoizedProps,l=n.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){Ze(n,n.return,f)}}function em(n,s,a){try{var l=n.stateNode;Pb(l,n.type,a,s),l[_t]=s}catch(f){Ze(n,n.return,f)}}function Wv(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&$s(n.type)||n.tag===4}function tm(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Wv(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&$s(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function nm(n,s,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(n),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=Wc));else if(l!==4&&(l===27&&$s(n.type)&&(a=n.stateNode,s=null),n=n.child,n!==null))for(nm(n,s,a),n=n.sibling;n!==null;)nm(n,s,a),n=n.sibling}function Bc(n,s,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,s?a.insertBefore(n,s):a.appendChild(n);else if(l!==4&&(l===27&&$s(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(Bc(n,s,a),n=n.sibling;n!==null;)Bc(n,s,a),n=n.sibling}function Zv(n){var s=n.stateNode,a=n.memoizedProps;try{for(var l=n.type,f=s.attributes;f.length;)s.removeAttributeNode(f[0]);Ft(s,l,a),s[Rt]=n,s[_t]=a}catch(m){Ze(n,n.return,m)}}var rs=!1,yt=!1,im=!1,Jv=typeof WeakSet=="function"?WeakSet:Set,Vt=null;function pb(n,s){if(n=n.containerInfo,Im=sh,n=cy(n),td(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,m=l.focusNode;l=l.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var T=0,b=-1,D=-1,G=0,Z=0,te=n,$=null;t:for(;;){for(var Q;te!==a||f!==0&&te.nodeType!==3||(b=T+f),te!==m||l!==0&&te.nodeType!==3||(D=T+l),te.nodeType===3&&(T+=te.nodeValue.length),(Q=te.firstChild)!==null;)$=te,te=Q;for(;;){if(te===n)break t;if($===a&&++G===f&&(b=T),$===m&&++Z===l&&(D=T),(Q=te.nextSibling)!==null)break;te=$,$=te.parentNode}te=Q}a=b===-1||D===-1?null:{start:b,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(xm={focusedElem:n,selectionRange:a},sh=!1,Vt=s;Vt!==null;)if(s=Vt,n=s.child,(s.subtreeFlags&1024)!==0&&n!==null)n.return=s,Vt=n;else for(;Vt!==null;){switch(s=Vt,m=s.alternate,n=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&m!==null){n=void 0,a=s,f=m.memoizedProps,m=m.memoizedState,l=a.stateNode;try{var we=Jr(a.type,f,a.elementType===a.type);n=l.getSnapshotBeforeUpdate(we,m),l.__reactInternalSnapshotBeforeUpdate=n}catch(ve){Ze(a,a.return,ve)}}break;case 3:if((n&1024)!==0){if(n=s.stateNode.containerInfo,a=n.nodeType,a===9)Dm(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Dm(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(r(163))}if(n=s.sibling,n!==null){n.return=s.return,Vt=n;break}Vt=s.return}}function e_(n,s,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Us(n,a),l&4&&Pl(5,a);break;case 1:if(Us(n,a),l&4)if(n=a.stateNode,s===null)try{n.componentDidMount()}catch(T){Ze(a,a.return,T)}else{var f=Jr(a.type,s.memoizedProps);s=s.memoizedState;try{n.componentDidUpdate(f,s,n.__reactInternalSnapshotBeforeUpdate)}catch(T){Ze(a,a.return,T)}}l&64&&Kv(a),l&512&&Vl(a,a.return);break;case 3:if(Us(n,a),l&64&&(n=a.updateQueue,n!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{Py(n,s)}catch(T){Ze(a,a.return,T)}}break;case 27:s===null&&l&4&&Zv(a);case 26:case 5:Us(n,a),s===null&&l&4&&Xv(a),l&512&&Vl(a,a.return);break;case 12:Us(n,a);break;case 13:Us(n,a),l&4&&i_(n,a),l&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=bb.bind(null,a),qb(n,a))));break;case 22:if(l=a.memoizedState!==null||rs,!l){s=s!==null&&s.memoizedState!==null||yt,f=rs;var m=yt;rs=l,(yt=s)&&!m?Bs(n,a,(a.subtreeFlags&8772)!==0):Us(n,a),rs=f,yt=m}break;case 30:break;default:Us(n,a)}}function t_(n){var s=n.alternate;s!==null&&(n.alternate=null,t_(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&Is(s)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var rt=null,ln=!1;function as(n,s,a){for(a=a.child;a!==null;)n_(n,s,a),a=a.sibling}function n_(n,s,a){if(He&&typeof He.onCommitFiberUnmount=="function")try{He.onCommitFiberUnmount(ct,a)}catch{}switch(a.tag){case 26:yt||Ti(a,s),as(n,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:yt||Ti(a,s);var l=rt,f=ln;$s(a.type)&&(rt=a.stateNode,ln=!1),as(n,s,a),Gl(a.stateNode),rt=l,ln=f;break;case 5:yt||Ti(a,s);case 6:if(l=rt,f=ln,rt=null,as(n,s,a),rt=l,ln=f,rt!==null)if(ln)try{(rt.nodeType===9?rt.body:rt.nodeName==="HTML"?rt.ownerDocument.body:rt).removeChild(a.stateNode)}catch(m){Ze(a,s,m)}else try{rt.removeChild(a.stateNode)}catch(m){Ze(a,s,m)}break;case 18:rt!==null&&(ln?(n=rt,H_(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),Jl(n)):H_(rt,a.stateNode));break;case 4:l=rt,f=ln,rt=a.stateNode.containerInfo,ln=!0,as(n,s,a),rt=l,ln=f;break;case 0:case 11:case 14:case 15:yt||Ls(2,a,s),yt||Ls(4,a,s),as(n,s,a);break;case 1:yt||(Ti(a,s),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Yv(a,s,l)),as(n,s,a);break;case 21:as(n,s,a);break;case 22:yt=(l=yt)||a.memoizedState!==null,as(n,s,a),yt=l;break;default:as(n,s,a)}}function i_(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Jl(n)}catch(a){Ze(s,s.return,a)}}function gb(n){switch(n.tag){case 13:case 19:var s=n.stateNode;return s===null&&(s=n.stateNode=new Jv),s;case 22:return n=n.stateNode,s=n._retryCache,s===null&&(s=n._retryCache=new Jv),s;default:throw Error(r(435,n.tag))}}function sm(n,s){var a=gb(n);s.forEach(function(l){var f=Sb.bind(null,n,l);a.has(l)||(a.add(l),l.then(f,f))})}function Tn(n,s){var a=s.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],m=n,T=s,b=T;e:for(;b!==null;){switch(b.tag){case 27:if($s(b.type)){rt=b.stateNode,ln=!1;break e}break;case 5:rt=b.stateNode,ln=!1;break e;case 3:case 4:rt=b.stateNode.containerInfo,ln=!0;break e}b=b.return}if(rt===null)throw Error(r(160));n_(m,T,f),rt=null,ln=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)s_(s,n),s=s.sibling}var Zn=null;function s_(n,s){var a=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Tn(s,n),wn(n),l&4&&(Ls(3,n,n.return),Pl(3,n),Ls(5,n,n.return));break;case 1:Tn(s,n),wn(n),l&512&&(yt||a===null||Ti(a,a.return)),l&64&&rs&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=Zn;if(Tn(s,n),wn(n),l&512&&(yt||a===null||Ti(a,a.return)),l&4){var m=a!==null?a.memoizedState:null;if(l=n.memoizedState,a===null)if(l===null)if(n.stateNode===null){e:{l=n.type,a=n.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":m=f.getElementsByTagName("title")[0],(!m||m[xr]||m[Rt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(l),f.head.insertBefore(m,f.querySelector("head > title"))),Ft(m,l,a),m[Rt]=n,pt(m),l=m;break e;case"link":var T=Z_("link","href",f).get(l+(a.href||""));if(T){for(var b=0;b<T.length;b++)if(m=T[b],m.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){T.splice(b,1);break t}}m=f.createElement(l),Ft(m,l,a),f.head.appendChild(m);break;case"meta":if(T=Z_("meta","content",f).get(l+(a.content||""))){for(b=0;b<T.length;b++)if(m=T[b],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){T.splice(b,1);break t}}m=f.createElement(l),Ft(m,l,a),f.head.appendChild(m);break;default:throw Error(r(468,l))}m[Rt]=n,pt(m),l=m}n.stateNode=l}else J_(f,n.type,n.stateNode);else n.stateNode=W_(f,l,n.memoizedProps);else m!==l?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,l===null?J_(f,n.type,n.stateNode):W_(f,l,n.memoizedProps)):l===null&&n.stateNode!==null&&em(n,n.memoizedProps,a.memoizedProps)}break;case 27:Tn(s,n),wn(n),l&512&&(yt||a===null||Ti(a,a.return)),a!==null&&l&4&&em(n,n.memoizedProps,a.memoizedProps);break;case 5:if(Tn(s,n),wn(n),l&512&&(yt||a===null||Ti(a,a.return)),n.flags&32){f=n.stateNode;try{Dn(f,"")}catch(Q){Ze(n,n.return,Q)}}l&4&&n.stateNode!=null&&(f=n.memoizedProps,em(n,f,a!==null?a.memoizedProps:f)),l&1024&&(im=!0);break;case 6:if(Tn(s,n),wn(n),l&4){if(n.stateNode===null)throw Error(r(162));l=n.memoizedProps,a=n.stateNode;try{a.nodeValue=l}catch(Q){Ze(n,n.return,Q)}}break;case 3:if(th=null,f=Zn,Zn=Jc(s.containerInfo),Tn(s,n),Zn=f,wn(n),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Jl(s.containerInfo)}catch(Q){Ze(n,n.return,Q)}im&&(im=!1,r_(n));break;case 4:l=Zn,Zn=Jc(n.stateNode.containerInfo),Tn(s,n),wn(n),Zn=l;break;case 12:Tn(s,n),wn(n);break;case 13:Tn(s,n),wn(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(cm=Cn()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,sm(n,l)));break;case 22:f=n.memoizedState!==null;var D=a!==null&&a.memoizedState!==null,G=rs,Z=yt;if(rs=G||f,yt=Z||D,Tn(s,n),yt=Z,rs=G,wn(n),l&8192)e:for(s=n.stateNode,s._visibility=f?s._visibility&-2:s._visibility|1,f&&(a===null||D||rs||yt||ea(n)),a=null,s=n;;){if(s.tag===5||s.tag===26){if(a===null){D=a=s;try{if(m=D.stateNode,f)T=m.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{b=D.stateNode;var te=D.memoizedProps.style,$=te!=null&&te.hasOwnProperty("display")?te.display:null;b.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(Q){Ze(D,D.return,Q)}}}else if(s.tag===6){if(a===null){D=s;try{D.stateNode.nodeValue=f?"":D.memoizedProps}catch(Q){Ze(D,D.return,Q)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===n)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break e;for(;s.sibling===null;){if(s.return===null||s.return===n)break e;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}l&4&&(l=n.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,sm(n,a))));break;case 19:Tn(s,n),wn(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,sm(n,l)));break;case 30:break;case 21:break;default:Tn(s,n),wn(n)}}function wn(n){var s=n.flags;if(s&2){try{for(var a,l=n.return;l!==null;){if(Wv(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var f=a.stateNode,m=tm(n);Bc(n,m,f);break;case 5:var T=a.stateNode;a.flags&32&&(Dn(T,""),a.flags&=-33);var b=tm(n);Bc(n,b,T);break;case 3:case 4:var D=a.stateNode.containerInfo,G=tm(n);nm(n,G,D);break;default:throw Error(r(161))}}catch(Z){Ze(n,n.return,Z)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function r_(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var s=n;r_(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),n=n.sibling}}function Us(n,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)e_(n,s.alternate,s),s=s.sibling}function ea(n){for(n=n.child;n!==null;){var s=n;switch(s.tag){case 0:case 11:case 14:case 15:Ls(4,s,s.return),ea(s);break;case 1:Ti(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&Yv(s,s.return,a),ea(s);break;case 27:Gl(s.stateNode);case 26:case 5:Ti(s,s.return),ea(s);break;case 22:s.memoizedState===null&&ea(s);break;case 30:ea(s);break;default:ea(s)}n=n.sibling}}function Bs(n,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var l=s.alternate,f=n,m=s,T=m.flags;switch(m.tag){case 0:case 11:case 15:Bs(f,m,a),Pl(4,m);break;case 1:if(Bs(f,m,a),l=m,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(G){Ze(l,l.return,G)}if(l=m,f=l.updateQueue,f!==null){var b=l.stateNode;try{var D=f.shared.hiddenCallbacks;if(D!==null)for(f.shared.hiddenCallbacks=null,f=0;f<D.length;f++)ky(D[f],b)}catch(G){Ze(l,l.return,G)}}a&&T&64&&Kv(m),Vl(m,m.return);break;case 27:Zv(m);case 26:case 5:Bs(f,m,a),a&&l===null&&T&4&&Xv(m),Vl(m,m.return);break;case 12:Bs(f,m,a);break;case 13:Bs(f,m,a),a&&T&4&&i_(f,m);break;case 22:m.memoizedState===null&&Bs(f,m,a),Vl(m,m.return);break;case 30:break;default:Bs(f,m,a)}s=s.sibling}}function rm(n,s){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(n=s.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&Tl(a))}function am(n,s){n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&Tl(n))}function wi(n,s,a,l){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)a_(n,s,a,l),s=s.sibling}function a_(n,s,a,l){var f=s.flags;switch(s.tag){case 0:case 11:case 15:wi(n,s,a,l),f&2048&&Pl(9,s);break;case 1:wi(n,s,a,l);break;case 3:wi(n,s,a,l),f&2048&&(n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&Tl(n)));break;case 12:if(f&2048){wi(n,s,a,l),n=s.stateNode;try{var m=s.memoizedProps,T=m.id,b=m.onPostCommit;typeof b=="function"&&b(T,s.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(D){Ze(s,s.return,D)}}else wi(n,s,a,l);break;case 13:wi(n,s,a,l);break;case 23:break;case 22:m=s.stateNode,T=s.alternate,s.memoizedState!==null?m._visibility&2?wi(n,s,a,l):jl(n,s):m._visibility&2?wi(n,s,a,l):(m._visibility|=2,so(n,s,a,l,(s.subtreeFlags&10256)!==0)),f&2048&&rm(T,s);break;case 24:wi(n,s,a,l),f&2048&&am(s.alternate,s);break;default:wi(n,s,a,l)}}function so(n,s,a,l,f){for(f=f&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var m=n,T=s,b=a,D=l,G=T.flags;switch(T.tag){case 0:case 11:case 15:so(m,T,b,D,f),Pl(8,T);break;case 23:break;case 22:var Z=T.stateNode;T.memoizedState!==null?Z._visibility&2?so(m,T,b,D,f):jl(m,T):(Z._visibility|=2,so(m,T,b,D,f)),f&&G&2048&&rm(T.alternate,T);break;case 24:so(m,T,b,D,f),f&&G&2048&&am(T.alternate,T);break;default:so(m,T,b,D,f)}s=s.sibling}}function jl(n,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=n,l=s,f=l.flags;switch(l.tag){case 22:jl(a,l),f&2048&&rm(l.alternate,l);break;case 24:jl(a,l),f&2048&&am(l.alternate,l);break;default:jl(a,l)}s=s.sibling}}var Ll=8192;function ro(n){if(n.subtreeFlags&Ll)for(n=n.child;n!==null;)o_(n),n=n.sibling}function o_(n){switch(n.tag){case 26:ro(n),n.flags&Ll&&n.memoizedState!==null&&tS(Zn,n.memoizedState,n.memoizedProps);break;case 5:ro(n);break;case 3:case 4:var s=Zn;Zn=Jc(n.stateNode.containerInfo),ro(n),Zn=s;break;case 22:n.memoizedState===null&&(s=n.alternate,s!==null&&s.memoizedState!==null?(s=Ll,Ll=16777216,ro(n),Ll=s):ro(n));break;default:ro(n)}}function l_(n){var s=n.alternate;if(s!==null&&(n=s.child,n!==null)){s.child=null;do s=n.sibling,n.sibling=null,n=s;while(n!==null)}}function Ul(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];Vt=l,c_(l,n)}l_(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)u_(n),n=n.sibling}function u_(n){switch(n.tag){case 0:case 11:case 15:Ul(n),n.flags&2048&&Ls(9,n,n.return);break;case 3:Ul(n);break;case 12:Ul(n);break;case 22:var s=n.stateNode;n.memoizedState!==null&&s._visibility&2&&(n.return===null||n.return.tag!==13)?(s._visibility&=-3,zc(n)):Ul(n);break;default:Ul(n)}}function zc(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];Vt=l,c_(l,n)}l_(n)}for(n=n.child;n!==null;){switch(s=n,s.tag){case 0:case 11:case 15:Ls(8,s,s.return),zc(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,zc(s));break;default:zc(s)}n=n.sibling}}function c_(n,s){for(;Vt!==null;){var a=Vt;switch(a.tag){case 0:case 11:case 15:Ls(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Tl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Vt=l;else e:for(a=n;Vt!==null;){l=Vt;var f=l.sibling,m=l.return;if(t_(l),l===a){Vt=null;break e}if(f!==null){f.return=m,Vt=f;break e}Vt=m}}}var yb={getCacheForType:function(n){var s=Kt(Ct),a=s.data.get(n);return a===void 0&&(a=n(),s.data.set(n,a)),a}},vb=typeof WeakMap=="function"?WeakMap:Map,Ge=0,et=null,De=null,je=0,$e=0,An=null,zs=!1,ao=!1,om=!1,os=0,ft=0,qs=0,ta=0,lm=0,Bn=0,oo=0,Bl=null,un=null,um=!1,cm=0,qc=1/0,Fc=null,Fs=null,qt=0,Hs=null,lo=null,uo=0,hm=0,fm=null,h_=null,zl=0,dm=null;function bn(){if((Ge&2)!==0&&je!==0)return je&-je;if(W.T!==null){var n=Xa;return n!==0?n:Em()}return Ss()}function f_(){Bn===0&&(Bn=(je&536870912)===0||ze?Xo():536870912);var n=Un.current;return n!==null&&(n.flags|=32),Bn}function Sn(n,s,a){(n===et&&($e===2||$e===9)||n.cancelPendingCommit!==null)&&(co(n,0),Gs(n,je,Bn,!1)),Ui(n,a),((Ge&2)===0||n!==et)&&(n===et&&((Ge&2)===0&&(ta|=a),ft===4&&Gs(n,je,Bn,!1)),Ai(n))}function d_(n,s,a){if((Ge&6)!==0)throw Error(r(327));var l=!a&&(s&124)===0&&(s&n.expiredLanes)===0||Ir(n,s),f=l?Tb(n,s):gm(n,s,!0),m=l;do{if(f===0){ao&&!l&&Gs(n,s,0,!1);break}else{if(a=n.current.alternate,m&&!_b(a)){f=gm(n,s,!1),m=!1;continue}if(f===2){if(m=s,n.errorRecoveryDisabledLanes&m)var T=0;else T=n.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){s=T;e:{var b=n;f=Bl;var D=b.current.memoizedState.isDehydrated;if(D&&(co(b,T).flags|=256),T=gm(b,T,!1),T!==2){if(om&&!D){b.errorRecoveryDisabledLanes|=m,ta|=m,f=4;break e}m=un,un=f,m!==null&&(un===null?un=m:un.push.apply(un,m))}f=T}if(m=!1,f!==2)continue}}if(f===1){co(n,0),Gs(n,s,0,!0);break}e:{switch(l=n,m=f,m){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Gs(l,s,Bn,!zs);break e;case 2:un=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(f=cm+300-Cn(),10<f)){if(Gs(l,s,Bn,!zs),Ia(l,0,!0)!==0)break e;l.timeoutHandle=q_(m_.bind(null,l,a,un,Fc,um,s,Bn,ta,oo,zs,m,2,-0,0),f);break e}m_(l,a,un,Fc,um,s,Bn,ta,oo,zs,m,0,-0,0)}}break}while(!0);Ai(n)}function m_(n,s,a,l,f,m,T,b,D,G,Z,te,$,Q){if(n.timeoutHandle=-1,te=s.subtreeFlags,(te&8192||(te&16785408)===16785408)&&(Kl={stylesheets:null,count:0,unsuspend:eS},o_(s),te=nS(),te!==null)){n.cancelPendingCommit=te(T_.bind(null,n,s,m,a,l,f,T,b,D,Z,1,$,Q)),Gs(n,m,T,!G);return}T_(n,s,m,a,l,f,T,b,D)}function _b(n){for(var s=n;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],m=f.getSnapshot;f=f.value;try{if(!_n(m(),f))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Gs(n,s,a,l){s&=~lm,s&=~ta,n.suspendedLanes|=s,n.pingedLanes&=~s,l&&(n.warmLanes|=s),l=n.expirationTimes;for(var f=s;0<f;){var m=31-Qt(f),T=1<<m;l[m]=-1,f&=~T}a!==0&&li(n,a,s)}function Hc(){return(Ge&6)===0?(ql(0),!1):!0}function mm(){if(De!==null){if($e===0)var n=De.return;else n=De,Ji=Yr=null,Dd(n),no=null,Ol=0,n=De;for(;n!==null;)Qv(n.alternate,n),n=n.return;De=null}}function co(n,s){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,jb(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),mm(),et=n,De=a=Xi(n.current,null),je=s,$e=0,An=null,zs=!1,ao=Ir(n,s),om=!1,oo=Bn=lm=ta=qs=ft=0,un=Bl=null,um=!1,(s&8)!==0&&(s|=s&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=s;0<l;){var f=31-Qt(l),m=1<<f;s|=n[f],l&=~m}return os=s,fc(),a}function p_(n,s){Ie=null,W.H=Dc,s===Al||s===Tc?(s=Oy(),$e=3):s===Cy?(s=Oy(),$e=4):$e=s===Mv?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,An=s,De===null&&(ft=1,Vc(n,Pn(s,n.current)))}function g_(){var n=W.H;return W.H=Dc,n===null?Dc:n}function y_(){var n=W.A;return W.A=yb,n}function pm(){ft=4,zs||(je&4194048)!==je&&Un.current!==null||(ao=!0),(qs&134217727)===0&&(ta&134217727)===0||et===null||Gs(et,je,Bn,!1)}function gm(n,s,a){var l=Ge;Ge|=2;var f=g_(),m=y_();(et!==n||je!==s)&&(Fc=null,co(n,s)),s=!1;var T=ft;e:do try{if($e!==0&&De!==null){var b=De,D=An;switch($e){case 8:mm(),T=6;break e;case 3:case 2:case 9:case 6:Un.current===null&&(s=!0);var G=$e;if($e=0,An=null,ho(n,b,D,G),a&&ao){T=0;break e}break;default:G=$e,$e=0,An=null,ho(n,b,D,G)}}Eb(),T=ft;break}catch(Z){p_(n,Z)}while(!0);return s&&n.shellSuspendCounter++,Ji=Yr=null,Ge=l,W.H=f,W.A=m,De===null&&(et=null,je=0,fc()),T}function Eb(){for(;De!==null;)v_(De)}function Tb(n,s){var a=Ge;Ge|=2;var l=g_(),f=y_();et!==n||je!==s?(Fc=null,qc=Cn()+500,co(n,s)):ao=Ir(n,s);e:do try{if($e!==0&&De!==null){s=De;var m=An;t:switch($e){case 1:$e=0,An=null,ho(n,s,m,1);break;case 2:case 9:if(Ny(m)){$e=0,An=null,__(s);break}s=function(){$e!==2&&$e!==9||et!==n||($e=7),Ai(n)},m.then(s,s);break e;case 3:$e=7;break e;case 4:$e=5;break e;case 7:Ny(m)?($e=0,An=null,__(s)):($e=0,An=null,ho(n,s,m,7));break;case 5:var T=null;switch(De.tag){case 26:T=De.memoizedState;case 5:case 27:var b=De;if(!T||e0(T)){$e=0,An=null;var D=b.sibling;if(D!==null)De=D;else{var G=b.return;G!==null?(De=G,Gc(G)):De=null}break t}}$e=0,An=null,ho(n,s,m,5);break;case 6:$e=0,An=null,ho(n,s,m,6);break;case 8:mm(),ft=6;break e;default:throw Error(r(462))}}wb();break}catch(Z){p_(n,Z)}while(!0);return Ji=Yr=null,W.H=l,W.A=f,Ge=a,De!==null?0:(et=null,je=0,fc(),ft)}function wb(){for(;De!==null&&!$o();)v_(De)}function v_(n){var s=Gv(n.alternate,n,os);n.memoizedProps=n.pendingProps,s===null?Gc(n):De=s}function __(n){var s=n,a=s.alternate;switch(s.tag){case 15:case 0:s=Uv(a,s,s.pendingProps,s.type,void 0,je);break;case 11:s=Uv(a,s,s.pendingProps,s.type.render,s.ref,je);break;case 5:Dd(s);default:Qv(a,s),s=De=Ey(s,os),s=Gv(a,s,os)}n.memoizedProps=n.pendingProps,s===null?Gc(n):De=s}function ho(n,s,a,l){Ji=Yr=null,Dd(s),no=null,Ol=0;var f=s.return;try{if(hb(n,f,s,a,je)){ft=1,Vc(n,Pn(a,n.current)),De=null;return}}catch(m){if(f!==null)throw De=f,m;ft=1,Vc(n,Pn(a,n.current)),De=null;return}s.flags&32768?(ze||l===1?n=!0:ao||(je&536870912)!==0?n=!1:(zs=n=!0,(l===2||l===9||l===3||l===6)&&(l=Un.current,l!==null&&l.tag===13&&(l.flags|=16384))),E_(s,n)):Gc(s)}function Gc(n){var s=n;do{if((s.flags&32768)!==0){E_(s,zs);return}n=s.return;var a=db(s.alternate,s,os);if(a!==null){De=a;return}if(s=s.sibling,s!==null){De=s;return}De=s=n}while(s!==null);ft===0&&(ft=5)}function E_(n,s){do{var a=mb(n.alternate,n);if(a!==null){a.flags&=32767,De=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(n=n.sibling,n!==null)){De=n;return}De=n=a}while(n!==null);ft=6,De=null}function T_(n,s,a,l,f,m,T,b,D){n.cancelPendingCommit=null;do $c();while(qt!==0);if((Ge&6)!==0)throw Error(r(327));if(s!==null){if(s===n.current)throw Error(r(177));if(m=s.lanes|s.childLanes,m|=ad,Zo(n,a,m,T,b,D),n===et&&(De=et=null,je=0),lo=s,Hs=n,uo=a,hm=m,fm=f,h_=l,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,Rb(Ar,function(){return R_(),null})):(n.callbackNode=null,n.callbackPriority=0),l=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||l){l=W.T,W.T=null,f=le.p,le.p=2,T=Ge,Ge|=4;try{pb(n,s,a)}finally{Ge=T,le.p=f,W.T=l}}qt=1,w_(),A_(),b_()}}function w_(){if(qt===1){qt=0;var n=Hs,s=lo,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=W.T,W.T=null;var l=le.p;le.p=2;var f=Ge;Ge|=4;try{s_(s,n);var m=xm,T=cy(n.containerInfo),b=m.focusedElem,D=m.selectionRange;if(T!==b&&b&&b.ownerDocument&&uy(b.ownerDocument.documentElement,b)){if(D!==null&&td(b)){var G=D.start,Z=D.end;if(Z===void 0&&(Z=G),"selectionStart"in b)b.selectionStart=G,b.selectionEnd=Math.min(Z,b.value.length);else{var te=b.ownerDocument||document,$=te&&te.defaultView||window;if($.getSelection){var Q=$.getSelection(),we=b.textContent.length,ve=Math.min(D.start,we),We=D.end===void 0?ve:Math.min(D.end,we);!Q.extend&&ve>We&&(T=We,We=ve,ve=T);var q=ly(b,ve),L=ly(b,We);if(q&&L&&(Q.rangeCount!==1||Q.anchorNode!==q.node||Q.anchorOffset!==q.offset||Q.focusNode!==L.node||Q.focusOffset!==L.offset)){var H=te.createRange();H.setStart(q.node,q.offset),Q.removeAllRanges(),ve>We?(Q.addRange(H),Q.extend(L.node,L.offset)):(H.setEnd(L.node,L.offset),Q.addRange(H))}}}}for(te=[],Q=b;Q=Q.parentNode;)Q.nodeType===1&&te.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<te.length;b++){var J=te[b];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}sh=!!Im,xm=Im=null}finally{Ge=f,le.p=l,W.T=a}}n.current=s,qt=2}}function A_(){if(qt===2){qt=0;var n=Hs,s=lo,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=W.T,W.T=null;var l=le.p;le.p=2;var f=Ge;Ge|=4;try{e_(n,s.alternate,s)}finally{Ge=f,le.p=l,W.T=a}}qt=3}}function b_(){if(qt===4||qt===3){qt=0,zu();var n=Hs,s=lo,a=uo,l=h_;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?qt=5:(qt=0,lo=Hs=null,S_(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(Fs=null),xa(a),s=s.stateNode,He&&typeof He.onCommitFiberRoot=="function")try{He.onCommitFiberRoot(ct,s,void 0,(s.current.flags&128)===128)}catch{}if(l!==null){s=W.T,f=le.p,le.p=2,W.T=null;try{for(var m=n.onRecoverableError,T=0;T<l.length;T++){var b=l[T];m(b.value,{componentStack:b.stack})}}finally{W.T=s,le.p=f}}(uo&3)!==0&&$c(),Ai(n),f=n.pendingLanes,(a&4194090)!==0&&(f&42)!==0?n===dm?zl++:(zl=0,dm=n):zl=0,ql(0)}}function S_(n,s){(n.pooledCacheLanes&=s)===0&&(s=n.pooledCache,s!=null&&(n.pooledCache=null,Tl(s)))}function $c(n){return w_(),A_(),b_(),R_()}function R_(){if(qt!==5)return!1;var n=Hs,s=hm;hm=0;var a=xa(uo),l=W.T,f=le.p;try{le.p=32>a?32:a,W.T=null,a=fm,fm=null;var m=Hs,T=uo;if(qt=0,lo=Hs=null,uo=0,(Ge&6)!==0)throw Error(r(331));var b=Ge;if(Ge|=4,u_(m.current),a_(m,m.current,T,a),Ge=b,ql(0,!1),He&&typeof He.onPostCommitFiberRoot=="function")try{He.onPostCommitFiberRoot(ct,m)}catch{}return!0}finally{le.p=f,W.T=l,S_(n,s)}}function I_(n,s,a){s=Pn(a,s),s=Gd(n.stateNode,s,2),n=ks(n,s,2),n!==null&&(Ui(n,2),Ai(n))}function Ze(n,s,a){if(n.tag===3)I_(n,n,a);else for(;s!==null;){if(s.tag===3){I_(s,n,a);break}else if(s.tag===1){var l=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Fs===null||!Fs.has(l))){n=Pn(a,n),a=Dv(2),l=ks(s,a,2),l!==null&&(Ov(a,l,s,n),Ui(l,2),Ai(l));break}}s=s.return}}function ym(n,s,a){var l=n.pingCache;if(l===null){l=n.pingCache=new vb;var f=new Set;l.set(s,f)}else f=l.get(s),f===void 0&&(f=new Set,l.set(s,f));f.has(a)||(om=!0,f.add(a),n=Ab.bind(null,n,s,a),s.then(n,n))}function Ab(n,s,a){var l=n.pingCache;l!==null&&l.delete(s),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,et===n&&(je&a)===a&&(ft===4||ft===3&&(je&62914560)===je&&300>Cn()-cm?(Ge&2)===0&&co(n,0):lm|=a,oo===je&&(oo=0)),Ai(n)}function x_(n,s){s===0&&(s=Wo()),n=$a(n,s),n!==null&&(Ui(n,s),Ai(n))}function bb(n){var s=n.memoizedState,a=0;s!==null&&(a=s.retryLane),x_(n,a)}function Sb(n,s){var a=0;switch(n.tag){case 13:var l=n.stateNode,f=n.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(s),x_(n,a)}function Rb(n,s){return Tr(n,s)}var Qc=null,fo=null,vm=!1,Kc=!1,_m=!1,na=0;function Ai(n){n!==fo&&n.next===null&&(fo===null?Qc=fo=n:fo=fo.next=n),Kc=!0,vm||(vm=!0,xb())}function ql(n,s){if(!_m&&Kc){_m=!0;do for(var a=!1,l=Qc;l!==null;){if(n!==0){var f=l.pendingLanes;if(f===0)var m=0;else{var T=l.suspendedLanes,b=l.pingedLanes;m=(1<<31-Qt(42|n)+1)-1,m&=f&~(T&~b),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(a=!0,O_(l,m))}else m=je,m=Ia(l,l===et?m:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(m&3)===0||Ir(l,m)||(a=!0,O_(l,m));l=l.next}while(a);_m=!1}}function Ib(){C_()}function C_(){Kc=vm=!1;var n=0;na!==0&&(Vb()&&(n=na),na=0);for(var s=Cn(),a=null,l=Qc;l!==null;){var f=l.next,m=N_(l,s);m===0?(l.next=null,a===null?Qc=f:a.next=f,f===null&&(fo=a)):(a=l,(n!==0||(m&3)!==0)&&(Kc=!0)),l=f}ql(n)}function N_(n,s){for(var a=n.suspendedLanes,l=n.pingedLanes,f=n.expirationTimes,m=n.pendingLanes&-62914561;0<m;){var T=31-Qt(m),b=1<<T,D=f[T];D===-1?((b&a)===0||(b&l)!==0)&&(f[T]=Yo(b,s)):D<=s&&(n.expiredLanes|=b),m&=~b}if(s=et,a=je,a=Ia(n,n===s?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l=n.callbackNode,a===0||n===s&&($e===2||$e===9)||n.cancelPendingCommit!==null)return l!==null&&l!==null&&wr(l),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||Ir(n,a)){if(s=a&-a,s===n.callbackPriority)return s;switch(l!==null&&wr(l),xa(a)){case 2:case 8:a=Sa;break;case 32:a=Ar;break;case 268435456:a=Ra;break;default:a=Ar}return l=D_.bind(null,n),a=Tr(a,l),n.callbackPriority=s,n.callbackNode=a,s}return l!==null&&l!==null&&wr(l),n.callbackPriority=2,n.callbackNode=null,2}function D_(n,s){if(qt!==0&&qt!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if($c()&&n.callbackNode!==a)return null;var l=je;return l=Ia(n,n===et?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l===0?null:(d_(n,l,s),N_(n,Cn()),n.callbackNode!=null&&n.callbackNode===a?D_.bind(null,n):null)}function O_(n,s){if($c())return null;d_(n,s,!0)}function xb(){Lb(function(){(Ge&6)!==0?Tr(Qo,Ib):C_()})}function Em(){return na===0&&(na=Xo()),na}function M_(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:ka(""+n)}function k_(n,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,n.id&&a.setAttribute("form",n.id),s.parentNode.insertBefore(a,s),n=new FormData(n),a.parentNode.removeChild(a),n}function Cb(n,s,a,l,f){if(s==="submit"&&a&&a.stateNode===f){var m=M_((f[_t]||null).action),T=l.submitter;T&&(s=(s=T[_t]||null)?M_(s.formAction):T.getAttribute("formAction"),s!==null&&(m=s,T=null));var b=new Pa("action","action",null,l,f);n.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(na!==0){var D=T?k_(f,T):new FormData(f);Bd(a,{pending:!0,data:D,method:f.method,action:m},null,D)}}else typeof m=="function"&&(b.preventDefault(),D=T?k_(f,T):new FormData(f),Bd(a,{pending:!0,data:D,method:f.method,action:m},m,D))},currentTarget:f}]})}}for(var Tm=0;Tm<rd.length;Tm++){var wm=rd[Tm],Nb=wm.toLowerCase(),Db=wm[0].toUpperCase()+wm.slice(1);Wn(Nb,"on"+Db)}Wn(dy,"onAnimationEnd"),Wn(my,"onAnimationIteration"),Wn(py,"onAnimationStart"),Wn("dblclick","onDoubleClick"),Wn("focusin","onFocus"),Wn("focusout","onBlur"),Wn(KA,"onTransitionRun"),Wn(YA,"onTransitionStart"),Wn(XA,"onTransitionCancel"),Wn(gy,"onTransitionEnd"),zi("onMouseEnter",["mouseout","mouseover"]),zi("onMouseLeave",["mouseout","mouseover"]),zi("onPointerEnter",["pointerout","pointerover"]),zi("onPointerLeave",["pointerout","pointerover"]),Yn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Yn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Yn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Yn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Yn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Yn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ob=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Fl));function P_(n,s){s=(s&4)!==0;for(var a=0;a<n.length;a++){var l=n[a],f=l.event;l=l.listeners;e:{var m=void 0;if(s)for(var T=l.length-1;0<=T;T--){var b=l[T],D=b.instance,G=b.currentTarget;if(b=b.listener,D!==m&&f.isPropagationStopped())break e;m=b,f.currentTarget=G;try{m(f)}catch(Z){Pc(Z)}f.currentTarget=null,m=D}else for(T=0;T<l.length;T++){if(b=l[T],D=b.instance,G=b.currentTarget,b=b.listener,D!==m&&f.isPropagationStopped())break e;m=b,f.currentTarget=G;try{m(f)}catch(Z){Pc(Z)}f.currentTarget=null,m=D}}}}function Oe(n,s){var a=s[el];a===void 0&&(a=s[el]=new Set);var l=n+"__bubble";a.has(l)||(V_(s,n,2,!1),a.add(l))}function Am(n,s,a){var l=0;s&&(l|=4),V_(a,n,l,s)}var Yc="_reactListening"+Math.random().toString(36).slice(2);function bm(n){if(!n[Yc]){n[Yc]=!0,tl.forEach(function(a){a!=="selectionchange"&&(Ob.has(a)||Am(a,!1,n),Am(a,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[Yc]||(s[Yc]=!0,Am("selectionchange",!1,s))}}function V_(n,s,a,l){switch(a0(s)){case 2:var f=rS;break;case 8:f=aS;break;default:f=Lm}a=f.bind(null,s,a,n),f=void 0,!Mn||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),l?f!==void 0?n.addEventListener(s,a,{capture:!0,passive:f}):n.addEventListener(s,a,!0):f!==void 0?n.addEventListener(s,a,{passive:f}):n.addEventListener(s,a,!1)}function Sm(n,s,a,l,f){var m=l;if((s&1)===0&&(s&2)===0&&l!==null)e:for(;;){if(l===null)return;var T=l.tag;if(T===3||T===4){var b=l.stateNode.containerInfo;if(b===f)break;if(T===4)for(T=l.return;T!==null;){var D=T.tag;if((D===3||D===4)&&T.stateNode.containerInfo===f)return;T=T.return}for(;b!==null;){if(T=Bi(b),T===null)return;if(D=T.tag,D===5||D===6||D===26||D===27){l=m=T;continue e}b=b.parentNode}}l=l.return}Wu(function(){var G=m,Z=On(a),te=[];e:{var $=yy.get(n);if($!==void 0){var Q=Pa,we=n;switch(n){case"keypress":if(mi(a)===0)break e;case"keydown":case"keyup":Q=za;break;case"focusin":we="focus",Q=La;break;case"focusout":we="blur",Q=La;break;case"beforeblur":case"afterblur":Q=La;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=kn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=Wf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=rc;break;case dy:case my:case py:Q=Ua;break;case gy:Q=oc;break;case"scroll":case"scrollend":Q=Zu;break;case"wheel":Q=qa;break;case"copy":case"cut":case"paste":Q=Ba;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=dl;break;case"toggle":case"beforetoggle":Q=uc}var ve=(s&4)!==0,We=!ve&&(n==="scroll"||n==="scrollend"),q=ve?$!==null?$+"Capture":null:$;ve=[];for(var L=G,H;L!==null;){var J=L;if(H=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||H===null||q===null||(J=Pr(L,q),J!=null&&ve.push(Hl(L,J,H))),We)break;L=L.return}0<ve.length&&($=new Q($,we,null,a,Z),te.push({event:$,listeners:ve}))}}if((s&7)===0){e:{if($=n==="mouseover"||n==="pointerover",Q=n==="mouseout"||n==="pointerout",$&&a!==Hi&&(we=a.relatedTarget||a.fromElement)&&(Bi(we)||we[Nn]))break e;if((Q||$)&&($=Z.window===Z?Z:($=Z.ownerDocument)?$.defaultView||$.parentWindow:window,Q?(we=a.relatedTarget||a.toElement,Q=G,we=we?Bi(we):null,we!==null&&(We=u(we),ve=we.tag,we!==We||ve!==5&&ve!==27&&ve!==6)&&(we=null)):(Q=null,we=G),Q!==we)){if(ve=kn,J="onMouseLeave",q="onMouseEnter",L="mouse",(n==="pointerout"||n==="pointerover")&&(ve=dl,J="onPointerLeave",q="onPointerEnter",L="pointer"),We=Q==null?$:ci(Q),H=we==null?$:ci(we),$=new ve(J,L+"leave",Q,a,Z),$.target=We,$.relatedTarget=H,J=null,Bi(Z)===G&&(ve=new ve(q,L+"enter",we,a,Z),ve.target=H,ve.relatedTarget=We,J=ve),We=J,Q&&we)t:{for(ve=Q,q=we,L=0,H=ve;H;H=mo(H))L++;for(H=0,J=q;J;J=mo(J))H++;for(;0<L-H;)ve=mo(ve),L--;for(;0<H-L;)q=mo(q),H--;for(;L--;){if(ve===q||q!==null&&ve===q.alternate)break t;ve=mo(ve),q=mo(q)}ve=null}else ve=null;Q!==null&&j_(te,$,Q,ve,!1),we!==null&&We!==null&&j_(te,We,we,ve,!0)}}e:{if($=G?ci(G):window,Q=$.nodeName&&$.nodeName.toLowerCase(),Q==="select"||Q==="input"&&$.type==="file")var de=ny;else if(xt($))if(iy)de=GA;else{de=FA;var Ne=qA}else Q=$.nodeName,!Q||Q.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?G&&al(G.elementType)&&(de=ny):de=HA;if(de&&(de=de(n,G))){Yi(te,de,a,Z);break e}Ne&&Ne(n,$,G),n==="focusout"&&G&&$.type==="number"&&G.memoizedProps.value!=null&&Cs($,"number",$.value)}switch(Ne=G?ci(G):window,n){case"focusin":(xt(Ne)||Ne.contentEditable==="true")&&(Fa=Ne,nd=G,gl=null);break;case"focusout":gl=nd=Fa=null;break;case"mousedown":id=!0;break;case"contextmenu":case"mouseup":case"dragend":id=!1,hy(te,a,Z);break;case"selectionchange":if(QA)break;case"keydown":case"keyup":hy(te,a,Z)}var me;if(yi)e:{switch(n){case"compositionstart":var _e="onCompositionStart";break e;case"compositionend":_e="onCompositionEnd";break e;case"compositionupdate":_e="onCompositionUpdate";break e}_e=void 0}else Pe?Y(n,a)&&(_e="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(_e="onCompositionStart");_e&&(E&&a.locale!=="ko"&&(Pe||_e!=="onCompositionStart"?_e==="onCompositionEnd"&&Pe&&(me=ll()):(di=Z,Ns="value"in di?di.value:di.textContent,Pe=!0)),Ne=Xc(G,_e),0<Ne.length&&(_e=new hl(_e,n,null,a,Z),te.push({event:_e,listeners:Ne}),me?_e.data=me:(me=oe(a),me!==null&&(_e.data=me)))),(me=v?It(n,a):Ve(n,a))&&(_e=Xc(G,"onBeforeInput"),0<_e.length&&(Ne=new hl("onBeforeInput","beforeinput",null,a,Z),te.push({event:Ne,listeners:_e}),Ne.data=me)),Cb(te,n,G,a,Z)}P_(te,s)})}function Hl(n,s,a){return{instance:n,listener:s,currentTarget:a}}function Xc(n,s){for(var a=s+"Capture",l=[];n!==null;){var f=n,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=Pr(n,a),f!=null&&l.unshift(Hl(n,f,m)),f=Pr(n,s),f!=null&&l.push(Hl(n,f,m))),n.tag===3)return l;n=n.return}return[]}function mo(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function j_(n,s,a,l,f){for(var m=s._reactName,T=[];a!==null&&a!==l;){var b=a,D=b.alternate,G=b.stateNode;if(b=b.tag,D!==null&&D===l)break;b!==5&&b!==26&&b!==27||G===null||(D=G,f?(G=Pr(a,m),G!=null&&T.unshift(Hl(a,G,D))):f||(G=Pr(a,m),G!=null&&T.push(Hl(a,G,D)))),a=a.return}T.length!==0&&n.push({event:s,listeners:T})}var Mb=/\r\n?/g,kb=/\u0000|\uFFFD/g;function L_(n){return(typeof n=="string"?n:""+n).replace(Mb,`
`).replace(kb,"")}function U_(n,s){return s=L_(s),L_(n)===s}function Wc(){}function Xe(n,s,a,l,f,m){switch(a){case"children":typeof l=="string"?s==="body"||s==="textarea"&&l===""||Dn(n,l):(typeof l=="number"||typeof l=="bigint")&&s!=="body"&&Dn(n,""+l);break;case"className":hi(n,"class",l);break;case"tabIndex":hi(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":hi(n,a,l);break;case"style":rl(n,l,m);break;case"data":if(s!=="object"){hi(n,"data",l);break}case"src":case"href":if(l===""&&(s!=="a"||a!=="href")){n.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=ka(""+l),n.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(s!=="input"&&Xe(n,s,"name",f.name,f,null),Xe(n,s,"formEncType",f.formEncType,f,null),Xe(n,s,"formMethod",f.formMethod,f,null),Xe(n,s,"formTarget",f.formTarget,f,null)):(Xe(n,s,"encType",f.encType,f,null),Xe(n,s,"method",f.method,f,null),Xe(n,s,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=ka(""+l),n.setAttribute(a,l);break;case"onClick":l!=null&&(n.onclick=Wc);break;case"onScroll":l!=null&&Oe("scroll",n);break;case"onScrollEnd":l!=null&&Oe("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));n.innerHTML=a}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}a=ka(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""+l):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":l===!0?n.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,l):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(a,l):n.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(a):n.setAttribute(a,l);break;case"popover":Oe("beforetoggle",n),Oe("toggle",n),xs(n,"popover",l);break;case"xlinkActuate":Ut(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ut(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ut(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ut(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ut(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ut(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ut(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ut(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ut(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":xs(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Yf.get(a)||a,xs(n,a,l))}}function Rm(n,s,a,l,f,m){switch(a){case"style":rl(n,l,m);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));n.innerHTML=a}}break;case"children":typeof l=="string"?Dn(n,l):(typeof l=="number"||typeof l=="bigint")&&Dn(n,""+l);break;case"onScroll":l!=null&&Oe("scroll",n);break;case"onScrollEnd":l!=null&&Oe("scrollend",n);break;case"onClick":l!=null&&(n.onclick=Wc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ca.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),s=a.slice(2,f?a.length-7:void 0),m=n[_t]||null,m=m!=null?m[a]:null,typeof m=="function"&&n.removeEventListener(s,m,f),typeof l=="function")){typeof m!="function"&&m!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(s,l,f);break e}a in n?n[a]=l:l===!0?n.setAttribute(a,""):xs(n,a,l)}}}function Ft(n,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Oe("error",n),Oe("load",n);var l=!1,f=!1,m;for(m in a)if(a.hasOwnProperty(m)){var T=a[m];if(T!=null)switch(m){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Xe(n,s,m,T,a,null)}}f&&Xe(n,s,"srcSet",a.srcSet,a,null),l&&Xe(n,s,"src",a.src,a,null);return;case"input":Oe("invalid",n);var b=m=T=f=null,D=null,G=null;for(l in a)if(a.hasOwnProperty(l)){var Z=a[l];if(Z!=null)switch(l){case"name":f=Z;break;case"type":T=Z;break;case"checked":D=Z;break;case"defaultChecked":G=Z;break;case"value":m=Z;break;case"defaultValue":b=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(r(137,s));break;default:Xe(n,s,l,Z,a,null)}}Or(n,m,b,D,G,T,f,!1),Ma(n);return;case"select":Oe("invalid",n),l=T=m=null;for(f in a)if(a.hasOwnProperty(f)&&(b=a[f],b!=null))switch(f){case"value":m=b;break;case"defaultValue":T=b;break;case"multiple":l=b;default:Xe(n,s,f,b,a,null)}s=m,a=T,n.multiple=!!l,s!=null?Fi(n,!!l,s,!1):a!=null&&Fi(n,!!l,a,!0);return;case"textarea":Oe("invalid",n),m=f=l=null;for(T in a)if(a.hasOwnProperty(T)&&(b=a[T],b!=null))switch(T){case"value":l=b;break;case"defaultValue":f=b;break;case"children":m=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(r(91));break;default:Xe(n,s,T,b,a,null)}Mr(n,l,f,m),Ma(n);return;case"option":for(D in a)if(a.hasOwnProperty(D)&&(l=a[D],l!=null))switch(D){case"selected":n.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Xe(n,s,D,l,a,null)}return;case"dialog":Oe("beforetoggle",n),Oe("toggle",n),Oe("cancel",n),Oe("close",n);break;case"iframe":case"object":Oe("load",n);break;case"video":case"audio":for(l=0;l<Fl.length;l++)Oe(Fl[l],n);break;case"image":Oe("error",n),Oe("load",n);break;case"details":Oe("toggle",n);break;case"embed":case"source":case"link":Oe("error",n),Oe("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in a)if(a.hasOwnProperty(G)&&(l=a[G],l!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Xe(n,s,G,l,a,null)}return;default:if(al(s)){for(Z in a)a.hasOwnProperty(Z)&&(l=a[Z],l!==void 0&&Rm(n,s,Z,l,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(l=a[b],l!=null&&Xe(n,s,b,l,a,null))}function Pb(n,s,a,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,T=null,b=null,D=null,G=null,Z=null;for(Q in a){var te=a[Q];if(a.hasOwnProperty(Q)&&te!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":D=te;default:l.hasOwnProperty(Q)||Xe(n,s,Q,null,l,te)}}for(var $ in l){var Q=l[$];if(te=a[$],l.hasOwnProperty($)&&(Q!=null||te!=null))switch($){case"type":m=Q;break;case"name":f=Q;break;case"checked":G=Q;break;case"defaultChecked":Z=Q;break;case"value":T=Q;break;case"defaultValue":b=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,s));break;default:Q!==te&&Xe(n,s,$,Q,l,te)}}vn(n,T,b,D,G,Z,m,f);return;case"select":Q=T=b=$=null;for(m in a)if(D=a[m],a.hasOwnProperty(m)&&D!=null)switch(m){case"value":break;case"multiple":Q=D;default:l.hasOwnProperty(m)||Xe(n,s,m,null,l,D)}for(f in l)if(m=l[f],D=a[f],l.hasOwnProperty(f)&&(m!=null||D!=null))switch(f){case"value":$=m;break;case"defaultValue":b=m;break;case"multiple":T=m;default:m!==D&&Xe(n,s,f,m,l,D)}s=b,a=T,l=Q,$!=null?Fi(n,!!a,$,!1):!!l!=!!a&&(s!=null?Fi(n,!!a,s,!0):Fi(n,!!a,a?[]:"",!1));return;case"textarea":Q=$=null;for(b in a)if(f=a[b],a.hasOwnProperty(b)&&f!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:Xe(n,s,b,null,l,f)}for(T in l)if(f=l[T],m=a[T],l.hasOwnProperty(T)&&(f!=null||m!=null))switch(T){case"value":$=f;break;case"defaultValue":Q=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==m&&Xe(n,s,T,f,l,m)}Ke(n,$,Q);return;case"option":for(var we in a)if($=a[we],a.hasOwnProperty(we)&&$!=null&&!l.hasOwnProperty(we))switch(we){case"selected":n.selected=!1;break;default:Xe(n,s,we,null,l,$)}for(D in l)if($=l[D],Q=a[D],l.hasOwnProperty(D)&&$!==Q&&($!=null||Q!=null))switch(D){case"selected":n.selected=$&&typeof $!="function"&&typeof $!="symbol";break;default:Xe(n,s,D,$,l,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in a)$=a[ve],a.hasOwnProperty(ve)&&$!=null&&!l.hasOwnProperty(ve)&&Xe(n,s,ve,null,l,$);for(G in l)if($=l[G],Q=a[G],l.hasOwnProperty(G)&&$!==Q&&($!=null||Q!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(r(137,s));break;default:Xe(n,s,G,$,l,Q)}return;default:if(al(s)){for(var We in a)$=a[We],a.hasOwnProperty(We)&&$!==void 0&&!l.hasOwnProperty(We)&&Rm(n,s,We,void 0,l,$);for(Z in l)$=l[Z],Q=a[Z],!l.hasOwnProperty(Z)||$===Q||$===void 0&&Q===void 0||Rm(n,s,Z,$,l,Q);return}}for(var q in a)$=a[q],a.hasOwnProperty(q)&&$!=null&&!l.hasOwnProperty(q)&&Xe(n,s,q,null,l,$);for(te in l)$=l[te],Q=a[te],!l.hasOwnProperty(te)||$===Q||$==null&&Q==null||Xe(n,s,te,$,l,Q)}var Im=null,xm=null;function Zc(n){return n.nodeType===9?n:n.ownerDocument}function B_(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function z_(n,s){if(n===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&s==="foreignObject"?0:n}function Cm(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Nm=null;function Vb(){var n=window.event;return n&&n.type==="popstate"?n===Nm?!1:(Nm=n,!0):(Nm=null,!1)}var q_=typeof setTimeout=="function"?setTimeout:void 0,jb=typeof clearTimeout=="function"?clearTimeout:void 0,F_=typeof Promise=="function"?Promise:void 0,Lb=typeof queueMicrotask=="function"?queueMicrotask:typeof F_<"u"?function(n){return F_.resolve(null).then(n).catch(Ub)}:q_;function Ub(n){setTimeout(function(){throw n})}function $s(n){return n==="head"}function H_(n,s){var a=s,l=0,f=0;do{var m=a.nextSibling;if(n.removeChild(a),m&&m.nodeType===8)if(a=m.data,a==="/$"){if(0<l&&8>l){a=l;var T=n.ownerDocument;if(a&1&&Gl(T.documentElement),a&2&&Gl(T.body),a&4)for(a=T.head,Gl(a),T=a.firstChild;T;){var b=T.nextSibling,D=T.nodeName;T[xr]||D==="SCRIPT"||D==="STYLE"||D==="LINK"&&T.rel.toLowerCase()==="stylesheet"||a.removeChild(T),T=b}}if(f===0){n.removeChild(m),Jl(s);return}f--}else a==="$"||a==="$?"||a==="$!"?f++:l=a.charCodeAt(0)-48;else l=0;a=m}while(a);Jl(s)}function Dm(n){var s=n.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Dm(a),Is(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function Bb(n,s,a,l){for(;n.nodeType===1;){var f=a;if(n.nodeName.toLowerCase()!==s.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[xr])switch(s){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(m=n.getAttribute("rel"),m==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(m!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(m=n.getAttribute("src"),(m!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(s==="input"&&n.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===m)return n}else return n;if(n=Jn(n.nextSibling),n===null)break}return null}function zb(n,s,a){if(s==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=Jn(n.nextSibling),n===null))return null;return n}function Om(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function qb(n,s){var a=n.ownerDocument;if(n.data!=="$?"||a.readyState==="complete")s();else{var l=function(){s(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),n._reactRetry=l}}function Jn(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return n}var Mm=null;function G_(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return n;s--}else a==="/$"&&s++}n=n.previousSibling}return null}function $_(n,s,a){switch(s=Zc(a),n){case"html":if(n=s.documentElement,!n)throw Error(r(452));return n;case"head":if(n=s.head,!n)throw Error(r(453));return n;case"body":if(n=s.body,!n)throw Error(r(454));return n;default:throw Error(r(451))}}function Gl(n){for(var s=n.attributes;s.length;)n.removeAttributeNode(s[0]);Is(n)}var zn=new Map,Q_=new Set;function Jc(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var ls=le.d;le.d={f:Fb,r:Hb,D:Gb,C:$b,L:Qb,m:Kb,X:Xb,S:Yb,M:Wb};function Fb(){var n=ls.f(),s=Hc();return n||s}function Hb(n){var s=ui(n);s!==null&&s.tag===5&&s.type==="form"?dv(s):ls.r(n)}var po=typeof document>"u"?null:document;function K_(n,s,a){var l=po;if(l&&typeof s=="string"&&s){var f=Et(s);f='link[rel="'+n+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),Q_.has(f)||(Q_.add(f),n={rel:n,crossOrigin:a,href:s},l.querySelector(f)===null&&(s=l.createElement("link"),Ft(s,"link",n),pt(s),l.head.appendChild(s)))}}function Gb(n){ls.D(n),K_("dns-prefetch",n,null)}function $b(n,s){ls.C(n,s),K_("preconnect",n,s)}function Qb(n,s,a){ls.L(n,s,a);var l=po;if(l&&n&&s){var f='link[rel="preload"][as="'+Et(s)+'"]';s==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+Et(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+Et(a.imageSizes)+'"]')):f+='[href="'+Et(n)+'"]';var m=f;switch(s){case"style":m=go(n);break;case"script":m=yo(n)}zn.has(m)||(n=_({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:n,as:s},a),zn.set(m,n),l.querySelector(f)!==null||s==="style"&&l.querySelector($l(m))||s==="script"&&l.querySelector(Ql(m))||(s=l.createElement("link"),Ft(s,"link",n),pt(s),l.head.appendChild(s)))}}function Kb(n,s){ls.m(n,s);var a=po;if(a&&n){var l=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+Et(l)+'"][href="'+Et(n)+'"]',m=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=yo(n)}if(!zn.has(m)&&(n=_({rel:"modulepreload",href:n},s),zn.set(m,n),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ql(m)))return}l=a.createElement("link"),Ft(l,"link",n),pt(l),a.head.appendChild(l)}}}function Yb(n,s,a){ls.S(n,s,a);var l=po;if(l&&n){var f=nn(l).hoistableStyles,m=go(n);s=s||"default";var T=f.get(m);if(!T){var b={loading:0,preload:null};if(T=l.querySelector($l(m)))b.loading=5;else{n=_({rel:"stylesheet",href:n,"data-precedence":s},a),(a=zn.get(m))&&km(n,a);var D=T=l.createElement("link");pt(D),Ft(D,"link",n),D._p=new Promise(function(G,Z){D.onload=G,D.onerror=Z}),D.addEventListener("load",function(){b.loading|=1}),D.addEventListener("error",function(){b.loading|=2}),b.loading|=4,eh(T,s,l)}T={type:"stylesheet",instance:T,count:1,state:b},f.set(m,T)}}}function Xb(n,s){ls.X(n,s);var a=po;if(a&&n){var l=nn(a).hoistableScripts,f=yo(n),m=l.get(f);m||(m=a.querySelector(Ql(f)),m||(n=_({src:n,async:!0},s),(s=zn.get(f))&&Pm(n,s),m=a.createElement("script"),pt(m),Ft(m,"link",n),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(f,m))}}function Wb(n,s){ls.M(n,s);var a=po;if(a&&n){var l=nn(a).hoistableScripts,f=yo(n),m=l.get(f);m||(m=a.querySelector(Ql(f)),m||(n=_({src:n,async:!0,type:"module"},s),(s=zn.get(f))&&Pm(n,s),m=a.createElement("script"),pt(m),Ft(m,"link",n),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(f,m))}}function Y_(n,s,a,l){var f=(f=Ae.current)?Jc(f):null;if(!f)throw Error(r(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=go(a.href),a=nn(f).hoistableStyles,l=a.get(s),l||(l={type:"style",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=go(a.href);var m=nn(f).hoistableStyles,T=m.get(n);if(T||(f=f.ownerDocument||f,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(n,T),(m=f.querySelector($l(n)))&&!m._p&&(T.instance=m,T.state.loading=5),zn.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},zn.set(n,a),m||Zb(f,n,a,T.state))),s&&l===null)throw Error(r(528,""));return T}if(s&&l!==null)throw Error(r(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=yo(a),a=nn(f).hoistableScripts,l=a.get(s),l||(l={type:"script",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,n))}}function go(n){return'href="'+Et(n)+'"'}function $l(n){return'link[rel="stylesheet"]['+n+"]"}function X_(n){return _({},n,{"data-precedence":n.precedence,precedence:null})}function Zb(n,s,a,l){n.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=n.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),Ft(s,"link",a),pt(s),n.head.appendChild(s))}function yo(n){return'[src="'+Et(n)+'"]'}function Ql(n){return"script[async]"+n}function W_(n,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var l=n.querySelector('style[data-href~="'+Et(a.href)+'"]');if(l)return s.instance=l,pt(l),l;var f=_({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),pt(l),Ft(l,"style",f),eh(l,a.precedence,n),s.instance=l;case"stylesheet":f=go(a.href);var m=n.querySelector($l(f));if(m)return s.state.loading|=4,s.instance=m,pt(m),m;l=X_(a),(f=zn.get(f))&&km(l,f),m=(n.ownerDocument||n).createElement("link"),pt(m);var T=m;return T._p=new Promise(function(b,D){T.onload=b,T.onerror=D}),Ft(m,"link",l),s.state.loading|=4,eh(m,a.precedence,n),s.instance=m;case"script":return m=yo(a.src),(f=n.querySelector(Ql(m)))?(s.instance=f,pt(f),f):(l=a,(f=zn.get(m))&&(l=_({},a),Pm(l,f)),n=n.ownerDocument||n,f=n.createElement("script"),pt(f),Ft(f,"link",l),n.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(l=s.instance,s.state.loading|=4,eh(l,a.precedence,n));return s.instance}function eh(n,s,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,m=f,T=0;T<l.length;T++){var b=l[T];if(b.dataset.precedence===s)m=b;else if(m!==f)break}m?m.parentNode.insertBefore(n,m.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(n,s.firstChild))}function km(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.title==null&&(n.title=s.title)}function Pm(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.integrity==null&&(n.integrity=s.integrity)}var th=null;function Z_(n,s,a){if(th===null){var l=new Map,f=th=new Map;f.set(a,l)}else f=th,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(n))return l;for(l.set(n,null),a=a.getElementsByTagName(n),f=0;f<a.length;f++){var m=a[f];if(!(m[xr]||m[Rt]||n==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var T=m.getAttribute(s)||"";T=n+T;var b=l.get(T);b?b.push(m):l.set(T,[m])}}return l}function J_(n,s,a){n=n.ownerDocument||n,n.head.insertBefore(a,s==="title"?n.querySelector("head > title"):null)}function Jb(n,s,a){if(a===1||s.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return n=s.disabled,typeof s.precedence=="string"&&n==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function e0(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var Kl=null;function eS(){}function tS(n,s,a){if(Kl===null)throw Error(r(475));var l=Kl;if(s.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var f=go(a.href),m=n.querySelector($l(f));if(m){n=m._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(l.count++,l=nh.bind(l),n.then(l,l)),s.state.loading|=4,s.instance=m,pt(m);return}m=n.ownerDocument||n,a=X_(a),(f=zn.get(f))&&km(a,f),m=m.createElement("link"),pt(m);var T=m;T._p=new Promise(function(b,D){T.onload=b,T.onerror=D}),Ft(m,"link",a),s.instance=m}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(l.count++,s=nh.bind(l),n.addEventListener("load",s),n.addEventListener("error",s))}}function nS(){if(Kl===null)throw Error(r(475));var n=Kl;return n.stylesheets&&n.count===0&&Vm(n,n.stylesheets),0<n.count?function(s){var a=setTimeout(function(){if(n.stylesheets&&Vm(n,n.stylesheets),n.unsuspend){var l=n.unsuspend;n.unsuspend=null,l()}},6e4);return n.unsuspend=s,function(){n.unsuspend=null,clearTimeout(a)}}:null}function nh(){if(this.count--,this.count===0){if(this.stylesheets)Vm(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var ih=null;function Vm(n,s){n.stylesheets=null,n.unsuspend!==null&&(n.count++,ih=new Map,s.forEach(iS,n),ih=null,nh.call(n))}function iS(n,s){if(!(s.state.loading&4)){var a=ih.get(n);if(a)var l=a.get(null);else{a=new Map,ih.set(n,a);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var T=f[m];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(a.set(T.dataset.precedence,T),l=T)}l&&a.set(null,l)}f=s.instance,T=f.getAttribute("data-precedence"),m=a.get(T)||l,m===l&&a.set(null,f),a.set(T,f),this.count++,l=nh.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),m?m.parentNode.insertBefore(f,m.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),s.state.loading|=4}}var Yl={$$typeof:X,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function sS(n,s,a,l,f,m,T,b){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Li(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Li(0),this.hiddenUpdates=Li(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function t0(n,s,a,l,f,m,T,b,D,G,Z,te){return n=new sS(n,s,a,T,b,D,G,te),s=1,m===!0&&(s|=24),m=En(3,null,null,s),n.current=m,m.stateNode=n,s=yd(),s.refCount++,n.pooledCache=s,s.refCount++,m.memoizedState={element:l,isDehydrated:a,cache:s},Td(m),n}function n0(n){return n?(n=Qa,n):Qa}function i0(n,s,a,l,f,m){f=n0(f),l.context===null?l.context=f:l.pendingContext=f,l=Ms(s),l.payload={element:a},m=m===void 0?null:m,m!==null&&(l.callback=m),a=ks(n,l,s),a!==null&&(Sn(a,n,s),Sl(a,n,s))}function s0(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<s?a:s}}function jm(n,s){s0(n,s),(n=n.alternate)&&s0(n,s)}function r0(n){if(n.tag===13){var s=$a(n,67108864);s!==null&&Sn(s,n,67108864),jm(n,67108864)}}var sh=!0;function rS(n,s,a,l){var f=W.T;W.T=null;var m=le.p;try{le.p=2,Lm(n,s,a,l)}finally{le.p=m,W.T=f}}function aS(n,s,a,l){var f=W.T;W.T=null;var m=le.p;try{le.p=8,Lm(n,s,a,l)}finally{le.p=m,W.T=f}}function Lm(n,s,a,l){if(sh){var f=Um(l);if(f===null)Sm(n,s,l,rh,a),o0(n,l);else if(lS(f,n,s,a,l))l.stopPropagation();else if(o0(n,l),s&4&&-1<oS.indexOf(n)){for(;f!==null;){var m=ui(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var T=Kn(m.pendingLanes);if(T!==0){var b=m;for(b.pendingLanes|=2,b.entangledLanes|=2;T;){var D=1<<31-Qt(T);b.entanglements[1]|=D,T&=~D}Ai(m),(Ge&6)===0&&(qc=Cn()+500,ql(0))}}break;case 13:b=$a(m,2),b!==null&&Sn(b,m,2),Hc(),jm(m,2)}if(m=Um(l),m===null&&Sm(n,s,l,rh,a),m===f)break;f=m}f!==null&&l.stopPropagation()}else Sm(n,s,l,null,a)}}function Um(n){return n=On(n),Bm(n)}var rh=null;function Bm(n){if(rh=null,n=Bi(n),n!==null){var s=u(n);if(s===null)n=null;else{var a=s.tag;if(a===13){if(n=h(s),n!==null)return n;n=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null)}}return rh=n,null}function a0(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ff()){case Qo:return 2;case Sa:return 8;case Ar:case Hf:return 32;case Ra:return 268435456;default:return 32}default:return 32}}var zm=!1,Qs=null,Ks=null,Ys=null,Xl=new Map,Wl=new Map,Xs=[],oS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function o0(n,s){switch(n){case"focusin":case"focusout":Qs=null;break;case"dragenter":case"dragleave":Ks=null;break;case"mouseover":case"mouseout":Ys=null;break;case"pointerover":case"pointerout":Xl.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wl.delete(s.pointerId)}}function Zl(n,s,a,l,f,m){return n===null||n.nativeEvent!==m?(n={blockedOn:s,domEventName:a,eventSystemFlags:l,nativeEvent:m,targetContainers:[f]},s!==null&&(s=ui(s),s!==null&&r0(s)),n):(n.eventSystemFlags|=l,s=n.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),n)}function lS(n,s,a,l,f){switch(s){case"focusin":return Qs=Zl(Qs,n,s,a,l,f),!0;case"dragenter":return Ks=Zl(Ks,n,s,a,l,f),!0;case"mouseover":return Ys=Zl(Ys,n,s,a,l,f),!0;case"pointerover":var m=f.pointerId;return Xl.set(m,Zl(Xl.get(m)||null,n,s,a,l,f)),!0;case"gotpointercapture":return m=f.pointerId,Wl.set(m,Zl(Wl.get(m)||null,n,s,a,l,f)),!0}return!1}function l0(n){var s=Bi(n.target);if(s!==null){var a=u(s);if(a!==null){if(s=a.tag,s===13){if(s=h(a),s!==null){n.blockedOn=s,Hu(n.priority,function(){if(a.tag===13){var l=bn();l=bs(l);var f=$a(a,l);f!==null&&Sn(f,a,l),jm(a,l)}});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function ah(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var a=Um(n.nativeEvent);if(a===null){a=n.nativeEvent;var l=new a.constructor(a.type,a);Hi=l,a.target.dispatchEvent(l),Hi=null}else return s=ui(a),s!==null&&r0(s),n.blockedOn=a,!1;s.shift()}return!0}function u0(n,s,a){ah(n)&&a.delete(s)}function uS(){zm=!1,Qs!==null&&ah(Qs)&&(Qs=null),Ks!==null&&ah(Ks)&&(Ks=null),Ys!==null&&ah(Ys)&&(Ys=null),Xl.forEach(u0),Wl.forEach(u0)}function oh(n,s){n.blockedOn===s&&(n.blockedOn=null,zm||(zm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,uS)))}var lh=null;function c0(n){lh!==n&&(lh=n,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){lh===n&&(lh=null);for(var s=0;s<n.length;s+=3){var a=n[s],l=n[s+1],f=n[s+2];if(typeof l!="function"){if(Bm(l||a)===null)continue;break}var m=ui(a);m!==null&&(n.splice(s,3),s-=3,Bd(m,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function Jl(n){function s(D){return oh(D,n)}Qs!==null&&oh(Qs,n),Ks!==null&&oh(Ks,n),Ys!==null&&oh(Ys,n),Xl.forEach(s),Wl.forEach(s);for(var a=0;a<Xs.length;a++){var l=Xs[a];l.blockedOn===n&&(l.blockedOn=null)}for(;0<Xs.length&&(a=Xs[0],a.blockedOn===null);)l0(a),a.blockedOn===null&&Xs.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],m=a[l+1],T=f[_t]||null;if(typeof m=="function")T||c0(a);else if(T){var b=null;if(m&&m.hasAttribute("formAction")){if(f=m,T=m[_t]||null)b=T.formAction;else if(Bm(f)!==null)continue}else b=T.action;typeof b=="function"?a[l+1]=b:(a.splice(l,3),l-=3),c0(a)}}}function qm(n){this._internalRoot=n}uh.prototype.render=qm.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(r(409));var a=s.current,l=bn();i0(a,l,n,s,null,null)},uh.prototype.unmount=qm.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;i0(n.current,2,null,n,null,null),Hc(),s[Nn]=null}};function uh(n){this._internalRoot=n}uh.prototype.unstable_scheduleHydration=function(n){if(n){var s=Ss();n={blockedOn:null,target:n,priority:s};for(var a=0;a<Xs.length&&s!==0&&s<Xs[a].priority;a++);Xs.splice(a,0,n),a===0&&l0(n)}};var h0=e.version;if(h0!=="19.1.0")throw Error(r(527,h0,"19.1.0"));le.findDOMNode=function(n){var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(r(188)):(n=Object.keys(n).join(","),Error(r(268,n)));return n=p(s),n=n!==null?g(n):null,n=n===null?null:n.stateNode,n};var cS={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ch=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ch.isDisabled&&ch.supportsFiber)try{ct=ch.inject(cS),He=ch}catch{}}return tu.createRoot=function(n,s){if(!o(n))throw Error(r(299));var a=!1,l="",f=Iv,m=xv,T=Cv,b=null;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(l=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(m=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(b=s.unstable_transitionCallbacks)),s=t0(n,1,!1,null,null,a,l,f,m,T,b,null),n[Nn]=s.current,bm(n),new qm(s)},tu.hydrateRoot=function(n,s,a){if(!o(n))throw Error(r(299));var l=!1,f="",m=Iv,T=xv,b=Cv,D=null,G=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(T=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(D=a.unstable_transitionCallbacks),a.formState!==void 0&&(G=a.formState)),s=t0(n,1,!0,s,a??null,l,f,m,T,b,D,G),s.context=n0(null),a=s.current,l=bn(),l=bs(l),f=Ms(l),f.callback=null,ks(a,f,l),a=l,s.current.lanes=a,Ui(s,a),Ai(s),n[Nn]=s.current,bm(n),new uh(s)},tu.version="19.1.0",tu}var T0;function TS(){if(T0)return Gm.exports;T0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Gm.exports=ES(),Gm.exports}var wS=TS();const AS=TT(wS);var nu={},w0;function bS(){if(w0)return nu;w0=1,Object.defineProperty(nu,"__esModule",{value:!0}),nu.parse=h,nu.serialize=g;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const w=function(){};return w.prototype=Object.create(null),w})();function h(w,I){const x=new u,z=w.length;if(z<2)return x;const P=I?.decode||_;let M=0;do{const K=w.indexOf("=",M);if(K===-1)break;const X=w.indexOf(";",M),se=X===-1?z:X;if(K>se){M=w.lastIndexOf(";",K-1)+1;continue}const re=d(w,M,K),fe=p(w,K,re),N=w.slice(re,fe);if(x[N]===void 0){let R=d(w,K+1,se),C=p(w,se,R);const k=P(w.slice(R,C));x[N]=k}M=se+1}while(M<z);return x}function d(w,I,x){do{const z=w.charCodeAt(I);if(z!==32&&z!==9)return I}while(++I<x);return x}function p(w,I,x){for(;I>x;){const z=w.charCodeAt(--I);if(z!==32&&z!==9)return I+1}return x}function g(w,I,x){const z=x?.encode||encodeURIComponent;if(!i.test(w))throw new TypeError(`argument name is invalid: ${w}`);const P=z(I);if(!e.test(P))throw new TypeError(`argument val is invalid: ${I}`);let M=w+"="+P;if(!x)return M;if(x.maxAge!==void 0){if(!Number.isInteger(x.maxAge))throw new TypeError(`option maxAge is invalid: ${x.maxAge}`);M+="; Max-Age="+x.maxAge}if(x.domain){if(!t.test(x.domain))throw new TypeError(`option domain is invalid: ${x.domain}`);M+="; Domain="+x.domain}if(x.path){if(!r.test(x.path))throw new TypeError(`option path is invalid: ${x.path}`);M+="; Path="+x.path}if(x.expires){if(!A(x.expires)||!Number.isFinite(x.expires.valueOf()))throw new TypeError(`option expires is invalid: ${x.expires}`);M+="; Expires="+x.expires.toUTCString()}if(x.httpOnly&&(M+="; HttpOnly"),x.secure&&(M+="; Secure"),x.partitioned&&(M+="; Partitioned"),x.priority)switch(typeof x.priority=="string"?x.priority.toLowerCase():void 0){case"low":M+="; Priority=Low";break;case"medium":M+="; Priority=Medium";break;case"high":M+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${x.priority}`)}if(x.sameSite)switch(typeof x.sameSite=="string"?x.sameSite.toLowerCase():x.sameSite){case!0:case"strict":M+="; SameSite=Strict";break;case"lax":M+="; SameSite=Lax";break;case"none":M+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${x.sameSite}`)}return M}function _(w){if(w.indexOf("%")===-1)return w;try{return decodeURIComponent(w)}catch{return w}}function A(w){return o.call(w)==="[object Date]"}return nu}bS();var A0="popstate";function SS(i={}){function e(r,o){let{pathname:u,search:h,hash:d}=r.location;return dp("",{pathname:u,search:h,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(r,o){return typeof o=="string"?o:yu(o)}return IS(e,t,null,i)}function at(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Gn(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function RS(){return Math.random().toString(36).substring(2,10)}function b0(i,e){return{usr:i.state,key:i.key,idx:e}}function dp(i,e,t=null,r){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?jo(e):e,state:t,key:e&&e.key||r||RS()}}function yu({pathname:i="/",search:e="",hash:t=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(i+=t.charAt(0)==="#"?t:"#"+t),i}function jo(i){let e={};if(i){let t=i.indexOf("#");t>=0&&(e.hash=i.substring(t),i=i.substring(0,t));let r=i.indexOf("?");r>=0&&(e.search=i.substring(r),i=i.substring(0,r)),i&&(e.pathname=i)}return e}function IS(i,e,t,r={}){let{window:o=document.defaultView,v5Compat:u=!1}=r,h=o.history,d="POP",p=null,g=_();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function _(){return(h.state||{idx:null}).idx}function A(){d="POP";let P=_(),M=P==null?null:P-g;g=P,p&&p({action:d,location:z.location,delta:M})}function w(P,M){d="PUSH";let K=dp(z.location,P,M);g=_()+1;let X=b0(K,g),se=z.createHref(K);try{h.pushState(X,"",se)}catch(re){if(re instanceof DOMException&&re.name==="DataCloneError")throw re;o.location.assign(se)}u&&p&&p({action:d,location:z.location,delta:1})}function I(P,M){d="REPLACE";let K=dp(z.location,P,M);g=_();let X=b0(K,g),se=z.createHref(K);h.replaceState(X,"",se),u&&p&&p({action:d,location:z.location,delta:0})}function x(P){return xS(P)}let z={get action(){return d},get location(){return i(o,h)},listen(P){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(A0,A),p=P,()=>{o.removeEventListener(A0,A),p=null}},createHref(P){return e(o,P)},createURL:x,encodeLocation(P){let M=x(P);return{pathname:M.pathname,search:M.search,hash:M.hash}},push:w,replace:I,go(P){return h.go(P)}};return z}function xS(i,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),at(t,"No window.location.(origin|href) available to create URL");let r=typeof i=="string"?i:yu(i);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function wT(i,e,t="/"){return CS(i,e,t,!1)}function CS(i,e,t,r){let o=typeof e=="string"?jo(e):e,u=ms(o.pathname||"/",t);if(u==null)return null;let h=AT(i);NS(h);let d=null;for(let p=0;d==null&&p<h.length;++p){let g=zS(u);d=US(h[p],g,r)}return d}function AT(i,e=[],t=[],r=""){let o=(u,h,d)=>{let p={relativePath:d===void 0?u.path||"":d,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};p.relativePath.startsWith("/")&&(at(p.relativePath.startsWith(r),`Absolute route path "${p.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(r.length));let g=hs([r,p.relativePath]),_=t.concat(p);u.children&&u.children.length>0&&(at(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),AT(u.children,e,_,g)),!(u.path==null&&!u.index)&&e.push({path:g,score:jS(g,u.index),routesMeta:_})};return i.forEach((u,h)=>{if(u.path===""||!u.path?.includes("?"))o(u,h);else for(let d of bT(u.path))o(u,h,d)}),e}function bT(i){let e=i.split("/");if(e.length===0)return[];let[t,...r]=e,o=t.endsWith("?"),u=t.replace(/\?$/,"");if(r.length===0)return o?[u,""]:[u];let h=bT(r.join("/")),d=[];return d.push(...h.map(p=>p===""?u:[u,p].join("/"))),o&&d.push(...h),d.map(p=>i.startsWith("/")&&p===""?"/":p)}function NS(i){i.sort((e,t)=>e.score!==t.score?t.score-e.score:LS(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var DS=/^:[\w-]+$/,OS=3,MS=2,kS=1,PS=10,VS=-2,S0=i=>i==="*";function jS(i,e){let t=i.split("/"),r=t.length;return t.some(S0)&&(r+=VS),e&&(r+=MS),t.filter(o=>!S0(o)).reduce((o,u)=>o+(DS.test(u)?OS:u===""?kS:PS),r)}function LS(i,e){return i.length===e.length&&i.slice(0,-1).every((r,o)=>r===e[o])?i[i.length-1]-e[e.length-1]:0}function US(i,e,t=!1){let{routesMeta:r}=i,o={},u="/",h=[];for(let d=0;d<r.length;++d){let p=r[d],g=d===r.length-1,_=u==="/"?e:e.slice(u.length)||"/",A=Mh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},_),w=p.route;if(!A&&g&&t&&!r[r.length-1].route.index&&(A=Mh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},_)),!A)return null;Object.assign(o,A.params),h.push({params:o,pathname:hs([u,A.pathname]),pathnameBase:GS(hs([u,A.pathnameBase])),route:w}),A.pathnameBase!=="/"&&(u=hs([u,A.pathnameBase]))}return h}function Mh(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[t,r]=BS(i.path,i.caseSensitive,i.end),o=e.match(t);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:r.reduce((g,{paramName:_,isOptional:A},w)=>{if(_==="*"){let x=d[w]||"";h=u.slice(0,u.length-x.length).replace(/(.)\/+$/,"$1")}const I=d[w];return A&&!I?g[_]=void 0:g[_]=(I||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:h,pattern:i}}function BS(i,e=!1,t=!0){Gn(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let r=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,d,p)=>(r.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(r.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function zS(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Gn(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function ms(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=i.charAt(t);return r&&r!=="/"?null:i.slice(t)||"/"}function qS(i,e="/"){let{pathname:t,search:r="",hash:o=""}=typeof i=="string"?jo(i):i;return{pathname:t?t.startsWith("/")?t:FS(t,e):e,search:$S(r),hash:QS(o)}}function FS(i,e){let t=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Ym(i,e,t,r){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function HS(i){return i.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Hp(i){let e=HS(i);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function Gp(i,e,t,r=!1){let o;typeof i=="string"?o=jo(i):(o={...i},at(!o.pathname||!o.pathname.includes("?"),Ym("?","pathname","search",o)),at(!o.pathname||!o.pathname.includes("#"),Ym("#","pathname","hash",o)),at(!o.search||!o.search.includes("#"),Ym("#","search","hash",o)));let u=i===""||o.pathname==="",h=u?"/":o.pathname,d;if(h==null)d=t;else{let A=e.length-1;if(!r&&h.startsWith("..")){let w=h.split("/");for(;w[0]==="..";)w.shift(),A-=1;o.pathname=w.join("/")}d=A>=0?e[A]:"/"}let p=qS(o,d),g=h&&h!=="/"&&h.endsWith("/"),_=(u||h===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(g||_)&&(p.pathname+="/"),p}var hs=i=>i.join("/").replace(/\/\/+/g,"/"),GS=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),$S=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,QS=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function KS(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var ST=["POST","PUT","PATCH","DELETE"];new Set(ST);var YS=["GET",...ST];new Set(YS);var Lo=V.createContext(null);Lo.displayName="DataRouter";var of=V.createContext(null);of.displayName="DataRouterState";var RT=V.createContext({isTransitioning:!1});RT.displayName="ViewTransition";var XS=V.createContext(new Map);XS.displayName="Fetchers";var WS=V.createContext(null);WS.displayName="Await";var ri=V.createContext(null);ri.displayName="Navigation";var xu=V.createContext(null);xu.displayName="Location";var ai=V.createContext({outlet:null,matches:[],isDataRoute:!1});ai.displayName="Route";var $p=V.createContext(null);$p.displayName="RouteError";function ZS(i,{relative:e}={}){at(Uo(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=V.useContext(ri),{hash:o,pathname:u,search:h}=Cu(i,{relative:e}),d=u;return t!=="/"&&(d=u==="/"?t:hs([t,u])),r.createHref({pathname:d,search:h,hash:o})}function Uo(){return V.useContext(xu)!=null}function Pi(){return at(Uo(),"useLocation() may be used only in the context of a <Router> component."),V.useContext(xu).location}var IT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function xT(i){V.useContext(ri).static||V.useLayoutEffect(i)}function pa(){let{isDataRoute:i}=V.useContext(ai);return i?hR():JS()}function JS(){at(Uo(),"useNavigate() may be used only in the context of a <Router> component.");let i=V.useContext(Lo),{basename:e,navigator:t}=V.useContext(ri),{matches:r}=V.useContext(ai),{pathname:o}=Pi(),u=JSON.stringify(Hp(r)),h=V.useRef(!1);return xT(()=>{h.current=!0}),V.useCallback((p,g={})=>{if(Gn(h.current,IT),!h.current)return;if(typeof p=="number"){t.go(p);return}let _=Gp(p,JSON.parse(u),o,g.relative==="path");i==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:hs([e,_.pathname])),(g.replace?t.replace:t.push)(_,g.state,g)},[e,t,u,o,i])}V.createContext(null);function CT(){let{matches:i}=V.useContext(ai),e=i[i.length-1];return e?e.params:{}}function Cu(i,{relative:e}={}){let{matches:t}=V.useContext(ai),{pathname:r}=Pi(),o=JSON.stringify(Hp(t));return V.useMemo(()=>Gp(i,JSON.parse(o),r,e==="path"),[i,o,r,e])}function eR(i,e){return NT(i,e)}function NT(i,e,t,r){at(Uo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=V.useContext(ri),{matches:u}=V.useContext(ai),h=u[u.length-1],d=h?h.params:{},p=h?h.pathname:"/",g=h?h.pathnameBase:"/",_=h&&h.route;{let M=_&&_.path||"";DT(p,!_||M.endsWith("*")||M.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${M}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${M}"> to <Route path="${M==="/"?"*":`${M}/*`}">.`)}let A=Pi(),w;if(e){let M=typeof e=="string"?jo(e):e;at(g==="/"||M.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${M.pathname}" was given in the \`location\` prop.`),w=M}else w=A;let I=w.pathname||"/",x=I;if(g!=="/"){let M=g.replace(/^\//,"").split("/");x="/"+I.replace(/^\//,"").split("/").slice(M.length).join("/")}let z=wT(i,{pathname:x});Gn(_||z!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),Gn(z==null||z[z.length-1].route.element!==void 0||z[z.length-1].route.Component!==void 0||z[z.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let P=rR(z&&z.map(M=>Object.assign({},M,{params:Object.assign({},d,M.params),pathname:hs([g,o.encodeLocation?o.encodeLocation(M.pathname).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?g:hs([g,o.encodeLocation?o.encodeLocation(M.pathnameBase).pathname:M.pathnameBase])})),u,t,r);return e&&P?V.createElement(xu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},P):P}function tR(){let i=cR(),e=KS(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),t=i instanceof Error?i.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},u={padding:"2px 4px",backgroundColor:r},h=null;return console.error("Error handled by React Router default ErrorBoundary:",i),h=V.createElement(V.Fragment,null,V.createElement("p",null," Hey developer "),V.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",V.createElement("code",{style:u},"ErrorBoundary")," or"," ",V.createElement("code",{style:u},"errorElement")," prop on your route.")),V.createElement(V.Fragment,null,V.createElement("h2",null,"Unexpected Application Error!"),V.createElement("h3",{style:{fontStyle:"italic"}},e),t?V.createElement("pre",{style:o},t):null,h)}var nR=V.createElement(tR,null),iR=class extends V.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?V.createElement(ai.Provider,{value:this.props.routeContext},V.createElement($p.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function sR({routeContext:i,match:e,children:t}){let r=V.useContext(Lo);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),V.createElement(ai.Provider,{value:i},t)}function rR(i,e=[],t=null,r=null){if(i==null){if(!t)return null;if(t.errors)i=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)i=t.matches;else return null}let o=i,u=t?.errors;if(u!=null){let p=o.findIndex(g=>g.route.id&&u?.[g.route.id]!==void 0);at(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let h=!1,d=-1;if(t)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(d=p),g.route.id){let{loaderData:_,errors:A}=t,w=g.route.loader&&!_.hasOwnProperty(g.route.id)&&(!A||A[g.route.id]===void 0);if(g.route.lazy||w){h=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((p,g,_)=>{let A,w=!1,I=null,x=null;t&&(A=u&&g.route.id?u[g.route.id]:void 0,I=g.route.errorElement||nR,h&&(d<0&&_===0?(DT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,x=null):d===_&&(w=!0,x=g.route.hydrateFallbackElement||null)));let z=e.concat(o.slice(0,_+1)),P=()=>{let M;return A?M=I:w?M=x:g.route.Component?M=V.createElement(g.route.Component,null):g.route.element?M=g.route.element:M=p,V.createElement(sR,{match:g,routeContext:{outlet:p,matches:z,isDataRoute:t!=null},children:M})};return t&&(g.route.ErrorBoundary||g.route.errorElement||_===0)?V.createElement(iR,{location:t.location,revalidation:t.revalidation,component:I,error:A,children:P(),routeContext:{outlet:null,matches:z,isDataRoute:!0}}):P()},null)}function Qp(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function aR(i){let e=V.useContext(Lo);return at(e,Qp(i)),e}function oR(i){let e=V.useContext(of);return at(e,Qp(i)),e}function lR(i){let e=V.useContext(ai);return at(e,Qp(i)),e}function Kp(i){let e=lR(i),t=e.matches[e.matches.length-1];return at(t.route.id,`${i} can only be used on routes that contain a unique "id"`),t.route.id}function uR(){return Kp("useRouteId")}function cR(){let i=V.useContext($p),e=oR("useRouteError"),t=Kp("useRouteError");return i!==void 0?i:e.errors?.[t]}function hR(){let{router:i}=aR("useNavigate"),e=Kp("useNavigate"),t=V.useRef(!1);return xT(()=>{t.current=!0}),V.useCallback(async(o,u={})=>{Gn(t.current,IT),t.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var R0={};function DT(i,e,t){!e&&!R0[i]&&(R0[i]=!0,Gn(!1,t))}V.memo(fR);function fR({routes:i,future:e,state:t}){return NT(i,void 0,t,e)}function OT({to:i,replace:e,state:t,relative:r}){at(Uo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=V.useContext(ri);Gn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=V.useContext(ai),{pathname:h}=Pi(),d=pa(),p=Gp(i,Hp(u),h,r==="path"),g=JSON.stringify(p);return V.useEffect(()=>{d(JSON.parse(g),{replace:e,state:t,relative:r})},[d,g,r,e,t]),null}function bi(i){at(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function dR({basename:i="/",children:e=null,location:t,navigationType:r="POP",navigator:o,static:u=!1}){at(!Uo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=i.replace(/^\/*/,"/"),d=V.useMemo(()=>({basename:h,navigator:o,static:u,future:{}}),[h,o,u]);typeof t=="string"&&(t=jo(t));let{pathname:p="/",search:g="",hash:_="",state:A=null,key:w="default"}=t,I=V.useMemo(()=>{let x=ms(p,h);return x==null?null:{location:{pathname:x,search:g,hash:_,state:A,key:w},navigationType:r}},[h,p,g,_,A,w,r]);return Gn(I!=null,`<Router basename="${h}"> is not able to match the URL "${p}${g}${_}" because it does not start with the basename, so the <Router> won't render anything.`),I==null?null:V.createElement(ri.Provider,{value:d},V.createElement(xu.Provider,{children:e,value:I}))}function mR({children:i,location:e}){return eR(mp(i),e)}function mp(i,e=[]){let t=[];return V.Children.forEach(i,(r,o)=>{if(!V.isValidElement(r))return;let u=[...e,o];if(r.type===V.Fragment){t.push.apply(t,mp(r.props.children,u));return}at(r.type===bi,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),at(!r.props.index||!r.props.children,"An index route cannot have child routes.");let h={id:r.props.id||u.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(h.children=mp(r.props.children,u)),t.push(h)}),t}var Eh="get",Th="application/x-www-form-urlencoded";function lf(i){return i!=null&&typeof i.tagName=="string"}function pR(i){return lf(i)&&i.tagName.toLowerCase()==="button"}function gR(i){return lf(i)&&i.tagName.toLowerCase()==="form"}function yR(i){return lf(i)&&i.tagName.toLowerCase()==="input"}function vR(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function _R(i,e){return i.button===0&&(!e||e==="_self")&&!vR(i)}function pp(i=""){return new URLSearchParams(typeof i=="string"||Array.isArray(i)||i instanceof URLSearchParams?i:Object.keys(i).reduce((e,t)=>{let r=i[t];return e.concat(Array.isArray(r)?r.map(o=>[t,o]):[[t,r]])},[]))}function ER(i,e){let t=pp(i);return e&&e.forEach((r,o)=>{t.has(o)||e.getAll(o).forEach(u=>{t.append(o,u)})}),t}var hh=null;function TR(){if(hh===null)try{new FormData(document.createElement("form"),0),hh=!1}catch{hh=!0}return hh}var wR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Xm(i){return i!=null&&!wR.has(i)?(Gn(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Th}"`),null):i}function AR(i,e){let t,r,o,u,h;if(gR(i)){let d=i.getAttribute("action");r=d?ms(d,e):null,t=i.getAttribute("method")||Eh,o=Xm(i.getAttribute("enctype"))||Th,u=new FormData(i)}else if(pR(i)||yR(i)&&(i.type==="submit"||i.type==="image")){let d=i.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||d.getAttribute("action");if(r=p?ms(p,e):null,t=i.getAttribute("formmethod")||d.getAttribute("method")||Eh,o=Xm(i.getAttribute("formenctype"))||Xm(d.getAttribute("enctype"))||Th,u=new FormData(d,i),!TR()){let{name:g,type:_,value:A}=i;if(_==="image"){let w=g?`${g}.`:"";u.append(`${w}x`,"0"),u.append(`${w}y`,"0")}else g&&u.append(g,A)}}else{if(lf(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Eh,r=null,o=Th,h=i}return u&&o==="text/plain"&&(h=u,u=void 0),{action:r,method:t.toLowerCase(),encType:o,formData:u,body:h}}function Yp(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}async function bR(i,e){if(i.id in e)return e[i.id];try{let t=await import(i.module);return e[i.id]=t,t}catch(t){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function SR(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function RR(i,e,t){let r=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await bR(u,t);return h.links?h.links():[]}return[]}));return NR(r.flat(1).filter(SR).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function I0(i,e,t,r,o,u){let h=(p,g)=>t[g]?p.route.id!==t[g].route.id:!0,d=(p,g)=>t[g].pathname!==p.pathname||t[g].route.path?.endsWith("*")&&t[g].params["*"]!==p.params["*"];return u==="assets"?e.filter((p,g)=>h(p,g)||d(p,g)):u==="data"?e.filter((p,g)=>{let _=r.routes[p.route.id];if(!_||!_.hasLoader)return!1;if(h(p,g)||d(p,g))return!0;if(p.route.shouldRevalidate){let A=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function IR(i,e,{includeHydrateFallback:t}={}){return xR(i.map(r=>{let o=e.routes[r.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function xR(i){return[...new Set(i)]}function CR(i){let e={},t=Object.keys(i).sort();for(let r of t)e[r]=i[r];return e}function NR(i,e){let t=new Set;return new Set(e),i.reduce((r,o)=>{let u=JSON.stringify(CR(o));return t.has(u)||(t.add(u),r.push({key:u,link:o})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var DR=new Set([100,101,204,205]);function OR(i,e){let t=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return t.pathname==="/"?t.pathname="_root.data":e&&ms(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function MT(){let i=V.useContext(Lo);return Yp(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function MR(){let i=V.useContext(of);return Yp(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Xp=V.createContext(void 0);Xp.displayName="FrameworkContext";function kT(){let i=V.useContext(Xp);return Yp(i,"You must render this element inside a <HydratedRouter> element"),i}function kR(i,e){let t=V.useContext(Xp),[r,o]=V.useState(!1),[u,h]=V.useState(!1),{onFocus:d,onBlur:p,onMouseEnter:g,onMouseLeave:_,onTouchStart:A}=e,w=V.useRef(null);V.useEffect(()=>{if(i==="render"&&h(!0),i==="viewport"){let z=M=>{M.forEach(K=>{h(K.isIntersecting)})},P=new IntersectionObserver(z,{threshold:.5});return w.current&&P.observe(w.current),()=>{P.disconnect()}}},[i]),V.useEffect(()=>{if(r){let z=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(z)}}},[r]);let I=()=>{o(!0)},x=()=>{o(!1),h(!1)};return t?i!=="intent"?[u,w,{}]:[u,w,{onFocus:iu(d,I),onBlur:iu(p,x),onMouseEnter:iu(g,I),onMouseLeave:iu(_,x),onTouchStart:iu(A,I)}]:[!1,w,{}]}function iu(i,e){return t=>{i&&i(t),t.defaultPrevented||e(t)}}function PR({page:i,...e}){let{router:t}=MT(),r=V.useMemo(()=>wT(t.routes,i,t.basename),[t.routes,i,t.basename]);return r?V.createElement(jR,{page:i,matches:r,...e}):null}function VR(i){let{manifest:e,routeModules:t}=kT(),[r,o]=V.useState([]);return V.useEffect(()=>{let u=!1;return RR(i,e,t).then(h=>{u||o(h)}),()=>{u=!0}},[i,e,t]),r}function jR({page:i,matches:e,...t}){let r=Pi(),{manifest:o,routeModules:u}=kT(),{basename:h}=MT(),{loaderData:d,matches:p}=MR(),g=V.useMemo(()=>I0(i,e,p,o,r,"data"),[i,e,p,o,r]),_=V.useMemo(()=>I0(i,e,p,o,r,"assets"),[i,e,p,o,r]),A=V.useMemo(()=>{if(i===r.pathname+r.search+r.hash)return[];let x=new Set,z=!1;if(e.forEach(M=>{let K=o.routes[M.route.id];!K||!K.hasLoader||(!g.some(X=>X.route.id===M.route.id)&&M.route.id in d&&u[M.route.id]?.shouldRevalidate||K.hasClientLoader?z=!0:x.add(M.route.id))}),x.size===0)return[];let P=OR(i,h);return z&&x.size>0&&P.searchParams.set("_routes",e.filter(M=>x.has(M.route.id)).map(M=>M.route.id).join(",")),[P.pathname+P.search]},[h,d,r,o,g,e,i,u]),w=V.useMemo(()=>IR(_,o),[_,o]),I=VR(_);return V.createElement(V.Fragment,null,A.map(x=>V.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...t})),w.map(x=>V.createElement("link",{key:x,rel:"modulepreload",href:x,...t})),I.map(({key:x,link:z})=>V.createElement("link",{key:x,...z})))}function LR(...i){return e=>{i.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var PT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{PT&&(window.__reactRouterVersion="7.6.3")}catch{}function UR({basename:i,children:e,window:t}){let r=V.useRef();r.current==null&&(r.current=SS({window:t,v5Compat:!0}));let o=r.current,[u,h]=V.useState({action:o.action,location:o.location}),d=V.useCallback(p=>{V.startTransition(()=>h(p))},[h]);return V.useLayoutEffect(()=>o.listen(d),[o,d]),V.createElement(dR,{basename:i,children:e,location:u.location,navigationType:u.action,navigator:o})}var VT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,fn=V.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:o,reloadDocument:u,replace:h,state:d,target:p,to:g,preventScrollReset:_,viewTransition:A,...w},I){let{basename:x}=V.useContext(ri),z=typeof g=="string"&&VT.test(g),P,M=!1;if(typeof g=="string"&&z&&(P=g,PT))try{let C=new URL(window.location.href),k=g.startsWith("//")?new URL(C.protocol+g):new URL(g),U=ms(k.pathname,x);k.origin===C.origin&&U!=null?g=U+k.search+k.hash:M=!0}catch{Gn(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let K=ZS(g,{relative:o}),[X,se,re]=kR(r,w),fe=FR(g,{replace:h,state:d,target:p,preventScrollReset:_,relative:o,viewTransition:A});function N(C){e&&e(C),C.defaultPrevented||fe(C)}let R=V.createElement("a",{...w,...re,href:P||K,onClick:M||u?e:N,ref:LR(I,se),target:p,"data-discover":!z&&t==="render"?"true":void 0});return X&&!z?V.createElement(V.Fragment,null,R,V.createElement(PR,{page:K})):R});fn.displayName="Link";var BR=V.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:o=!1,style:u,to:h,viewTransition:d,children:p,...g},_){let A=Cu(h,{relative:g.relative}),w=Pi(),I=V.useContext(of),{navigator:x,basename:z}=V.useContext(ri),P=I!=null&&YR(A)&&d===!0,M=x.encodeLocation?x.encodeLocation(A).pathname:A.pathname,K=w.pathname,X=I&&I.navigation&&I.navigation.location?I.navigation.location.pathname:null;t||(K=K.toLowerCase(),X=X?X.toLowerCase():null,M=M.toLowerCase()),X&&z&&(X=ms(X,z)||X);const se=M!=="/"&&M.endsWith("/")?M.length-1:M.length;let re=K===M||!o&&K.startsWith(M)&&K.charAt(se)==="/",fe=X!=null&&(X===M||!o&&X.startsWith(M)&&X.charAt(M.length)==="/"),N={isActive:re,isPending:fe,isTransitioning:P},R=re?e:void 0,C;typeof r=="function"?C=r(N):C=[r,re?"active":null,fe?"pending":null,P?"transitioning":null].filter(Boolean).join(" ");let k=typeof u=="function"?u(N):u;return V.createElement(fn,{...g,"aria-current":R,className:C,ref:_,style:k,to:h,viewTransition:d},typeof p=="function"?p(N):p)});BR.displayName="NavLink";var zR=V.forwardRef(({discover:i="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:o,state:u,method:h=Eh,action:d,onSubmit:p,relative:g,preventScrollReset:_,viewTransition:A,...w},I)=>{let x=QR(),z=KR(d,{relative:g}),P=h.toLowerCase()==="get"?"get":"post",M=typeof d=="string"&&VT.test(d),K=X=>{if(p&&p(X),X.defaultPrevented)return;X.preventDefault();let se=X.nativeEvent.submitter,re=se?.getAttribute("formmethod")||h;x(se||X.currentTarget,{fetcherKey:e,method:re,navigate:t,replace:o,state:u,relative:g,preventScrollReset:_,viewTransition:A})};return V.createElement("form",{ref:I,method:P,action:z,onSubmit:r?p:K,...w,"data-discover":!M&&i==="render"?"true":void 0})});zR.displayName="Form";function qR(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function jT(i){let e=V.useContext(Lo);return at(e,qR(i)),e}function FR(i,{target:e,replace:t,state:r,preventScrollReset:o,relative:u,viewTransition:h}={}){let d=pa(),p=Pi(),g=Cu(i,{relative:u});return V.useCallback(_=>{if(_R(_,e)){_.preventDefault();let A=t!==void 0?t:yu(p)===yu(g);d(i,{replace:A,state:r,preventScrollReset:o,relative:u,viewTransition:h})}},[p,d,g,t,r,e,i,o,u,h])}function HR(i){Gn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=V.useRef(pp(i)),t=V.useRef(!1),r=Pi(),o=V.useMemo(()=>ER(r.search,t.current?null:e.current),[r.search]),u=pa(),h=V.useCallback((d,p)=>{const g=pp(typeof d=="function"?d(o):d);t.current=!0,u("?"+g,p)},[u,o]);return[o,h]}var GR=0,$R=()=>`__${String(++GR)}__`;function QR(){let{router:i}=jT("useSubmit"),{basename:e}=V.useContext(ri),t=uR();return V.useCallback(async(r,o={})=>{let{action:u,method:h,encType:d,formData:p,body:g}=AR(r,e);if(o.navigate===!1){let _=o.fetcherKey||$R();await i.fetch(_,t,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||d,flushSync:o.flushSync})}else await i.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,t])}function KR(i,{relative:e}={}){let{basename:t}=V.useContext(ri),r=V.useContext(ai);at(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),u={...Cu(i||".",{relative:e})},h=Pi();if(i==null){u.search=h.search;let d=new URLSearchParams(u.search),p=d.getAll("index");if(p.some(_=>_==="")){d.delete("index"),p.filter(A=>A).forEach(A=>d.append("index",A));let _=d.toString();u.search=_?`?${_}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(u.pathname=u.pathname==="/"?t:hs([t,u.pathname])),yu(u)}function YR(i,e={}){let t=V.useContext(RT);at(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=jT("useViewTransitionState"),o=Cu(i,{relative:e.relative});if(!t.isTransitioning)return!1;let u=ms(t.currentLocation.pathname,r)||t.currentLocation.pathname,h=ms(t.nextLocation.pathname,r)||t.nextLocation.pathname;return Mh(o.pathname,h)!=null||Mh(o.pathname,u)!=null}[...DR];const XR=()=>{};var x0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LT=function(i){const e=[];let t=0;for(let r=0;r<i.length;r++){let o=i.charCodeAt(r);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&r+1<i.length&&(i.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++r)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},WR=function(i){const e=[];let t=0,r=0;for(;t<i.length;){const o=i[t++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[t++];e[r++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[t++],h=i[t++],d=i[t++],p=((o&7)<<18|(u&63)<<12|(h&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(p>>10)),e[r++]=String.fromCharCode(56320+(p&1023))}else{const u=i[t++],h=i[t++];e[r++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},UT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<i.length;o+=3){const u=i[o],h=o+1<i.length,d=h?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,_=u>>2,A=(u&3)<<4|d>>4;let w=(d&15)<<2|g>>6,I=g&63;p||(I=64,h||(w=64)),r.push(t[_],t[A],t[w],t[I])}return r.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(LT(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):WR(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<i.length;){const u=t[i.charAt(o++)],d=o<i.length?t[i.charAt(o)]:0;++o;const g=o<i.length?t[i.charAt(o)]:64;++o;const A=o<i.length?t[i.charAt(o)]:64;if(++o,u==null||d==null||g==null||A==null)throw new ZR;const w=u<<2|d>>4;if(r.push(w),g!==64){const I=d<<4&240|g>>2;if(r.push(I),A!==64){const x=g<<6&192|A;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class ZR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const JR=function(i){const e=LT(i);return UT.encodeByteArray(e,!0)},kh=function(i){return JR(i).replace(/\./g,"")},BT=function(i){try{return UT.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t2=()=>e2().__FIREBASE_DEFAULTS__,n2=()=>{if(typeof process>"u"||typeof x0>"u")return;const i=x0.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},i2=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&BT(i[1]);return e&&JSON.parse(e)},uf=()=>{try{return XR()||t2()||n2()||i2()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},zT=i=>{var e,t;return(t=(e=uf())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[i]},qT=i=>{const e=zT(i);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},FT=()=>{var i;return(i=uf())===null||i===void 0?void 0:i.config},HT=i=>{var e;return(e=uf())===null||e===void 0?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ga(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Wp(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GT(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[kh(JSON.stringify(t)),kh(JSON.stringify(h)),""].join(".")}const cu={};function r2(){const i={prod:[],emulator:[]};for(const e of Object.keys(cu))cu[e]?i.emulator.push(e):i.prod.push(e);return i}function a2(i){let e=document.getElementById(i),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),t=!0),{created:t,element:e}}let C0=!1;function Zp(i,e){if(typeof window>"u"||typeof document>"u"||!ga(window.location.host)||cu[i]===e||cu[i]||C0)return;cu[i]=e;function t(w){return`__firebase__banner__${w}`}const r="__firebase__banner",u=r2().prod.length>0;function h(){const w=document.getElementById(r);w&&w.remove()}function d(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function p(w,I){w.setAttribute("width","24"),w.setAttribute("id",I),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function g(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{C0=!0,h()},w}function _(w,I){w.setAttribute("id",I),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function A(){const w=a2(r),I=t("text"),x=document.getElementById(I)||document.createElement("span"),z=t("learnmore"),P=document.getElementById(z)||document.createElement("a"),M=t("preprendIcon"),K=document.getElementById(M)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const X=w.element;d(X),_(P,z);const se=g();p(K,M),X.append(K,x,P,se),document.body.appendChild(X)}u?(x.innerText="Preview backend disconnected.",K.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(K.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",I)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function en(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function o2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(en())}function l2(){var i;const e=(i=uf())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function u2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function $T(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function c2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function h2(){const i=en();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function f2(){return!l2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function QT(){try{return typeof indexedDB=="object"}catch{return!1}}function KT(){return new Promise((i,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(r),i(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(t){e(t)}})}function d2(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m2="FirebaseError";class Qn extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=m2,Object.setPrototypeOf(this,Qn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ya.prototype.create)}}class ya{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?p2(u,r):"Error",d=`${this.serviceName}: ${h} (${o}).`;return new Qn(o,d,r)}}function p2(i,e){return i.replace(g2,(t,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const g2=/\{\$([^}]+)}/g;function y2(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function Oi(i,e){if(i===e)return!0;const t=Object.keys(i),r=Object.keys(e);for(const o of t){if(!r.includes(o))return!1;const u=i[o],h=e[o];if(N0(u)&&N0(h)){if(!Oi(u,h))return!1}else if(u!==h)return!1}for(const o of r)if(!t.includes(o))return!1;return!0}function N0(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nu(i){const e=[];for(const[t,r]of Object.entries(i))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function su(i){const e={};return i.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,u]=r.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function ru(i){const e=i.indexOf("?");if(!e)return"";const t=i.indexOf("#",e);return i.substring(e,t>0?t:void 0)}function v2(i,e){const t=new _2(i,e);return t.subscribe.bind(t)}class _2{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let o;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");E2(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:r},o.next===void 0&&(o.next=Wm),o.error===void 0&&(o.error=Wm),o.complete===void 0&&(o.complete=Wm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function E2(i,e){if(typeof i!="object"||i===null)return!1;for(const t of e)if(t in i&&typeof i[t]=="function")return!0;return!1}function Wm(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T2=1e3,w2=2,A2=4*60*60*1e3,b2=.5;function D0(i,e=T2,t=w2){const r=e*Math.pow(t,i),o=Math.round(b2*r*(Math.random()-.5)*2);return Math.min(A2,r+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lt(i){return i&&i._delegate?i._delegate:i}class $n{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S2{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new s2;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e?.identifier),o=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(I2(e))try{this.getOrInitializeService({instanceIdentifier:sa})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const u=this.getOrInitializeService({instanceIdentifier:o});r.resolve(u)}catch{}}}}clearInstance(e=sa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=sa){return this.instances.has(e)}getOptions(e=sa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[u,h]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(u);r===d&&h.resolve(o)}return o}onInit(e,t){var r;const o=this.normalizeInstanceIdentifier(t),u=(r=this.onInitCallbacks.get(o))!==null&&r!==void 0?r:new Set;u.add(e),this.onInitCallbacks.set(o,u);const h=this.instances.get(o);return h&&e(h,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const o of r)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:R2(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=sa){return this.component?this.component.multipleInstances?e:sa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function R2(i){return i===sa?void 0:i}function I2(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new S2(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Me;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Me||(Me={}));const C2={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},N2=Me.INFO,D2={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},O2=(i,e,...t)=>{if(e<i.logLevel)return;const r=new Date().toISOString(),o=D2[e];if(o)console[o](`[${r}]  ${i.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class cf{constructor(e){this.name=e,this._logLevel=N2,this._logHandler=O2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?C2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const M2=(i,e)=>e.some(t=>i instanceof t);let O0,M0;function k2(){return O0||(O0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function P2(){return M0||(M0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const YT=new WeakMap,gp=new WeakMap,XT=new WeakMap,Zm=new WeakMap,Jp=new WeakMap;function V2(i){const e=new Promise((t,r)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",h)},u=()=>{t(sr(i.result)),o()},h=()=>{r(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&YT.set(t,i)}).catch(()=>{}),Jp.set(e,i),e}function j2(i){if(gp.has(i))return;const e=new Promise((t,r)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",h),i.removeEventListener("abort",h)},u=()=>{t(),o()},h=()=>{r(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",h),i.addEventListener("abort",h)});gp.set(i,e)}let yp={get(i,e,t){if(i instanceof IDBTransaction){if(e==="done")return gp.get(i);if(e==="objectStoreNames")return i.objectStoreNames||XT.get(i);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return sr(i[e])},set(i,e,t){return i[e]=t,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function L2(i){yp=i(yp)}function U2(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=i.call(Jm(this),e,...t);return XT.set(r,e.sort?e.sort():[e]),sr(r)}:P2().includes(i)?function(...e){return i.apply(Jm(this),e),sr(YT.get(this))}:function(...e){return sr(i.apply(Jm(this),e))}}function B2(i){return typeof i=="function"?U2(i):(i instanceof IDBTransaction&&j2(i),M2(i,k2())?new Proxy(i,yp):i)}function sr(i){if(i instanceof IDBRequest)return V2(i);if(Zm.has(i))return Zm.get(i);const e=B2(i);return e!==i&&(Zm.set(i,e),Jp.set(e,i)),e}const Jm=i=>Jp.get(i);function WT(i,e,{blocked:t,upgrade:r,blocking:o,terminated:u}={}){const h=indexedDB.open(i,e),d=sr(h);return r&&h.addEventListener("upgradeneeded",p=>{r(sr(h.result),p.oldVersion,p.newVersion,sr(h.transaction),p)}),t&&h.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),d.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const z2=["get","getKey","getAll","getAllKeys","count"],q2=["put","add","delete","clear"],ep=new Map;function k0(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(ep.get(e))return ep.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,o=q2.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(o||z2.includes(t)))return;const u=async function(h,...d){const p=this.transaction(h,o?"readwrite":"readonly");let g=p.store;return r&&(g=g.index(d.shift())),(await Promise.all([g[t](...d),o&&p.done]))[0]};return ep.set(e,u),u}L2(i=>({...i,get:(e,t,r)=>k0(e,t)||i.get(e,t,r),has:(e,t)=>!!k0(e,t)||i.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(H2(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function H2(i){const e=i.getComponent();return e?.type==="VERSION"}const vp="@firebase/app",P0="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ps=new cf("@firebase/app"),G2="@firebase/app-compat",$2="@firebase/analytics-compat",Q2="@firebase/analytics",K2="@firebase/app-check-compat",Y2="@firebase/app-check",X2="@firebase/auth",W2="@firebase/auth-compat",Z2="@firebase/database",J2="@firebase/data-connect",eI="@firebase/database-compat",tI="@firebase/functions",nI="@firebase/functions-compat",iI="@firebase/installations",sI="@firebase/installations-compat",rI="@firebase/messaging",aI="@firebase/messaging-compat",oI="@firebase/performance",lI="@firebase/performance-compat",uI="@firebase/remote-config",cI="@firebase/remote-config-compat",hI="@firebase/storage",fI="@firebase/storage-compat",dI="@firebase/firestore",mI="@firebase/ai",pI="@firebase/firestore-compat",gI="firebase",yI="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _p="[DEFAULT]",vI={[vp]:"fire-core",[G2]:"fire-core-compat",[Q2]:"fire-analytics",[$2]:"fire-analytics-compat",[Y2]:"fire-app-check",[K2]:"fire-app-check-compat",[X2]:"fire-auth",[W2]:"fire-auth-compat",[Z2]:"fire-rtdb",[J2]:"fire-data-connect",[eI]:"fire-rtdb-compat",[tI]:"fire-fn",[nI]:"fire-fn-compat",[iI]:"fire-iid",[sI]:"fire-iid-compat",[rI]:"fire-fcm",[aI]:"fire-fcm-compat",[oI]:"fire-perf",[lI]:"fire-perf-compat",[uI]:"fire-rc",[cI]:"fire-rc-compat",[hI]:"fire-gcs",[fI]:"fire-gcs-compat",[dI]:"fire-fst",[pI]:"fire-fst-compat",[mI]:"fire-vertex","fire-js":"fire-js",[gI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ph=new Map,_I=new Map,Ep=new Map;function V0(i,e){try{i.container.addComponent(e)}catch(t){ps.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,t)}}function ni(i){const e=i.name;if(Ep.has(e))return ps.debug(`There were multiple attempts to register component ${e}.`),!1;Ep.set(e,i);for(const t of Ph.values())V0(t,i);for(const t of _I.values())V0(t,i);return!0}function gr(i,e){const t=i.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),i.container.getProvider(e)}function Rn(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},rr=new ya("app","Firebase",EI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new $n("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw rr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const va=yI;function ZT(i,e={}){let t=i;typeof e!="object"&&(e={name:e});const r=Object.assign({name:_p,automaticDataCollectionEnabled:!0},e),o=r.name;if(typeof o!="string"||!o)throw rr.create("bad-app-name",{appName:String(o)});if(t||(t=FT()),!t)throw rr.create("no-options");const u=Ph.get(o);if(u){if(Oi(t,u.options)&&Oi(r,u.config))return u;throw rr.create("duplicate-app",{appName:o})}const h=new x2(o);for(const p of Ep.values())h.addComponent(p);const d=new TI(t,r,h);return Ph.set(o,d),d}function hf(i=_p){const e=Ph.get(i);if(!e&&i===_p&&FT())return ZT();if(!e)throw rr.create("no-app",{appName:i});return e}function dn(i,e,t){var r;let o=(r=vI[i])!==null&&r!==void 0?r:i;t&&(o+=`-${t}`);const u=o.match(/\s|\//),h=e.match(/\s|\//);if(u||h){const d=[`Unable to register library "${o}" with version "${e}":`];u&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&h&&d.push("and"),h&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ps.warn(d.join(" "));return}ni(new $n(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wI="firebase-heartbeat-database",AI=1,vu="firebase-heartbeat-store";let tp=null;function JT(){return tp||(tp=WT(wI,AI,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(vu)}catch(t){console.warn(t)}}}}).catch(i=>{throw rr.create("idb-open",{originalErrorMessage:i.message})})),tp}async function bI(i){try{const t=(await JT()).transaction(vu),r=await t.objectStore(vu).get(ew(i));return await t.done,r}catch(e){if(e instanceof Qn)ps.warn(e.message);else{const t=rr.create("idb-get",{originalErrorMessage:e?.message});ps.warn(t.message)}}}async function j0(i,e){try{const r=(await JT()).transaction(vu,"readwrite");await r.objectStore(vu).put(e,ew(i)),await r.done}catch(t){if(t instanceof Qn)ps.warn(t.message);else{const r=rr.create("idb-set",{originalErrorMessage:t?.message});ps.warn(r.message)}}}function ew(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SI=1024,RI=30;class II{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new CI(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=L0();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>RI){const h=NI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ps.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=L0(),{heartbeatsToSend:r,unsentEntries:o}=xI(this._heartbeatsCache.heartbeats),u=kh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(t){return ps.warn(t),""}}}function L0(){return new Date().toISOString().substring(0,10)}function xI(i,e=SI){const t=[];let r=i.slice();for(const o of i){const u=t.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),U0(t)>e){u.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),U0(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class CI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return QT()?KT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await bI(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return j0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return j0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function U0(i){return kh(JSON.stringify({version:2,heartbeats:i})).length}function NI(i){if(i.length===0)return-1;let e=0,t=i[0].date;for(let r=1;r<i.length;r++)i[r].date<t&&(t=i[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DI(i){ni(new $n("platform-logger",e=>new F2(e),"PRIVATE")),ni(new $n("heartbeat",e=>new II(e),"PRIVATE")),dn(vp,P0,i),dn(vp,P0,"esm2017"),dn("fire-js","")}DI("");function eg(i,e){var t={};for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&e.indexOf(r)<0&&(t[r]=i[r]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(i);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(i,r[o])&&(t[r[o]]=i[r[o]]);return t}function tw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const OI=tw,nw=new ya("auth","Firebase",tw());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vh=new cf("@firebase/auth");function MI(i,...e){Vh.logLevel<=Me.WARN&&Vh.warn(`Auth (${va}): ${i}`,...e)}function wh(i,...e){Vh.logLevel<=Me.ERROR&&Vh.error(`Auth (${va}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ii(i,...e){throw tg(i,...e)}function Ri(i,...e){return tg(i,...e)}function iw(i,e,t){const r=Object.assign(Object.assign({},OI()),{[e]:t});return new ya("auth","Firebase",r).create(e,{appName:i.name})}function fs(i){return iw(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function tg(i,...e){if(typeof i!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=i.name),i._errorFactory.create(t,...r)}return nw.create(i,...e)}function Ee(i,e,...t){if(!i)throw tg(e,...t)}function us(i){const e="INTERNAL ASSERTION FAILED: "+i;throw wh(e),new Error(e)}function gs(i,e){i||us(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tp(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function kI(){return B0()==="http:"||B0()==="https:"}function B0(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(kI()||$T()||"connection"in navigator)?navigator.onLine:!0}function VI(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du{constructor(e,t){this.shortDelay=e,this.longDelay=t,gs(t>e,"Short delay should be less than long delay!"),this.isMobile=o2()||c2()}get(){return PI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ng(i,e){gs(i.emulator,"Emulator should always be set here");const{url:t}=i.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;us("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;us("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;us("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],UI=new Du(3e4,6e4);function yr(i,e){return i.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:i.tenantId}):e}async function Ts(i,e,t,r,o={}){return rw(i,o,async()=>{let u={},h={};r&&(e==="GET"?h=r:u={body:JSON.stringify(r)});const d=Nu(Object.assign({key:i.config.apiKey},h)).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g=Object.assign({method:e,headers:p},u);return u2()||(g.referrerPolicy="no-referrer"),i.emulatorConfig&&ga(i.emulatorConfig.host)&&(g.credentials="include"),sw.fetch()(await aw(i,i.config.apiHost,t,d),g)})}async function rw(i,e,t){i._canInitEmulator=!1;const r=Object.assign(Object.assign({},jI),e);try{const o=new zI(i),u=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw fh(i,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const d=u.ok?h.errorMessage:h.error.message,[p,g]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw fh(i,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw fh(i,"email-already-in-use",h);if(p==="USER_DISABLED")throw fh(i,"user-disabled",h);const _=r[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw iw(i,_,g);ii(i,_)}}catch(o){if(o instanceof Qn)throw o;ii(i,"network-request-failed",{message:String(o)})}}async function Ou(i,e,t,r,o={}){const u=await Ts(i,e,t,r,o);return"mfaPendingCredential"in u&&ii(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function aw(i,e,t,r){const o=`${e}${t}?${r}`,u=i,h=u.config.emulator?ng(i.config,o):`${i.config.apiScheme}://${o}`;return LI.includes(t)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}function BI(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class zI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Ri(this.auth,"network-request-failed")),UI.get())})}}function fh(i,e,t){const r={appName:i.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const o=Ri(i,e,r);return o.customData._tokenResponse=t,o}function z0(i){return i!==void 0&&i.enterprise!==void 0}class qI{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return BI(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function FI(i,e){return Ts(i,"GET","/v2/recaptchaConfig",yr(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HI(i,e){return Ts(i,"POST","/v1/accounts:delete",e)}async function jh(i,e){return Ts(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hu(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function GI(i,e=!1){const t=lt(i),r=await t.getIdToken(e),o=ig(r);Ee(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u?.sign_in_provider;return{claims:o,token:r,authTime:hu(np(o.auth_time)),issuedAtTime:hu(np(o.iat)),expirationTime:hu(np(o.exp)),signInProvider:h||null,signInSecondFactor:u?.sign_in_second_factor||null}}function np(i){return Number(i)*1e3}function ig(i){const[e,t,r]=i.split(".");if(e===void 0||t===void 0||r===void 0)return wh("JWT malformed, contained fewer than 3 sections"),null;try{const o=BT(t);return o?JSON.parse(o):(wh("Failed to decode base64 JWT payload"),null)}catch(o){return wh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function q0(i){const e=ig(i);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xo(i,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Qn&&$I(r)&&i.auth.currentUser===i&&await i.auth.signOut(),r}}function $I({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=hu(this.lastLoginAt),this.creationTime=hu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lh(i){var e;const t=i.auth,r=await i.getIdToken(),o=await xo(i,jh(t,{idToken:r}));Ee(o?.users.length,t,"internal-error");const u=o.users[0];i._notifyReloadListener(u);const h=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?ow(u.providerUserInfo):[],d=YI(i.providerData,h),p=i.isAnonymous,g=!(i.email&&u.passwordHash)&&!d?.length,_=p?g:!1,A={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:d,metadata:new wp(u.createdAt,u.lastLoginAt),isAnonymous:_};Object.assign(i,A)}async function KI(i){const e=lt(i);await Lh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function YI(i,e){return[...i.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function ow(i){return i.map(e=>{var{providerId:t}=e,r=eg(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XI(i,e){const t=await rw(i,{},async()=>{const r=Nu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,h=await aw(i,o,"/v1/token",`key=${u}`),d=await i._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:d,body:r};return i.emulatorConfig&&ga(i.emulatorConfig.host)&&(p.credentials="include"),sw.fetch()(h,p)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function WI(i,e){return Ts(i,"POST","/v2/accounts:revokeToken",yr(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):q0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const t=q0(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:o,expiresIn:u}=await XI(e,t);this.updateTokensAndExpiration(r,o,Number(u))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:o,expirationTime:u}=t,h=new Ao;return r&&(Ee(typeof r=="string","internal-error",{appName:e}),h.refreshToken=r),o&&(Ee(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(Ee(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ao,this.toJSON())}_performRefresh(){return us("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zs(i,e){Ee(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class ei{constructor(e){var{uid:t,auth:r,stsTokenManager:o}=e,u=eg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new QI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new wp(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const t=await xo(this,this.stsTokenManager.getToken(this.auth,e));return Ee(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return GI(this,e)}reload(){return KI(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ei(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Lh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Rn(this.auth.app))return Promise.reject(fs(this.auth));const e=await this.getIdToken();return await xo(this,HI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,o,u,h,d,p,g,_;const A=(r=t.displayName)!==null&&r!==void 0?r:void 0,w=(o=t.email)!==null&&o!==void 0?o:void 0,I=(u=t.phoneNumber)!==null&&u!==void 0?u:void 0,x=(h=t.photoURL)!==null&&h!==void 0?h:void 0,z=(d=t.tenantId)!==null&&d!==void 0?d:void 0,P=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,M=(g=t.createdAt)!==null&&g!==void 0?g:void 0,K=(_=t.lastLoginAt)!==null&&_!==void 0?_:void 0,{uid:X,emailVerified:se,isAnonymous:re,providerData:fe,stsTokenManager:N}=t;Ee(X&&N,e,"internal-error");const R=Ao.fromJSON(this.name,N);Ee(typeof X=="string",e,"internal-error"),Zs(A,e.name),Zs(w,e.name),Ee(typeof se=="boolean",e,"internal-error"),Ee(typeof re=="boolean",e,"internal-error"),Zs(I,e.name),Zs(x,e.name),Zs(z,e.name),Zs(P,e.name),Zs(M,e.name),Zs(K,e.name);const C=new ei({uid:X,auth:e,email:w,emailVerified:se,displayName:A,isAnonymous:re,photoURL:x,phoneNumber:I,tenantId:z,stsTokenManager:R,createdAt:M,lastLoginAt:K});return fe&&Array.isArray(fe)&&(C.providerData=fe.map(k=>Object.assign({},k))),P&&(C._redirectEventId=P),C}static async _fromIdTokenResponse(e,t,r=!1){const o=new Ao;o.updateFromServerResponse(t);const u=new ei({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await Lh(u),u}static async _fromGetAccountInfoResponse(e,t,r){const o=t.users[0];Ee(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?ow(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!u?.length,d=new Ao;d.updateFromIdToken(r);const p=new ei({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:h}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new wp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F0=new Map;function cs(i){gs(i instanceof Function,"Expected a class definition");let e=F0.get(i);return e?(gs(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,F0.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}lw.type="NONE";const H0=lw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ah(i,e,t){return`firebase:${i}:${e}:${t}`}class bo{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:o,name:u}=this.auth;this.fullUserKey=Ah(this.userKey,o.apiKey,u),this.fullPersistenceKey=Ah("persistence",o.apiKey,u),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await jh(this.auth,{idToken:e}).catch(()=>{});return t?ei._fromGetAccountInfoResponse(this.auth,t,e):null}return ei._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new bo(cs(H0),e,r);const o=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||cs(H0);const h=Ah(r,e.config.apiKey,e.name);let d=null;for(const g of t)try{const _=await g._get(h);if(_){let A;if(typeof _=="string"){const w=await jh(e,{idToken:_}).catch(()=>{});if(!w)break;A=await ei._fromGetAccountInfoResponse(e,w,_)}else A=ei._fromJSON(e,_);g!==u&&(d=A),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new bo(u,e,r):(u=p[0],d&&await u._set(h,d.toJSON()),await Promise.all(t.map(async g=>{if(g!==u)try{await g._remove(h)}catch{}})),new bo(u,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G0(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(fw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(uw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(mw(e))return"Blackberry";if(pw(e))return"Webos";if(cw(e))return"Safari";if((e.includes("chrome/")||hw(e))&&!e.includes("edge/"))return"Chrome";if(dw(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=i.match(t);if(r?.length===2)return r[1]}return"Other"}function uw(i=en()){return/firefox\//i.test(i)}function cw(i=en()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function hw(i=en()){return/crios\//i.test(i)}function fw(i=en()){return/iemobile/i.test(i)}function dw(i=en()){return/android/i.test(i)}function mw(i=en()){return/blackberry/i.test(i)}function pw(i=en()){return/webos/i.test(i)}function sg(i=en()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function ZI(i=en()){var e;return sg(i)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function JI(){return h2()&&document.documentMode===10}function gw(i=en()){return sg(i)||dw(i)||pw(i)||mw(i)||/windows phone/i.test(i)||fw(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yw(i,e=[]){let t;switch(i){case"Browser":t=G0(en());break;case"Worker":t=`${G0(en())}-${i}`;break;default:t=i}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${va}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ex{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=u=>new Promise((h,d)=>{try{const p=e(u);h(p)}catch(p){d(p)}});r.onAbort=t,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tx(i,e={}){return Ts(i,"GET","/v2/passwordPolicy",yr(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nx=6;class ix{constructor(e){var t,r,o,u;const h=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=h.minPasswordLength)!==null&&t!==void 0?t:nx,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,o,u,h,d;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(r=p.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(h=p.containsNumericCharacter)!==null&&h!==void 0?h:!0),p.isValid&&(p.isValid=(d=p.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),p}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sx{constructor(e,t,r,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $0(this),this.idTokenSubscription=new $0(this),this.beforeStateQueue=new ex(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=nw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=cs(t)),this._initializationPromise=this.queue(async()=>{var r,o,u;if(!this._deleted&&(this.persistenceManager=await bo.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await jh(this,{idToken:e}),r=await ei._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Rn(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(d,d))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let o=r,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,d=o?._redirectEventId,p=await this.tryRedirectSignIn(e);(!h||h===d)&&p?.user&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(h){o=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Lh(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=VI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Rn(this.app))return Promise.reject(fs(this));const t=e?lt(e):null;return t&&Ee(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Rn(this.app)?Promise.reject(fs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Rn(this.app)?Promise.reject(fs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(cs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await tx(this),t=new ix(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ya("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await WI(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&cs(e)||this._popupRedirectResolver;Ee(t,this,"argument-error"),this.redirectPersistenceManager=await bo.create(this,[cs(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,o){if(this._deleted)return()=>{};const u=typeof t=="function"?t:t.next.bind(t);let h=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(d,this,"internal-error"),d.then(()=>{h||u(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,r,o);return()=>{h=!0,p()}}else{const p=e.addObserver(t);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=yw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;if(Rn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t?.error&&MI(`Error while retrieving App Check token: ${t.error}`),t?.token}}function _a(i){return lt(i)}class $0{constructor(e){this.auth=e,this.observer=null,this.addObserver=v2(t=>this.observer=t)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ff={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function rx(i){ff=i}function vw(i){return ff.loadJS(i)}function ax(){return ff.recaptchaEnterpriseScript}function ox(){return ff.gapiScript}function lx(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class ux{constructor(){this.enterprise=new cx}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class cx{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const hx="recaptcha-enterprise",_w="NO_RECAPTCHA";class fx{constructor(e){this.type=hx,this.auth=_a(e)}async verify(e="verify",t=!1){async function r(u){if(!t){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,d)=>{FI(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const g=new qI(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,h(g.siteKey)}}).catch(p=>{d(p)})})}function o(u,h,d){const p=window.grecaptcha;z0(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{h(g)}).catch(()=>{h(_w)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new ux().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{r(this.auth).then(d=>{if(!t&&z0(window.grecaptcha))o(d,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let p=ax();p.length!==0&&(p+=d),vw(p).then(()=>{o(d,u,h)}).catch(g=>{h(g)})}}).catch(d=>{h(d)})})}}async function Q0(i,e,t,r=!1,o=!1){const u=new fx(i);let h;if(o)h=_w;else try{h=await u.verify(t)}catch{h=await u.verify(t,!0)}const d=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const p=d.phoneEnrollmentInfo.phoneNumber,g=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const p=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return r?Object.assign(d,{captchaResp:h}):Object.assign(d,{captchaResponse:h}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function Ap(i,e,t,r,o){var u;if(!((u=i._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await Q0(i,e,t,t==="getOobCode");return r(i,h)}else return r(i,e).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await Q0(i,e,t,t==="getOobCode");return r(i,d)}else return Promise.reject(h)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dx(i,e){const t=gr(i,"auth");if(t.isInitialized()){const o=t.getImmediate(),u=t.getOptions();if(Oi(u,e??{}))return o;ii(o,"already-initialized")}return t.initialize({options:e})}function mx(i,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(cs);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(r,e?.popupRedirectResolver)}function px(i,e,t){const r=_a(i);Ee(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,u=Ew(e),{host:h,port:d}=gx(e),p=d===null?"":`:${d}`,g={url:`${u}//${h}${p}/`},_=Object.freeze({host:h,port:d,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){Ee(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ee(Oi(g,r.config.emulator)&&Oi(_,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=g,r.emulatorConfig=_,r.settings.appVerificationDisabledForTesting=!0,ga(h)?(Wp(`${u}//${h}${p}`),Zp("Auth",!0)):yx()}function Ew(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function gx(i){const e=Ew(i),t=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const u=o[1];return{host:u,port:K0(r.substr(u.length+1))}}else{const[u,h]=r.split(":");return{host:u,port:K0(h)}}}function K0(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function yx(){function i(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return us("not implemented")}_getIdTokenResponse(e){return us("not implemented")}_linkToIdToken(e,t){return us("not implemented")}_getReauthenticationResolver(e){return us("not implemented")}}async function vx(i,e){return Ts(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _x(i,e){return Ou(i,"POST","/v1/accounts:signInWithPassword",yr(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ex(i,e){return Ou(i,"POST","/v1/accounts:signInWithEmailLink",yr(i,e))}async function Tx(i,e){return Ou(i,"POST","/v1/accounts:signInWithEmailLink",yr(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u extends rg{constructor(e,t,r,o=null){super("password",r),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new _u(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new _u(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ap(e,t,"signInWithPassword",_x);case"emailLink":return Ex(e,{email:this._email,oobCode:this._password});default:ii(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ap(e,r,"signUpPassword",vx);case"emailLink":return Tx(e,{idToken:t,email:this._email,oobCode:this._password});default:ii(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function So(i,e){return Ou(i,"POST","/v1/accounts:signInWithIdp",yr(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wx="http://localhost";class ua extends rg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ua(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ii("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o}=t,u=eg(t,["providerId","signInMethod"]);if(!r||!o)return null;const h=new ua(r,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const t=this.buildRequest();return So(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,So(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,So(e,t)}buildRequest(){const e={requestUri:wx,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Nu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ax(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function bx(i){const e=su(ru(i)).link,t=e?su(ru(e)).deep_link_id:null,r=su(ru(i)).deep_link_id;return(r?su(ru(r)).link:null)||r||t||e||i}class ag{constructor(e){var t,r,o,u,h,d;const p=su(ru(e)),g=(t=p.apiKey)!==null&&t!==void 0?t:null,_=(r=p.oobCode)!==null&&r!==void 0?r:null,A=Ax((o=p.mode)!==null&&o!==void 0?o:null);Ee(g&&_&&A,"argument-error"),this.apiKey=g,this.operation=A,this.code=_,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(h=p.lang)!==null&&h!==void 0?h:null,this.tenantId=(d=p.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const t=bx(e);try{return new ag(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(){this.providerId=Bo.PROVIDER_ID}static credential(e,t){return _u._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=ag.parseLink(t);return Ee(r,"argument-error"),_u._fromEmailAndCode(e,r.code,r.tenantId)}}Bo.PROVIDER_ID="password";Bo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Bo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu extends Tw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js extends Mu{constructor(){super("facebook.com")}static credential(e){return ua._fromParams({providerId:Js.PROVIDER_ID,signInMethod:Js.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Js.credentialFromTaggedObject(e)}static credentialFromError(e){return Js.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Js.credential(e.oauthAccessToken)}catch{return null}}}Js.FACEBOOK_SIGN_IN_METHOD="facebook.com";Js.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er extends Mu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ua._fromParams({providerId:er.PROVIDER_ID,signInMethod:er.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return er.credentialFromTaggedObject(e)}static credentialFromError(e){return er.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return er.credential(t,r)}catch{return null}}}er.GOOGLE_SIGN_IN_METHOD="google.com";er.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr extends Mu{constructor(){super("github.com")}static credential(e){return ua._fromParams({providerId:tr.PROVIDER_ID,signInMethod:tr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return tr.credentialFromTaggedObject(e)}static credentialFromError(e){return tr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return tr.credential(e.oauthAccessToken)}catch{return null}}}tr.GITHUB_SIGN_IN_METHOD="github.com";tr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr extends Mu{constructor(){super("twitter.com")}static credential(e,t){return ua._fromParams({providerId:nr.PROVIDER_ID,signInMethod:nr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return nr.credentialFromTaggedObject(e)}static credentialFromError(e){return nr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return nr.credential(t,r)}catch{return null}}}nr.TWITTER_SIGN_IN_METHOD="twitter.com";nr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sx(i,e){return Ou(i,"POST","/v1/accounts:signUp",yr(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,o=!1){const u=await ei._fromIdTokenResponse(e,r,o),h=Y0(r);return new ca({user:u,providerId:h,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const o=Y0(r);return new ca({user:e,providerId:o,_tokenResponse:r,operationType:t})}}function Y0(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh extends Qn{constructor(e,t,r,o){var u;super(t.code,t.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,Uh.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,o){return new Uh(e,t,r,o)}}function ww(i,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(i):t._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Uh._fromErrorAndOperation(i,u,e,r):u})}async function Rx(i,e,t=!1){const r=await xo(i,e._linkToIdToken(i.auth,await i.getIdToken()),t);return ca._forOperation(i,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ix(i,e,t=!1){const{auth:r}=i;if(Rn(r.app))return Promise.reject(fs(r));const o="reauthenticate";try{const u=await xo(i,ww(r,o,e,i),t);Ee(u.idToken,r,"internal-error");const h=ig(u.idToken);Ee(h,r,"internal-error");const{sub:d}=h;return Ee(i.uid===d,r,"user-mismatch"),ca._forOperation(i,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&ii(r,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Aw(i,e,t=!1){if(Rn(i.app))return Promise.reject(fs(i));const r="signIn",o=await ww(i,r,e),u=await ca._fromIdTokenResponse(i,r,o);return t||await i._updateCurrentUser(u.user),u}async function xx(i,e){return Aw(_a(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bw(i){const e=_a(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Cx(i,e,t){if(Rn(i.app))return Promise.reject(fs(i));const r=_a(i),h=await Ap(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Sx).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&bw(i),p}),d=await ca._fromIdTokenResponse(r,"signIn",h);return await r._updateCurrentUser(d.user),d}function Nx(i,e,t){return Rn(i.app)?Promise.reject(fs(i)):xx(lt(i),Bo.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&bw(i),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dx(i,e){return Ts(i,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ox(i,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const r=lt(i),u={idToken:await r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},h=await xo(r,Dx(r.auth,u));r.displayName=h.displayName||null,r.photoURL=h.photoUrl||null;const d=r.providerData.find(({providerId:p})=>p==="password");d&&(d.displayName=r.displayName,d.photoURL=r.photoURL),await r._updateTokensIfNecessary(h)}function Mx(i,e,t,r){return lt(i).onIdTokenChanged(e,t,r)}function kx(i,e,t){return lt(i).beforeAuthStateChanged(e,t)}function Px(i,e,t,r){return lt(i).onAuthStateChanged(e,t,r)}function Vx(i){return lt(i).signOut()}const Bh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sw{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Bh,"1"),this.storage.removeItem(Bh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jx=1e3,Lx=10;class Rw extends Sw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=gw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),o=this.localCache[t];r!==o&&e(t,o,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((h,d,p)=>{this.notifyListeners(h,p)});return}const r=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(r);!t&&this.localCache[r]===h||this.notifyListeners(r,h)},u=this.storage.getItem(r);JI()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,Lx):o()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},jx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Rw.type="LOCAL";const Ux=Rw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw extends Sw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Iw.type="SESSION";const xw=Iw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bx(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const r=new df(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:o,data:u}=t.data,h=this.handlersMap[o];if(!h?.size)return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const d=Array.from(h).map(async g=>g(t.origin,u)),p=await Bx(d);t.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}df.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function og(i="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return i+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zx{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((d,p)=>{const g=og("",20);o.port1.start();const _=setTimeout(()=>{p(new Error("unsupported_event"))},r);h={messageChannel:o,onMessage(A){const w=A;if(w.data.eventId===g)switch(w.data.status){case"ack":clearTimeout(_),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),d(w.data.response);break;default:clearTimeout(_),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ii(){return window}function qx(i){Ii().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cw(){return typeof Ii().WorkerGlobalScope<"u"&&typeof Ii().importScripts=="function"}async function Fx(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Hx(){var i;return((i=navigator?.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function Gx(){return Cw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nw="firebaseLocalStorageDb",$x=1,zh="firebaseLocalStorage",Dw="fbase_key";class ku{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function mf(i,e){return i.transaction([zh],e?"readwrite":"readonly").objectStore(zh)}function Qx(){const i=indexedDB.deleteDatabase(Nw);return new ku(i).toPromise()}function bp(){const i=indexedDB.open(Nw,$x);return new Promise((e,t)=>{i.addEventListener("error",()=>{t(i.error)}),i.addEventListener("upgradeneeded",()=>{const r=i.result;try{r.createObjectStore(zh,{keyPath:Dw})}catch(o){t(o)}}),i.addEventListener("success",async()=>{const r=i.result;r.objectStoreNames.contains(zh)?e(r):(r.close(),await Qx(),e(await bp()))})})}async function X0(i,e,t){const r=mf(i,!0).put({[Dw]:e,value:t});return new ku(r).toPromise()}async function Kx(i,e){const t=mf(i,!1).get(e),r=await new ku(t).toPromise();return r===void 0?null:r.value}function W0(i,e){const t=mf(i,!0).delete(e);return new ku(t).toPromise()}const Yx=800,Xx=3;class Ow{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await bp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>Xx)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Cw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=df._getInstance(Gx()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await Fx(),!this.activeServiceWorker)return;this.sender=new zx(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Hx()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await bp();return await X0(e,Bh,"1"),await W0(e,Bh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>X0(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>Kx(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>W0(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=mf(o,!1).getAll();return new ku(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Yx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Ow.type="LOCAL";const Wx=Ow;new Du(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zx(i,e){return e?cs(e):(Ee(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg extends rg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return So(e,this._buildIdpRequest())}_linkToIdToken(e,t){return So(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return So(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Jx(i){return Aw(i.auth,new lg(i),i.bypassAuthState)}function eC(i){const{auth:e,user:t}=i;return Ee(t,e,"internal-error"),Ix(t,new lg(i),i.bypassAuthState)}async function tC(i){const{auth:e,user:t}=i;return Ee(t,e,"internal-error"),Rx(t,new lg(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mw{constructor(e,t,r,o,u=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:o,tenantId:u,error:h,type:d}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:t,sessionId:r,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Jx;case"linkViaPopup":case"linkViaRedirect":return tC;case"reauthViaPopup":case"reauthViaRedirect":return eC;default:ii(this.auth,"internal-error")}}resolve(e){gs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){gs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nC=new Du(2e3,1e4);class wo extends Mw{constructor(e,t,r,o,u){super(e,t,o,u),this.provider=r,this.authWindow=null,this.pollId=null,wo.currentPopupAction&&wo.currentPopupAction.cancel(),wo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){gs(this.filter.length===1,"Popup operations only handle one event");const e=og();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Ri(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ri(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,wo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ri(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,nC.get())};e()}}wo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iC="pendingRedirect",bh=new Map;class sC extends Mw{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=bh.get(this.auth._key());if(!e){try{const r=await rC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}bh.set(this.auth._key(),e)}return this.bypassAuthState||bh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function rC(i,e){const t=lC(e),r=oC(i);if(!await r._isAvailable())return!1;const o=await r._get(t)==="true";return await r._remove(t),o}function aC(i,e){bh.set(i._key(),e)}function oC(i){return cs(i._redirectPersistence)}function lC(i){return Ah(iC,i.config.apiKey,i.name)}async function uC(i,e,t=!1){if(Rn(i.app))return Promise.reject(fs(i));const r=_a(i),o=Zx(r,e),h=await new sC(r,o,t).execute();return h&&!t&&(delete h.user._redirectEventId,await r._persistUserIfCurrent(h.user),await r._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cC=10*60*1e3;class hC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!fC(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!kw(e)){const o=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Ri(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=cC&&this.cachedEventUids.clear(),this.cachedEventUids.has(Z0(e))}saveEventToCache(e){this.cachedEventUids.add(Z0(e)),this.lastProcessedEventTime=Date.now()}}function Z0(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function kw({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function fC(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return kw(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dC(i,e={}){return Ts(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,pC=/^https?/;async function gC(i){if(i.config.emulator)return;const{authorizedDomains:e}=await dC(i);for(const t of e)try{if(yC(t))return}catch{}ii(i,"unauthorized-domain")}function yC(i){const e=Tp(),{protocol:t,hostname:r}=new URL(e);if(i.startsWith("chrome-extension://")){const h=new URL(i);return h.hostname===""&&r===""?t==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&h.hostname===r}if(!pC.test(t))return!1;if(mC.test(i))return r===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vC=new Du(3e4,6e4);function J0(){const i=Ii().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let t=0;t<i.CP.length;t++)i.CP[t]=null}}function _C(i){return new Promise((e,t)=>{var r,o,u;function h(){J0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{J0(),t(Ri(i,"network-request-failed"))},timeout:vC.get()})}if(!((o=(r=Ii().gapi)===null||r===void 0?void 0:r.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=Ii().gapi)===null||u===void 0)&&u.load)h();else{const d=lx("iframefcb");return Ii()[d]=()=>{gapi.load?h():t(Ri(i,"network-request-failed"))},vw(`${ox()}?onload=${d}`).catch(p=>t(p))}}).catch(e=>{throw Sh=null,e})}let Sh=null;function EC(i){return Sh=Sh||_C(i),Sh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TC=new Du(5e3,15e3),wC="__/auth/iframe",AC="emulator/auth/iframe",bC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},SC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function RC(i){const e=i.config;Ee(e.authDomain,i,"auth-domain-config-required");const t=e.emulator?ng(e,AC):`https://${i.config.authDomain}/${wC}`,r={apiKey:e.apiKey,appName:i.name,v:va},o=SC.get(i.config.apiHost);o&&(r.eid=o);const u=i._getFrameworks();return u.length&&(r.fw=u.join(",")),`${t}?${Nu(r).slice(1)}`}async function IC(i){const e=await EC(i),t=Ii().gapi;return Ee(t,i,"internal-error"),e.open({where:document.body,url:RC(i),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:bC,dontclear:!0},r=>new Promise(async(o,u)=>{await r.restyle({setHideOnLeave:!1});const h=Ri(i,"network-request-failed"),d=Ii().setTimeout(()=>{u(h)},TC.get());function p(){Ii().clearTimeout(d),o(r)}r.ping(p).then(p,()=>{u(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},CC=500,NC=600,DC="_blank",OC="http://localhost";class eE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function MC(i,e,t,r=CC,o=NC){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const p=Object.assign(Object.assign({},xC),{width:r.toString(),height:o.toString(),top:u,left:h}),g=en().toLowerCase();t&&(d=hw(g)?DC:t),uw(g)&&(e=e||OC,p.scrollbars="yes");const _=Object.entries(p).reduce((w,[I,x])=>`${w}${I}=${x},`,"");if(ZI(g)&&d!=="_self")return kC(e||"",d),new eE(null);const A=window.open(e||"",d,_);Ee(A,i,"popup-blocked");try{A.focus()}catch{}return new eE(A)}function kC(i,e){const t=document.createElement("a");t.href=i,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PC="__/auth/handler",VC="emulator/auth/handler",jC=encodeURIComponent("fac");async function tE(i,e,t,r,o,u){Ee(i.config.authDomain,i,"auth-domain-config-required"),Ee(i.config.apiKey,i,"invalid-api-key");const h={apiKey:i.config.apiKey,appName:i.name,authType:t,redirectUrl:r,v:va,eventId:o};if(e instanceof Tw){e.setDefaultLanguage(i.languageCode),h.providerId=e.providerId||"",y2(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,A]of Object.entries({}))h[_]=A}if(e instanceof Mu){const _=e.getScopes().filter(A=>A!=="");_.length>0&&(h.scopes=_.join(","))}i.tenantId&&(h.tid=i.tenantId);const d=h;for(const _ of Object.keys(d))d[_]===void 0&&delete d[_];const p=await i._getAppCheckToken(),g=p?`#${jC}=${encodeURIComponent(p)}`:"";return`${LC(i)}?${Nu(d).slice(1)}${g}`}function LC({config:i}){return i.emulator?ng(i,VC):`https://${i.authDomain}/${PC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ip="webStorageSupport";class UC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=xw,this._completeRedirectFn=uC,this._overrideRedirectResult=aC}async _openPopup(e,t,r,o){var u;gs((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const h=await tE(e,t,r,Tp(),o);return MC(e,h,og())}async _openRedirect(e,t,r,o){await this._originValidation(e);const u=await tE(e,t,r,Tp(),o);return qx(u),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:u}=this.eventManagers[t];return o?Promise.resolve(o):(gs(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await IC(e),r=new hC(e);return t.register("authEvent",o=>(Ee(o?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(ip,{type:ip},o=>{var u;const h=(u=o?.[0])===null||u===void 0?void 0:u[ip];h!==void 0&&t(!!h),ii(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=gC(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return gw()||cw()||sg()}}const BC=UC;var nE="@firebase/auth",iE="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qC(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function FC(i){ni(new $n("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:d}=r.options;Ee(h&&!h.includes(":"),"invalid-api-key",{appName:r.name});const p={apiKey:h,authDomain:d,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:yw(i)},g=new sx(r,o,u,p);return mx(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),ni(new $n("auth-internal",e=>{const t=_a(e.getProvider("auth").getImmediate());return(r=>new zC(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),dn(nE,iE,qC(i)),dn(nE,iE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HC=5*60,GC=HT("authIdTokenMaxAge")||HC;let sE=null;const $C=i=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>GC)return;const o=t?.token;sE!==o&&(sE=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function QC(i=hf()){const e=gr(i,"auth");if(e.isInitialized())return e.getImmediate();const t=dx(i,{popupRedirectResolver:BC,persistence:[Wx,Ux,xw]}),r=HT("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const h=$C(u.toString());kx(t,h,()=>h(t.currentUser)),Mx(t,d=>h(d))}}const o=zT("auth");return o&&px(t,`http://${o}`),t}function KC(){var i,e;return(e=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&e!==void 0?e:document}rx({loadJS(i){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",i),r.onload=e,r.onerror=o=>{const u=Ri("internal-error");u.customData=o,t(u)},r.type="text/javascript",r.charset="UTF-8",KC().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});FC("Browser");var rE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ar,Pw;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,R){function C(){}C.prototype=R.prototype,N.D=R.prototype,N.prototype=new C,N.prototype.constructor=N,N.C=function(k,U,B){for(var O=Array(arguments.length-2),mt=2;mt<arguments.length;mt++)O[mt-2]=arguments[mt];return R.prototype[U].apply(k,O)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,R,C){C||(C=0);var k=Array(16);if(typeof R=="string")for(var U=0;16>U;++U)k[U]=R.charCodeAt(C++)|R.charCodeAt(C++)<<8|R.charCodeAt(C++)<<16|R.charCodeAt(C++)<<24;else for(U=0;16>U;++U)k[U]=R[C++]|R[C++]<<8|R[C++]<<16|R[C++]<<24;R=N.g[0],C=N.g[1],U=N.g[2];var B=N.g[3],O=R+(B^C&(U^B))+k[0]+3614090360&4294967295;R=C+(O<<7&4294967295|O>>>25),O=B+(U^R&(C^U))+k[1]+3905402710&4294967295,B=R+(O<<12&4294967295|O>>>20),O=U+(C^B&(R^C))+k[2]+606105819&4294967295,U=B+(O<<17&4294967295|O>>>15),O=C+(R^U&(B^R))+k[3]+3250441966&4294967295,C=U+(O<<22&4294967295|O>>>10),O=R+(B^C&(U^B))+k[4]+4118548399&4294967295,R=C+(O<<7&4294967295|O>>>25),O=B+(U^R&(C^U))+k[5]+1200080426&4294967295,B=R+(O<<12&4294967295|O>>>20),O=U+(C^B&(R^C))+k[6]+2821735955&4294967295,U=B+(O<<17&4294967295|O>>>15),O=C+(R^U&(B^R))+k[7]+4249261313&4294967295,C=U+(O<<22&4294967295|O>>>10),O=R+(B^C&(U^B))+k[8]+1770035416&4294967295,R=C+(O<<7&4294967295|O>>>25),O=B+(U^R&(C^U))+k[9]+2336552879&4294967295,B=R+(O<<12&4294967295|O>>>20),O=U+(C^B&(R^C))+k[10]+4294925233&4294967295,U=B+(O<<17&4294967295|O>>>15),O=C+(R^U&(B^R))+k[11]+2304563134&4294967295,C=U+(O<<22&4294967295|O>>>10),O=R+(B^C&(U^B))+k[12]+1804603682&4294967295,R=C+(O<<7&4294967295|O>>>25),O=B+(U^R&(C^U))+k[13]+4254626195&4294967295,B=R+(O<<12&4294967295|O>>>20),O=U+(C^B&(R^C))+k[14]+2792965006&4294967295,U=B+(O<<17&4294967295|O>>>15),O=C+(R^U&(B^R))+k[15]+1236535329&4294967295,C=U+(O<<22&4294967295|O>>>10),O=R+(U^B&(C^U))+k[1]+4129170786&4294967295,R=C+(O<<5&4294967295|O>>>27),O=B+(C^U&(R^C))+k[6]+3225465664&4294967295,B=R+(O<<9&4294967295|O>>>23),O=U+(R^C&(B^R))+k[11]+643717713&4294967295,U=B+(O<<14&4294967295|O>>>18),O=C+(B^R&(U^B))+k[0]+3921069994&4294967295,C=U+(O<<20&4294967295|O>>>12),O=R+(U^B&(C^U))+k[5]+3593408605&4294967295,R=C+(O<<5&4294967295|O>>>27),O=B+(C^U&(R^C))+k[10]+38016083&4294967295,B=R+(O<<9&4294967295|O>>>23),O=U+(R^C&(B^R))+k[15]+3634488961&4294967295,U=B+(O<<14&4294967295|O>>>18),O=C+(B^R&(U^B))+k[4]+3889429448&4294967295,C=U+(O<<20&4294967295|O>>>12),O=R+(U^B&(C^U))+k[9]+568446438&4294967295,R=C+(O<<5&4294967295|O>>>27),O=B+(C^U&(R^C))+k[14]+3275163606&4294967295,B=R+(O<<9&4294967295|O>>>23),O=U+(R^C&(B^R))+k[3]+4107603335&4294967295,U=B+(O<<14&4294967295|O>>>18),O=C+(B^R&(U^B))+k[8]+1163531501&4294967295,C=U+(O<<20&4294967295|O>>>12),O=R+(U^B&(C^U))+k[13]+2850285829&4294967295,R=C+(O<<5&4294967295|O>>>27),O=B+(C^U&(R^C))+k[2]+4243563512&4294967295,B=R+(O<<9&4294967295|O>>>23),O=U+(R^C&(B^R))+k[7]+1735328473&4294967295,U=B+(O<<14&4294967295|O>>>18),O=C+(B^R&(U^B))+k[12]+2368359562&4294967295,C=U+(O<<20&4294967295|O>>>12),O=R+(C^U^B)+k[5]+4294588738&4294967295,R=C+(O<<4&4294967295|O>>>28),O=B+(R^C^U)+k[8]+2272392833&4294967295,B=R+(O<<11&4294967295|O>>>21),O=U+(B^R^C)+k[11]+1839030562&4294967295,U=B+(O<<16&4294967295|O>>>16),O=C+(U^B^R)+k[14]+4259657740&4294967295,C=U+(O<<23&4294967295|O>>>9),O=R+(C^U^B)+k[1]+2763975236&4294967295,R=C+(O<<4&4294967295|O>>>28),O=B+(R^C^U)+k[4]+1272893353&4294967295,B=R+(O<<11&4294967295|O>>>21),O=U+(B^R^C)+k[7]+4139469664&4294967295,U=B+(O<<16&4294967295|O>>>16),O=C+(U^B^R)+k[10]+3200236656&4294967295,C=U+(O<<23&4294967295|O>>>9),O=R+(C^U^B)+k[13]+681279174&4294967295,R=C+(O<<4&4294967295|O>>>28),O=B+(R^C^U)+k[0]+3936430074&4294967295,B=R+(O<<11&4294967295|O>>>21),O=U+(B^R^C)+k[3]+3572445317&4294967295,U=B+(O<<16&4294967295|O>>>16),O=C+(U^B^R)+k[6]+76029189&4294967295,C=U+(O<<23&4294967295|O>>>9),O=R+(C^U^B)+k[9]+3654602809&4294967295,R=C+(O<<4&4294967295|O>>>28),O=B+(R^C^U)+k[12]+3873151461&4294967295,B=R+(O<<11&4294967295|O>>>21),O=U+(B^R^C)+k[15]+530742520&4294967295,U=B+(O<<16&4294967295|O>>>16),O=C+(U^B^R)+k[2]+3299628645&4294967295,C=U+(O<<23&4294967295|O>>>9),O=R+(U^(C|~B))+k[0]+4096336452&4294967295,R=C+(O<<6&4294967295|O>>>26),O=B+(C^(R|~U))+k[7]+1126891415&4294967295,B=R+(O<<10&4294967295|O>>>22),O=U+(R^(B|~C))+k[14]+2878612391&4294967295,U=B+(O<<15&4294967295|O>>>17),O=C+(B^(U|~R))+k[5]+4237533241&4294967295,C=U+(O<<21&4294967295|O>>>11),O=R+(U^(C|~B))+k[12]+1700485571&4294967295,R=C+(O<<6&4294967295|O>>>26),O=B+(C^(R|~U))+k[3]+2399980690&4294967295,B=R+(O<<10&4294967295|O>>>22),O=U+(R^(B|~C))+k[10]+4293915773&4294967295,U=B+(O<<15&4294967295|O>>>17),O=C+(B^(U|~R))+k[1]+2240044497&4294967295,C=U+(O<<21&4294967295|O>>>11),O=R+(U^(C|~B))+k[8]+1873313359&4294967295,R=C+(O<<6&4294967295|O>>>26),O=B+(C^(R|~U))+k[15]+4264355552&4294967295,B=R+(O<<10&4294967295|O>>>22),O=U+(R^(B|~C))+k[6]+2734768916&4294967295,U=B+(O<<15&4294967295|O>>>17),O=C+(B^(U|~R))+k[13]+1309151649&4294967295,C=U+(O<<21&4294967295|O>>>11),O=R+(U^(C|~B))+k[4]+4149444226&4294967295,R=C+(O<<6&4294967295|O>>>26),O=B+(C^(R|~U))+k[11]+3174756917&4294967295,B=R+(O<<10&4294967295|O>>>22),O=U+(R^(B|~C))+k[2]+718787259&4294967295,U=B+(O<<15&4294967295|O>>>17),O=C+(B^(U|~R))+k[9]+3951481745&4294967295,N.g[0]=N.g[0]+R&4294967295,N.g[1]=N.g[1]+(U+(O<<21&4294967295|O>>>11))&4294967295,N.g[2]=N.g[2]+U&4294967295,N.g[3]=N.g[3]+B&4294967295}r.prototype.u=function(N,R){R===void 0&&(R=N.length);for(var C=R-this.blockSize,k=this.B,U=this.h,B=0;B<R;){if(U==0)for(;B<=C;)o(this,N,B),B+=this.blockSize;if(typeof N=="string"){for(;B<R;)if(k[U++]=N.charCodeAt(B++),U==this.blockSize){o(this,k),U=0;break}}else for(;B<R;)if(k[U++]=N[B++],U==this.blockSize){o(this,k),U=0;break}}this.h=U,this.o+=R},r.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var R=1;R<N.length-8;++R)N[R]=0;var C=8*this.o;for(R=N.length-8;R<N.length;++R)N[R]=C&255,C/=256;for(this.u(N),N=Array(16),R=C=0;4>R;++R)for(var k=0;32>k;k+=8)N[C++]=this.g[R]>>>k&255;return N};function u(N,R){var C=d;return Object.prototype.hasOwnProperty.call(C,N)?C[N]:C[N]=R(N)}function h(N,R){this.h=R;for(var C=[],k=!0,U=N.length-1;0<=U;U--){var B=N[U]|0;k&&B==R||(C[U]=B,k=!1)}this.g=C}var d={};function p(N){return-128<=N&&128>N?u(N,function(R){return new h([R|0],0>R?-1:0)}):new h([N|0],0>N?-1:0)}function g(N){if(isNaN(N)||!isFinite(N))return A;if(0>N)return P(g(-N));for(var R=[],C=1,k=0;N>=C;k++)R[k]=N/C|0,C*=4294967296;return new h(R,0)}function _(N,R){if(N.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(N.charAt(0)=="-")return P(_(N.substring(1),R));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=g(Math.pow(R,8)),k=A,U=0;U<N.length;U+=8){var B=Math.min(8,N.length-U),O=parseInt(N.substring(U,U+B),R);8>B?(B=g(Math.pow(R,B)),k=k.j(B).add(g(O))):(k=k.j(C),k=k.add(g(O)))}return k}var A=p(0),w=p(1),I=p(16777216);i=h.prototype,i.m=function(){if(z(this))return-P(this).m();for(var N=0,R=1,C=0;C<this.g.length;C++){var k=this.i(C);N+=(0<=k?k:4294967296+k)*R,R*=4294967296}return N},i.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(x(this))return"0";if(z(this))return"-"+P(this).toString(N);for(var R=g(Math.pow(N,6)),C=this,k="";;){var U=se(C,R).g;C=M(C,U.j(R));var B=((0<C.g.length?C.g[0]:C.h)>>>0).toString(N);if(C=U,x(C))return B+k;for(;6>B.length;)B="0"+B;k=B+k}},i.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function x(N){if(N.h!=0)return!1;for(var R=0;R<N.g.length;R++)if(N.g[R]!=0)return!1;return!0}function z(N){return N.h==-1}i.l=function(N){return N=M(this,N),z(N)?-1:x(N)?0:1};function P(N){for(var R=N.g.length,C=[],k=0;k<R;k++)C[k]=~N.g[k];return new h(C,~N.h).add(w)}i.abs=function(){return z(this)?P(this):this},i.add=function(N){for(var R=Math.max(this.g.length,N.g.length),C=[],k=0,U=0;U<=R;U++){var B=k+(this.i(U)&65535)+(N.i(U)&65535),O=(B>>>16)+(this.i(U)>>>16)+(N.i(U)>>>16);k=O>>>16,B&=65535,O&=65535,C[U]=O<<16|B}return new h(C,C[C.length-1]&-2147483648?-1:0)};function M(N,R){return N.add(P(R))}i.j=function(N){if(x(this)||x(N))return A;if(z(this))return z(N)?P(this).j(P(N)):P(P(this).j(N));if(z(N))return P(this.j(P(N)));if(0>this.l(I)&&0>N.l(I))return g(this.m()*N.m());for(var R=this.g.length+N.g.length,C=[],k=0;k<2*R;k++)C[k]=0;for(k=0;k<this.g.length;k++)for(var U=0;U<N.g.length;U++){var B=this.i(k)>>>16,O=this.i(k)&65535,mt=N.i(U)>>>16,it=N.i(U)&65535;C[2*k+2*U]+=O*it,K(C,2*k+2*U),C[2*k+2*U+1]+=B*it,K(C,2*k+2*U+1),C[2*k+2*U+1]+=O*mt,K(C,2*k+2*U+1),C[2*k+2*U+2]+=B*mt,K(C,2*k+2*U+2)}for(k=0;k<R;k++)C[k]=C[2*k+1]<<16|C[2*k];for(k=R;k<2*R;k++)C[k]=0;return new h(C,0)};function K(N,R){for(;(N[R]&65535)!=N[R];)N[R+1]+=N[R]>>>16,N[R]&=65535,R++}function X(N,R){this.g=N,this.h=R}function se(N,R){if(x(R))throw Error("division by zero");if(x(N))return new X(A,A);if(z(N))return R=se(P(N),R),new X(P(R.g),P(R.h));if(z(R))return R=se(N,P(R)),new X(P(R.g),R.h);if(30<N.g.length){if(z(N)||z(R))throw Error("slowDivide_ only works with positive integers.");for(var C=w,k=R;0>=k.l(N);)C=re(C),k=re(k);var U=fe(C,1),B=fe(k,1);for(k=fe(k,2),C=fe(C,2);!x(k);){var O=B.add(k);0>=O.l(N)&&(U=U.add(C),B=O),k=fe(k,1),C=fe(C,1)}return R=M(N,U.j(R)),new X(U,R)}for(U=A;0<=N.l(R);){for(C=Math.max(1,Math.floor(N.m()/R.m())),k=Math.ceil(Math.log(C)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),B=g(C),O=B.j(R);z(O)||0<O.l(N);)C-=k,B=g(C),O=B.j(R);x(B)&&(B=w),U=U.add(B),N=M(N,O)}return new X(U,N)}i.A=function(N){return se(this,N).h},i.and=function(N){for(var R=Math.max(this.g.length,N.g.length),C=[],k=0;k<R;k++)C[k]=this.i(k)&N.i(k);return new h(C,this.h&N.h)},i.or=function(N){for(var R=Math.max(this.g.length,N.g.length),C=[],k=0;k<R;k++)C[k]=this.i(k)|N.i(k);return new h(C,this.h|N.h)},i.xor=function(N){for(var R=Math.max(this.g.length,N.g.length),C=[],k=0;k<R;k++)C[k]=this.i(k)^N.i(k);return new h(C,this.h^N.h)};function re(N){for(var R=N.g.length+1,C=[],k=0;k<R;k++)C[k]=N.i(k)<<1|N.i(k-1)>>>31;return new h(C,N.h)}function fe(N,R){var C=R>>5;R%=32;for(var k=N.g.length-C,U=[],B=0;B<k;B++)U[B]=0<R?N.i(B+C)>>>R|N.i(B+C+1)<<32-R:N.i(B+C);return new h(U,N.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Pw=r,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=_,ar=h}).apply(typeof rE<"u"?rE:typeof self<"u"?self:typeof window<"u"?window:{});var dh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Vw,au,jw,Rh,Sp,Lw,Uw,Bw;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,v,E){return c==Array.prototype||c==Object.prototype||(c[v]=E.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof dh=="object"&&dh];for(var v=0;v<c.length;++v){var E=c[v];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=t(this);function o(c,v){if(v)e:{var E=r;c=c.split(".");for(var S=0;S<c.length-1;S++){var F=c[S];if(!(F in E))break e;E=E[F]}c=c[c.length-1],S=E[c],v=v(S),v!=S&&v!=null&&e(E,c,{configurable:!0,writable:!0,value:v})}}function u(c,v){c instanceof String&&(c+="");var E=0,S=!1,F={next:function(){if(!S&&E<c.length){var Y=E++;return{value:v(Y,c[Y]),done:!1}}return S=!0,{done:!0,value:void 0}}};return F[Symbol.iterator]=function(){return F},F}o("Array.prototype.values",function(c){return c||function(){return u(this,function(v,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},d=this||self;function p(c){var v=typeof c;return v=v!="object"?v:c?Array.isArray(c)?"array":v:"null",v=="array"||v=="object"&&typeof c.length=="number"}function g(c){var v=typeof c;return v=="object"&&c!=null||v=="function"}function _(c,v,E){return c.call.apply(c.bind,arguments)}function A(c,v,E){if(!c)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var F=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(F,S),c.apply(v,F)}}return function(){return c.apply(v,arguments)}}function w(c,v,E){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:A,w.apply(null,arguments)}function I(c,v){var E=Array.prototype.slice.call(arguments,1);return function(){var S=E.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function x(c,v){function E(){}E.prototype=v.prototype,c.aa=v.prototype,c.prototype=new E,c.prototype.constructor=c,c.Qb=function(S,F,Y){for(var oe=Array(arguments.length-2),Pe=2;Pe<arguments.length;Pe++)oe[Pe-2]=arguments[Pe];return v.prototype[F].apply(S,oe)}}function z(c){const v=c.length;if(0<v){const E=Array(v);for(let S=0;S<v;S++)E[S]=c[S];return E}return[]}function P(c,v){for(let E=1;E<arguments.length;E++){const S=arguments[E];if(p(S)){const F=c.length||0,Y=S.length||0;c.length=F+Y;for(let oe=0;oe<Y;oe++)c[F+oe]=S[oe]}else c.push(S)}}class M{constructor(v,E){this.i=v,this.j=E,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function K(c){return/^[\s\xa0]*$/.test(c)}function X(){var c=d.navigator;return c&&(c=c.userAgent)?c:""}function se(c){return se[" "](c),c}se[" "]=function(){};var re=X().indexOf("Gecko")!=-1&&!(X().toLowerCase().indexOf("webkit")!=-1&&X().indexOf("Edge")==-1)&&!(X().indexOf("Trident")!=-1||X().indexOf("MSIE")!=-1)&&X().indexOf("Edge")==-1;function fe(c,v,E){for(const S in c)v.call(E,c[S],S,c)}function N(c,v){for(const E in c)v.call(void 0,c[E],E,c)}function R(c){const v={};for(const E in c)v[E]=c[E];return v}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(c,v){let E,S;for(let F=1;F<arguments.length;F++){S=arguments[F];for(E in S)c[E]=S[E];for(let Y=0;Y<C.length;Y++)E=C[Y],Object.prototype.hasOwnProperty.call(S,E)&&(c[E]=S[E])}}function U(c){var v=1;c=c.split(":");const E=[];for(;0<v&&c.length;)E.push(c.shift()),v--;return c.length&&E.push(c.join(":")),E}function B(c){d.setTimeout(()=>{throw c},0)}function O(){var c=Be;let v=null;return c.g&&(v=c.g,c.g=c.g.next,c.g||(c.h=null),v.next=null),v}class mt{constructor(){this.h=this.g=null}add(v,E){const S=it.get();S.set(v,E),this.h?this.h.next=S:this.g=S,this.h=S}}var it=new M(()=>new W,c=>c.reset());class W{constructor(){this.next=this.g=this.h=null}set(v,E){this.h=v,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let le,pe=!1,Be=new mt,j=()=>{const c=d.Promise.resolve(void 0);le=()=>{c.then(ie)}};var ie=()=>{for(var c;c=O();){try{c.h.call(c.g)}catch(E){B(E)}var v=it;v.j(c),100>v.h&&(v.h++,c.next=v.g,v.g=c)}pe=!1};function ue(){this.s=this.s,this.C=this.C}ue.prototype.s=!1,ue.prototype.ma=function(){this.s||(this.s=!0,this.N())},ue.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ae(c,v){this.type=c,this.g=this.target=v,this.defaultPrevented=!1}ae.prototype.h=function(){this.defaultPrevented=!0};var ye=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,v=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const E=()=>{};d.addEventListener("test",E,v),d.removeEventListener("test",E,v)}catch{}return c}();function Ce(c,v){if(ae.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var E=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=v,v=c.relatedTarget){if(re){e:{try{se(v.nodeName);var F=!0;break e}catch{}F=!1}F||(v=null)}}else E=="mouseover"?v=c.fromElement:E=="mouseout"&&(v=c.toElement);this.relatedTarget=v,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Ae[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ce.aa.h.call(this)}}x(Ce,ae);var Ae={2:"touch",3:"pen",4:"mouse"};Ce.prototype.h=function(){Ce.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ot="closure_listenable_"+(1e6*Math.random()|0),Je=0;function oi(c,v,E,S,F){this.listener=c,this.proxy=null,this.src=v,this.type=E,this.capture=!!S,this.ha=F,this.key=++Je,this.da=this.fa=!1}function As(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ji(c){this.src=c,this.g={},this.h=0}ji.prototype.add=function(c,v,E,S,F){var Y=c.toString();c=this.g[Y],c||(c=this.g[Y]=[],this.h++);var oe=Tr(c,v,S,F);return-1<oe?(v=c[oe],E||(v.fa=!1)):(v=new oi(v,this.src,Y,!!S,F),v.fa=E,c.push(v)),v};function Er(c,v){var E=v.type;if(E in c.g){var S=c.g[E],F=Array.prototype.indexOf.call(S,v,void 0),Y;(Y=0<=F)&&Array.prototype.splice.call(S,F,1),Y&&(As(v),c.g[E].length==0&&(delete c.g[E],c.h--))}}function Tr(c,v,E,S){for(var F=0;F<c.length;++F){var Y=c[F];if(!Y.da&&Y.listener==v&&Y.capture==!!E&&Y.ha==S)return F}return-1}var wr="closure_lm_"+(1e6*Math.random()|0),$o={};function zu(c,v,E,S,F){if(Array.isArray(v)){for(var Y=0;Y<v.length;Y++)zu(c,v[Y],E,S,F);return null}return E=qu(E),c&&c[Ot]?c.K(v,E,g(S)?!!S.capture:!1,F):Cn(c,v,E,!1,S,F)}function Cn(c,v,E,S,F,Y){if(!v)throw Error("Invalid event type");var oe=g(F)?!!F.capture:!!F,Pe=Ra(c);if(Pe||(c[wr]=Pe=new ji(c)),E=Pe.add(v,E,S,oe,Y),E.proxy)return E;if(S=Ff(),E.proxy=S,S.src=c,S.listener=E,c.addEventListener)ye||(F=oe),F===void 0&&(F=!1),c.addEventListener(v.toString(),S,F);else if(c.attachEvent)c.attachEvent(Ar(v.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Ff(){function c(E){return v.call(c.src,c.listener,E)}const v=Hf;return c}function Qo(c,v,E,S,F){if(Array.isArray(v))for(var Y=0;Y<v.length;Y++)Qo(c,v[Y],E,S,F);else S=g(S)?!!S.capture:!!S,E=qu(E),c&&c[Ot]?(c=c.i,v=String(v).toString(),v in c.g&&(Y=c.g[v],E=Tr(Y,E,S,F),-1<E&&(As(Y[E]),Array.prototype.splice.call(Y,E,1),Y.length==0&&(delete c.g[v],c.h--)))):c&&(c=Ra(c))&&(v=c.g[v.toString()],c=-1,v&&(c=Tr(v,E,S,F)),(E=-1<c?v[c]:null)&&Sa(E))}function Sa(c){if(typeof c!="number"&&c&&!c.da){var v=c.src;if(v&&v[Ot])Er(v.i,c);else{var E=c.type,S=c.proxy;v.removeEventListener?v.removeEventListener(E,S,c.capture):v.detachEvent?v.detachEvent(Ar(E),S):v.addListener&&v.removeListener&&v.removeListener(S),(E=Ra(v))?(Er(E,c),E.h==0&&(E.src=null,v[wr]=null)):As(c)}}}function Ar(c){return c in $o?$o[c]:$o[c]="on"+c}function Hf(c,v){if(c.da)c=!0;else{v=new Ce(v,this);var E=c.listener,S=c.ha||c.src;c.fa&&Sa(c),c=E.call(S,v)}return c}function Ra(c){return c=c[wr],c instanceof ji?c:null}var Ko="__closure_events_fn_"+(1e9*Math.random()>>>0);function qu(c){return typeof c=="function"?c:(c[Ko]||(c[Ko]=function(v){return c.handleEvent(v)}),c[Ko])}function ct(){ue.call(this),this.i=new ji(this),this.M=this,this.F=null}x(ct,ue),ct.prototype[Ot]=!0,ct.prototype.removeEventListener=function(c,v,E,S){Qo(this,c,v,E,S)};function He(c,v){var E,S=c.F;if(S)for(E=[];S;S=S.F)E.push(S);if(c=c.M,S=v.type||v,typeof v=="string")v=new ae(v,c);else if(v instanceof ae)v.target=v.target||c;else{var F=v;v=new ae(S,c),k(v,F)}if(F=!0,E)for(var Y=E.length-1;0<=Y;Y--){var oe=v.g=E[Y];F=yn(oe,S,!0,v)&&F}if(oe=v.g=c,F=yn(oe,S,!0,v)&&F,F=yn(oe,S,!1,v)&&F,E)for(Y=0;Y<E.length;Y++)oe=v.g=E[Y],F=yn(oe,S,!1,v)&&F}ct.prototype.N=function(){if(ct.aa.N.call(this),this.i){var c=this.i,v;for(v in c.g){for(var E=c.g[v],S=0;S<E.length;S++)As(E[S]);delete c.g[v],c.h--}}this.F=null},ct.prototype.K=function(c,v,E,S){return this.i.add(String(c),v,!1,E,S)},ct.prototype.L=function(c,v,E,S){return this.i.add(String(c),v,!0,E,S)};function yn(c,v,E,S){if(v=c.i.g[String(v)],!v)return!0;v=v.concat();for(var F=!0,Y=0;Y<v.length;++Y){var oe=v[Y];if(oe&&!oe.da&&oe.capture==E){var Pe=oe.listener,It=oe.ha||oe.src;oe.fa&&Er(c.i,oe),F=Pe.call(It,S)!==!1&&F}}return F&&!S.defaultPrevented}function Qt(c,v,E){if(typeof c=="function")E&&(c=w(c,E));else if(c&&typeof c.handleEvent=="function")c=w(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:d.setTimeout(c,v||0)}function Fu(c){c.g=Qt(()=>{c.g=null,c.i&&(c.i=!1,Fu(c))},c.l);const v=c.h;c.h=null,c.m.apply(null,v)}class Gf extends ue{constructor(v,E){super(),this.m=v,this.l=E,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Fu(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function br(c){ue.call(this),this.h=c,this.g={}}x(br,ue);var Sr=[];function Rr(c){fe(c.g,function(v,E){this.g.hasOwnProperty(E)&&Sa(v)},c),c.g={}}br.prototype.N=function(){br.aa.N.call(this),Rr(this)},br.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Kn=d.JSON.stringify,Ia=d.JSON.parse,Ir=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function Yo(){}Yo.prototype.h=null;function Xo(c){return c.h||(c.h=c.i())}function Wo(){}var Li={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ui(){ae.call(this,"d")}x(Ui,ae);function Zo(){ae.call(this,"c")}x(Zo,ae);var li={},Jo=null;function bs(){return Jo=Jo||new ct}li.La="serverreachability";function xa(c){ae.call(this,li.La,c)}x(xa,ae);function Ss(c){const v=bs();He(v,new xa(v))}li.STAT_EVENT="statevent";function Hu(c,v){ae.call(this,li.STAT_EVENT,c),this.stat=v}x(Hu,ae);function st(c){const v=bs();He(v,new Hu(v,c))}li.Ma="timingevent";function Rt(c,v){ae.call(this,li.Ma,c),this.size=v}x(Rt,ae);function _t(c,v){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},v)}function Nn(){this.g=!0}Nn.prototype.xa=function(){this.g=!1};function el(c,v,E,S,F,Y){c.info(function(){if(c.g)if(Y)for(var oe="",Pe=Y.split("&"),It=0;It<Pe.length;It++){var Ve=Pe[It].split("=");if(1<Ve.length){var kt=Ve[0];Ve=Ve[1];var xt=kt.split("_");oe=2<=xt.length&&xt[1]=="type"?oe+(kt+"="+Ve+"&"):oe+(kt+"=redacted&")}}else oe=null;else oe=Y;return"XMLHTTP REQ ("+S+") [attempt "+F+"]: "+v+`
`+E+`
`+oe})}function $f(c,v,E,S,F,Y,oe){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+F+"]: "+v+`
`+E+`
`+Y+" "+oe})}function Rs(c,v,E,S){c.info(function(){return"XMLHTTP TEXT ("+v+"): "+xr(c,E)+(S?" "+S:"")})}function Gu(c,v){c.info(function(){return"TIMEOUT: "+v})}Nn.prototype.info=function(){};function xr(c,v){if(!c.g)return v;if(!v)return null;try{var E=JSON.parse(v);if(E){for(c=0;c<E.length;c++)if(Array.isArray(E[c])){var S=E[c];if(!(2>S.length)){var F=S[1];if(Array.isArray(F)&&!(1>F.length)){var Y=F[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(var oe=1;oe<F.length;oe++)F[oe]=""}}}}return Kn(E)}catch{return v}}var Is={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Bi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ui;function ci(){}x(ci,Yo),ci.prototype.g=function(){return new XMLHttpRequest},ci.prototype.i=function(){return{}},ui=new ci;function nn(c,v,E,S){this.j=c,this.i=v,this.l=E,this.R=S||1,this.U=new br(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new pt}function pt(){this.i=null,this.g="",this.h=!1}var tl={},Ca={};function Yn(c,v,E){c.L=1,c.v=Mr(vn(v)),c.m=E,c.P=!0,zi(c,null)}function zi(c,v){c.F=Date.now(),Cr(c),c.A=vn(c.v);var E=c.A,S=c.R;Array.isArray(S)||(S=[String(S)]),ol(E.i,"t",S),c.C=0,E=c.j.J,c.h=new pt,c.g=oc(c.j,E?v:null,!c.m),0<c.O&&(c.M=new Gf(w(c.Y,c,c.g),c.O)),v=c.U,E=c.g,S=c.ca;var F="readystatechange";Array.isArray(F)||(F&&(Sr[0]=F.toString()),F=Sr);for(var Y=0;Y<F.length;Y++){var oe=zu(E,F[Y],S||v.handleEvent,!1,v.h||v);if(!oe)break;v.g[oe.key]=oe}v=c.H?R(c.H):{},c.m?(c.u||(c.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,v)):(c.u="GET",c.g.ea(c.A,c.u,null,v)),Ss(),el(c.i,c.u,c.A,c.l,c.R,c.m)}nn.prototype.ca=function(c){c=c.target;const v=this.M;v&&kn(c)==3?v.j():this.Y(c)},nn.prototype.Y=function(c){try{if(c==this.g)e:{const xt=kn(this.g);var v=this.g.Ba();const Yi=this.g.Z();if(!(3>xt)&&(xt!=3||this.g&&(this.h.h||this.g.oa()||Ju(this.g)))){this.J||xt!=4||v==7||(v==8||0>=Yi?Ss(3):Ss(2)),xs(this);var E=this.g.Z();this.X=E;t:if($u(this)){var S=Ju(this.g);c="";var F=S.length,Y=kn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ut(this),hi(this);var oe="";break t}this.h.i=new d.TextDecoder}for(v=0;v<F;v++)this.h.h=!0,c+=this.h.i.decode(S[v],{stream:!(Y&&v==F-1)});S.length=0,this.h.g+=c,this.C=0,oe=this.h.g}else oe=this.g.oa();if(this.o=E==200,$f(this.i,this.u,this.A,this.l,this.R,xt,E),this.o){if(this.T&&!this.K){t:{if(this.g){var Pe,It=this.g;if((Pe=It.g?It.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!K(Pe)){var Ve=Pe;break t}}Ve=null}if(E=Ve)Rs(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Nr(this,E);else{this.o=!1,this.s=3,st(12),Ut(this),hi(this);break e}}if(this.P){E=!0;let Bt;for(;!this.J&&this.C<oe.length;)if(Bt=Qu(this,oe),Bt==Ca){xt==4&&(this.s=4,st(14),E=!1),Rs(this.i,this.l,null,"[Incomplete Response]");break}else if(Bt==tl){this.s=4,st(15),Rs(this.i,this.l,oe,"[Invalid Chunk]"),E=!1;break}else Rs(this.i,this.l,Bt,null),Nr(this,Bt);if($u(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xt!=4||oe.length!=0||this.h.h||(this.s=1,st(16),E=!1),this.o=this.o&&E,!E)Rs(this.i,this.l,oe,"[Invalid Chunked Response]"),Ut(this),hi(this);else if(0<oe.length&&!this.W){this.W=!0;var kt=this.j;kt.g==this&&kt.ba&&!kt.M&&(kt.j.info("Great, no buffering proxy detected. Bytes received: "+oe.length),zr(kt),kt.M=!0,st(11))}}else Rs(this.i,this.l,oe,null),Nr(this,oe);xt==4&&Ut(this),this.o&&!this.J&&(xt==4?sc(this.j,this):(this.o=!1,Cr(this)))}else Wf(this.g),E==400&&0<oe.indexOf("Unknown SID")?(this.s=3,st(12)):(this.s=0,st(13)),Ut(this),hi(this)}}}catch{}finally{}};function $u(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Qu(c,v){var E=c.C,S=v.indexOf(`
`,E);return S==-1?Ca:(E=Number(v.substring(E,S)),isNaN(E)?tl:(S+=1,S+E>v.length?Ca:(v=v.slice(S,S+E),c.C=S+E,v)))}nn.prototype.cancel=function(){this.J=!0,Ut(this)};function Cr(c){c.S=Date.now()+c.I,Ku(c,c.I)}function Ku(c,v){if(c.B!=null)throw Error("WatchDog timer not null");c.B=_t(w(c.ba,c),v)}function xs(c){c.B&&(d.clearTimeout(c.B),c.B=null)}nn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Gu(this.i,this.A),this.L!=2&&(Ss(),st(17)),Ut(this),this.s=2,hi(this)):Ku(this,this.S-c)};function hi(c){c.j.G==0||c.J||sc(c.j,c)}function Ut(c){xs(c);var v=c.M;v&&typeof v.ma=="function"&&v.ma(),c.M=null,Rr(c.U),c.g&&(v=c.g,c.g=null,v.abort(),v.ma())}function Nr(c,v){try{var E=c.j;if(E.G!=0&&(E.g==c||nl(E.h,c))){if(!c.K&&nl(E.h,c)&&E.G==3){try{var S=E.Da.g.parse(v)}catch{S=null}if(Array.isArray(S)&&S.length==3){var F=S;if(F[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<c.F)za(E),Ua(E);else break e;fl(E),st(18)}}else E.za=F[1],0<E.za-E.T&&37500>F[2]&&E.F&&E.v==0&&!E.C&&(E.C=_t(w(E.Za,E),6e3));if(1>=Da(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else Ki(E,11)}else if((c.K||E.g==c)&&za(E),!K(v))for(F=E.Da.g.parse(v),v=0;v<F.length;v++){let Ve=F[v];if(E.T=Ve[0],Ve=Ve[1],E.G==2)if(Ve[0]=="c"){E.K=Ve[1],E.ia=Ve[2];const kt=Ve[3];kt!=null&&(E.la=kt,E.j.info("VER="+E.la));const xt=Ve[4];xt!=null&&(E.Aa=xt,E.j.info("SVER="+E.Aa));const Yi=Ve[5];Yi!=null&&typeof Yi=="number"&&0<Yi&&(S=1.5*Yi,E.L=S,E.j.info("backChannelRequestTimeoutMs_="+S)),S=E;const Bt=c.g;if(Bt){const vi=Bt.g?Bt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(vi){var Y=S.h;Y.g||vi.indexOf("spdy")==-1&&vi.indexOf("quic")==-1&&vi.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(Oa(Y,Y.h),Y.h=null))}if(S.D){const ml=Bt.g?Bt.g.getResponseHeader("X-HTTP-Session-Id"):null;ml&&(S.ya=ml,Ke(S.I,S.D,ml))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-c.F,E.j.info("Handshake RTT: "+E.R+"ms")),S=E;var oe=c;if(S.qa=ac(S,S.J?S.ia:null,S.W),oe.K){sn(S.h,oe);var Pe=oe,It=S.L;It&&(Pe.I=It),Pe.B&&(xs(Pe),Cr(Pe)),S.g=oe}else nc(S);0<E.i.length&&Ba(E)}else Ve[0]!="stop"&&Ve[0]!="close"||Ki(E,7);else E.G==3&&(Ve[0]=="stop"||Ve[0]=="close"?Ve[0]=="stop"?Ki(E,7):cl(E):Ve[0]!="noop"&&E.l&&E.l.ta(Ve),E.v=0)}}Ss(4)}catch{}}var Yu=class{constructor(c,v){this.g=c,this.map=v}};function qi(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Na(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Da(c){return c.h?1:c.g?c.g.size:0}function nl(c,v){return c.h?c.h==v:c.g?c.g.has(v):!1}function Oa(c,v){c.g?c.g.add(v):c.h=v}function sn(c,v){c.h&&c.h==v?c.h=null:c.g&&c.g.has(v)&&c.g.delete(v)}qi.prototype.cancel=function(){if(this.i=il(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function il(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let v=c.i;for(const E of c.g.values())v=v.concat(E.D);return v}return z(c.i)}function Qf(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var v=[],E=c.length,S=0;S<E;S++)v.push(c[S]);return v}v=[],E=0;for(S in c)v[E++]=c[S];return v}function Ma(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var v=[];c=c.length;for(var E=0;E<c;E++)v.push(E);return v}v=[],E=0;for(const S in c)v[E++]=S;return v}}}function sl(c,v){if(c.forEach&&typeof c.forEach=="function")c.forEach(v,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,v,void 0);else for(var E=Ma(c),S=Qf(c),F=S.length,Y=0;Y<F;Y++)v.call(void 0,S[Y],E&&E[Y],c)}var Dr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Kf(c,v){if(c){c=c.split("&");for(var E=0;E<c.length;E++){var S=c[E].indexOf("="),F=null;if(0<=S){var Y=c[E].substring(0,S);F=c[E].substring(S+1)}else Y=c[E];v(Y,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function Et(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Et){this.h=c.h,Or(this,c.j),this.o=c.o,this.g=c.g,Cs(this,c.s),this.l=c.l;var v=c.i,E=new Hi;E.i=v.i,v.g&&(E.g=new Map(v.g),E.h=v.h),Fi(this,E),this.m=c.m}else c&&(v=String(c).match(Dr))?(this.h=!1,Or(this,v[1]||"",!0),this.o=Dn(v[2]||""),this.g=Dn(v[3]||"",!0),Cs(this,v[4]),this.l=Dn(v[5]||"",!0),Fi(this,v[6]||"",!0),this.m=Dn(v[7]||"")):(this.h=!1,this.i=new Hi(null,this.h))}Et.prototype.toString=function(){var c=[],v=this.j;v&&c.push(kr(v,rl,!0),":");var E=this.g;return(E||v=="file")&&(c.push("//"),(v=this.o)&&c.push(kr(v,rl,!0),"@"),c.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&c.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&c.push("/"),c.push(kr(E,E.charAt(0)=="/"?Yf:al,!0))),(E=this.i.toString())&&c.push("?",E),(E=this.m)&&c.push("#",kr(E,ka)),c.join("")};function vn(c){return new Et(c)}function Or(c,v,E){c.j=E?Dn(v,!0):v,c.j&&(c.j=c.j.replace(/:$/,""))}function Cs(c,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);c.s=v}else c.s=null}function Fi(c,v,E){v instanceof Hi?(c.i=v,Wu(c.i,c.h)):(E||(v=kr(v,Xf)),c.i=new Hi(v,c.h))}function Ke(c,v,E){c.i.set(v,E)}function Mr(c){return Ke(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Dn(c,v){return c?v?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function kr(c,v,E){return typeof c=="string"?(c=encodeURI(c).replace(v,Xu),E&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Xu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var rl=/[#\/\?@]/g,al=/[#\?:]/g,Yf=/[#\?]/g,Xf=/[#\?@]/g,ka=/#/g;function Hi(c,v){this.h=this.g=null,this.i=c||null,this.j=!!v}function On(c){c.g||(c.g=new Map,c.h=0,c.i&&Kf(c.i,function(v,E){c.add(decodeURIComponent(v.replace(/\+/g," ")),E)}))}i=Hi.prototype,i.add=function(c,v){On(this),this.i=null,c=fi(this,c);var E=this.g.get(c);return E||this.g.set(c,E=[]),E.push(v),this.h+=1,this};function Gi(c,v){On(c),v=fi(c,v),c.g.has(v)&&(c.i=null,c.h-=c.g.get(v).length,c.g.delete(v))}function $i(c,v){return On(c),v=fi(c,v),c.g.has(v)}i.forEach=function(c,v){On(this),this.g.forEach(function(E,S){E.forEach(function(F){c.call(v,F,S,this)},this)},this)},i.na=function(){On(this);const c=Array.from(this.g.values()),v=Array.from(this.g.keys()),E=[];for(let S=0;S<v.length;S++){const F=c[S];for(let Y=0;Y<F.length;Y++)E.push(v[S])}return E},i.V=function(c){On(this);let v=[];if(typeof c=="string")$i(this,c)&&(v=v.concat(this.g.get(fi(this,c))));else{c=Array.from(this.g.values());for(let E=0;E<c.length;E++)v=v.concat(c[E])}return v},i.set=function(c,v){return On(this),this.i=null,c=fi(this,c),$i(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[v]),this.h+=1,this},i.get=function(c,v){return c?(c=this.V(c),0<c.length?String(c[0]):v):v};function ol(c,v,E){Gi(c,v),0<E.length&&(c.i=null,c.g.set(fi(c,v),z(E)),c.h+=E.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],v=Array.from(this.g.keys());for(var E=0;E<v.length;E++){var S=v[E];const Y=encodeURIComponent(String(S)),oe=this.V(S);for(S=0;S<oe.length;S++){var F=Y;oe[S]!==""&&(F+="="+encodeURIComponent(String(oe[S]))),c.push(F)}}return this.i=c.join("&")};function fi(c,v){return v=String(v),c.j&&(v=v.toLowerCase()),v}function Wu(c,v){v&&!c.j&&(On(c),c.i=null,c.g.forEach(function(E,S){var F=S.toLowerCase();S!=F&&(Gi(this,S),ol(this,F,E))},c)),c.j=v}function Pr(c,v){const E=new Nn;if(d.Image){const S=new Image;S.onload=I(Mn,E,"TestLoadImage: loaded",!0,v,S),S.onerror=I(Mn,E,"TestLoadImage: error",!1,v,S),S.onabort=I(Mn,E,"TestLoadImage: abort",!1,v,S),S.ontimeout=I(Mn,E,"TestLoadImage: timeout",!1,v,S),d.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else v(!1)}function Xn(c,v){const E=new Nn,S=new AbortController,F=setTimeout(()=>{S.abort(),Mn(E,"TestPingServer: timeout",!1,v)},1e4);fetch(c,{signal:S.signal}).then(Y=>{clearTimeout(F),Y.ok?Mn(E,"TestPingServer: ok",!0,v):Mn(E,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(F),Mn(E,"TestPingServer: error",!1,v)})}function Mn(c,v,E,S,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),S(E)}catch{}}function Vr(){this.g=new Ir}function di(c,v,E){const S=E||"";try{sl(c,function(F,Y){let oe=F;g(F)&&(oe=Kn(F)),v.push(S+Y+"="+encodeURIComponent(oe))})}catch(F){throw v.push(S+"type="+encodeURIComponent("_badmap")),F}}function Ns(c){this.l=c.Ub||null,this.j=c.eb||!1}x(Ns,Yo),Ns.prototype.g=function(){return new Qi(this.l,this.j)},Ns.prototype.i=function(c){return function(){return c}}({});function Qi(c,v){ct.call(this),this.D=c,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(Qi,ct),i=Qi.prototype,i.open=function(c,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=v,this.readyState=1,pi(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(v.body=c),(this.D||d).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,mi(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,pi(this)),this.g&&(this.readyState=3,pi(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ll(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function ll(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var v=c.value?c.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!c.done}))&&(this.response=this.responseText+=v)}c.done?mi(this):pi(this),this.readyState==3&&ll(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,mi(this))},i.Qa=function(c){this.g&&(this.response=c,mi(this))},i.ga=function(){this.g&&mi(this)};function mi(c){c.readyState=4,c.l=null,c.j=null,c.v=null,pi(c)}i.setRequestHeader=function(c,v){this.u.append(c,v)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],v=this.h.entries();for(var E=v.next();!E.done;)E=E.value,c.push(E[0]+": "+E[1]),E=v.next();return c.join(`\r
`)};function pi(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Qi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function ul(c){let v="";return fe(c,function(E,S){v+=S,v+=":",v+=E,v+=`\r
`}),v}function Mt(c,v,E){e:{for(S in E){var S=!1;break e}S=!0}S||(E=ul(E),typeof c=="string"?E!=null&&encodeURIComponent(String(E)):Ke(c,v,E))}function qe(c){ct.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(qe,ct);var Pa=/^https?$/i,jr=["POST","PUT"];i=qe.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,v,E,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);v=v?v.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ui.g(),this.v=this.o?Xo(this.o):Xo(ui),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(v,String(c),!0),this.B=!1}catch(Y){Zu(this,Y);return}if(c=E||"",E=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var F in S)E.set(F,S[F]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const Y of S.keys())E.set(Y,S.get(Y));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(E.keys()).find(Y=>Y.toLowerCase()=="content-type"),F=d.FormData&&c instanceof d.FormData,!(0<=Array.prototype.indexOf.call(jr,v,void 0))||S||F||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,oe]of E)this.g.setRequestHeader(Y,oe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Lr(this),this.u=!0,this.g.send(c),this.u=!1}catch(Y){Zu(this,Y)}};function Zu(c,v){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=v,c.m=5,Va(c),gi(c)}function Va(c){c.A||(c.A=!0,He(c,"complete"),He(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,He(this,"complete"),He(this,"abort"),gi(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),gi(this,!0)),qe.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?ja(this):this.bb())},i.bb=function(){ja(this)};function ja(c){if(c.h&&typeof h<"u"&&(!c.v[1]||kn(c)!=4||c.Z()!=2)){if(c.u&&kn(c)==4)Qt(c.Ea,0,c);else if(He(c,"readystatechange"),kn(c)==4){c.h=!1;try{const oe=c.Z();e:switch(oe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var E;if(!(E=v)){var S;if(S=oe===0){var F=String(c.D).match(Dr)[1]||null;!F&&d.self&&d.self.location&&(F=d.self.location.protocol.slice(0,-1)),S=!Pa.test(F?F.toLowerCase():"")}E=S}if(E)He(c,"complete"),He(c,"success");else{c.m=6;try{var Y=2<kn(c)?c.g.statusText:""}catch{Y=""}c.l=Y+" ["+c.Z()+"]",Va(c)}}finally{gi(c)}}}}function gi(c,v){if(c.g){Lr(c);const E=c.g,S=c.v[0]?()=>{}:null;c.g=null,c.v=null,v||He(c,"ready");try{E.onreadystatechange=S}catch{}}}function Lr(c){c.I&&(d.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function kn(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<kn(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var v=this.g.responseText;return c&&v.indexOf(c)==0&&(v=v.substring(c.length)),Ia(v)}};function Ju(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Wf(c){const v={};c=(c.g&&2<=kn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(K(c[S]))continue;var E=U(c[S]);const F=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const Y=v[F]||[];v[F]=Y,Y.push(E)}N(v,function(S){return S.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ur(c,v,E){return E&&E.internalChannelParams&&E.internalChannelParams[c]||v}function La(c){this.Aa=0,this.i=[],this.j=new Nn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ur("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ur("baseRetryDelayMs",5e3,c),this.cb=Ur("retryDelaySeedMs",1e4,c),this.Wa=Ur("forwardChannelMaxRetries",2,c),this.wa=Ur("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new qi(c&&c.concurrentRequestLimit),this.Da=new Vr,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=La.prototype,i.la=8,i.G=1,i.connect=function(c,v,E,S){st(0),this.W=c,this.H=v||{},E&&S!==void 0&&(this.H.OSID=E,this.H.OAID=S),this.F=this.X,this.I=ac(this,null,this.W),Ba(this)};function cl(c){if(ec(c),c.G==3){var v=c.U++,E=vn(c.I);if(Ke(E,"SID",c.K),Ke(E,"RID",v),Ke(E,"TYPE","terminate"),Br(c,E),v=new nn(c,c.j,v),v.L=2,v.v=Mr(vn(E)),E=!1,d.navigator&&d.navigator.sendBeacon)try{E=d.navigator.sendBeacon(v.v.toString(),"")}catch{}!E&&d.Image&&(new Image().src=v.v,E=!0),E||(v.g=oc(v.j,null),v.g.ea(v.v)),v.F=Date.now(),Cr(v)}rc(c)}function Ua(c){c.g&&(zr(c),c.g.cancel(),c.g=null)}function ec(c){Ua(c),c.u&&(d.clearTimeout(c.u),c.u=null),za(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&d.clearTimeout(c.s),c.s=null)}function Ba(c){if(!Na(c.h)&&!c.s){c.s=!0;var v=c.Ga;le||j(),pe||(le(),pe=!0),Be.add(v,c),c.B=0}}function Zf(c,v){return Da(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=v.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=_t(w(c.Ga,c,v),dl(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const F=new nn(this,this.j,c);let Y=this.o;if(this.S&&(Y?(Y=R(Y),k(Y,this.S)):Y=this.S),this.m!==null||this.O||(F.H=Y,Y=null),this.P)e:{for(var v=0,E=0;E<this.i.length;E++){t:{var S=this.i[E];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(v+=S,4096<v){v=E;break e}if(v===4096||E===this.i.length-1){v=E+1;break e}}v=1e3}else v=1e3;v=tc(this,F,v),E=vn(this.I),Ke(E,"RID",c),Ke(E,"CVER",22),this.D&&Ke(E,"X-HTTP-Session-Id",this.D),Br(this,E),Y&&(this.O?v="headers="+encodeURIComponent(String(ul(Y)))+"&"+v:this.m&&Mt(E,this.m,Y)),Oa(this.h,F),this.Ua&&Ke(E,"TYPE","init"),this.P?(Ke(E,"$req",v),Ke(E,"SID","null"),F.T=!0,Yn(F,E,null)):Yn(F,E,v),this.G=2}}else this.G==3&&(c?hl(this,c):this.i.length==0||Na(this.h)||hl(this))};function hl(c,v){var E;v?E=v.l:E=c.U++;const S=vn(c.I);Ke(S,"SID",c.K),Ke(S,"RID",E),Ke(S,"AID",c.T),Br(c,S),c.m&&c.o&&Mt(S,c.m,c.o),E=new nn(c,c.j,E,c.B+1),c.m===null&&(E.H=c.o),v&&(c.i=v.D.concat(c.i)),v=tc(c,E,1e3),E.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Oa(c.h,E),Yn(E,S,v)}function Br(c,v){c.H&&fe(c.H,function(E,S){Ke(v,S,E)}),c.l&&sl({},function(E,S){Ke(v,S,E)})}function tc(c,v,E){E=Math.min(c.i.length,E);var S=c.l?w(c.l.Na,c.l,c):null;e:{var F=c.i;let Y=-1;for(;;){const oe=["count="+E];Y==-1?0<E?(Y=F[0].g,oe.push("ofs="+Y)):Y=0:oe.push("ofs="+Y);let Pe=!0;for(let It=0;It<E;It++){let Ve=F[It].g;const kt=F[It].map;if(Ve-=Y,0>Ve)Y=Math.max(0,F[It].g-100),Pe=!1;else try{di(kt,oe,"req"+Ve+"_")}catch{S&&S(kt)}}if(Pe){S=oe.join("&");break e}}}return c=c.i.splice(0,E),v.D=c,S}function nc(c){if(!c.g&&!c.u){c.Y=1;var v=c.Fa;le||j(),pe||(le(),pe=!0),Be.add(v,c),c.v=0}}function fl(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=_t(w(c.Fa,c),dl(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,ic(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=_t(w(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,st(10),Ua(this),ic(this))};function zr(c){c.A!=null&&(d.clearTimeout(c.A),c.A=null)}function ic(c){c.g=new nn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var v=vn(c.qa);Ke(v,"RID","rpc"),Ke(v,"SID",c.K),Ke(v,"AID",c.T),Ke(v,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ke(v,"TO",c.ja),Ke(v,"TYPE","xmlhttp"),Br(c,v),c.m&&c.o&&Mt(v,c.m,c.o),c.L&&(c.g.I=c.L);var E=c.g;c=c.ia,E.L=1,E.v=Mr(vn(v)),E.m=null,E.P=!0,zi(E,c)}i.Za=function(){this.C!=null&&(this.C=null,Ua(this),fl(this),st(19))};function za(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function sc(c,v){var E=null;if(c.g==v){za(c),zr(c),c.g=null;var S=2}else if(nl(c.h,v))E=v.D,sn(c.h,v),S=1;else return;if(c.G!=0){if(v.o)if(S==1){E=v.m?v.m.length:0,v=Date.now()-v.F;var F=c.B;S=bs(),He(S,new Rt(S,E)),Ba(c)}else nc(c);else if(F=v.s,F==3||F==0&&0<v.X||!(S==1&&Zf(c,v)||S==2&&fl(c)))switch(E&&0<E.length&&(v=c.h,v.i=v.i.concat(E)),F){case 1:Ki(c,5);break;case 4:Ki(c,10);break;case 3:Ki(c,6);break;default:Ki(c,2)}}}function dl(c,v){let E=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(E*=2),E*v}function Ki(c,v){if(c.j.info("Error code "+v),v==2){var E=w(c.fb,c),S=c.Xa;const F=!S;S=new Et(S||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Or(S,"https"),Mr(S),F?Pr(S.toString(),E):Xn(S.toString(),E)}else st(2);c.G=0,c.l&&c.l.sa(v),rc(c),ec(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),st(2)):(this.j.info("Failed to ping google.com"),st(1))};function rc(c){if(c.G=0,c.ka=[],c.l){const v=il(c.h);(v.length!=0||c.i.length!=0)&&(P(c.ka,v),P(c.ka,c.i),c.h.i.length=0,z(c.i),c.i.length=0),c.l.ra()}}function ac(c,v,E){var S=E instanceof Et?vn(E):new Et(E);if(S.g!="")v&&(S.g=v+"."+S.g),Cs(S,S.s);else{var F=d.location;S=F.protocol,v=v?v+"."+F.hostname:F.hostname,F=+F.port;var Y=new Et(null);S&&Or(Y,S),v&&(Y.g=v),F&&Cs(Y,F),E&&(Y.l=E),S=Y}return E=c.D,v=c.ya,E&&v&&Ke(S,E,v),Ke(S,"VER",c.la),Br(c,S),S}function oc(c,v,E){if(v&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=c.Ca&&!c.pa?new qe(new Ns({eb:E})):new qe(c.pa),v.Ha(c.J),v}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function lc(){}i=lc.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function qa(){}qa.prototype.g=function(c,v){return new rn(c,v)};function rn(c,v){ct.call(this),this.g=new La(v),this.l=c,this.h=v&&v.messageUrlParams||null,c=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(c?c["X-WebChannel-Content-Type"]=v.messageContentType:c={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(c?c["X-WebChannel-Client-Profile"]=v.va:c={"X-WebChannel-Client-Profile":v.va}),this.g.S=c,(c=v&&v.Sb)&&!K(c)&&(this.g.m=c),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!K(v)&&(this.g.D=v,c=this.h,c!==null&&v in c&&(c=this.h,v in c&&delete c[v])),this.j=new yi(this)}x(rn,ct),rn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},rn.prototype.close=function(){cl(this.g)},rn.prototype.o=function(c){var v=this.g;if(typeof c=="string"){var E={};E.__data__=c,c=E}else this.u&&(E={},E.__data__=Kn(c),c=E);v.i.push(new Yu(v.Ya++,c)),v.G==3&&Ba(v)},rn.prototype.N=function(){this.g.l=null,delete this.j,cl(this.g),delete this.g,rn.aa.N.call(this)};function uc(c){Ui.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var v=c.__sm__;if(v){e:{for(const E in v){c=E;break e}c=void 0}(this.i=c)&&(c=this.i,v=v!==null&&c in v?v[c]:void 0),this.data=v}else this.data=c}x(uc,Ui);function cc(){Zo.call(this),this.status=1}x(cc,Zo);function yi(c){this.g=c}x(yi,lc),yi.prototype.ua=function(){He(this.g,"a")},yi.prototype.ta=function(c){He(this.g,new uc(c))},yi.prototype.sa=function(c){He(this.g,new cc)},yi.prototype.ra=function(){He(this.g,"b")},qa.prototype.createWebChannel=qa.prototype.g,rn.prototype.send=rn.prototype.o,rn.prototype.open=rn.prototype.m,rn.prototype.close=rn.prototype.close,Bw=function(){return new qa},Uw=function(){return bs()},Lw=li,Sp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Is.NO_ERROR=0,Is.TIMEOUT=8,Is.HTTP_ERROR=6,Rh=Is,Bi.COMPLETE="complete",jw=Bi,Wo.EventType=Li,Li.OPEN="a",Li.CLOSE="b",Li.ERROR="c",Li.MESSAGE="d",ct.prototype.listen=ct.prototype.K,au=Wo,qe.prototype.listenOnce=qe.prototype.L,qe.prototype.getLastError=qe.prototype.Ka,qe.prototype.getLastErrorCode=qe.prototype.Ba,qe.prototype.getStatus=qe.prototype.Z,qe.prototype.getResponseJson=qe.prototype.Oa,qe.prototype.getResponseText=qe.prototype.oa,qe.prototype.send=qe.prototype.ea,qe.prototype.setWithCredentials=qe.prototype.Ha,Vw=qe}).apply(typeof dh<"u"?dh:typeof self<"u"?self:typeof window<"u"?window:{});const aE="@firebase/firestore",oE="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Wt.UNAUTHENTICATED=new Wt(null),Wt.GOOGLE_CREDENTIALS=new Wt("google-credentials-uid"),Wt.FIRST_PARTY=new Wt("first-party-uid"),Wt.MOCK_USER=new Wt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zo="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ha=new cf("@firebase/firestore");function vo(){return ha.logLevel}function he(i,...e){if(ha.logLevel<=Me.DEBUG){const t=e.map(ug);ha.debug(`Firestore (${zo}): ${i}`,...t)}}function ys(i,...e){if(ha.logLevel<=Me.ERROR){const t=e.map(ug);ha.error(`Firestore (${zo}): ${i}`,...t)}}function ur(i,...e){if(ha.logLevel<=Me.WARN){const t=e.map(ug);ha.warn(`Firestore (${zo}): ${i}`,...t)}}function ug(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(i,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,zw(i,r,t)}function zw(i,e,t){let r=`FIRESTORE (${zo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw ys(r),new Error(r)}function Fe(i,e,t,r){let o="Unexpected state";typeof t=="string"?o=t:r=t,i||zw(e,o,r)}function Se(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends Qn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class YC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Wt.UNAUTHENTICATED))}shutdown(){}}class XC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class WC{constructor(e){this.t=e,this.currentUser=Wt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Fe(this.o===void 0,42304);let r=this.i;const o=p=>this.i!==r?(r=this.i,t(p)):Promise.resolve();let u=new ds;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ds,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},d=p=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(p=>d(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ds)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Fe(typeof r.accessToken=="string",31837,{l:r}),new qw(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Fe(e===null||typeof e=="string",2055,{h:e}),new Wt(e)}}class ZC{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Wt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class JC{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new ZC(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Wt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class lE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class eN{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Rn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Fe(this.o===void 0,3512);const r=u=>{u.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,he("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>r(u))};const o=u=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new lE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Fe(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new lE(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tN(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<i;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fw(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=tN(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<t&&(r+=e.charAt(o[u]%62))}return r}}function xe(i,e){return i<e?-1:i>e?1:0}function Rp(i,e){let t=0;for(;t<i.length&&t<e.length;){const r=i.codePointAt(t),o=e.codePointAt(t);if(r!==o){if(r<128&&o<128)return xe(r,o);{const u=Fw(),h=nN(u.encode(uE(i,t)),u.encode(uE(e,t)));return h!==0?h:xe(r,o)}}t+=r>65535?2:1}return xe(i.length,e.length)}function uE(i,e){return i.codePointAt(e)>65535?i.substring(e,e+2):i.substring(e,e+1)}function nN(i,e){for(let t=0;t<i.length&&t<e.length;++t)if(i[t]!==e[t])return xe(i[t],e[t]);return xe(i.length,e.length)}function Co(i,e,t){return i.length===e.length&&i.every((r,o)=>t(r,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE="__name__";class Si{constructor(e,t,r){t===void 0?t=0:t>e.length&&Te(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Te(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Si.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Si?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let o=0;o<r;o++){const u=Si.compareSegments(e.get(o),t.get(o));if(u!==0)return u}return xe(e.length,t.length)}static compareSegments(e,t){const r=Si.isNumericId(e),o=Si.isNumericId(t);return r&&!o?-1:!r&&o?1:r&&o?Si.extractNumericId(e).compare(Si.extractNumericId(t)):Rp(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ar.fromString(e.substring(4,e.length-2))}}class tt extends Si{construct(e,t,r){return new tt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new ce(ee.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(o=>o.length>0))}return new tt(t)}static emptyPath(){return new tt([])}}const iN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Gt extends Si{construct(e,t,r){return new Gt(e,t,r)}static isValidIdentifier(e){return iN.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Gt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===cE}static keyField(){return new Gt([cE])}static fromServerFormat(e){const t=[];let r="",o=0;const u=()=>{if(r.length===0)throw new ce(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let h=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new ce(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ce(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=p,o+=2}else d==="`"?(h=!h,o++):d!=="."||h?(r+=d,o++):(u(),o++)}if(u(),h)throw new ce(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Gt(t)}static emptyPath(){return new Gt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.path=e}static fromPath(e){return new ge(tt.fromString(e))}static fromName(e){return new ge(tt.fromString(e).popFirst(5))}static empty(){return new ge(tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return tt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new tt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hw(i,e,t){if(!t)throw new ce(ee.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function sN(i,e,t,r){if(e===!0&&r===!0)throw new ce(ee.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function hE(i){if(!ge.isDocumentKey(i))throw new ce(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function fE(i){if(ge.isDocumentKey(i))throw new ce(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Gw(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function pf(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Te(12329,{type:typeof i})}function mn(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new ce(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=pf(i);throw new ce(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function St(i,e){const t={typeString:i};return e&&(t.value=e),t}function Pu(i,e){if(!Gw(i))throw new ce(ee.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const o=e[r].typeString,u="value"in e[r]?{value:e[r].value}:void 0;if(!(r in i)){t=`JSON missing required field: '${r}'`;break}const h=i[r];if(o&&typeof h!==o){t=`JSON field '${r}' must be a ${o}.`;break}if(u!==void 0&&h!==u.value){t=`Expected '${r}' field to equal '${u.value}'`;break}}if(t)throw new ce(ee.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dE=-62135596800,mE=1e6;class nt{static now(){return nt.fromMillis(Date.now())}static fromDate(e){return nt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*mE);return new nt(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ce(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ce(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<dE)throw new ce(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/mE}_compareTo(e){return this.seconds===e.seconds?xe(this.nanoseconds,e.nanoseconds):xe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:nt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Pu(e,nt._jsonSchema))return new nt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-dE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}nt._jsonSchemaVersion="firestore/timestamp/1.0",nt._jsonSchema={type:St("string",nt._jsonSchemaVersion),seconds:St("number"),nanoseconds:St("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{static fromTimestamp(e){return new be(e)}static min(){return new be(new nt(0,0))}static max(){return new be(new nt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eu=-1;function rN(i,e){const t=i.toTimestamp().seconds,r=i.toTimestamp().nanoseconds+1,o=be.fromTimestamp(r===1e9?new nt(t+1,0):new nt(t,r));return new cr(o,ge.empty(),e)}function aN(i){return new cr(i.readTime,i.key,Eu)}class cr{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new cr(be.min(),ge.empty(),Eu)}static max(){return new cr(be.max(),ge.empty(),Eu)}}function oN(i,e){let t=i.readTime.compareTo(e.readTime);return t!==0?t:(t=ge.comparator(i.documentKey,e.documentKey),t!==0?t:xe(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class uN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qo(i){if(i.code!==ee.FAILED_PRECONDITION||i.message!==lN)throw i;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ne((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(r,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ne?t:ne.resolve(t)}catch(t){return ne.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ne.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ne.reject(t)}static resolve(e){return new ne((t,r)=>{t(e)})}static reject(e){return new ne((t,r)=>{r(e)})}static waitFor(e){return new ne((t,r)=>{let o=0,u=0,h=!1;e.forEach(d=>{++o,d.next(()=>{++u,h&&u===o&&t()},p=>r(p))}),h=!0,u===o&&t()})}static or(e){let t=ne.resolve(!1);for(const r of e)t=t.next(o=>o?ne.resolve(o):r());return t}static forEach(e,t){const r=[];return e.forEach((o,u)=>{r.push(t.call(this,o,u))}),this.waitFor(r)}static mapArray(e,t){return new ne((r,o)=>{const u=e.length,h=new Array(u);let d=0;for(let p=0;p<u;p++){const g=p;t(e[g]).next(_=>{h[g]=_,++d,d===u&&r(h)},_=>o(_))}})}static doWhile(e,t){return new ne((r,o)=>{const u=()=>{e()===!0?t().next(()=>{u()},o):r()};u()})}}function cN(i){const e=i.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Fo(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this._e(r),this.ae=r=>t.writeSequenceNumber(r))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}gf.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hg=-1;function yf(i){return i==null}function qh(i){return i===0&&1/i==-1/0}function hN(i){return typeof i=="number"&&Number.isInteger(i)&&!qh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $w="";function fN(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=pE(e)),e=dN(i.get(t),e);return pE(e)}function dN(i,e){let t=e;const r=i.length;for(let o=0;o<r;o++){const u=i.charAt(o);switch(u){case"\0":t+="";break;case $w:t+="";break;default:t+=u}}return t}function pE(i){return i+$w+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gE(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function vr(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function Qw(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e,t){this.comparator=e,this.root=t||Ht.EMPTY}insert(e,t){return new ut(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ht.BLACK,null,null))}remove(e){return new ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ht.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return t+r.left.size;o<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new mh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new mh(this.root,e,this.comparator,!1)}getReverseIterator(){return new mh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new mh(this.root,e,this.comparator,!0)}}class mh{constructor(e,t,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?r(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ht{constructor(e,t,r,o,u){this.key=e,this.value=t,this.color=r??Ht.RED,this.left=o??Ht.EMPTY,this.right=u??Ht.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,o,u){return new Ht(e??this.key,t??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let o=this;const u=r(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,r),null):u===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ht.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Ht.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ht.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ht.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Te(27949);return e+(this.isRed()?0:1)}}Ht.EMPTY=null,Ht.RED=!0,Ht.BLACK=!1;Ht.EMPTY=new class{constructor(){this.size=0}get key(){throw Te(57766)}get value(){throw Te(16141)}get color(){throw Te(16727)}get left(){throw Te(29726)}get right(){throw Te(36894)}copy(e,t,r,o,u){return this}insert(e,t,r){return new Ht(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e){this.comparator=e,this.data=new ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new yE(this.data.getIterator())}getIteratorFrom(e){return new yE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Dt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=r.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Dt(this.comparator);return t.data=e,t}}class yE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.fields=e,e.sort(Gt.comparator)}static empty(){return new In([])}unionWith(e){let t=new Dt(Gt.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new In(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Co(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new Kw("Invalid base64 string: "+u):u}}(e);return new $t(t)}static fromUint8Array(e){const t=function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u}(e);return new $t(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let o=0;o<t.length;o++)r[o]=t.charCodeAt(o);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return xe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}$t.EMPTY_BYTE_STRING=new $t("");const mN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function hr(i){if(Fe(!!i,39018),typeof i=="string"){let e=0;const t=mN.exec(i);if(Fe(!!t,46558,{timestamp:i}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(i);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:vt(i.seconds),nanos:vt(i.nanos)}}function vt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function fr(i){return typeof i=="string"?$t.fromBase64String(i):$t.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yw="server_timestamp",Xw="__type__",Ww="__previous_value__",Zw="__local_write_time__";function fg(i){var e,t;return((t=(((e=i?.mapValue)===null||e===void 0?void 0:e.fields)||{})[Xw])===null||t===void 0?void 0:t.stringValue)===Yw}function vf(i){const e=i.mapValue.fields[Ww];return fg(e)?vf(e):e}function Tu(i){const e=hr(i.mapValue.fields[Zw].timestampValue);return new nt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pN{constructor(e,t,r,o,u,h,d,p,g,_){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=_}}const Fh="(default)";class wu{constructor(e,t){this.projectId=e,this.database=t||Fh}static empty(){return new wu("","")}get isDefaultDatabase(){return this.database===Fh}isEqual(e){return e instanceof wu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jw="__type__",gN="__max__",ph={mapValue:{}},e1="__vector__",Hh="value";function dr(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?fg(i)?4:vN(i)?9007199254740991:yN(i)?10:11:Te(28295,{value:i})}function Mi(i,e){if(i===e)return!0;const t=dr(i);if(t!==dr(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Tu(i).isEqual(Tu(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=hr(o.timestampValue),d=hr(u.timestampValue);return h.seconds===d.seconds&&h.nanos===d.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(o,u){return fr(o.bytesValue).isEqual(fr(u.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return vt(o.geoPointValue.latitude)===vt(u.geoPointValue.latitude)&&vt(o.geoPointValue.longitude)===vt(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return vt(o.integerValue)===vt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=vt(o.doubleValue),d=vt(u.doubleValue);return h===d?qh(h)===qh(d):isNaN(h)&&isNaN(d)}return!1}(i,e);case 9:return Co(i.arrayValue.values||[],e.arrayValue.values||[],Mi);case 10:case 11:return function(o,u){const h=o.mapValue.fields||{},d=u.mapValue.fields||{};if(gE(h)!==gE(d))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(d[p]===void 0||!Mi(h[p],d[p])))return!1;return!0}(i,e);default:return Te(52216,{left:i})}}function Au(i,e){return(i.values||[]).find(t=>Mi(t,e))!==void 0}function No(i,e){if(i===e)return 0;const t=dr(i),r=dr(e);if(t!==r)return xe(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return xe(i.booleanValue,e.booleanValue);case 2:return function(u,h){const d=vt(u.integerValue||u.doubleValue),p=vt(h.integerValue||h.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1}(i,e);case 3:return vE(i.timestampValue,e.timestampValue);case 4:return vE(Tu(i),Tu(e));case 5:return Rp(i.stringValue,e.stringValue);case 6:return function(u,h){const d=fr(u),p=fr(h);return d.compareTo(p)}(i.bytesValue,e.bytesValue);case 7:return function(u,h){const d=u.split("/"),p=h.split("/");for(let g=0;g<d.length&&g<p.length;g++){const _=xe(d[g],p[g]);if(_!==0)return _}return xe(d.length,p.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,h){const d=xe(vt(u.latitude),vt(h.latitude));return d!==0?d:xe(vt(u.longitude),vt(h.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return _E(i.arrayValue,e.arrayValue);case 10:return function(u,h){var d,p,g,_;const A=u.fields||{},w=h.fields||{},I=(d=A[Hh])===null||d===void 0?void 0:d.arrayValue,x=(p=w[Hh])===null||p===void 0?void 0:p.arrayValue,z=xe(((g=I?.values)===null||g===void 0?void 0:g.length)||0,((_=x?.values)===null||_===void 0?void 0:_.length)||0);return z!==0?z:_E(I,x)}(i.mapValue,e.mapValue);case 11:return function(u,h){if(u===ph.mapValue&&h===ph.mapValue)return 0;if(u===ph.mapValue)return 1;if(h===ph.mapValue)return-1;const d=u.fields||{},p=Object.keys(d),g=h.fields||{},_=Object.keys(g);p.sort(),_.sort();for(let A=0;A<p.length&&A<_.length;++A){const w=Rp(p[A],_[A]);if(w!==0)return w;const I=No(d[p[A]],g[_[A]]);if(I!==0)return I}return xe(p.length,_.length)}(i.mapValue,e.mapValue);default:throw Te(23264,{le:t})}}function vE(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return xe(i,e);const t=hr(i),r=hr(e),o=xe(t.seconds,r.seconds);return o!==0?o:xe(t.nanos,r.nanos)}function _E(i,e){const t=i.values||[],r=e.values||[];for(let o=0;o<t.length&&o<r.length;++o){const u=No(t[o],r[o]);if(u)return u}return xe(t.length,r.length)}function Do(i){return Ip(i)}function Ip(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(t){const r=hr(t);return`time(${r.seconds},${r.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(t){return fr(t).toBase64()}(i.bytesValue):"referenceValue"in i?function(t){return ge.fromName(t).toString()}(i.referenceValue):"geoPointValue"in i?function(t){return`geo(${t.latitude},${t.longitude})`}(i.geoPointValue):"arrayValue"in i?function(t){let r="[",o=!0;for(const u of t.values||[])o?o=!1:r+=",",r+=Ip(u);return r+"]"}(i.arrayValue):"mapValue"in i?function(t){const r=Object.keys(t.fields||{}).sort();let o="{",u=!0;for(const h of r)u?u=!1:o+=",",o+=`${h}:${Ip(t.fields[h])}`;return o+"}"}(i.mapValue):Te(61005,{value:i})}function Ih(i){switch(dr(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=vf(i);return e?16+Ih(e):16;case 5:return 2*i.stringValue.length;case 6:return fr(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((o,u)=>o+Ih(u),0)}(i.arrayValue);case 10:case 11:return function(r){let o=0;return vr(r.fields,(u,h)=>{o+=u.length+Ih(h)}),o}(i.mapValue);default:throw Te(13486,{value:i})}}function EE(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function xp(i){return!!i&&"integerValue"in i}function dg(i){return!!i&&"arrayValue"in i}function TE(i){return!!i&&"nullValue"in i}function wE(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function xh(i){return!!i&&"mapValue"in i}function yN(i){var e,t;return((t=(((e=i?.mapValue)===null||e===void 0?void 0:e.fields)||{})[Jw])===null||t===void 0?void 0:t.stringValue)===e1}function fu(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return vr(i.mapValue.fields,(t,r)=>e.mapValue.fields[t]=fu(r)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=fu(i.arrayValue.values[t]);return e}return Object.assign({},i)}function vN(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===gN}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.value=e}static empty(){return new hn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!xh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=fu(t)}setAll(e){let t=Gt.emptyPath(),r={},o=[];e.forEach((h,d)=>{if(!t.isImmediateParentOf(d)){const p=this.getFieldsMap(t);this.applyChanges(p,r,o),r={},o=[],t=d.popLast()}h?r[d.lastSegment()]=fu(h):o.push(d.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,r,o)}delete(e){const t=this.field(e.popLast());xh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Mi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=t.mapValue.fields[e.get(r)];xh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,r){vr(t,(o,u)=>e[o]=u);for(const o of r)delete e[o]}clone(){return new hn(fu(this.value))}}function t1(i){const e=[];return vr(i.fields,(t,r)=>{const o=new Gt([t]);if(xh(r)){const u=t1(r.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)}),new In(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e,t,r,o,u,h,d){this.key=e,this.documentType=t,this.version=r,this.readTime=o,this.createTime=u,this.data=h,this.documentState=d}static newInvalidDocument(e){return new Zt(e,0,be.min(),be.min(),be.min(),hn.empty(),0)}static newFoundDocument(e,t,r,o){return new Zt(e,1,t,be.min(),r,o,0)}static newNoDocument(e,t){return new Zt(e,2,t,be.min(),be.min(),hn.empty(),0)}static newUnknownDocument(e,t){return new Zt(e,3,t,be.min(),be.min(),hn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=hn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=hn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(e,t){this.position=e,this.inclusive=t}}function AE(i,e,t){let r=0;for(let o=0;o<i.position.length;o++){const u=e[o],h=i.position[o];if(u.field.isKeyField()?r=ge.comparator(ge.fromName(h.referenceValue),t.key):r=No(h,t.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function bE(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!Mi(i.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu{constructor(e,t="asc"){this.field=e,this.dir=t}}function _N(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{}class bt extends n1{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new TN(e,t,r):t==="array-contains"?new bN(e,r):t==="in"?new SN(e,r):t==="not-in"?new RN(e,r):t==="array-contains-any"?new IN(e,r):new bt(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new wN(e,r):new AN(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(No(t,this.value)):t!==null&&dr(this.value)===dr(t)&&this.matchesComparison(No(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class si extends n1{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new si(e,t)}matches(e){return i1(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function i1(i){return i.op==="and"}function s1(i){return EN(i)&&i1(i)}function EN(i){for(const e of i.filters)if(e instanceof si)return!1;return!0}function Cp(i){if(i instanceof bt)return i.field.canonicalString()+i.op.toString()+Do(i.value);if(s1(i))return i.filters.map(e=>Cp(e)).join(",");{const e=i.filters.map(t=>Cp(t)).join(",");return`${i.op}(${e})`}}function r1(i,e){return i instanceof bt?function(r,o){return o instanceof bt&&r.op===o.op&&r.field.isEqual(o.field)&&Mi(r.value,o.value)}(i,e):i instanceof si?function(r,o){return o instanceof si&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce((u,h,d)=>u&&r1(h,o.filters[d]),!0):!1}(i,e):void Te(19439)}function a1(i){return i instanceof bt?function(t){return`${t.field.canonicalString()} ${t.op} ${Do(t.value)}`}(i):i instanceof si?function(t){return t.op.toString()+" {"+t.getFilters().map(a1).join(" ,")+"}"}(i):"Filter"}class TN extends bt{constructor(e,t,r){super(e,t,r),this.key=ge.fromName(r.referenceValue)}matches(e){const t=ge.comparator(e.key,this.key);return this.matchesComparison(t)}}class wN extends bt{constructor(e,t){super(e,"in",t),this.keys=o1("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class AN extends bt{constructor(e,t){super(e,"not-in",t),this.keys=o1("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function o1(i,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>ge.fromName(r.referenceValue))}class bN extends bt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return dg(t)&&Au(t.arrayValue,this.value)}}class SN extends bt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Au(this.value.arrayValue,t)}}class RN extends bt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Au(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Au(this.value.arrayValue,t)}}class IN extends bt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!dg(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Au(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN{constructor(e,t=null,r=[],o=[],u=null,h=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=h,this.endAt=d,this.Pe=null}}function SE(i,e=null,t=[],r=[],o=null,u=null,h=null){return new xN(i,e,t,r,o,u,h)}function mg(i){const e=Se(i);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Cp(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(u){return u.field.canonicalString()+u.dir}(r)).join(","),yf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Do(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Do(r)).join(",")),e.Pe=t}return e.Pe}function pg(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!_N(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!r1(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!bE(i.startAt,e.startAt)&&bE(i.endAt,e.endAt)}function Np(i){return ge.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(e,t=null,r=[],o=[],u=null,h="F",d=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=h,this.startAt=d,this.endAt=p,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function CN(i,e,t,r,o,u,h,d){return new Ho(i,e,t,r,o,u,h,d)}function _f(i){return new Ho(i)}function RE(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function l1(i){return i.collectionGroup!==null}function du(i){const e=Se(i);if(e.Te===null){e.Te=[];const t=new Set;for(const u of e.explicitOrderBy)e.Te.push(u),t.add(u.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let d=new Dt(Gt.comparator);return h.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(d=d.add(g.field))})}),d})(e).forEach(u=>{t.has(u.canonicalString())||u.isKeyField()||e.Te.push(new bu(u,r))}),t.has(Gt.keyField().canonicalString())||e.Te.push(new bu(Gt.keyField(),r))}return e.Te}function xi(i){const e=Se(i);return e.Ie||(e.Ie=NN(e,du(i))),e.Ie}function NN(i,e){if(i.limitType==="F")return SE(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new bu(o.field,u)});const t=i.endAt?new Gh(i.endAt.position,i.endAt.inclusive):null,r=i.startAt?new Gh(i.startAt.position,i.startAt.inclusive):null;return SE(i.path,i.collectionGroup,e,i.filters,i.limit,t,r)}}function Dp(i,e){const t=i.filters.concat([e]);return new Ho(i.path,i.collectionGroup,i.explicitOrderBy.slice(),t,i.limit,i.limitType,i.startAt,i.endAt)}function $h(i,e,t){return new Ho(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function Ef(i,e){return pg(xi(i),xi(e))&&i.limitType===e.limitType}function u1(i){return`${mg(xi(i))}|lt:${i.limitType}`}function _o(i){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(o=>a1(o)).join(", ")}]`),yf(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(o=>Do(o)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(o=>Do(o)).join(",")),`Target(${r})`}(xi(i))}; limitType=${i.limitType})`}function Tf(i,e){return e.isFoundDocument()&&function(r,o){const u=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):ge.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)}(i,e)&&function(r,o){for(const u of du(r))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(i,e)&&function(r,o){for(const u of r.filters)if(!u.matches(o))return!1;return!0}(i,e)&&function(r,o){return!(r.startAt&&!function(h,d,p){const g=AE(h,d,p);return h.inclusive?g<=0:g<0}(r.startAt,du(r),o)||r.endAt&&!function(h,d,p){const g=AE(h,d,p);return h.inclusive?g>=0:g>0}(r.endAt,du(r),o))}(i,e)}function DN(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function c1(i){return(e,t)=>{let r=!1;for(const o of du(i)){const u=ON(o,e,t);if(u!==0)return u;r=r||o.field.isKeyField()}return 0}}function ON(i,e,t){const r=i.field.isKeyField()?ge.comparator(e.key,t.key):function(u,h,d){const p=h.data.field(u),g=d.data.field(u);return p!==null&&g!==null?No(p,g):Te(42886)}(i.field,e,t);switch(i.dir){case"asc":return r;case"desc":return-1*r;default:return Te(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[o,u]of r)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[t]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){vr(this.inner,(t,r)=>{for(const[o,u]of r)e(o,u)})}isEmpty(){return Qw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MN=new ut(ge.comparator);function vs(){return MN}const h1=new ut(ge.comparator);function ou(...i){let e=h1;for(const t of i)e=e.insert(t.key,t);return e}function f1(i){let e=h1;return i.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function ra(){return mu()}function d1(){return mu()}function mu(){return new Ea(i=>i.toString(),(i,e)=>i.isEqual(e))}const kN=new ut(ge.comparator),PN=new Dt(ge.comparator);function ke(...i){let e=PN;for(const t of i)e=e.add(t);return e}const VN=new Dt(xe);function jN(){return VN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gg(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qh(e)?"-0":e}}function m1(i){return{integerValue:""+i}}function p1(i,e){return hN(e)?m1(e):gg(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf{constructor(){this._=void 0}}function LN(i,e,t){return i instanceof Su?function(o,u){const h={fields:{[Xw]:{stringValue:Yw},[Zw]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&fg(u)&&(u=vf(u)),u&&(h.fields[Ww]=u),{mapValue:h}}(t,e):i instanceof Oo?y1(i,e):i instanceof Mo?v1(i,e):function(o,u){const h=g1(o,u),d=IE(h)+IE(o.Ee);return xp(h)&&xp(o.Ee)?m1(d):gg(o.serializer,d)}(i,e)}function UN(i,e,t){return i instanceof Oo?y1(i,e):i instanceof Mo?v1(i,e):t}function g1(i,e){return i instanceof Ru?function(r){return xp(r)||function(u){return!!u&&"doubleValue"in u}(r)}(e)?e:{integerValue:0}:null}class Su extends wf{}class Oo extends wf{constructor(e){super(),this.elements=e}}function y1(i,e){const t=_1(e);for(const r of i.elements)t.some(o=>Mi(o,r))||t.push(r);return{arrayValue:{values:t}}}class Mo extends wf{constructor(e){super(),this.elements=e}}function v1(i,e){let t=_1(e);for(const r of i.elements)t=t.filter(o=>!Mi(o,r));return{arrayValue:{values:t}}}class Ru extends wf{constructor(e,t){super(),this.serializer=e,this.Ee=t}}function IE(i){return vt(i.integerValue||i.doubleValue)}function _1(i){return dg(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af{constructor(e,t){this.field=e,this.transform=t}}function BN(i,e){return i.field.isEqual(e.field)&&function(r,o){return r instanceof Oo&&o instanceof Oo||r instanceof Mo&&o instanceof Mo?Co(r.elements,o.elements,Mi):r instanceof Ru&&o instanceof Ru?Mi(r.Ee,o.Ee):r instanceof Su&&o instanceof Su}(i.transform,e.transform)}class zN{constructor(e,t){this.version=e,this.transformResults=t}}class Fn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Fn}static exists(e){return new Fn(void 0,e)}static updateTime(e){return new Fn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ch(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class bf{}function E1(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new yg(i.key,Fn.none()):new Vu(i.key,i.data,Fn.none());{const t=i.data,r=hn.empty();let o=new Dt(Gt.comparator);for(let u of e.fields)if(!o.has(u)){let h=t.field(u);h===null&&u.length>1&&(u=u.popLast(),h=t.field(u)),h===null?r.delete(u):r.set(u,h),o=o.add(u)}return new _r(i.key,r,new In(o.toArray()),Fn.none())}}function qN(i,e,t){i instanceof Vu?function(o,u,h){const d=o.value.clone(),p=CE(o.fieldTransforms,u,h.transformResults);d.setAll(p),u.convertToFoundDocument(h.version,d).setHasCommittedMutations()}(i,e,t):i instanceof _r?function(o,u,h){if(!Ch(o.precondition,u))return void u.convertToUnknownDocument(h.version);const d=CE(o.fieldTransforms,u,h.transformResults),p=u.data;p.setAll(T1(o)),p.setAll(d),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()}(i,e,t):function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,t)}function pu(i,e,t,r){return i instanceof Vu?function(u,h,d,p){if(!Ch(u.precondition,h))return d;const g=u.value.clone(),_=NE(u.fieldTransforms,p,h);return g.setAll(_),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null}(i,e,t,r):i instanceof _r?function(u,h,d,p){if(!Ch(u.precondition,h))return d;const g=NE(u.fieldTransforms,p,h),_=h.data;return _.setAll(T1(u)),_.setAll(g),h.convertToFoundDocument(h.version,_).setHasLocalMutations(),d===null?null:d.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(A=>A.field))}(i,e,t,r):function(u,h,d){return Ch(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):d}(i,e,t)}function FN(i,e){let t=null;for(const r of i.fieldTransforms){const o=e.data.field(r.field),u=g1(r.transform,o||null);u!=null&&(t===null&&(t=hn.empty()),t.set(r.field,u))}return t||null}function xE(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Co(r,o,(u,h)=>BN(u,h))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Vu extends bf{constructor(e,t,r,o=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class _r extends bf{constructor(e,t,r,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function T1(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=i.data.field(t);e.set(t,r)}}),e}function CE(i,e,t){const r=new Map;Fe(i.length===t.length,32656,{Ae:t.length,Re:i.length});for(let o=0;o<t.length;o++){const u=i[o],h=u.transform,d=e.data.field(u.field);r.set(u.field,UN(h,d,t[o]))}return r}function NE(i,e,t){const r=new Map;for(const o of i){const u=o.transform,h=t.data.field(o.field);r.set(o.field,LN(u,h,e))}return r}class yg extends bf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class HN extends bf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN{constructor(e,t,r,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&qN(u,e,r[o])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=pu(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=pu(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=d1();return this.mutations.forEach(o=>{const u=e.get(o.key),h=u.overlayedDocument;let d=this.applyToLocalView(h,u.mutatedFields);d=t.has(o.key)?null:d;const p=E1(h,d);p!==null&&r.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(be.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ke())}isEqual(e){return this.batchId===e.batchId&&Co(this.mutations,e.mutations,(t,r)=>xE(t,r))&&Co(this.baseMutations,e.baseMutations,(t,r)=>xE(t,r))}}class vg{constructor(e,t,r,o){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=o}static from(e,t,r){Fe(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let o=function(){return kN}();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,r[h].version);return new vg(e,t,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $N{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var At,Le;function KN(i){switch(i){case ee.OK:return Te(64938);case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return Te(15467,{code:i})}}function w1(i){if(i===void 0)return ys("GRPC error has no .code"),ee.UNKNOWN;switch(i){case At.OK:return ee.OK;case At.CANCELLED:return ee.CANCELLED;case At.UNKNOWN:return ee.UNKNOWN;case At.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case At.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case At.INTERNAL:return ee.INTERNAL;case At.UNAVAILABLE:return ee.UNAVAILABLE;case At.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case At.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case At.NOT_FOUND:return ee.NOT_FOUND;case At.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case At.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case At.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case At.ABORTED:return ee.ABORTED;case At.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case At.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case At.DATA_LOSS:return ee.DATA_LOSS;default:return Te(39323,{code:i})}}(Le=At||(At={}))[Le.OK=0]="OK",Le[Le.CANCELLED=1]="CANCELLED",Le[Le.UNKNOWN=2]="UNKNOWN",Le[Le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Le[Le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Le[Le.NOT_FOUND=5]="NOT_FOUND",Le[Le.ALREADY_EXISTS=6]="ALREADY_EXISTS",Le[Le.PERMISSION_DENIED=7]="PERMISSION_DENIED",Le[Le.UNAUTHENTICATED=16]="UNAUTHENTICATED",Le[Le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Le[Le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Le[Le.ABORTED=10]="ABORTED",Le[Le.OUT_OF_RANGE=11]="OUT_OF_RANGE",Le[Le.UNIMPLEMENTED=12]="UNIMPLEMENTED",Le[Le.INTERNAL=13]="INTERNAL",Le[Le.UNAVAILABLE=14]="UNAVAILABLE",Le[Le.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YN=new ar([4294967295,4294967295],0);function DE(i){const e=Fw().encode(i),t=new Pw;return t.update(e),new Uint8Array(t.digest())}function OE(i){const e=new DataView(i.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new ar([t,r],0),new ar([o,u],0)]}class _g{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new lu(`Invalid padding: ${t}`);if(r<0)throw new lu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new lu(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new lu(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=ar.fromNumber(this.fe)}pe(e,t,r){let o=e.add(t.multiply(ar.fromNumber(r)));return o.compare(YN)===1&&(o=new ar([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const t=DE(e),[r,o]=OE(t);for(let u=0;u<this.hashCount;u++){const h=this.pe(r,o,u);if(!this.ye(h))return!1}return!0}static create(e,t,r){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new _g(u,o,t);return r.forEach(d=>h.insert(d)),h}insert(e){if(this.fe===0)return;const t=DE(e),[r,o]=OE(t);for(let u=0;u<this.hashCount;u++){const h=this.pe(r,o,u);this.we(h)}}we(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class lu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(e,t,r,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const o=new Map;return o.set(e,ju.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Sf(be.min(),o,new ut(xe),vs(),ke())}}class ju{constructor(e,t,r,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new ju(r,t,ke(),ke(),ke())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(e,t,r,o){this.Se=e,this.removedTargetIds=t,this.key=r,this.be=o}}class A1{constructor(e,t){this.targetId=e,this.De=t}}class b1{constructor(e,t,r=$t.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=o}}class ME{constructor(){this.ve=0,this.Ce=kE(),this.Fe=$t.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=ke(),t=ke(),r=ke();return this.Ce.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:r=r.add(o);break;default:Te(38017,{changeType:u})}}),new ju(this.Fe,this.Me,e,t,r)}ke(){this.xe=!1,this.Ce=kE()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Fe(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class XN{constructor(e){this.We=e,this.Ge=new Map,this.ze=vs(),this.je=gh(),this.Je=gh(),this.He=new ut(xe)}Ye(e){for(const t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(const t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,t=>{const r=this.tt(t);switch(e.state){case 0:this.nt(t)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),r.Be(e.resumeToken));break;default:Te(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach((r,o)=>{this.nt(o)&&t(o)})}it(e){const t=e.targetId,r=e.De.count,o=this.st(t);if(o){const u=o.target;if(Np(u))if(r===0){const h=new ge(u.path);this.Xe(t,h,Zt.newNoDocument(h,be.min()))}else Fe(r===1,20013,{expectedCount:r});else{const h=this.ot(t);if(h!==r){const d=this._t(e),p=d?this.ut(d,e,h):1;if(p!==0){this.rt(t);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,g)}}}}}_t(e){const t=e.De.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:u=0}=t;let h,d;try{h=fr(r).toUint8Array()}catch(p){if(p instanceof Kw)return ur("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new _g(h,o,u)}catch(p){return ur(p instanceof lu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.fe===0?null:d}ut(e,t,r){return t.De.count===r-this.ht(e,t.targetId)?0:2}ht(e,t){const r=this.We.getRemoteKeysForTarget(t);let o=0;return r.forEach(u=>{const h=this.We.lt(),d=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(d)||(this.Xe(t,u,null),o++)}),o}Pt(e){const t=new Map;this.Ge.forEach((u,h)=>{const d=this.st(h);if(d){if(u.current&&Np(d.target)){const p=new ge(d.target.path);this.Tt(p).has(h)||this.It(h,p)||this.Xe(h,p,Zt.newNoDocument(p,e))}u.Ne&&(t.set(h,u.Le()),u.ke())}});let r=ke();this.Je.forEach((u,h)=>{let d=!0;h.forEachWhile(p=>{const g=this.st(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(r=r.add(u))}),this.ze.forEach((u,h)=>h.setReadTime(e));const o=new Sf(e,t,this.He,this.ze,r);return this.ze=vs(),this.je=gh(),this.Je=gh(),this.He=new ut(xe),o}Ze(e,t){if(!this.nt(e))return;const r=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,r),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,r){if(!this.nt(e))return;const o=this.tt(e);this.It(e,t)?o.qe(t,1):o.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),r&&(this.ze=this.ze.insert(t,r))}removeTarget(e){this.Ge.delete(e)}ot(e){const t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new ME,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new Dt(xe),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new Dt(xe),this.je=this.je.insert(e,t)),t}nt(e){const t=this.st(e)!==null;return t||he("WatchChangeAggregator","Detected inactive target",e),t}st(e){const t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new ME),this.We.getRemoteKeysForTarget(e).forEach(t=>{this.Xe(e,t,null)})}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}}function gh(){return new ut(ge.comparator)}function kE(){return new ut(ge.comparator)}const WN={asc:"ASCENDING",desc:"DESCENDING"},ZN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},JN={and:"AND",or:"OR"};class eD{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Op(i,e){return i.useProto3Json||yf(e)?e:{value:e}}function Qh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function S1(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function tD(i,e){return Qh(i,e.toTimestamp())}function Ci(i){return Fe(!!i,49232),be.fromTimestamp(function(t){const r=hr(t);return new nt(r.seconds,r.nanos)}(i))}function Eg(i,e){return Mp(i,e).canonicalString()}function Mp(i,e){const t=function(o){return new tt(["projects",o.projectId,"databases",o.database])}(i).child("documents");return e===void 0?t:t.child(e)}function R1(i){const e=tt.fromString(i);return Fe(D1(e),10190,{key:e.toString()}),e}function kp(i,e){return Eg(i.databaseId,e.path)}function sp(i,e){const t=R1(e);if(t.get(1)!==i.databaseId.projectId)throw new ce(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new ce(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new ge(x1(t))}function I1(i,e){return Eg(i.databaseId,e)}function nD(i){const e=R1(i);return e.length===4?tt.emptyPath():x1(e)}function Pp(i){return new tt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function x1(i){return Fe(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function PE(i,e,t){return{name:kp(i,e),fields:t.value.mapValue.fields}}function iD(i,e){let t;if("targetChange"in e){e.targetChange;const r=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Te(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(g,_){return g.useProto3Json?(Fe(_===void 0||typeof _=="string",58123),$t.fromBase64String(_||"")):(Fe(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),$t.fromUint8Array(_||new Uint8Array))}(i,e.targetChange.resumeToken),h=e.targetChange.cause,d=h&&function(g){const _=g.code===void 0?ee.UNKNOWN:w1(g.code);return new ce(_,g.message||"")}(h);t=new b1(r,o,u,d||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=sp(i,r.document.name),u=Ci(r.document.updateTime),h=r.document.createTime?Ci(r.document.createTime):be.min(),d=new hn({mapValue:{fields:r.document.fields}}),p=Zt.newFoundDocument(o,u,h,d),g=r.targetIds||[],_=r.removedTargetIds||[];t=new Nh(g,_,p.key,p)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=sp(i,r.document),u=r.readTime?Ci(r.readTime):be.min(),h=Zt.newNoDocument(o,u),d=r.removedTargetIds||[];t=new Nh([],d,h.key,h)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=sp(i,r.document),u=r.removedTargetIds||[];t=new Nh([],u,o,null)}else{if(!("filter"in e))return Te(11601,{At:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:u}=r,h=new QN(o,u),d=r.targetId;t=new A1(d,h)}}return t}function sD(i,e){let t;if(e instanceof Vu)t={update:PE(i,e.key,e.value)};else if(e instanceof yg)t={delete:kp(i,e.key)};else if(e instanceof _r)t={update:PE(i,e.key,e.data),updateMask:dD(e.fieldMask)};else{if(!(e instanceof HN))return Te(16599,{Rt:e.type});t={verify:kp(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(u,h){const d=h.transform;if(d instanceof Su)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Oo)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Mo)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Ru)return{fieldPath:h.field.canonicalString(),increment:d.Ee};throw Te(20930,{transform:h.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:tD(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Te(27497)}(i,e.precondition)),t}function rD(i,e){return i&&i.length>0?(Fe(e!==void 0,14353),i.map(t=>function(o,u){let h=o.updateTime?Ci(o.updateTime):Ci(u);return h.isEqual(be.min())&&(h=Ci(u)),new zN(h,o.transformResults||[])}(t,e))):[]}function aD(i,e){return{documents:[I1(i,e.path)]}}function oD(i,e){const t={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=I1(i,o);const u=function(g){if(g.length!==0)return N1(si.create(g,"and"))}(e.filters);u&&(t.structuredQuery.where=u);const h=function(g){if(g.length!==0)return g.map(_=>function(w){return{field:Eo(w.field),direction:cD(w.dir)}}(_))}(e.orderBy);h&&(t.structuredQuery.orderBy=h);const d=Op(i,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{Vt:t,parent:o}}function lD(i){let e=nD(i.parent);const t=i.structuredQuery,r=t.from?t.from.length:0;let o=null;if(r>0){Fe(r===1,65062);const _=t.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let u=[];t.where&&(u=function(A){const w=C1(A);return w instanceof si&&s1(w)?w.getFilters():[w]}(t.where));let h=[];t.orderBy&&(h=function(A){return A.map(w=>function(x){return new bu(To(x.field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(w))}(t.orderBy));let d=null;t.limit&&(d=function(A){let w;return w=typeof A=="object"?A.value:A,yf(w)?null:w}(t.limit));let p=null;t.startAt&&(p=function(A){const w=!!A.before,I=A.values||[];return new Gh(I,w)}(t.startAt));let g=null;return t.endAt&&(g=function(A){const w=!A.before,I=A.values||[];return new Gh(I,w)}(t.endAt)),CN(e,o,h,u,d,"F",p,g)}function uD(i,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te(28987,{purpose:o})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function C1(i){return i.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=To(t.unaryFilter.field);return bt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=To(t.unaryFilter.field);return bt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=To(t.unaryFilter.field);return bt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=To(t.unaryFilter.field);return bt.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Te(61313);default:return Te(60726)}}(i):i.fieldFilter!==void 0?function(t){return bt.create(To(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Te(58110);default:return Te(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(t){return si.create(t.compositeFilter.filters.map(r=>C1(r)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Te(1026)}}(t.compositeFilter.op))}(i):Te(30097,{filter:i})}function cD(i){return WN[i]}function hD(i){return ZN[i]}function fD(i){return JN[i]}function Eo(i){return{fieldPath:i.canonicalString()}}function To(i){return Gt.fromServerFormat(i.fieldPath)}function N1(i){return i instanceof bt?function(t){if(t.op==="=="){if(wE(t.value))return{unaryFilter:{field:Eo(t.field),op:"IS_NAN"}};if(TE(t.value))return{unaryFilter:{field:Eo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(wE(t.value))return{unaryFilter:{field:Eo(t.field),op:"IS_NOT_NAN"}};if(TE(t.value))return{unaryFilter:{field:Eo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Eo(t.field),op:hD(t.op),value:t.value}}}(i):i instanceof si?function(t){const r=t.getFilters().map(o=>N1(o));return r.length===1?r[0]:{compositeFilter:{op:fD(t.op),filters:r}}}(i):Te(54877,{filter:i})}function dD(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function D1(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(e,t,r,o,u=be.min(),h=be.min(),d=$t.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(e){return new ir(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ir(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ir(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ir(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(e){this.gt=e}}function pD(i){const e=lD({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?$h(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD{constructor(){this.Dn=new yD}addToCollectionParentIndex(e,t){return this.Dn.add(t),ne.resolve()}getCollectionParents(e,t){return ne.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return ne.resolve()}deleteFieldIndex(e,t){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,t){return ne.resolve()}getDocumentsMatchingTarget(e,t){return ne.resolve(null)}getIndexType(e,t){return ne.resolve(0)}getFieldIndexes(e,t){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,t){return ne.resolve(cr.min())}getMinOffsetFromCollectionGroup(e,t){return ne.resolve(cr.min())}updateCollectionGroup(e,t,r){return ne.resolve()}updateIndexEntries(e,t){return ne.resolve()}}class yD{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t]||new Dt(tt.comparator),u=!o.has(r);return this.index[t]=o.add(r),u}has(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Dt(tt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},O1=41943040;class cn{static withCacheSize(e){return new cn(e,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */cn.DEFAULT_COLLECTION_PERCENTILE=10,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cn.DEFAULT=new cn(O1,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cn.DISABLED=new cn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new ko(0)}static ur(){return new ko(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jE="LruGarbageCollector",vD=1048576;function LE([i,e],[t,r]){const o=xe(i,t);return o===0?xe(e,r):o}class _D{constructor(e){this.Tr=e,this.buffer=new Dt(LE),this.Ir=0}dr(){return++this.Ir}Er(e){const t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();LE(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class ED{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){he(jE,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Fo(t)?he(jE,"Ignoring IndexedDB error during garbage collection: ",t):await qo(t)}await this.Rr(3e5)})}}class TD{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return ne.resolve(gf.ue);const r=new _D(t);return this.Vr.forEachTarget(e,o=>r.Er(o.sequenceNumber)).next(()=>this.Vr.gr(e,o=>r.Er(o))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(VE)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),VE):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let r,o,u,h,d,p,g;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(A=>(A>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,h=Date.now(),this.nthSequenceNumber(e,o))).next(A=>(r=A,d=Date.now(),this.removeTargets(e,r,t))).next(A=>(u=A,p=Date.now(),this.removeOrphanedDocuments(e,r))).next(A=>(g=Date.now(),vo()<=Me.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-_}ms
	Determined least recently used ${o} in `+(d-h)+`ms
	Removed ${u} targets in `+(p-d)+`ms
	Removed ${A} documents in `+(g-p)+`ms
Total Duration: ${g-_}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:A})))}}function wD(i,e){return new TD(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(){this.changes=new Ea(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Zt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?ne.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{constructor(e,t,r,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(r=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(r!==null&&pu(r.mutation,o,In.empty(),nt.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,ke()).next(()=>r))}getLocalViewOfDocuments(e,t,r=ke()){const o=ra();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,r).next(u=>{let h=ou();return u.forEach((d,p)=>{h=h.insert(d,p.overlayedDocument)}),h}))}getOverlayedDocuments(e,t){const r=ra();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,ke()))}populateOverlays(e,t,r){const o=[];return r.forEach(u=>{t.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((h,d)=>{t.set(h,d)})})}computeViews(e,t,r,o){let u=vs();const h=mu(),d=function(){return mu()}();return t.forEach((p,g)=>{const _=r.get(g.key);o.has(g.key)&&(_===void 0||_.mutation instanceof _r)?u=u.insert(g.key,g):_!==void 0?(h.set(g.key,_.mutation.getFieldMask()),pu(_.mutation,g,_.mutation.getFieldMask(),nt.now())):h.set(g.key,In.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((g,_)=>h.set(g,_)),t.forEach((g,_)=>{var A;return d.set(g,new bD(_,(A=h.get(g))!==null&&A!==void 0?A:null))}),d))}recalculateAndSaveOverlays(e,t){const r=mu();let o=new ut((h,d)=>h-d),u=ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(h=>{for(const d of h)d.keys().forEach(p=>{const g=t.get(p);if(g===null)return;let _=r.get(p)||In.empty();_=d.applyToLocalView(g,_),r.set(p,_);const A=(o.get(d.batchId)||ke()).add(p);o=o.insert(d.batchId,A)})}).next(()=>{const h=[],d=o.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),g=p.key,_=p.value,A=d1();_.forEach(w=>{if(!u.has(w)){const I=E1(t.get(w),r.get(w));I!==null&&A.set(w,I),u=u.add(w)}}),h.push(this.documentOverlayCache.saveOverlays(e,g,A))}return ne.waitFor(h)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,o){return function(h){return ge.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):l1(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,o):this.getDocumentsMatchingCollectionQuery(e,t,r,o)}getNextDocuments(e,t,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,o).next(u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,o-u.size):ne.resolve(ra());let d=Eu,p=u;return h.next(g=>ne.forEach(g,(_,A)=>(d<A.largestBatchId&&(d=A.largestBatchId),u.get(_)?ne.resolve():this.remoteDocumentCache.getEntry(e,_).next(w=>{p=p.insert(_,w)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,p,g,ke())).next(_=>({batchId:d,changes:f1(_)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ge(t)).next(r=>{let o=ou();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,r,o){const u=t.collectionGroup;let h=ou();return this.indexManager.getCollectionParents(e,u).next(d=>ne.forEach(d,p=>{const g=function(A,w){return new Ho(w,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)}(t,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,r,o).next(_=>{_.forEach((A,w)=>{h=h.insert(A,w)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,t,r,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,u,o))).next(h=>{u.forEach((p,g)=>{const _=g.getKey();h.get(_)===null&&(h=h.insert(_,Zt.newInvalidDocument(_)))});let d=ou();return h.forEach((p,g)=>{const _=u.get(p);_!==void 0&&pu(_.mutation,g,In.empty(),nt.now()),Tf(t,g)&&(d=d.insert(p,g))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return ne.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,function(o){return{id:o.id,version:o.version,createTime:Ci(o.createTime)}}(t)),ne.resolve()}getNamedQuery(e,t){return ne.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,function(o){return{name:o.name,query:pD(o.bundledQuery),readTime:Ci(o.readTime)}}(t)),ne.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{constructor(){this.overlays=new ut(ge.comparator),this.kr=new Map}getOverlay(e,t){return ne.resolve(this.overlays.get(t))}getOverlays(e,t){const r=ra();return ne.forEach(t,o=>this.getOverlay(e,o).next(u=>{u!==null&&r.set(o,u)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((o,u)=>{this.wt(e,t,u)}),ne.resolve()}removeOverlaysForBatchId(e,t,r){const o=this.kr.get(r);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.kr.delete(r)),ne.resolve()}getOverlaysForCollection(e,t,r){const o=ra(),u=t.length+1,h=new ge(t.child("")),d=this.overlays.getIteratorFrom(h);for(;d.hasNext();){const p=d.getNext().value,g=p.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>r&&o.set(p.getKey(),p)}return ne.resolve(o)}getOverlaysForCollectionGroup(e,t,r,o){let u=new ut((g,_)=>g-_);const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>r){let _=u.get(g.largestBatchId);_===null&&(_=ra(),u=u.insert(g.largestBatchId,_)),_.set(g.getKey(),g)}}const d=ra(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,_)=>d.set(g,_)),!(d.size()>=o)););return ne.resolve(d)}wt(e,t,r){const o=this.overlays.get(r.key);if(o!==null){const h=this.kr.get(o.largestBatchId).delete(r.key);this.kr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(r.key,new $N(t,r));let u=this.kr.get(t);u===void 0&&(u=ke(),this.kr.set(t,u)),this.kr.set(t,u.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(){this.sessionToken=$t.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ne.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{constructor(){this.qr=new Dt(Lt.Qr),this.$r=new Dt(Lt.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){const r=new Lt(e,t);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Wr(new Lt(e,t))}Gr(e,t){e.forEach(r=>this.removeReference(r,t))}zr(e){const t=new ge(new tt([])),r=new Lt(t,e),o=new Lt(t,e+1),u=[];return this.$r.forEachInRange([r,o],h=>{this.Wr(h),u.push(h.key)}),u}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const t=new ge(new tt([])),r=new Lt(t,e),o=new Lt(t,e+1);let u=ke();return this.$r.forEachInRange([r,o],h=>{u=u.add(h.key)}),u}containsKey(e){const t=new Lt(e,0),r=this.qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Lt{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return ge.comparator(e.key,t.key)||xe(e.Hr,t.Hr)}static Ur(e,t){return xe(e.Hr,t.Hr)||ge.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new Dt(Lt.Qr)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,o){const u=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new GN(u,t,r,o);this.mutationQueue.push(h);for(const d of o)this.Yr=this.Yr.add(new Lt(d.key,u)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return ne.resolve(h)}lookupMutationBatch(e,t){return ne.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,o=this.Xr(r),u=o<0?0:o;return ne.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?hg:this.er-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Lt(t,0),o=new Lt(t,Number.POSITIVE_INFINITY),u=[];return this.Yr.forEachInRange([r,o],h=>{const d=this.Zr(h.Hr);u.push(d)}),ne.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Dt(xe);return t.forEach(o=>{const u=new Lt(o,0),h=new Lt(o,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([u,h],d=>{r=r.add(d.Hr)})}),ne.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1;let u=r;ge.isDocumentKey(u)||(u=u.child(""));const h=new Lt(new ge(u),0);let d=new Dt(xe);return this.Yr.forEachWhile(p=>{const g=p.key.path;return!!r.isPrefixOf(g)&&(g.length===o&&(d=d.add(p.Hr)),!0)},h),ne.resolve(this.ei(d))}ei(e){const t=[];return e.forEach(r=>{const o=this.Zr(r);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){Fe(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return ne.forEach(t.mutations,o=>{const u=new Lt(o.key,t.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,t){const r=new Lt(t,0),o=this.Yr.firstAfterOrEqual(r);return ne.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(e){this.ni=e,this.docs=function(){return new ut(ge.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,o=this.docs.get(r),u=o?o.size:0,h=this.ni(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ne.resolve(r?r.document.mutableCopy():Zt.newInvalidDocument(t))}getEntries(e,t){let r=vs();return t.forEach(o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():Zt.newInvalidDocument(o))}),ne.resolve(r)}getDocumentsMatchingQuery(e,t,r,o){let u=vs();const h=t.path,d=new ge(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:g,value:{document:_}}=p.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||oN(aN(_),r)<=0||(o.has(_.key)||Tf(t,_))&&(u=u.insert(_.key,_.mutableCopy()))}return ne.resolve(u)}getAllFromCollectionGroup(e,t,r,o){Te(9500)}ri(e,t){return ne.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new DD(this)}getSize(e){return ne.resolve(this.size)}}class DD extends AD{constructor(e){super(),this.Or=e}applyChanges(e){const t=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?t.push(this.Or.addEntry(e,o)):this.Or.removeEntry(r)}),ne.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(e){this.persistence=e,this.ii=new Ea(t=>mg(t),pg),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this.si=0,this.oi=new Tg,this.targetCount=0,this._i=ko.ar()}forEachTarget(e,t){return this.ii.forEach((r,o)=>t(o)),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.si&&(this.si=t),ne.resolve()}hr(e){this.ii.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this._i=new ko(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,ne.resolve()}updateTargetData(e,t){return this.hr(t),ne.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,t,r){let o=0;const u=[];return this.ii.forEach((h,d)=>{d.sequenceNumber<=t&&r.get(d.targetId)===null&&(this.ii.delete(h),u.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)}),ne.waitFor(u).next(()=>o)}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,t){const r=this.ii.get(t)||null;return ne.resolve(r)}addMatchingKeys(e,t,r){return this.oi.Kr(t,r),ne.resolve()}removeMatchingKeys(e,t,r){this.oi.Gr(t,r);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach(h=>{u.push(o.markPotentiallyOrphaned(e,h))}),ne.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),ne.resolve()}getMatchingKeysForTargetId(e,t){const r=this.oi.Jr(t);return ne.resolve(r)}containsKey(e,t){return ne.resolve(this.oi.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1{constructor(e,t){this.ai={},this.overlays={},this.ui=new gf(0),this.ci=!1,this.ci=!0,this.li=new xD,this.referenceDelegate=e(this),this.hi=new OD(this),this.indexManager=new gD,this.remoteDocumentCache=function(o){return new ND(o)}(r=>this.referenceDelegate.Pi(r)),this.serializer=new mD(t),this.Ti=new RD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new ID,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ai[e.toKey()];return r||(r=new CD(t,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,r){he("MemoryPersistence","Starting transaction:",e);const o=new MD(this.ui.next());return this.referenceDelegate.Ii(),r(o).next(u=>this.referenceDelegate.di(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ei(e,t){return ne.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,t)))}}class MD extends uN{constructor(e){super(),this.currentSequenceNumber=e}}class wg{constructor(e){this.persistence=e,this.Ai=new Tg,this.Ri=null}static Vi(e){return new wg(e)}get mi(){if(this.Ri)return this.Ri;throw Te(60996)}addReference(e,t,r){return this.Ai.addReference(r,t),this.mi.delete(r.toString()),ne.resolve()}removeReference(e,t,r){return this.Ai.removeReference(r,t),this.mi.add(r.toString()),ne.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),ne.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(o=>this.mi.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(u=>this.mi.add(u.toString()))}).next(()=>r.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.mi,r=>{const o=ge.fromPath(r);return this.fi(e,o).next(u=>{u||t.removeEntry(o,be.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(r=>{r?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return ne.or([()=>ne.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class Kh{constructor(e,t){this.persistence=e,this.gi=new Ea(r=>fN(r.path),(r,o)=>r.isEqual(o)),this.garbageCollector=wD(this,t)}static Vi(e,t){return new Kh(e,t)}Ii(){}di(e){return ne.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){const t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(o=>r+o))}yr(e){let t=0;return this.gr(e,r=>{t++}).next(()=>t)}gr(e,t){return ne.forEach(this.gi,(r,o)=>this.Sr(e,r,o).next(u=>u?ne.resolve():t(o)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ri(e,h=>this.Sr(e,h,t).next(d=>{d||(r++,u.removeEntry(h,be.min()))})).next(()=>u.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),ne.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),ne.resolve()}removeReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),ne.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Ih(e.data.value)),t}Sr(e,t,r){return ne.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.gi.get(t);return ne.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag{constructor(e,t,r,o){this.targetId=e,this.fromCache=t,this.Is=r,this.ds=o}static Es(e,t){let r=ke(),o=ke();for(const u of t.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Ag(e,t.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return f2()?8:cN(en())>0?6:4}()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,r,o){const u={result:null};return this.ps(e,t).next(h=>{u.result=h}).next(()=>{if(!u.result)return this.ys(e,t,o,r).next(h=>{u.result=h})}).next(()=>{if(u.result)return;const h=new kD;return this.ws(e,t,h).next(d=>{if(u.result=d,this.Rs)return this.Ss(e,t,h,d.size)})}).next(()=>u.result)}Ss(e,t,r,o){return r.documentReadCount<this.Vs?(vo()<=Me.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",_o(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ne.resolve()):(vo()<=Me.DEBUG&&he("QueryEngine","Query:",_o(t),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.fs*o?(vo()<=Me.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",_o(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,xi(t))):ne.resolve())}ps(e,t){if(RE(t))return ne.resolve(null);let r=xi(t);return this.indexManager.getIndexType(e,r).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=$h(t,null,"F"),r=xi(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(u=>{const h=ke(...u);return this.gs.getDocuments(e,h).next(d=>this.indexManager.getMinOffset(e,r).next(p=>{const g=this.bs(t,d);return this.Ds(t,g,h,p.readTime)?this.ps(e,$h(t,null,"F")):this.vs(e,g,t,p)}))})))}ys(e,t,r,o){return RE(t)||o.isEqual(be.min())?ne.resolve(null):this.gs.getDocuments(e,r).next(u=>{const h=this.bs(t,u);return this.Ds(t,h,r,o)?ne.resolve(null):(vo()<=Me.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),_o(t)),this.vs(e,h,t,rN(o,Eu)).next(d=>d))})}bs(e,t){let r=new Dt(c1(e));return t.forEach((o,u)=>{Tf(e,u)&&(r=r.add(u))}),r}Ds(e,t,r,o){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const u=e.limitType==="F"?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ws(e,t,r){return vo()<=Me.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",_o(t)),this.gs.getDocumentsMatchingQuery(e,t,cr.min(),r)}vs(e,t,r,o){return this.gs.getDocumentsMatchingQuery(e,r,o).next(u=>(t.forEach(h=>{u=u.insert(h.key,h)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bg="LocalStore",VD=3e8;class jD{constructor(e,t,r,o){this.persistence=e,this.Cs=t,this.serializer=o,this.Fs=new ut(xe),this.Ms=new Ea(u=>mg(u),pg),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new SD(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}}function LD(i,e,t,r){return new jD(i,e,t,r)}async function k1(i,e){const t=Se(i);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let o;return t.mutationQueue.getAllMutationBatches(r).next(u=>(o=u,t.Ns(e),t.mutationQueue.getAllMutationBatches(r))).next(u=>{const h=[],d=[];let p=ke();for(const g of o){h.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}for(const g of u){d.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}return t.localDocuments.getDocuments(r,p).next(g=>({Bs:g,removedBatchIds:h,addedBatchIds:d}))})})}function UD(i,e){const t=Se(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=e.batch.keys(),u=t.Os.newChangeBuffer({trackRemovals:!0});return function(d,p,g,_){const A=g.batch,w=A.keys();let I=ne.resolve();return w.forEach(x=>{I=I.next(()=>_.getEntry(p,x)).next(z=>{const P=g.docVersions.get(x);Fe(P!==null,48541),z.version.compareTo(P)<0&&(A.applyToRemoteDocument(z,g),z.isValidDocument()&&(z.setReadTime(g.commitVersion),_.addEntry(z)))})}),I.next(()=>d.mutationQueue.removeMutationBatch(p,A))}(t,r,e,u).next(()=>u.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(d){let p=ke();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(p=p.add(d.batch.mutations[g].key));return p}(e))).next(()=>t.localDocuments.getDocuments(r,o))})}function P1(i){const e=Se(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.hi.getLastRemoteSnapshotVersion(t))}function BD(i,e){const t=Se(i),r=e.snapshotVersion;let o=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=t.Os.newChangeBuffer({trackRemovals:!0});o=t.Fs;const d=[];e.targetChanges.forEach((_,A)=>{const w=o.get(A);if(!w)return;d.push(t.hi.removeMatchingKeys(u,_.removedDocuments,A).next(()=>t.hi.addMatchingKeys(u,_.addedDocuments,A)));let I=w.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(A)!==null?I=I.withResumeToken($t.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):_.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(_.resumeToken,r)),o=o.insert(A,I),function(z,P,M){return z.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-z.snapshotVersion.toMicroseconds()>=VD?!0:M.addedDocuments.size+M.modifiedDocuments.size+M.removedDocuments.size>0}(w,I,_)&&d.push(t.hi.updateTargetData(u,I))});let p=vs(),g=ke();if(e.documentUpdates.forEach(_=>{e.resolvedLimboDocuments.has(_)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(u,_))}),d.push(zD(u,h,e.documentUpdates).next(_=>{p=_.Ls,g=_.ks})),!r.isEqual(be.min())){const _=t.hi.getLastRemoteSnapshotVersion(u).next(A=>t.hi.setTargetsMetadata(u,u.currentSequenceNumber,r));d.push(_)}return ne.waitFor(d).next(()=>h.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(t.Fs=o,u))}function zD(i,e,t){let r=ke(),o=ke();return t.forEach(u=>r=r.add(u)),e.getEntries(i,r).next(u=>{let h=vs();return t.forEach((d,p)=>{const g=u.get(d);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(d)),p.isNoDocument()&&p.version.isEqual(be.min())?(e.removeEntry(d,p.readTime),h=h.insert(d,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),h=h.insert(d,p)):he(bg,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",p.version)}),{Ls:h,ks:o}})}function qD(i,e){const t=Se(i);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=hg),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function FD(i,e){const t=Se(i);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return t.hi.getTargetData(r,e).next(u=>u?(o=u,ne.resolve(o)):t.hi.allocateTargetId(r).next(h=>(o=new ir(e,h,"TargetPurposeListen",r.currentSequenceNumber),t.hi.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=t.Fs.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(r.targetId,r),t.Ms.set(e,r.targetId)),r})}async function Vp(i,e,t){const r=Se(i),o=r.Fs.get(e),u=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",u,h=>r.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!Fo(h))throw h;he(bg,`Failed to update sequence numbers for target ${e}: ${h}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(o.target)}function UE(i,e,t){const r=Se(i);let o=be.min(),u=ke();return r.persistence.runTransaction("Execute query","readwrite",h=>function(p,g,_){const A=Se(p),w=A.Ms.get(_);return w!==void 0?ne.resolve(A.Fs.get(w)):A.hi.getTargetData(g,_)}(r,h,xi(e)).next(d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(h,d.targetId).next(p=>{u=p})}).next(()=>r.Cs.getDocumentsMatchingQuery(h,e,t?o:be.min(),t?u:ke())).next(d=>(HD(r,DN(e),d),{documents:d,qs:u})))}function HD(i,e,t){let r=i.xs.get(e)||be.min();t.forEach((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)}),i.xs.set(e,r)}class BE{constructor(){this.activeTargetIds=jN()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class GD{constructor(){this.Fo=new BE,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,r){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new BE,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zE="ConnectivityMonitor";class qE{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){he(zE,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){he(zE,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yh=null;function jp(){return yh===null?yh=function(){return 268435456+Math.round(2147483648*Math.random())}():yh++,"0x"+yh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rp="RestConnection",QD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class KD{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${r}/databases/${o}`,this.Ko=this.databaseId.database===Fh?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Wo(e,t,r,o,u){const h=jp(),d=this.Go(e,t.toUriEncodedString());he(rp,`Sending RPC '${e}' ${h}:`,d,r);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(p,o,u);const{host:g}=new URL(d),_=ga(g);return this.jo(e,d,p,r,_).then(A=>(he(rp,`Received RPC '${e}' ${h}: `,A),A),A=>{throw ur(rp,`RPC '${e}' ${h} failed with error: `,A,"url: ",d,"request:",r),A})}Jo(e,t,r,o,u,h){return this.Wo(e,t,r,o,u)}zo(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+zo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,u)=>e[u]=o),r&&r.headers.forEach((o,u)=>e[u]=o)}Go(e,t){const r=QD[e];return`${this.$o}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xt="WebChannelConnection";class XD extends KD{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,r,o,u){const h=jp();return new Promise((d,p)=>{const g=new Vw;g.setWithCredentials(!0),g.listenOnce(jw.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case Rh.NO_ERROR:const A=g.getResponseJson();he(Xt,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(A)),d(A);break;case Rh.TIMEOUT:he(Xt,`RPC '${e}' ${h} timed out`),p(new ce(ee.DEADLINE_EXCEEDED,"Request time out"));break;case Rh.HTTP_ERROR:const w=g.getStatus();if(he(Xt,`RPC '${e}' ${h} failed with status:`,w,"response text:",g.getResponseText()),w>0){let I=g.getResponseJson();Array.isArray(I)&&(I=I[0]);const x=I?.error;if(x&&x.status&&x.message){const z=function(M){const K=M.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(K)>=0?K:ee.UNKNOWN}(x.status);p(new ce(z,x.message))}else p(new ce(ee.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new ce(ee.UNAVAILABLE,"Connection failed."));break;default:Te(9055,{c_:e,streamId:h,l_:g.getLastErrorCode(),h_:g.getLastError()})}}finally{he(Xt,`RPC '${e}' ${h} completed.`)}});const _=JSON.stringify(o);he(Xt,`RPC '${e}' ${h} sending request:`,o),g.send(t,"POST",_,r,15)})}P_(e,t,r){const o=jp(),u=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=Bw(),d=Uw(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.zo(p.initMessageHeaders,t,r),p.encodeInitMessageHeaders=!0;const _=u.join("");he(Xt,`Creating RPC '${e}' stream ${o}: ${_}`,p);const A=h.createWebChannel(_,p);this.T_(A);let w=!1,I=!1;const x=new YD({Ho:P=>{I?he(Xt,`Not sending because RPC '${e}' stream ${o} is closed:`,P):(w||(he(Xt,`Opening RPC '${e}' stream ${o} transport.`),A.open(),w=!0),he(Xt,`RPC '${e}' stream ${o} sending:`,P),A.send(P))},Yo:()=>A.close()}),z=(P,M,K)=>{P.listen(M,X=>{try{K(X)}catch(se){setTimeout(()=>{throw se},0)}})};return z(A,au.EventType.OPEN,()=>{I||(he(Xt,`RPC '${e}' stream ${o} transport opened.`),x.s_())}),z(A,au.EventType.CLOSE,()=>{I||(I=!0,he(Xt,`RPC '${e}' stream ${o} transport closed`),x.__(),this.I_(A))}),z(A,au.EventType.ERROR,P=>{I||(I=!0,ur(Xt,`RPC '${e}' stream ${o} transport errored. Name:`,P.name,"Message:",P.message),x.__(new ce(ee.UNAVAILABLE,"The operation could not be completed")))}),z(A,au.EventType.MESSAGE,P=>{var M;if(!I){const K=P.data[0];Fe(!!K,16349);const X=K,se=X?.error||((M=X[0])===null||M===void 0?void 0:M.error);if(se){he(Xt,`RPC '${e}' stream ${o} received error:`,se);const re=se.status;let fe=function(C){const k=At[C];if(k!==void 0)return w1(k)}(re),N=se.message;fe===void 0&&(fe=ee.INTERNAL,N="Unknown error status: "+re+" with message "+se.message),I=!0,x.__(new ce(fe,N)),A.close()}else he(Xt,`RPC '${e}' stream ${o} received:`,K),x.a_(K)}}),z(d,Lw.STAT_EVENT,P=>{P.stat===Sp.PROXY?he(Xt,`RPC '${e}' stream ${o} detected buffering proxy`):P.stat===Sp.NOPROXY&&he(Xt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{x.o_()},0),x}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}}function ap(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rf(i){return new eD(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1{constructor(e,t,r=1e3,o=1.5,u=6e4){this.Fi=e,this.timerId=t,this.d_=r,this.E_=o,this.A_=u,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const t=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),o=Math.max(0,t-r);o>0&&he("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,o,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FE="PersistentStream";class j1{constructor(e,t,r,o,u,h,d,p){this.Fi=e,this.w_=r,this.S_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new V1(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===ee.RESOURCE_EXHAUSTED?(ys(t.toString()),ys("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(t)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.b_===t&&this.W_(r,o)},r=>{e(()=>{const o=new ce(ee.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(o)})})}W_(e,t){const r=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(o=>{r(()=>this.G_(o))}),this.stream.onMessage(o=>{r(()=>++this.C_==1?this.j_(o):this.onNext(o))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return he(FE,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():(he(FE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class WD extends j1{constructor(e,t,r,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,o,h),this.serializer=u}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const t=iD(this.serializer,e),r=function(u){if(!("targetChange"in u))return be.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?be.min():h.readTime?Ci(h.readTime):be.min()}(e);return this.listener.J_(t,r)}H_(e){const t={};t.database=Pp(this.serializer),t.addTarget=function(u,h){let d;const p=h.target;if(d=Np(p)?{documents:aD(u,p)}:{query:oD(u,p).Vt},d.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){d.resumeToken=S1(u,h.resumeToken);const g=Op(u,h.expectedCount);g!==null&&(d.expectedCount=g)}else if(h.snapshotVersion.compareTo(be.min())>0){d.readTime=Qh(u,h.snapshotVersion.toTimestamp());const g=Op(u,h.expectedCount);g!==null&&(d.expectedCount=g)}return d}(this.serializer,e);const r=uD(this.serializer,e);r&&(t.labels=r),this.k_(t)}Y_(e){const t={};t.database=Pp(this.serializer),t.removeTarget=e,this.k_(t)}}class ZD extends j1{constructor(e,t,r,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,o,h),this.serializer=u}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return Fe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Fe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){Fe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const t=rD(e.writeResults,e.commitTime),r=Ci(e.commitTime);return this.listener.ta(r,t)}na(){const e={};e.database=Pp(this.serializer),this.k_(e)}X_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>sD(this.serializer,r))};this.k_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{}class eO extends JD{constructor(e,t,r,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=o,this.ra=!1}ia(){if(this.ra)throw new ce(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Wo(e,Mp(t,r),o,u,h)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ce(ee.UNKNOWN,u.toString())})}Jo(e,t,r,o,u){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.Jo(e,Mp(t,r),o,h,d,u)).catch(h=>{throw h.name==="FirebaseError"?(h.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ce(ee.UNKNOWN,h.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class tO{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(ys(t),this._a=!1):he("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fa="RemoteStore";class nO{constructor(e,t,r,o,u){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=u,this.Ea.xo(h=>{r.enqueueAndForget(async()=>{Ta(this)&&(he(fa,"Restarting streams for network reachability change."),await async function(p){const g=Se(p);g.Ia.add(4),await Lu(g),g.Aa.set("Unknown"),g.Ia.delete(4),await If(g)}(this))})}),this.Aa=new tO(r,o)}}async function If(i){if(Ta(i))for(const e of i.da)await e(!0)}async function Lu(i){for(const e of i.da)await e(!1)}function L1(i,e){const t=Se(i);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),xg(t)?Ig(t):Go(t).x_()&&Rg(t,e))}function Sg(i,e){const t=Se(i),r=Go(t);t.Ta.delete(e),r.x_()&&U1(t,e),t.Ta.size===0&&(r.x_()?r.B_():Ta(t)&&t.Aa.set("Unknown"))}function Rg(i,e){if(i.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(be.min())>0){const t=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Go(i).H_(e)}function U1(i,e){i.Ra.$e(e),Go(i).Y_(e)}function Ig(i){i.Ra=new XN({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>i.Ta.get(e)||null,lt:()=>i.datastore.serializer.databaseId}),Go(i).start(),i.Aa.aa()}function xg(i){return Ta(i)&&!Go(i).M_()&&i.Ta.size>0}function Ta(i){return Se(i).Ia.size===0}function B1(i){i.Ra=void 0}async function iO(i){i.Aa.set("Online")}async function sO(i){i.Ta.forEach((e,t)=>{Rg(i,e)})}async function rO(i,e){B1(i),xg(i)?(i.Aa.la(e),Ig(i)):i.Aa.set("Unknown")}async function aO(i,e,t){if(i.Aa.set("Online"),e instanceof b1&&e.state===2&&e.cause)try{await async function(o,u){const h=u.cause;for(const d of u.targetIds)o.Ta.has(d)&&(await o.remoteSyncer.rejectListen(d,h),o.Ta.delete(d),o.Ra.removeTarget(d))}(i,e)}catch(r){he(fa,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Yh(i,r)}else if(e instanceof Nh?i.Ra.Ye(e):e instanceof A1?i.Ra.it(e):i.Ra.et(e),!t.isEqual(be.min()))try{const r=await P1(i.localStore);t.compareTo(r)>=0&&await function(u,h){const d=u.Ra.Pt(h);return d.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const _=u.Ta.get(g);_&&u.Ta.set(g,_.withResumeToken(p.resumeToken,h))}}),d.targetMismatches.forEach((p,g)=>{const _=u.Ta.get(p);if(!_)return;u.Ta.set(p,_.withResumeToken($t.EMPTY_BYTE_STRING,_.snapshotVersion)),U1(u,p);const A=new ir(_.target,p,g,_.sequenceNumber);Rg(u,A)}),u.remoteSyncer.applyRemoteEvent(d)}(i,t)}catch(r){he(fa,"Failed to raise snapshot:",r),await Yh(i,r)}}async function Yh(i,e,t){if(!Fo(e))throw e;i.Ia.add(1),await Lu(i),i.Aa.set("Offline"),t||(t=()=>P1(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{he(fa,"Retrying IndexedDB access"),await t(),i.Ia.delete(1),await If(i)})}function z1(i,e){return e().catch(t=>Yh(i,t,e))}async function xf(i){const e=Se(i),t=mr(e);let r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:hg;for(;oO(e);)try{const o=await qD(e.localStore,r);if(o===null){e.Pa.length===0&&t.B_();break}r=o.batchId,lO(e,o)}catch(o){await Yh(e,o)}q1(e)&&F1(e)}function oO(i){return Ta(i)&&i.Pa.length<10}function lO(i,e){i.Pa.push(e);const t=mr(i);t.x_()&&t.Z_&&t.X_(e.mutations)}function q1(i){return Ta(i)&&!mr(i).M_()&&i.Pa.length>0}function F1(i){mr(i).start()}async function uO(i){mr(i).na()}async function cO(i){const e=mr(i);for(const t of i.Pa)e.X_(t.mutations)}async function hO(i,e,t){const r=i.Pa.shift(),o=vg.from(r,e,t);await z1(i,()=>i.remoteSyncer.applySuccessfulWrite(o)),await xf(i)}async function fO(i,e){e&&mr(i).Z_&&await async function(r,o){if(function(h){return KN(h)&&h!==ee.ABORTED}(o.code)){const u=r.Pa.shift();mr(r).N_(),await z1(r,()=>r.remoteSyncer.rejectFailedWrite(u.batchId,o)),await xf(r)}}(i,e),q1(i)&&F1(i)}async function HE(i,e){const t=Se(i);t.asyncQueue.verifyOperationInProgress(),he(fa,"RemoteStore received new credentials");const r=Ta(t);t.Ia.add(3),await Lu(t),r&&t.Aa.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),await If(t)}async function dO(i,e){const t=Se(i);e?(t.Ia.delete(2),await If(t)):e||(t.Ia.add(2),await Lu(t),t.Aa.set("Unknown"))}function Go(i){return i.Va||(i.Va=function(t,r,o){const u=Se(t);return u.ia(),new WD(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{Zo:iO.bind(null,i),e_:sO.bind(null,i),n_:rO.bind(null,i),J_:aO.bind(null,i)}),i.da.push(async e=>{e?(i.Va.N_(),xg(i)?Ig(i):i.Aa.set("Unknown")):(await i.Va.stop(),B1(i))})),i.Va}function mr(i){return i.ma||(i.ma=function(t,r,o){const u=Se(t);return u.ia(),new ZD(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{Zo:()=>Promise.resolve(),e_:uO.bind(null,i),n_:fO.bind(null,i),ea:cO.bind(null,i),ta:hO.bind(null,i)}),i.da.push(async e=>{e?(i.ma.N_(),await xf(i)):(await i.ma.stop(),i.Pa.length>0&&(he(fa,`Stopping write stream with ${i.Pa.length} pending writes`),i.Pa=[]))})),i.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg{constructor(e,t,r,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new ds,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,o,u){const h=Date.now()+r,d=new Cg(e,t,h,o,u);return d.start(r),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ng(i,e){if(ys("AsyncQueue",`${e}: ${i}`),Fo(i))return new ce(ee.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{static emptySet(e){return new Ro(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||ge.comparator(t.key,r.key):(t,r)=>ge.comparator(t.key,r.key),this.keyedMap=ou(),this.sortedSet=new ut(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ro)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Ro;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE{constructor(){this.fa=new ut(ge.comparator)}track(e){const t=e.doc.key,r=this.fa.get(t);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(t,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(t):e.type===1&&r.type===2?this.fa=this.fa.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):Te(63341,{At:e,ga:r}):this.fa=this.fa.insert(t,e)}pa(){const e=[];return this.fa.inorderTraversal((t,r)=>{e.push(r)}),e}}class Po{constructor(e,t,r,o,u,h,d,p,g){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,t,r,o,u){const h=[];return t.forEach(d=>{h.push({type:0,doc:d})}),new Po(e,t,Ro.emptySet(t),h,r,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ef(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==r[o].type||!t[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mO{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class pO{constructor(){this.queries=$E(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,r){const o=Se(t),u=o.queries;o.queries=$E(),u.forEach((h,d)=>{for(const p of d.wa)p.onError(r)})})(this,new ce(ee.ABORTED,"Firestore shutting down"))}}function $E(){return new Ea(i=>u1(i),Ef)}async function Dg(i,e){const t=Se(i);let r=3;const o=e.query;let u=t.queries.get(o);u?!u.Sa()&&e.ba()&&(r=2):(u=new mO,r=e.ba()?0:1);try{switch(r){case 0:u.ya=await t.onListen(o,!0);break;case 1:u.ya=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(h){const d=Ng(h,`Initialization of query '${_o(e.query)}' failed`);return void e.onError(d)}t.queries.set(o,u),u.wa.push(e),e.va(t.onlineState),u.ya&&e.Ca(u.ya)&&Mg(t)}async function Og(i,e){const t=Se(i),r=e.query;let o=3;const u=t.queries.get(r);if(u){const h=u.wa.indexOf(e);h>=0&&(u.wa.splice(h,1),u.wa.length===0?o=e.ba()?0:1:!u.Sa()&&e.ba()&&(o=2))}switch(o){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function gO(i,e){const t=Se(i);let r=!1;for(const o of e){const u=o.query,h=t.queries.get(u);if(h){for(const d of h.wa)d.Ca(o)&&(r=!0);h.ya=o}}r&&Mg(t)}function yO(i,e,t){const r=Se(i),o=r.queries.get(e);if(o)for(const u of o.wa)u.onError(t);r.queries.delete(e)}function Mg(i){i.Da.forEach(e=>{e.next()})}var Lp,QE;(QE=Lp||(Lp={})).Fa="default",QE.Cache="cache";class kg{constructor(e,t,r){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new Po(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;const r=t!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=Po.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==Lp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{constructor(e){this.key=e}}class G1{constructor(e){this.key=e}}class vO{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=ke(),this.mutatedKeys=ke(),this.Xa=c1(e),this.eu=new Ro(this.Xa)}get tu(){return this.Ha}nu(e,t){const r=t?t.ru:new GE,o=t?t.eu:this.eu;let u=t?t.mutatedKeys:this.mutatedKeys,h=o,d=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((_,A)=>{const w=o.get(_),I=Tf(this.query,A)?A:null,x=!!w&&this.mutatedKeys.has(w.key),z=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let P=!1;w&&I?w.data.isEqual(I.data)?x!==z&&(r.track({type:3,doc:I}),P=!0):this.iu(w,I)||(r.track({type:2,doc:I}),P=!0,(p&&this.Xa(I,p)>0||g&&this.Xa(I,g)<0)&&(d=!0)):!w&&I?(r.track({type:0,doc:I}),P=!0):w&&!I&&(r.track({type:1,doc:w}),P=!0,(p||g)&&(d=!0)),P&&(I?(h=h.add(I),u=z?u.add(_):u.delete(_)):(h=h.delete(_),u=u.delete(_)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const _=this.query.limitType==="F"?h.last():h.first();h=h.delete(_.key),u=u.delete(_.key),r.track({type:1,doc:_})}return{eu:h,ru:r,Ds:d,mutatedKeys:u}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,o){const u=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const h=e.ru.pa();h.sort((_,A)=>function(I,x){const z=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te(20277,{At:P})}};return z(I)-z(x)}(_.type,A.type)||this.Xa(_.doc,A.doc)),this.su(r),o=o!=null&&o;const d=t&&!o?this.ou():[],p=this.Za.size===0&&this.current&&!o?1:0,g=p!==this.Ya;return this.Ya=p,h.length!==0||g?{snapshot:new Po(this.query,e.eu,u,h,e.mutatedKeys,p===0,g,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:d}:{_u:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new GE,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=ke(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});const t=[];return e.forEach(r=>{this.Za.has(r)||t.push(new G1(r))}),this.Za.forEach(r=>{e.has(r)||t.push(new H1(r))}),t}uu(e){this.Ha=e.qs,this.Za=ke();const t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return Po.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const Pg="SyncEngine";class _O{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class EO{constructor(e){this.key=e,this.lu=!1}}class TO{constructor(e,t,r,o,u,h){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.hu={},this.Pu=new Ea(d=>u1(d),Ef),this.Tu=new Map,this.Iu=new Set,this.du=new ut(ge.comparator),this.Eu=new Map,this.Au=new Tg,this.Ru={},this.Vu=new Map,this.mu=ko.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function wO(i,e,t=!0){const r=W1(i);let o;const u=r.Pu.get(e);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.cu()):o=await $1(r,e,t,!0),o}async function AO(i,e){const t=W1(i);await $1(t,e,!0,!1)}async function $1(i,e,t,r){const o=await FD(i.localStore,xi(e)),u=o.targetId,h=i.sharedClientState.addLocalQueryTarget(u,t);let d;return r&&(d=await bO(i,e,u,h==="current",o.resumeToken)),i.isPrimaryClient&&t&&L1(i.remoteStore,o),d}async function bO(i,e,t,r,o){i.gu=(A,w,I)=>async function(z,P,M,K){let X=P.view.nu(M);X.Ds&&(X=await UE(z.localStore,P.query,!1).then(({documents:N})=>P.view.nu(N,X)));const se=K&&K.targetChanges.get(P.targetId),re=K&&K.targetMismatches.get(P.targetId)!=null,fe=P.view.applyChanges(X,z.isPrimaryClient,se,re);return YE(z,P.targetId,fe._u),fe.snapshot}(i,A,w,I);const u=await UE(i.localStore,e,!0),h=new vO(e,u.qs),d=h.nu(u.documents),p=ju.createSynthesizedTargetChangeForCurrentChange(t,r&&i.onlineState!=="Offline",o),g=h.applyChanges(d,i.isPrimaryClient,p);YE(i,t,g._u);const _=new _O(e,t,h);return i.Pu.set(e,_),i.Tu.has(t)?i.Tu.get(t).push(e):i.Tu.set(t,[e]),g.snapshot}async function SO(i,e,t){const r=Se(i),o=r.Pu.get(e),u=r.Tu.get(o.targetId);if(u.length>1)return r.Tu.set(o.targetId,u.filter(h=>!Ef(h,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Vp(r.localStore,o.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(o.targetId),t&&Sg(r.remoteStore,o.targetId),Up(r,o.targetId)}).catch(qo)):(Up(r,o.targetId),await Vp(r.localStore,o.targetId,!0))}async function RO(i,e){const t=Se(i),r=t.Pu.get(e),o=t.Tu.get(r.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Sg(t.remoteStore,r.targetId))}async function IO(i,e,t){const r=kO(i);try{const o=await function(h,d){const p=Se(h),g=nt.now(),_=d.reduce((I,x)=>I.add(x.key),ke());let A,w;return p.persistence.runTransaction("Locally write mutations","readwrite",I=>{let x=vs(),z=ke();return p.Os.getEntries(I,_).next(P=>{x=P,x.forEach((M,K)=>{K.isValidDocument()||(z=z.add(M))})}).next(()=>p.localDocuments.getOverlayedDocuments(I,x)).next(P=>{A=P;const M=[];for(const K of d){const X=FN(K,A.get(K.key).overlayedDocument);X!=null&&M.push(new _r(K.key,X,t1(X.value.mapValue),Fn.exists(!0)))}return p.mutationQueue.addMutationBatch(I,g,M,d)}).next(P=>{w=P;const M=P.applyToLocalDocumentSet(A,z);return p.documentOverlayCache.saveOverlays(I,P.batchId,M)})}).then(()=>({batchId:w.batchId,changes:f1(A)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),function(h,d,p){let g=h.Ru[h.currentUser.toKey()];g||(g=new ut(xe)),g=g.insert(d,p),h.Ru[h.currentUser.toKey()]=g}(r,o.batchId,t),await Uu(r,o.changes),await xf(r.remoteStore)}catch(o){const u=Ng(o,"Failed to persist write");t.reject(u)}}async function Q1(i,e){const t=Se(i);try{const r=await BD(t.localStore,e);e.targetChanges.forEach((o,u)=>{const h=t.Eu.get(u);h&&(Fe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.lu=!0:o.modifiedDocuments.size>0?Fe(h.lu,14607):o.removedDocuments.size>0&&(Fe(h.lu,42227),h.lu=!1))}),await Uu(t,r,e)}catch(r){await qo(r)}}function KE(i,e,t){const r=Se(i);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const o=[];r.Pu.forEach((u,h)=>{const d=h.view.va(e);d.snapshot&&o.push(d.snapshot)}),function(h,d){const p=Se(h);p.onlineState=d;let g=!1;p.queries.forEach((_,A)=>{for(const w of A.wa)w.va(d)&&(g=!0)}),g&&Mg(p)}(r.eventManager,e),o.length&&r.hu.J_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function xO(i,e,t){const r=Se(i);r.sharedClientState.updateQueryState(e,"rejected",t);const o=r.Eu.get(e),u=o&&o.key;if(u){let h=new ut(ge.comparator);h=h.insert(u,Zt.newNoDocument(u,be.min()));const d=ke().add(u),p=new Sf(be.min(),new Map,new ut(xe),h,d);await Q1(r,p),r.du=r.du.remove(u),r.Eu.delete(e),Vg(r)}else await Vp(r.localStore,e,!1).then(()=>Up(r,e,t)).catch(qo)}async function CO(i,e){const t=Se(i),r=e.batch.batchId;try{const o=await UD(t.localStore,e);Y1(t,r,null),K1(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Uu(t,o)}catch(o){await qo(o)}}async function NO(i,e,t){const r=Se(i);try{const o=await function(h,d){const p=Se(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let _;return p.mutationQueue.lookupMutationBatch(g,d).next(A=>(Fe(A!==null,37113),_=A.keys(),p.mutationQueue.removeMutationBatch(g,A))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,_,d)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,_)).next(()=>p.localDocuments.getDocuments(g,_))})}(r.localStore,e);Y1(r,e,t),K1(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Uu(r,o)}catch(o){await qo(o)}}function K1(i,e){(i.Vu.get(e)||[]).forEach(t=>{t.resolve()}),i.Vu.delete(e)}function Y1(i,e,t){const r=Se(i);let o=r.Ru[r.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),r.Ru[r.currentUser.toKey()]=o}}function Up(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const r of i.Tu.get(e))i.Pu.delete(r),t&&i.hu.pu(r,t);i.Tu.delete(e),i.isPrimaryClient&&i.Au.zr(e).forEach(r=>{i.Au.containsKey(r)||X1(i,r)})}function X1(i,e){i.Iu.delete(e.path.canonicalString());const t=i.du.get(e);t!==null&&(Sg(i.remoteStore,t),i.du=i.du.remove(e),i.Eu.delete(t),Vg(i))}function YE(i,e,t){for(const r of t)r instanceof H1?(i.Au.addReference(r.key,e),DO(i,r)):r instanceof G1?(he(Pg,"Document no longer in limbo: "+r.key),i.Au.removeReference(r.key,e),i.Au.containsKey(r.key)||X1(i,r.key)):Te(19791,{yu:r})}function DO(i,e){const t=e.key,r=t.path.canonicalString();i.du.get(t)||i.Iu.has(r)||(he(Pg,"New document in limbo: "+t),i.Iu.add(r),Vg(i))}function Vg(i){for(;i.Iu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Iu.values().next().value;i.Iu.delete(e);const t=new ge(tt.fromString(e)),r=i.mu.next();i.Eu.set(r,new EO(t)),i.du=i.du.insert(t,r),L1(i.remoteStore,new ir(xi(_f(t.path)),r,"TargetPurposeLimboResolution",gf.ue))}}async function Uu(i,e,t){const r=Se(i),o=[],u=[],h=[];r.Pu.isEmpty()||(r.Pu.forEach((d,p)=>{h.push(r.gu(p,e,t).then(g=>{var _;if((g||t)&&r.isPrimaryClient){const A=g?!g.fromCache:(_=t?.targetChanges.get(p.targetId))===null||_===void 0?void 0:_.current;r.sharedClientState.updateQueryState(p.targetId,A?"current":"not-current")}if(g){o.push(g);const A=Ag.Es(p.targetId,g);u.push(A)}}))}),await Promise.all(h),r.hu.J_(o),await async function(p,g){const _=Se(p);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",A=>ne.forEach(g,w=>ne.forEach(w.Is,I=>_.persistence.referenceDelegate.addReference(A,w.targetId,I)).next(()=>ne.forEach(w.ds,I=>_.persistence.referenceDelegate.removeReference(A,w.targetId,I)))))}catch(A){if(!Fo(A))throw A;he(bg,"Failed to update sequence numbers: "+A)}for(const A of g){const w=A.targetId;if(!A.fromCache){const I=_.Fs.get(w),x=I.snapshotVersion,z=I.withLastLimboFreeSnapshotVersion(x);_.Fs=_.Fs.insert(w,z)}}}(r.localStore,u))}async function OO(i,e){const t=Se(i);if(!t.currentUser.isEqual(e)){he(Pg,"User change. New user:",e.toKey());const r=await k1(t.localStore,e);t.currentUser=e,function(u,h){u.Vu.forEach(d=>{d.forEach(p=>{p.reject(new ce(ee.CANCELLED,h))})}),u.Vu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Uu(t,r.Bs)}}function MO(i,e){const t=Se(i),r=t.Eu.get(e);if(r&&r.lu)return ke().add(r.key);{let o=ke();const u=t.Tu.get(e);if(!u)return o;for(const h of u){const d=t.Pu.get(h);o=o.unionWith(d.view.tu)}return o}}function W1(i){const e=Se(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Q1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=MO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=xO.bind(null,e),e.hu.J_=gO.bind(null,e.eventManager),e.hu.pu=yO.bind(null,e.eventManager),e}function kO(i){const e=Se(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=CO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=NO.bind(null,e),e}class Xh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Rf(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,t){return null}Fu(e,t){return null}vu(e){return LD(this.persistence,new PD,e.initialUser,this.serializer)}Du(e){return new M1(wg.Vi,this.serializer)}bu(e){return new GD}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Xh.provider={build:()=>new Xh};class PO extends Xh{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){Fe(this.persistence.referenceDelegate instanceof Kh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new ED(r,e.asyncQueue,t)}Du(e){const t=this.cacheSizeBytes!==void 0?cn.withCacheSize(this.cacheSizeBytes):cn.DEFAULT;return new M1(r=>Kh.Vi(r,t),this.serializer)}}class Bp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>KE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=OO.bind(null,this.syncEngine),await dO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new pO}()}createDatastore(e){const t=Rf(e.databaseInfo.databaseId),r=function(u){return new XD(u)}(e.databaseInfo);return function(u,h,d,p){return new eO(u,h,d,p)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,o,u,h,d){return new nO(r,o,u,h,d)}(this.localStore,this.datastore,e.asyncQueue,t=>KE(this.syncEngine,t,0),function(){return qE.C()?new qE:new $D}())}createSyncEngine(e,t){return function(o,u,h,d,p,g,_){const A=new TO(o,u,h,d,p,g);return _&&(A.fu=!0),A}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const u=Se(o);he(fa,"RemoteStore shutting down."),u.Ia.add(5),await Lu(u),u.Ea.shutdown(),u.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Bp.provider={build:()=>new Bp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jg{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):ys("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pr="FirestoreClient";class VO{constructor(e,t,r,o,u){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=o,this.user=Wt.UNAUTHENTICATED,this.clientId=cg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,async h=>{he(pr,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(r,h=>(he(pr,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ds;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Ng(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function op(i,e){i.asyncQueue.verifyOperationInProgress(),he(pr,"Initializing OfflineComponentProvider");const t=i.configuration;await e.initialize(t);let r=t.initialUser;i.setCredentialChangeListener(async o=>{r.isEqual(o)||(await k1(e.localStore,o),r=o)}),e.persistence.setDatabaseDeletedListener(()=>{ur("Terminating Firestore due to IndexedDb database deletion"),i.terminate().then(()=>{he("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(o=>{ur("Terminating Firestore due to IndexedDb database deletion failed",o)})}),i._offlineComponents=e}async function XE(i,e){i.asyncQueue.verifyOperationInProgress();const t=await jO(i);he(pr,"Initializing OnlineComponentProvider"),await e.initialize(t,i.configuration),i.setCredentialChangeListener(r=>HE(e.remoteStore,r)),i.setAppCheckTokenChangeListener((r,o)=>HE(e.remoteStore,o)),i._onlineComponents=e}async function jO(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){he(pr,"Using user provided OfflineComponentProvider");try{await op(i,i._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===ee.FAILED_PRECONDITION||o.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;ur("Error using user provided cache. Falling back to memory cache: "+t),await op(i,new Xh)}}else he(pr,"Using default OfflineComponentProvider"),await op(i,new PO(void 0));return i._offlineComponents}async function Z1(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(he(pr,"Using user provided OnlineComponentProvider"),await XE(i,i._uninitializedComponentsProvider._online)):(he(pr,"Using default OnlineComponentProvider"),await XE(i,new Bp))),i._onlineComponents}function LO(i){return Z1(i).then(e=>e.syncEngine)}async function Wh(i){const e=await Z1(i),t=e.eventManager;return t.onListen=wO.bind(null,e.syncEngine),t.onUnlisten=SO.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=AO.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=RO.bind(null,e.syncEngine),t}function UO(i,e,t={}){const r=new ds;return i.asyncQueue.enqueueAndForget(async()=>function(u,h,d,p,g){const _=new jg({next:w=>{_.Ou(),h.enqueueAndForget(()=>Og(u,A));const I=w.docs.has(d);!I&&w.fromCache?g.reject(new ce(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&w.fromCache&&p&&p.source==="server"?g.reject(new ce(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(w)},error:w=>g.reject(w)}),A=new kg(_f(d.path),_,{includeMetadataChanges:!0,ka:!0});return Dg(u,A)}(await Wh(i),i.asyncQueue,e,t,r)),r.promise}function BO(i,e,t={}){const r=new ds;return i.asyncQueue.enqueueAndForget(async()=>function(u,h,d,p,g){const _=new jg({next:w=>{_.Ou(),h.enqueueAndForget(()=>Og(u,A)),w.fromCache&&p.source==="server"?g.reject(new ce(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(w)},error:w=>g.reject(w)}),A=new kg(d,_,{includeMetadataChanges:!0,ka:!0});return Dg(u,A)}(await Wh(i),i.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J1(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eA="firestore.googleapis.com",ZE=!0;class JE{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ce(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=eA,this.ssl=ZE}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:ZE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=O1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<vD)throw new ce(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}sN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=J1((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new ce(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new ce(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new ce(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,o){return r.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Cf{constructor(e,t,r,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new JE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new JE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new YC;switch(r.type){case"firstParty":return new JC(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ce(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=WE.get(t);r&&(he("ComponentProvider","Removing Datastore"),WE.delete(t),r.terminate())}(this),Promise.resolve()}}function zO(i,e,t,r={}){var o;i=mn(i,Cf);const u=ga(e),h=i._getSettings(),d=Object.assign(Object.assign({},h),{emulatorOptions:i._getEmulatorOptions()}),p=`${e}:${t}`;u&&(Wp(`https://${p}`),Zp("Firestore",!0)),h.host!==eA&&h.host!==p&&ur("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},h),{host:p,ssl:u,emulatorOptions:r});if(!Oi(g,d)&&(i._setSettings(g),r.mockUserToken)){let _,A;if(typeof r.mockUserToken=="string")_=r.mockUserToken,A=Wt.MOCK_USER;else{_=GT(r.mockUserToken,(o=i._app)===null||o===void 0?void 0:o.options.projectId);const w=r.mockUserToken.sub||r.mockUserToken.user_id;if(!w)throw new ce(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Wt(w)}i._authCredentials=new XC(new qw(_,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ws(this.firestore,e,this._query)}}class dt{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new or(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new dt(this.firestore,e,this._key)}toJSON(){return{type:dt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(Pu(t,dt._jsonSchema))return new dt(e,r||null,new ge(tt.fromString(t.referencePath)))}}dt._jsonSchemaVersion="firestore/documentReference/1.0",dt._jsonSchema={type:St("string",dt._jsonSchemaVersion),referencePath:St("string")};class or extends ws{constructor(e,t,r){super(e,t,_f(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new dt(this.firestore,null,new ge(e))}withConverter(e){return new or(this.firestore,e,this._path)}}function pn(i,e,...t){if(i=lt(i),Hw("collection","path",e),i instanceof Cf){const r=tt.fromString(e,...t);return fE(r),new or(i,null,r)}{if(!(i instanceof dt||i instanceof or))throw new ce(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=i._path.child(tt.fromString(e,...t));return fE(r),new or(i.firestore,null,r)}}function Jt(i,e,...t){if(i=lt(i),arguments.length===1&&(e=cg.newId()),Hw("doc","path",e),i instanceof Cf){const r=tt.fromString(e,...t);return hE(r),new dt(i,null,new ge(r))}{if(!(i instanceof dt||i instanceof or))throw new ce(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=i._path.child(tt.fromString(e,...t));return hE(r),new dt(i.firestore,i instanceof or?i.converter:null,new ge(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eT="AsyncQueue";class tT{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new V1(this,"async_queue_retry"),this.oc=()=>{const r=ap();r&&he(eT,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;const t=ap();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const t=ap();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const t=new ds;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Fo(e))throw e;he(eT,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const t=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,ys("INTERNAL UNHANDLED ERROR: ",nT(r)),r}).then(r=>(this.nc=!1,r))));return this._c=t,t}enqueueAfterDelay(e,t,r){this.ac(),this.sc.indexOf(e)>-1&&(t=0);const o=Cg.createAndSchedule(this,e,t,r,u=>this.lc(u));return this.ec.push(o),o}ac(){this.tc&&Te(47125,{hc:nT(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const t=this.ec.indexOf(e);this.ec.splice(t,1)}}function nT(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iT(i){return function(t,r){if(typeof t!="object"||t===null)return!1;const o=t;for(const u of r)if(u in o&&typeof o[u]=="function")return!0;return!1}(i,["next","error","complete"])}class _s extends Cf{constructor(e,t,r,o){super(e,t,r,o),this.type="firestore",this._queue=new tT,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new tT(e),this._firestoreClient=void 0,await e}}}function qO(i,e){const t=typeof i=="object"?i:hf(),r=typeof i=="string"?i:Fh,o=gr(t,"firestore").getImmediate({identifier:r});if(!o._initialized){const u=qT("firestore");u&&zO(o,...u)}return o}function Nf(i){if(i._terminated)throw new ce(ee.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||FO(i),i._firestoreClient}function FO(i){var e,t,r;const o=i._freezeSettings(),u=function(d,p,g,_){return new pN(d,p,g,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,J1(_.experimentalLongPollingOptions),_.useFetchStreams,_.isUsingEmulator)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,o);i._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=o.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(i._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),i._firestoreClient=new VO(i._authCredentials,i._appCheckCredentials,i._queue,u,i._componentsProvider&&function(d){const p=d?._online.build();return{_offline:d?._offline.build(p),_online:p}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new qn($t.fromBase64String(e))}catch(t){throw new ce(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new qn($t.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:qn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Pu(e,qn._jsonSchema))return qn.fromBase64String(e.bytes)}}qn._jsonSchemaVersion="firestore/bytes/1.0",qn._jsonSchema={type:St("string",qn._jsonSchemaVersion),bytes:St("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ce(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Gt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ce(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ce(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return xe(this._lat,e._lat)||xe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ni._jsonSchemaVersion}}static fromJSON(e){if(Pu(e,Ni._jsonSchema))return new Ni(e.latitude,e.longitude)}}Ni._jsonSchemaVersion="firestore/geoPoint/1.0",Ni._jsonSchema={type:St("string",Ni._jsonSchemaVersion),latitude:St("number"),longitude:St("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,o){if(r.length!==o.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==o[u])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Di._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Pu(e,Di._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new Di(e.vectorValues);throw new ce(ee.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Di._jsonSchemaVersion="firestore/vectorValue/1.0",Di._jsonSchema={type:St("string",Di._jsonSchemaVersion),vectorValues:St("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HO=/^__.*__$/;class GO{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new _r(e,this.data,this.fieldMask,t,this.fieldTransforms):new Vu(e,this.data,t,this.fieldTransforms)}}class tA{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new _r(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function nA(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te(40011,{Ec:i})}}class Of{constructor(e,t,r,o,u,h){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=o,u===void 0&&this.Ac(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new Of(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Rc({path:r,mc:!1});return o.fc(e),o}gc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Rc({path:r,mc:!1});return o.Ac(),o}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Zh(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(nA(this.Ec)&&HO.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class $O{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Rf(e)}Dc(e,t,r,o=!1){return new Of({Ec:e,methodName:t,bc:r,path:Gt.emptyPath(),mc:!1,Sc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Mf(i){const e=i._freezeSettings(),t=Rf(i._databaseId);return new $O(i._databaseId,!!e.ignoreUndefinedProperties,t)}function iA(i,e,t,r,o,u={}){const h=i.Dc(u.merge||u.mergeFields?2:0,e,t,o);qg("Data must be an object, but it was:",h,r);const d=rA(r,h);let p,g;if(u.merge)p=new In(h.fieldMask),g=h.fieldTransforms;else if(u.mergeFields){const _=[];for(const A of u.mergeFields){const w=zp(e,A,t);if(!h.contains(w))throw new ce(ee.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);oA(_,w)||_.push(w)}p=new In(_),g=h.fieldTransforms.filter(A=>p.covers(A.field))}else p=null,g=h.fieldTransforms;return new GO(new hn(d),p,g)}class kf extends wa{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof kf}}function sA(i,e,t){return new Of({Ec:3,bc:e.settings.bc,methodName:i._methodName,mc:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Lg extends wa{_toFieldTransform(e){return new Af(e.path,new Su)}isEqual(e){return e instanceof Lg}}class Ug extends wa{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){const t=sA(this,e,!0),r=this.vc.map(u=>Aa(u,t)),o=new Oo(r);return new Af(e.path,o)}isEqual(e){return e instanceof Ug&&Oi(this.vc,e.vc)}}class Bg extends wa{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){const t=sA(this,e,!0),r=this.vc.map(u=>Aa(u,t)),o=new Mo(r);return new Af(e.path,o)}isEqual(e){return e instanceof Bg&&Oi(this.vc,e.vc)}}class zg extends wa{constructor(e,t){super(e),this.Cc=t}_toFieldTransform(e){const t=new Ru(e.serializer,p1(e.serializer,this.Cc));return new Af(e.path,t)}isEqual(e){return e instanceof zg&&this.Cc===e.Cc}}function QO(i,e,t,r){const o=i.Dc(1,e,t);qg("Data must be an object, but it was:",o,r);const u=[],h=hn.empty();vr(r,(p,g)=>{const _=Fg(e,p,t);g=lt(g);const A=o.gc(_);if(g instanceof kf)u.push(_);else{const w=Aa(g,A);w!=null&&(u.push(_),h.set(_,w))}});const d=new In(u);return new tA(h,d,o.fieldTransforms)}function KO(i,e,t,r,o,u){const h=i.Dc(1,e,t),d=[zp(e,r,t)],p=[o];if(u.length%2!=0)throw new ce(ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<u.length;w+=2)d.push(zp(e,u[w])),p.push(u[w+1]);const g=[],_=hn.empty();for(let w=d.length-1;w>=0;--w)if(!oA(g,d[w])){const I=d[w];let x=p[w];x=lt(x);const z=h.gc(I);if(x instanceof kf)g.push(I);else{const P=Aa(x,z);P!=null&&(g.push(I),_.set(I,P))}}const A=new In(g);return new tA(_,A,h.fieldTransforms)}function YO(i,e,t,r=!1){return Aa(t,i.Dc(r?4:3,e))}function Aa(i,e){if(aA(i=lt(i)))return qg("Unsupported field value:",e,i),rA(i,e);if(i instanceof wa)return function(r,o){if(!nA(o.Ec))throw o.wc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.wc(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(r,o){const u=[];let h=0;for(const d of r){let p=Aa(d,o.yc(h));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),h++}return{arrayValue:{values:u}}}(i,e)}return function(r,o){if((r=lt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return p1(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=nt.fromDate(r);return{timestampValue:Qh(o.serializer,u)}}if(r instanceof nt){const u=new nt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Qh(o.serializer,u)}}if(r instanceof Ni)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof qn)return{bytesValue:S1(o.serializer,r._byteString)};if(r instanceof dt){const u=o.databaseId,h=r.firestore._databaseId;if(!h.isEqual(u))throw o.wc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Eg(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof Di)return function(h,d){return{mapValue:{fields:{[Jw]:{stringValue:e1},[Hh]:{arrayValue:{values:h.toArray().map(g=>{if(typeof g!="number")throw d.wc("VectorValues must only contain numeric values.");return gg(d.serializer,g)})}}}}}}(r,o);throw o.wc(`Unsupported field value: ${pf(r)}`)}(i,e)}function rA(i,e){const t={};return Qw(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):vr(i,(r,o)=>{const u=Aa(o,e.Vc(r));u!=null&&(t[r]=u)}),{mapValue:{fields:t}}}function aA(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof nt||i instanceof Ni||i instanceof qn||i instanceof dt||i instanceof wa||i instanceof Di)}function qg(i,e,t){if(!aA(t)||!Gw(t)){const r=pf(t);throw r==="an object"?e.wc(i+" a custom object"):e.wc(i+" "+r)}}function zp(i,e,t){if((e=lt(e))instanceof Df)return e._internalPath;if(typeof e=="string")return Fg(i,e);throw Zh("Field path arguments must be of type string or ",i,!1,void 0,t)}const XO=new RegExp("[~\\*/\\[\\]]");function Fg(i,e,t){if(e.search(XO)>=0)throw Zh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new Df(...e.split("."))._internalPath}catch{throw Zh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function Zh(i,e,t,r,o){const u=r&&!r.isEmpty(),h=o!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(u||h)&&(p+=" (found",u&&(p+=` in field ${r}`),h&&(p+=` in document ${o}`),p+=")"),new ce(ee.INVALID_ARGUMENT,d+i+p)}function oA(i,e){return i.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{constructor(e,t,r,o,u){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new dt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new WO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Pf("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class WO extends lA{data(){return super.data()}}function Pf(i,e){return typeof e=="string"?Fg(i,e):e instanceof Df?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uA(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new ce(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Hg{}class Gg extends Hg{}function lr(i,e,...t){let r=[];e instanceof Hg&&r.push(e),r=r.concat(t),function(u){const h=u.filter(p=>p instanceof $g).length,d=u.filter(p=>p instanceof Vf).length;if(h>1||h>0&&d>0)throw new ce(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const o of r)i=o._apply(i);return i}class Vf extends Gg{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Vf(e,t,r)}_apply(e){const t=this._parse(e);return cA(e._query,t),new ws(e.firestore,e.converter,Dp(e._query,t))}_parse(e){const t=Mf(e.firestore);return function(u,h,d,p,g,_,A){let w;if(g.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new ce(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){rT(A,_);const x=[];for(const z of A)x.push(sT(p,u,z));w={arrayValue:{values:x}}}else w=sT(p,u,A)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||rT(A,_),w=YO(d,h,A,_==="in"||_==="not-in");return bt.create(g,_,w)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Jh(i,e,t){const r=e,o=Pf("where",i);return Vf._create(o,r,t)}class $g extends Hg{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new $g(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:si.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,u){let h=o;const d=u.getFlattenedFilters();for(const p of d)cA(h,p),h=Dp(h,p)}(e._query,t),new ws(e.firestore,e.converter,Dp(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Qg extends Gg{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Qg(e,t)}_apply(e){const t=function(o,u,h){if(o.startAt!==null)throw new ce(ee.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ce(ee.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new bu(u,h)}(e._query,this._field,this._direction);return new ws(e.firestore,e.converter,function(o,u){const h=o.explicitOrderBy.concat([u]);return new Ho(o.path,o.collectionGroup,h,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}function Dh(i,e="asc"){const t=e,r=Pf("orderBy",i);return Qg._create(r,t)}class Kg extends Gg{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new Kg(e,t,r)}_apply(e){return new ws(e.firestore,e.converter,$h(e._query,this._limit,this._limitType))}}function lp(i){return Kg._create("limit",i,"F")}function sT(i,e,t){if(typeof(t=lt(t))=="string"){if(t==="")throw new ce(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!l1(e)&&t.indexOf("/")!==-1)throw new ce(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(tt.fromString(t));if(!ge.isDocumentKey(r))throw new ce(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return EE(i,new ge(r))}if(t instanceof dt)return EE(i,t._key);throw new ce(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${pf(t)}.`)}function rT(i,e){if(!Array.isArray(i)||i.length===0)throw new ce(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function cA(i,e){const t=function(o,u){for(const h of o)for(const d of h.getFlattenedFilters())if(u.indexOf(d.op)>=0)return d.op;return null}(i.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new ce(ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ce(ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class ZO{convertValue(e,t="none"){switch(dr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(fr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Te(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return vr(e,(o,u)=>{r[o]=this.convertValue(u,t)}),r}convertVectorValue(e){var t,r,o;const u=(o=(r=(t=e.fields)===null||t===void 0?void 0:t[Hh].arrayValue)===null||r===void 0?void 0:r.values)===null||o===void 0?void 0:o.map(h=>vt(h.doubleValue));return new Di(u)}convertGeoPoint(e){return new Ni(vt(e.latitude),vt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=vf(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Tu(e));default:return null}}convertTimestamp(e){const t=hr(e);return new nt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=tt.fromString(e);Fe(D1(r),9688,{name:e});const o=new wu(r.get(1),r.get(3)),u=new ge(r.popFirst(5));return o.isEqual(t)||ys(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hA(i,e,t){let r;return r=i?i.toFirestore(e):e,r}class uu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class oa extends lA{constructor(e,t,r,o,u,h){super(e,t,r,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Oh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Pf("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(ee.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=oa._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}oa._jsonSchemaVersion="firestore/documentSnapshot/1.0",oa._jsonSchema={type:St("string",oa._jsonSchemaVersion),bundleSource:St("string","DocumentSnapshot"),bundleName:St("string"),bundle:St("string")};class Oh extends oa{data(e={}){return super.data(e)}}class la{constructor(e,t,r,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new uu(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Oh(this._firestore,this._userDataWriter,r.key,r,new uu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ce(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(d=>{const p=new Oh(o._firestore,o._userDataWriter,d.doc.key,d.doc,new uu(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}})}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(d=>u||d.type!==3).map(d=>{const p=new Oh(o._firestore,o._userDataWriter,d.doc.key,d.doc,new uu(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,_=-1;return d.type!==0&&(g=h.indexOf(d.doc.key),h=h.delete(d.doc.key)),d.type!==1&&(h=h.add(d.doc),_=h.indexOf(d.doc.key)),{type:JO(d.type),doc:p,oldIndex:g,newIndex:_}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(ee.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=la._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=cg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],o=[];return this.docs.forEach(u=>{u._document!==null&&(t.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function JO(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te(61501,{type:i})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vo(i){i=mn(i,dt);const e=mn(i.firestore,_s);return UO(Nf(e),i._key).then(t=>fA(e,i,t))}la._jsonSchemaVersion="firestore/querySnapshot/1.0",la._jsonSchema={type:St("string",la._jsonSchemaVersion),bundleSource:St("string","QuerySnapshot"),bundleName:St("string"),bundle:St("string")};class Yg extends ZO{constructor(e){super(),this.firestore=e}convertBytes(e){return new qn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new dt(this.firestore,null,t)}}function ef(i){i=mn(i,ws);const e=mn(i.firestore,_s),t=Nf(e),r=new Yg(e);return uA(i._query),BO(t,i._query).then(o=>new la(e,r,i,o))}function aT(i,e,t){i=mn(i,dt);const r=mn(i.firestore,_s),o=hA(i.converter,e);return Lf(r,[iA(Mf(r),"setDoc",i._key,o,i.converter!==null,t).toMutation(i._key,Fn.none())])}function Es(i,e,t,...r){i=mn(i,dt);const o=mn(i.firestore,_s),u=Mf(o);let h;return h=typeof(e=lt(e))=="string"||e instanceof Df?KO(u,"updateDoc",i._key,e,t,r):QO(u,"updateDoc",i._key,e),Lf(o,[h.toMutation(i._key,Fn.exists(!0))])}function e4(i){return Lf(mn(i.firestore,_s),[new yg(i._key,Fn.none())])}function jf(i,e){const t=mn(i.firestore,_s),r=Jt(i),o=hA(i.converter,e);return Lf(t,[iA(Mf(i.firestore),"addDoc",r._key,o,i.converter!==null,{}).toMutation(r._key,Fn.exists(!1))]).then(()=>r)}function Bu(i,...e){var t,r,o;i=lt(i);let u={includeMetadataChanges:!1,source:"default"},h=0;typeof e[h]!="object"||iT(e[h])||(u=e[h++]);const d={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(iT(e[h])){const A=e[h];e[h]=(t=A.next)===null||t===void 0?void 0:t.bind(A),e[h+1]=(r=A.error)===null||r===void 0?void 0:r.bind(A),e[h+2]=(o=A.complete)===null||o===void 0?void 0:o.bind(A)}let p,g,_;if(i instanceof dt)g=mn(i.firestore,_s),_=_f(i._key.path),p={next:A=>{e[h]&&e[h](fA(g,i,A))},error:e[h+1],complete:e[h+2]};else{const A=mn(i,ws);g=mn(A.firestore,_s),_=A._query;const w=new Yg(g);p={next:I=>{e[h]&&e[h](new la(g,w,A,I))},error:e[h+1],complete:e[h+2]},uA(i._query)}return function(w,I,x,z){const P=new jg(z),M=new kg(I,P,x);return w.asyncQueue.enqueueAndForget(async()=>Dg(await Wh(w),M)),()=>{P.Ou(),w.asyncQueue.enqueueAndForget(async()=>Og(await Wh(w),M))}}(Nf(g),_,d,p)}function Lf(i,e){return function(r,o){const u=new ds;return r.asyncQueue.enqueueAndForget(async()=>IO(await LO(r),o,u)),u.promise}(Nf(i),e)}function fA(i,e,t){const r=t.docs.get(e._key),o=new Yg(i);return new oa(i,o,e._key,r,new uu(t.hasPendingWrites,t.fromCache),e.converter)}function Hn(){return new Lg("serverTimestamp")}function Xg(...i){return new Ug("arrayUnion",i)}function tf(...i){return new Bg("arrayRemove",i)}function Io(i){return new zg("increment",i)}(function(e,t=!0){(function(o){zo=o})(va),ni(new $n("firestore",(r,{instanceIdentifier:o,options:u})=>{const h=r.getProvider("app").getImmediate(),d=new _s(new WC(r.getProvider("auth-internal")),new eN(h,r.getProvider("app-check-internal")),function(g,_){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ce(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new wu(g.options.projectId,_)}(h,o),h);return u=Object.assign({useFetchStreams:t},u),d._setSettings(u),d},"PUBLIC").setMultipleInstances(!0)),dn(aE,oE,e),dn(aE,oE,"esm2017")})();var t4="firebase",n4="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */dn(t4,n4,"app");const dA="@firebase/installations",Wg="0.6.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mA=1e4,pA=`w:${Wg}`,gA="FIS_v2",i4="https://firebaseinstallations.googleapis.com/v1",s4=60*60*1e3,r4="installations",a4="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o4={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},da=new ya(r4,a4,o4);function yA(i){return i instanceof Qn&&i.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vA({projectId:i}){return`${i4}/projects/${i}/installations`}function _A(i){return{token:i.token,requestStatus:2,expiresIn:u4(i.expiresIn),creationTime:Date.now()}}async function EA(i,e){const r=(await e.json()).error;return da.create("request-failed",{requestName:i,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function TA({apiKey:i}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":i})}function l4(i,{refreshToken:e}){const t=TA(i);return t.append("Authorization",c4(e)),t}async function wA(i){const e=await i();return e.status>=500&&e.status<600?i():e}function u4(i){return Number(i.replace("s","000"))}function c4(i){return`${gA} ${i}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h4({appConfig:i,heartbeatServiceProvider:e},{fid:t}){const r=vA(i),o=TA(i),u=e.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const h={fid:t,authVersion:gA,appId:i.appId,sdkVersion:pA},d={method:"POST",headers:o,body:JSON.stringify(h)},p=await wA(()=>fetch(r,d));if(p.ok){const g=await p.json();return{fid:g.fid||t,registrationStatus:2,refreshToken:g.refreshToken,authToken:_A(g.authToken)}}else throw await EA("Create Installation",p)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AA(i){return new Promise(e=>{setTimeout(e,i)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f4(i){return btoa(String.fromCharCode(...i)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d4=/^[cdef][\w-]{21}$/,qp="";function m4(){try{const i=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(i),i[0]=112+i[0]%16;const t=p4(i);return d4.test(t)?t:qp}catch{return qp}}function p4(i){return f4(i).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uf(i){return`${i.appName}!${i.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bA=new Map;function SA(i,e){const t=Uf(i);RA(t,e),g4(t,e)}function RA(i,e){const t=bA.get(i);if(t)for(const r of t)r(e)}function g4(i,e){const t=y4();t&&t.postMessage({key:i,fid:e}),v4()}let aa=null;function y4(){return!aa&&"BroadcastChannel"in self&&(aa=new BroadcastChannel("[Firebase] FID Change"),aa.onmessage=i=>{RA(i.data.key,i.data.fid)}),aa}function v4(){bA.size===0&&aa&&(aa.close(),aa=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _4="firebase-installations-database",E4=1,ma="firebase-installations-store";let up=null;function Zg(){return up||(up=WT(_4,E4,{upgrade:(i,e)=>{switch(e){case 0:i.createObjectStore(ma)}}})),up}async function nf(i,e){const t=Uf(i),o=(await Zg()).transaction(ma,"readwrite"),u=o.objectStore(ma),h=await u.get(t);return await u.put(e,t),await o.done,(!h||h.fid!==e.fid)&&SA(i,e.fid),e}async function IA(i){const e=Uf(i),r=(await Zg()).transaction(ma,"readwrite");await r.objectStore(ma).delete(e),await r.done}async function Bf(i,e){const t=Uf(i),o=(await Zg()).transaction(ma,"readwrite"),u=o.objectStore(ma),h=await u.get(t),d=e(h);return d===void 0?await u.delete(t):await u.put(d,t),await o.done,d&&(!h||h.fid!==d.fid)&&SA(i,d.fid),d}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jg(i){let e;const t=await Bf(i.appConfig,r=>{const o=T4(r),u=w4(i,o);return e=u.registrationPromise,u.installationEntry});return t.fid===qp?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function T4(i){const e=i||{fid:m4(),registrationStatus:0};return xA(e)}function w4(i,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(da.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=A4(i,t);return{installationEntry:t,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:b4(i)}:{installationEntry:e}}async function A4(i,e){try{const t=await h4(i,e);return nf(i.appConfig,t)}catch(t){throw yA(t)&&t.customData.serverCode===409?await IA(i.appConfig):await nf(i.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function b4(i){let e=await oT(i.appConfig);for(;e.registrationStatus===1;)await AA(100),e=await oT(i.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:r}=await Jg(i);return r||t}return e}function oT(i){return Bf(i,e=>{if(!e)throw da.create("installation-not-found");return xA(e)})}function xA(i){return S4(i)?{fid:i.fid,registrationStatus:0}:i}function S4(i){return i.registrationStatus===1&&i.registrationTime+mA<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R4({appConfig:i,heartbeatServiceProvider:e},t){const r=I4(i,t),o=l4(i,t),u=e.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const h={installation:{sdkVersion:pA,appId:i.appId}},d={method:"POST",headers:o,body:JSON.stringify(h)},p=await wA(()=>fetch(r,d));if(p.ok){const g=await p.json();return _A(g)}else throw await EA("Generate Auth Token",p)}function I4(i,{fid:e}){return`${vA(i)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ey(i,e=!1){let t;const r=await Bf(i.appConfig,u=>{if(!CA(u))throw da.create("not-registered");const h=u.authToken;if(!e&&N4(h))return u;if(h.requestStatus===1)return t=x4(i,e),u;{if(!navigator.onLine)throw da.create("app-offline");const d=O4(u);return t=C4(i,d),d}});return t?await t:r.authToken}async function x4(i,e){let t=await lT(i.appConfig);for(;t.authToken.requestStatus===1;)await AA(100),t=await lT(i.appConfig);const r=t.authToken;return r.requestStatus===0?ey(i,e):r}function lT(i){return Bf(i,e=>{if(!CA(e))throw da.create("not-registered");const t=e.authToken;return M4(t)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function C4(i,e){try{const t=await R4(i,e),r=Object.assign(Object.assign({},e),{authToken:t});return await nf(i.appConfig,r),t}catch(t){if(yA(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await IA(i.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await nf(i.appConfig,r)}throw t}}function CA(i){return i!==void 0&&i.registrationStatus===2}function N4(i){return i.requestStatus===2&&!D4(i)}function D4(i){const e=Date.now();return e<i.creationTime||i.creationTime+i.expiresIn<e+s4}function O4(i){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},i),{authToken:e})}function M4(i){return i.requestStatus===1&&i.requestTime+mA<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k4(i){const e=i,{installationEntry:t,registrationPromise:r}=await Jg(e);return r?r.catch(console.error):ey(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P4(i,e=!1){const t=i;return await V4(t),(await ey(t,e)).token}async function V4(i){const{registrationPromise:e}=await Jg(i);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j4(i){if(!i||!i.options)throw cp("App Configuration");if(!i.name)throw cp("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!i.options[t])throw cp(t);return{appName:i.name,projectId:i.options.projectId,apiKey:i.options.apiKey,appId:i.options.appId}}function cp(i){return da.create("missing-app-config-values",{valueName:i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NA="installations",L4="installations-internal",U4=i=>{const e=i.getProvider("app").getImmediate(),t=j4(e),r=gr(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},B4=i=>{const e=i.getProvider("app").getImmediate(),t=gr(e,NA).getImmediate();return{getId:()=>k4(t),getToken:o=>P4(t,o)}};function z4(){ni(new $n(NA,U4,"PUBLIC")),ni(new $n(L4,B4,"PRIVATE"))}z4();dn(dA,Wg);dn(dA,Wg,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sf="analytics",q4="firebase_id",F4="origin",H4=60*1e3,G4="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ty="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gn=new cf("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $4={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},xn=new ya("analytics","Analytics",$4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q4(i){if(!i.startsWith(ty)){const e=xn.create("invalid-gtag-resource",{gtagURL:i});return gn.warn(e.message),""}return i}function DA(i){return Promise.all(i.map(e=>e.catch(t=>t)))}function K4(i,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(i,e)),t}function Y4(i,e){const t=K4("firebase-js-sdk-policy",{createScriptURL:Q4}),r=document.createElement("script"),o=`${ty}?l=${i}&id=${e}`;r.src=t?t?.createScriptURL(o):o,r.async=!0,document.head.appendChild(r)}function X4(i){let e=[];return Array.isArray(window[i])?e=window[i]:window[i]=e,e}async function W4(i,e,t,r,o,u){const h=r[o];try{if(h)await e[h];else{const p=(await DA(t)).find(g=>g.measurementId===o);p&&await e[p.appId]}}catch(d){gn.error(d)}i("config",o,u)}async function Z4(i,e,t,r,o){try{let u=[];if(o&&o.send_to){let h=o.send_to;Array.isArray(h)||(h=[h]);const d=await DA(t);for(const p of h){const g=d.find(A=>A.measurementId===p),_=g&&e[g.appId];if(_)u.push(_);else{u=[];break}}}u.length===0&&(u=Object.values(e)),await Promise.all(u),i("event",r,o||{})}catch(u){gn.error(u)}}function J4(i,e,t,r){async function o(u,...h){try{if(u==="event"){const[d,p]=h;await Z4(i,e,t,d,p)}else if(u==="config"){const[d,p]=h;await W4(i,e,t,r,d,p)}else if(u==="consent"){const[d,p]=h;i("consent",d,p)}else if(u==="get"){const[d,p,g]=h;i("get",d,p,g)}else if(u==="set"){const[d]=h;i("set",d)}else i(u,...h)}catch(d){gn.error(d)}}return o}function eM(i,e,t,r,o){let u=function(...h){window[r].push(arguments)};return window[o]&&typeof window[o]=="function"&&(u=window[o]),window[o]=J4(u,i,e,t),{gtagCore:u,wrappedGtag:window[o]}}function tM(i){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(ty)&&t.src.includes(i))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nM=30,iM=1e3;class sM{constructor(e={},t=iM){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const OA=new sM;function rM(i){return new Headers({Accept:"application/json","x-goog-api-key":i})}async function aM(i){var e;const{appId:t,apiKey:r}=i,o={method:"GET",headers:rM(r)},u=G4.replace("{app-id}",t),h=await fetch(u,o);if(h.status!==200&&h.status!==304){let d="";try{const p=await h.json();!((e=p.error)===null||e===void 0)&&e.message&&(d=p.error.message)}catch{}throw xn.create("config-fetch-failed",{httpStatus:h.status,responseMessage:d})}return h.json()}async function oM(i,e=OA,t){const{appId:r,apiKey:o,measurementId:u}=i.options;if(!r)throw xn.create("no-app-id");if(!o){if(u)return{measurementId:u,appId:r};throw xn.create("no-api-key")}const h=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},d=new cM;return setTimeout(async()=>{d.abort()},H4),MA({appId:r,apiKey:o,measurementId:u},h,d,e)}async function MA(i,{throttleEndTimeMillis:e,backoffCount:t},r,o=OA){var u;const{appId:h,measurementId:d}=i;try{await lM(r,e)}catch(p){if(d)return gn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${p?.message}]`),{appId:h,measurementId:d};throw p}try{const p=await aM(i);return o.deleteThrottleMetadata(h),p}catch(p){const g=p;if(!uM(g)){if(o.deleteThrottleMetadata(h),d)return gn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${g?.message}]`),{appId:h,measurementId:d};throw p}const _=Number((u=g?.customData)===null||u===void 0?void 0:u.httpStatus)===503?D0(t,o.intervalMillis,nM):D0(t,o.intervalMillis),A={throttleEndTimeMillis:Date.now()+_,backoffCount:t+1};return o.setThrottleMetadata(h,A),gn.debug(`Calling attemptFetch again in ${_} millis`),MA(i,A,r,o)}}function lM(i,e){return new Promise((t,r)=>{const o=Math.max(e-Date.now(),0),u=setTimeout(t,o);i.addEventListener(()=>{clearTimeout(u),r(xn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function uM(i){if(!(i instanceof Qn)||!i.customData)return!1;const e=Number(i.customData.httpStatus);return e===429||e===500||e===503||e===504}class cM{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function hM(i,e,t,r,o){if(o&&o.global){i("event",t,r);return}else{const u=await e,h=Object.assign(Object.assign({},r),{send_to:u});i("event",t,h)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fM(){if(QT())try{await KT()}catch(i){return gn.warn(xn.create("indexeddb-unavailable",{errorInfo:i?.toString()}).message),!1}else return gn.warn(xn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function dM(i,e,t,r,o,u,h){var d;const p=oM(i);p.then(I=>{t[I.measurementId]=I.appId,i.options.measurementId&&I.measurementId!==i.options.measurementId&&gn.warn(`The measurement ID in the local Firebase config (${i.options.measurementId}) does not match the measurement ID fetched from the server (${I.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(I=>gn.error(I)),e.push(p);const g=fM().then(I=>{if(I)return r.getId()}),[_,A]=await Promise.all([p,g]);tM(u)||Y4(u,_.measurementId),o("js",new Date);const w=(d=h?.config)!==null&&d!==void 0?d:{};return w[F4]="firebase",w.update=!0,A!=null&&(w[q4]=A),o("config",_.measurementId,w),_.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mM{constructor(e){this.app=e}_delete(){return delete gu[this.app.options.appId],Promise.resolve()}}let gu={},uT=[];const cT={};let hp="dataLayer",pM="gtag",hT,kA,fT=!1;function gM(){const i=[];if($T()&&i.push("This is a browser extension environment."),d2()||i.push("Cookies are not available."),i.length>0){const e=i.map((r,o)=>`(${o+1}) ${r}`).join(" "),t=xn.create("invalid-analytics-context",{errorInfo:e});gn.warn(t.message)}}function yM(i,e,t){gM();const r=i.options.appId;if(!r)throw xn.create("no-app-id");if(!i.options.apiKey)if(i.options.measurementId)gn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${i.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw xn.create("no-api-key");if(gu[r]!=null)throw xn.create("already-exists",{id:r});if(!fT){X4(hp);const{wrappedGtag:u,gtagCore:h}=eM(gu,uT,cT,hp,pM);kA=u,hT=h,fT=!0}return gu[r]=dM(i,uT,cT,e,hT,hp,t),new mM(i)}function vM(i=hf()){i=lt(i);const e=gr(i,sf);return e.isInitialized()?e.getImmediate():_M(i)}function _M(i,e={}){const t=gr(i,sf);if(t.isInitialized()){const o=t.getImmediate();if(Oi(e,t.getOptions()))return o;throw xn.create("already-initialized")}return t.initialize({options:e})}function EM(i,e,t,r){i=lt(i),hM(kA,gu[i.app.options.appId],e,t,r).catch(o=>gn.error(o))}const dT="@firebase/analytics",mT="0.10.17";function TM(){ni(new $n(sf,(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return yM(r,o,t)},"PUBLIC")),ni(new $n("analytics-internal",i,"PRIVATE")),dn(dT,mT),dn(dT,mT,"esm2017");function i(e){try{const t=e.getProvider(sf).getImmediate();return{logEvent:(r,o,u)=>EM(t,r,o,u)}}catch(t){throw xn.create("interop-component-reg-failed",{reason:t})}}}TM();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PA="firebasestorage.googleapis.com",wM="storageBucket",AM=2*60*1e3,bM=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi extends Qn{constructor(e,t,r=0){super(fp(e),`Firebase Storage: ${t} (${fp(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Vi.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return fp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ki;(function(i){i.UNKNOWN="unknown",i.OBJECT_NOT_FOUND="object-not-found",i.BUCKET_NOT_FOUND="bucket-not-found",i.PROJECT_NOT_FOUND="project-not-found",i.QUOTA_EXCEEDED="quota-exceeded",i.UNAUTHENTICATED="unauthenticated",i.UNAUTHORIZED="unauthorized",i.UNAUTHORIZED_APP="unauthorized-app",i.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",i.INVALID_CHECKSUM="invalid-checksum",i.CANCELED="canceled",i.INVALID_EVENT_NAME="invalid-event-name",i.INVALID_URL="invalid-url",i.INVALID_DEFAULT_BUCKET="invalid-default-bucket",i.NO_DEFAULT_BUCKET="no-default-bucket",i.CANNOT_SLICE_BLOB="cannot-slice-blob",i.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",i.NO_DOWNLOAD_URL="no-download-url",i.INVALID_ARGUMENT="invalid-argument",i.INVALID_ARGUMENT_COUNT="invalid-argument-count",i.APP_DELETED="app-deleted",i.INVALID_ROOT_OPERATION="invalid-root-operation",i.INVALID_FORMAT="invalid-format",i.INTERNAL_ERROR="internal-error",i.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ki||(ki={}));function fp(i){return"storage/"+i}function SM(){const i="An unknown error occurred, please check the error payload for server response.";return new Vi(ki.UNKNOWN,i)}function RM(){return new Vi(ki.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function IM(){return new Vi(ki.CANCELED,"User canceled the upload/download.")}function xM(i){return new Vi(ki.INVALID_URL,"Invalid URL '"+i+"'.")}function CM(i){return new Vi(ki.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}function pT(i){return new Vi(ki.INVALID_ARGUMENT,i)}function VA(){return new Vi(ki.APP_DELETED,"The Firebase app was deleted.")}function NM(i){return new Vi(ki.INVALID_ROOT_OPERATION,"The operation '"+i+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=ti.makeFromUrl(e,t)}catch{return new ti(e,"")}if(r.path==="")return r;throw CM(e)}static makeFromUrl(e,t){let r=null;const o="([A-Za-z0-9.\\-_]+)";function u(se){se.path.charAt(se.path.length-1)==="/"&&(se.path_=se.path_.slice(0,-1))}const h="(/(.*))?$",d=new RegExp("^gs://"+o+h,"i"),p={bucket:1,path:3};function g(se){se.path_=decodeURIComponent(se.path)}const _="v[A-Za-z0-9_]+",A=t.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",I=new RegExp(`^https?://${A}/${_}/b/${o}/o${w}`,"i"),x={bucket:1,path:3},z=t===PA?"(?:storage.googleapis.com|storage.cloud.google.com)":t,P="([^?#]*)",M=new RegExp(`^https?://${z}/${o}/${P}`,"i"),X=[{regex:d,indices:p,postModify:u},{regex:I,indices:x,postModify:g},{regex:M,indices:{bucket:1,path:2},postModify:g}];for(let se=0;se<X.length;se++){const re=X[se],fe=re.regex.exec(e);if(fe){const N=fe[re.indices.bucket];let R=fe[re.indices.path];R||(R=""),r=new ti(N,R),re.postModify(r);break}}if(r==null)throw xM(e);return r}}class DM{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OM(i,e,t){let r=1,o=null,u=null,h=!1,d=0;function p(){return d===2}let g=!1;function _(...P){g||(g=!0,e.apply(null,P))}function A(P){o=setTimeout(()=>{o=null,i(I,p())},P)}function w(){u&&clearTimeout(u)}function I(P,...M){if(g){w();return}if(P){w(),_.call(null,P,...M);return}if(p()||h){w(),_.call(null,P,...M);return}r<64&&(r*=2);let X;d===1?(d=2,X=0):X=(r+Math.random())*1e3,A(X)}let x=!1;function z(P){x||(x=!0,w(),!g&&(o!==null?(P||(d=2),clearTimeout(o),A(0)):P||(d=1)))}return A(0),u=setTimeout(()=>{h=!0,z(!0)},t),z}function MM(i){i(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kM(i){return i!==void 0}function gT(i,e,t,r){if(r<e)throw pT(`Invalid value for '${i}'. Expected ${e} or greater.`);if(r>t)throw pT(`Invalid value for '${i}'. Expected ${t} or less.`)}function PM(i){const e=encodeURIComponent;let t="?";for(const r in i)if(i.hasOwnProperty(r)){const o=e(r)+"="+e(i[r]);t=t+o+"&"}return t=t.slice(0,-1),t}var rf;(function(i){i[i.NO_ERROR=0]="NO_ERROR",i[i.NETWORK_ERROR=1]="NETWORK_ERROR",i[i.ABORT=2]="ABORT"})(rf||(rf={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VM(i,e){const t=i>=500&&i<600,o=[408,429].indexOf(i)!==-1,u=e.indexOf(i)!==-1;return t||o||u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jM{constructor(e,t,r,o,u,h,d,p,g,_,A,w=!0,I=!1){this.url_=e,this.method_=t,this.headers_=r,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=h,this.callback_=d,this.errorCallback_=p,this.timeout_=g,this.progressCallback_=_,this.connectionFactory_=A,this.retry=w,this.isUsingEmulator=I,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((x,z)=>{this.resolve_=x,this.reject_=z,this.start_()})}start_(){const e=(r,o)=>{if(o){r(!1,new vh(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const h=d=>{const p=d.loaded,g=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,g)};this.progressCallback_!==null&&u.addUploadProgressListener(h),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(h),this.pendingConnection_=null;const d=u.getErrorCode()===rf.NO_ERROR,p=u.getStatus();if(!d||VM(p,this.additionalRetryCodes_)&&this.retry){const _=u.getErrorCode()===rf.ABORT;r(!1,new vh(!1,null,_));return}const g=this.successCodes_.indexOf(p)!==-1;r(!0,new vh(g,u))})},t=(r,o)=>{const u=this.resolve_,h=this.reject_,d=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(d,d.getResponse());kM(p)?u(p):u()}catch(p){h(p)}else if(d!==null){const p=SM();p.serverResponse=d.getErrorText(),this.errorCallback_?h(this.errorCallback_(d,p)):h(p)}else if(o.canceled){const p=this.appDelete_?VA():IM();h(p)}else{const p=RM();h(p)}};this.canceled_?t(!1,new vh(!1,null,!0)):this.backoffId_=OM(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&MM(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class vh{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function LM(i,e){e!==null&&e.length>0&&(i.Authorization="Firebase "+e)}function UM(i,e){i["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function BM(i,e){e&&(i["X-Firebase-GMPID"]=e)}function zM(i,e){e!==null&&(i["X-Firebase-AppCheck"]=e)}function qM(i,e,t,r,o,u,h=!0,d=!1){const p=PM(i.urlParams),g=i.url+p,_=Object.assign({},i.headers);return BM(_,e),LM(_,t),UM(_,u),zM(_,r),new jM(g,i.method,_,i.body,i.successCodes,i.additionalRetryCodes,i.handler,i.errorHandler,i.timeout,i.progressCallback,o,h,d)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FM(i){if(i.length===0)return null;const e=i.lastIndexOf("/");return e===-1?"":i.slice(0,e)}function HM(i){const e=i.lastIndexOf("/",i.length-2);return e===-1?i:i.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(e,t){this._service=e,t instanceof ti?this._location=t:this._location=ti.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new af(e,t)}get root(){const e=new ti(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return HM(this._location.path)}get storage(){return this._service}get parent(){const e=FM(this._location.path);if(e===null)return null;const t=new ti(this._location.bucket,e);return new af(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw NM(e)}}function yT(i,e){const t=e?.[wM];return t==null?null:ti.makeFromBucketSpec(t,i)}function GM(i,e,t,r={}){i.host=`${e}:${t}`;const o=ga(e);o&&(Wp(`https://${i.host}/b`),Zp("Storage",!0)),i._isUsingEmulator=!0,i._protocol=o?"https":"http";const{mockUserToken:u}=r;u&&(i._overrideAuthToken=typeof u=="string"?u:GT(u,i.app.options.projectId))}class $M{constructor(e,t,r,o,u,h=!1){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=o,this._firebaseVersion=u,this._isUsingEmulator=h,this._bucket=null,this._host=PA,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=AM,this._maxUploadRetryTime=bM,this._requests=new Set,o!=null?this._bucket=ti.makeFromBucketSpec(o,this._host):this._bucket=yT(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ti.makeFromBucketSpec(this._url,e):this._bucket=yT(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){gT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){gT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(Rn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new af(this,e)}_makeRequest(e,t,r,o,u=!0){if(this._deleted)return new DM(VA());{const h=qM(e,this._appId,r,o,t,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(h),h.getPromise().then(()=>this._requests.delete(h),()=>this._requests.delete(h)),h}}async makeRequestWithTokens(e,t){const[r,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,o).getPromise()}}const vT="@firebase/storage",_T="0.13.14";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jA="storage";function QM(i=hf(),e){i=lt(i);const r=gr(i,jA).getImmediate({identifier:e}),o=qT("storage");return o&&KM(r,...o),r}function KM(i,e,t,r={}){GM(i,e,t,r)}function YM(i,{instanceIdentifier:e}){const t=i.getProvider("app").getImmediate(),r=i.getProvider("auth-internal"),o=i.getProvider("app-check-internal");return new $M(t,r,o,e,va)}function XM(){ni(new $n(jA,YM,"PUBLIC").setMultipleInstances(!0)),dn(vT,_T,""),dn(vT,_T,"esm2017")}XM();const WM={apiKey:"AIzaSyDQMZtq62eh2VAJ6wSq61zHphyaCVOHEis",authDomain:"quora-82f25.firebaseapp.com",projectId:"quora-82f25",storageBucket:"quora-82f25.firebasestorage.app",messagingSenderId:"1081951012110",appId:"1:1081951012110:web:b7fc478370692b08f8c35f",measurementId:"G-1MD9928C32"},zf=ZT(WM);vM(zf);const _h=QC(zf),Qe=qO(zf);QM(zf);const LA=V.createContext();function tn(){return V.useContext(LA)}function ZM({children:i}){const[e,t]=V.useState(null),[r,o]=V.useState(!0);async function u(g,_,A){try{const w=await Cx(_h,g,_);return await Ox(w.user,{displayName:A}),await aT(Jt(Qe,"users",w.user.uid),{displayName:A||"",email:g,createdAt:new Date,updatedAt:new Date,reputation:0,questionsCount:0,answersCount:0}),w}catch(w){throw console.error("Signup error:",w),w.code==="auth/email-already-in-use"?new Error("This email is already registered. Please try logging in instead."):w.code==="auth/weak-password"?new Error("Password is too weak. Please use at least 6 characters."):w.code==="auth/invalid-email"?new Error("Please enter a valid email address."):w.code==="auth/operation-not-allowed"?new Error("Email/password authentication is not enabled. Please contact support."):new Error("Failed to create account. Please check your internet connection and try again.")}}async function h(g,_){try{return await Nx(_h,g,_)}catch(A){throw console.error("Login error:",A),A.code==="auth/user-not-found"?new Error("No account found with this email address."):A.code==="auth/wrong-password"?new Error("Incorrect password. Please try again."):A.code==="auth/invalid-email"?new Error("Please enter a valid email address."):A.code==="auth/too-many-requests"?new Error("Too many failed login attempts. Please try again later."):new Error("Failed to log in. Please check your credentials and try again.")}}function d(){return Vx(_h)}V.useEffect(()=>Px(_h,async _=>{if(_)try{const A=await Vo(Jt(Qe,"users",_.uid));if(A.exists())t({..._,...A.data()});else{const w={displayName:_.displayName||"",email:_.email,createdAt:new Date,updatedAt:new Date,reputation:0,questionsCount:0,answersCount:0};await aT(Jt(Qe,"users",_.uid),w),t({..._,...w})}}catch(A){console.error("Error fetching user data:",A),t(_)}else t(null);o(!1)}),[]);const p={currentUser:e,signup:u,login:h,logout:d,loading:r};return y.jsx(LA.Provider,{value:p,children:i})}const UA=V.createContext();function JM(){return V.useContext(UA)}function ek({children:i}){const[e,t]=V.useState(()=>{try{const u=localStorage.getItem("theme");return u===null?!1:u==="true"||u==="false"?u==="true":JSON.parse(u)}catch(u){return console.warn("Error parsing theme from localStorage:",u),!1}});V.useEffect(()=>{localStorage.setItem("theme",e.toString()),document.documentElement.setAttribute("data-theme",e?"dark":"light")},[e]);const o={isDark:e,toggleTheme:()=>{t(!e)}};return y.jsx(UA.Provider,{value:o,children:i})}function tk(){const{currentUser:i,logout:e}=tn(),{isDark:t,toggleTheme:r}=JM(),[o,u]=V.useState(""),[h,d]=V.useState(!1),p=pa(),g=V.useRef(null);V.useEffect(()=>{function w(I){g.current&&!g.current.contains(I.target)&&d(!1)}return document.addEventListener("mousedown",w),()=>document.removeEventListener("mousedown",w)},[]);const _=async()=>{try{await e(),p("/login")}catch(w){console.error("Failed to log out:",w)}},A=w=>{w.preventDefault(),o.trim()&&(p(`/search?q=${encodeURIComponent(o)}`),u(""))};return i?y.jsx("nav",{className:"navbar",children:y.jsxs("div",{className:"nav-container",children:[y.jsxs(fn,{to:"/",className:"nav-logo",children:[y.jsx("div",{className:"logo-icon",children:"Q"}),y.jsx("span",{className:"logo-text",children:"Quora"})]}),y.jsx("form",{className:"search-form",onSubmit:A,children:y.jsxs("div",{className:"search-input-container",children:[y.jsxs("svg",{className:"search-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[y.jsx("circle",{cx:"11",cy:"11",r:"8"}),y.jsx("path",{d:"m21 21-4.35-4.35"})]}),y.jsx("input",{type:"text",placeholder:"Search for questions, topics, or people...",value:o,onChange:w=>u(w.target.value),className:"search-input"})]})}),y.jsxs("div",{className:"nav-actions",children:[y.jsxs(fn,{to:"/ask",className:"ask-btn",children:[y.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:y.jsx("path",{d:"M12 5v14M5 12h14"})}),"Ask Question"]}),y.jsx("button",{onClick:r,className:"theme-toggle",children:t?y.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[y.jsx("circle",{cx:"12",cy:"12",r:"5"}),y.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"3"}),y.jsx("line",{x1:"12",y1:"21",x2:"12",y2:"23"}),y.jsx("line",{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"}),y.jsx("line",{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"}),y.jsx("line",{x1:"1",y1:"12",x2:"3",y2:"12"}),y.jsx("line",{x1:"21",y1:"12",x2:"23",y2:"12"}),y.jsx("line",{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"}),y.jsx("line",{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"})]}):y.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:y.jsx("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"})})}),y.jsxs("div",{className:"user-menu",ref:g,children:[y.jsx("button",{className:"user-avatar",onClick:()=>d(!h),children:y.jsx("div",{className:"avatar-circle",children:(i.displayName||i.email)[0].toUpperCase()})}),h&&y.jsxs("div",{className:"user-dropdown",children:[y.jsxs("div",{className:"user-info",children:[y.jsx("div",{className:"user-name",children:i.displayName||"User"}),y.jsx("div",{className:"user-email",children:i.email})]}),y.jsx("div",{className:"dropdown-divider"}),y.jsxs(fn,{to:"/profile",className:"dropdown-item",onClick:()=>d(!1),children:[y.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[y.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),y.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),"Profile"]}),y.jsxs(fn,{to:"/following",className:"dropdown-item",onClick:()=>d(!1),children:[y.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[y.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}),y.jsx("circle",{cx:"9",cy:"7",r:"4"}),y.jsx("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),y.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),"Following"]}),y.jsx("div",{className:"dropdown-divider"}),y.jsxs("button",{onClick:_,className:"dropdown-item logout-btn",children:[y.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[y.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),y.jsx("polyline",{points:"16,17 21,12 16,7"}),y.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),"Logout"]})]})]})]})]})}):null}function nk(){const i=Pi(),e=t=>i.pathname===t;return y.jsx("aside",{className:"sidebar",children:y.jsxs("nav",{className:"sidebar-nav",children:[y.jsxs(fn,{to:"/",className:`nav-item ${e("/")?"active":""}`,children:[y.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[y.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),y.jsx("polyline",{points:"9,22 9,12 15,12 15,22"})]}),"Home"]}),y.jsxs(fn,{to:"/following",className:`nav-item ${e("/following")?"active":""}`,children:[y.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[y.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}),y.jsx("circle",{cx:"9",cy:"7",r:"4"}),y.jsx("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),y.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),"Following"]}),y.jsxs(fn,{to:"/topics",className:`nav-item ${e("/topics")?"active":""}`,children:[y.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[y.jsx("path",{d:"M4 19.5A2.5 2.5 0 0 1 6.5 17H20"}),y.jsx("path",{d:"M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"})]}),"Topics"]}),y.jsx("div",{className:"sidebar-divider"}),y.jsxs("div",{className:"sidebar-section",children:[y.jsx("h3",{className:"section-title",children:"Your Activity"}),y.jsxs(fn,{to:"/profile",className:`nav-item ${e("/profile")?"active":""}`,children:[y.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[y.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),y.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),"Your Profile"]})]})]})})}function qf({itemId:i,itemType:e,initialUpvotes:t,initialDownvotes:r,compact:o=!1}){const{currentUser:u}=tn(),[h,d]=V.useState(t),[p,g]=V.useState(r),[_,A]=V.useState(null),[w,I]=V.useState(!1);V.useEffect(()=>{u&&(async()=>{try{if(e==="replies"&&typeof i=="string"&&i.includes("-"))return;const P=Jt(Qe,e,i),M=await Vo(P);if(M.exists()){const se=(M.data().votes||[]).find(re=>re.userId===u.uid);se&&A(se.type)}}catch(P){console.error("Error checking user vote:",P)}})()},[i,e,u]);const x=async z=>{if(!(!u||w)){if(e==="replies"&&typeof i=="string"&&i.includes("-")){console.log("Voting on nested replies not yet implemented");return}I(!0);try{const P=Jt(Qe,e,i),M={userId:u.uid,type:z};if(_===z)await Es(P,{[z==="up"?"upvotes":"downvotes"]:Io(-1),votes:tf(M)}),A(null),z==="up"?d(K=>K-1):g(K=>K-1);else{const K={votes:Xg(M)};if(_){const X={userId:u.uid,type:_};K.votes=tf(X),K[_==="up"?"upvotes":"downvotes"]=Io(-1)}K[z==="up"?"upvotes":"downvotes"]=Io(1),await Es(P,K),_&&(_==="up"?d(X=>X-1):g(X=>X-1)),z==="up"?d(X=>X+1):g(X=>X+1),A(z)}}catch(P){console.error("Error voting:",P)}finally{I(!1)}}};return o?y.jsxs("div",{className:"vote-buttons compact",children:[y.jsxs("button",{className:`vote-btn upvote ${_==="up"?"active":""}`,onClick:()=>x("up"),disabled:w,children:[y.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:y.jsx("path",{d:"M7 14l5-5 5 5"})}),y.jsx("span",{children:h})]}),y.jsx("button",{className:`vote-btn downvote ${_==="down"?"active":""}`,onClick:()=>x("down"),disabled:w,children:y.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:y.jsx("path",{d:"M17 10l-5 5-5-5"})})})]}):y.jsxs("div",{className:"vote-buttons",children:[y.jsx("button",{className:`vote-btn upvote ${_==="up"?"active":""}`,onClick:()=>x("up"),disabled:w,children:y.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:y.jsx("path",{d:"M7 14l5-5 5 5"})})}),y.jsx("span",{className:"vote-count",children:h-p}),y.jsx("button",{className:`vote-btn downvote ${_==="down"?"active":""}`,onClick:()=>x("down"),disabled:w,children:y.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:y.jsx("path",{d:"M17 10l-5 5-5-5"})})})]})}function Iu({question:i}){const{currentUser:e}=tn(),[t,r]=V.useState(!1),[o,u]=V.useState(!1),[h,d]=V.useState(!1);V.useEffect(()=>{(async()=>{if(e)try{const I=await Vo(Jt(Qe,"users",e.uid));if(I.exists()){const z=I.data().followedQuestions||[];u(z.includes(i.id))}}catch(I){console.error("Error checking follow status:",I)}})()},[e,i.id]);const p=w=>{if(!w)return"Unknown date";const I=new Date(w.toDate()),z=Math.abs(new Date-I),P=Math.ceil(z/(1e3*60*60*24));return P===1?"1 day ago":P<7?`${P} days ago`:P<30?`${Math.ceil(P/7)} weeks ago`:I.toLocaleDateString()},g=(w,I=200)=>w.length<=I?w:w.substring(0,I)+"...",_=async()=>{if(!(!e||h)){d(!0);try{const w=Jt(Qe,"users",e.uid),I=await Vo(w);((I.exists()?I.data():{}).followedQuestions||[]).includes(i.id)?(await Es(w,{followedQuestions:tf(i.id),updatedAt:Hn()}),u(!1)):(await Es(w,{followedQuestions:Xg(i.id),updatedAt:Hn()}),u(!0))}catch(w){console.error("Error following question:",w)}finally{d(!1)}}},A=async()=>{const w=`${window.location.origin}/question/${i.id}`;if(navigator.share)try{await navigator.share({title:i.title,text:i.content.substring(0,100)+"...",url:w})}catch(I){console.log("Error sharing:",I)}else try{await navigator.clipboard.writeText(w),alert("Link copied to clipboard!")}catch(I){console.log("Error copying to clipboard:",I)}};return y.jsxs("article",{className:"question-card",children:[y.jsx("div",{className:"question-header",children:y.jsxs("div",{className:"author-info",children:[y.jsx("div",{className:"author-avatar",children:(i.authorName||"U")[0].toUpperCase()}),y.jsxs("div",{className:"author-details",children:[y.jsx("span",{className:"author-name",children:i.authorName}),y.jsx("span",{className:"question-date",children:p(i.createdAt)})]})]})}),y.jsxs("div",{className:"question-content",children:[y.jsx("h2",{className:"question-title",children:y.jsx(fn,{to:`/question/${i.id}`,children:i.title})}),y.jsx("div",{className:"question-body",children:y.jsxs("p",{children:[t?i.content:g(i.content),i.content.length>200&&y.jsx("button",{className:"expand-btn",onClick:()=>r(!t),children:t?" Show less":" Read more"})]})}),i.tags&&i.tags.length>0&&y.jsxs("div",{className:"question-tags",children:[i.tags.slice(0,3).map((w,I)=>y.jsx("span",{className:"tag",children:w},I)),i.tags.length>3&&y.jsxs("span",{className:"tag-more",children:["+",i.tags.length-3," more"]})]})]}),y.jsxs("div",{className:"question-footer",children:[y.jsxs("div",{className:"question-stats",children:[y.jsx(qf,{itemId:i.id,itemType:"questions",initialUpvotes:i.upvotes||0,initialDownvotes:i.downvotes||0,compact:!0}),y.jsxs(fn,{to:`/question/${i.id}`,className:"stat-item",children:[y.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:y.jsx("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"})}),y.jsxs("span",{children:[i.answerCount||0," answers"]})]}),y.jsxs("div",{className:"stat-item",children:[y.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[y.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),y.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),y.jsxs("span",{children:[i.views||0," views"]})]})]}),y.jsxs("div",{className:"question-actions",children:[y.jsxs("button",{className:"action-btn",onClick:A,children:[y.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[y.jsx("path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"}),y.jsx("polyline",{points:"16,6 12,2 8,6"}),y.jsx("line",{x1:"12",y1:"2",x2:"12",y2:"15"})]}),"Share"]}),y.jsx("button",{className:`action-btn ${o?"following":""}`,onClick:_,disabled:h,children:h?y.jsx("div",{className:"btn-spinner"}):o?y.jsxs(y.Fragment,{children:[y.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:y.jsx("polyline",{points:"20,6 9,17 4,12"})}),"Following"]}):y.jsxs(y.Fragment,{children:[y.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:y.jsx("path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.29 1.51 4.04 3 5.5l7 7z"})}),"Follow"]})})]})]})]})}function ba({size:i="medium",text:e="Loading..."}){return y.jsxs("div",{className:`loading-spinner ${i}`,children:[y.jsx("div",{className:"spinner"}),e&&y.jsx("p",{className:"loading-text",children:e})]})}function ik(){const[i,e]=V.useState([]),[t,r]=V.useState(!0),[o,u]=V.useState("recent");return V.useEffect(()=>{let h;switch(o){case"popular":h=lr(pn(Qe,"questions"),Dh("upvotes","desc"),lp(20));break;case"unanswered":h=lr(pn(Qe,"questions"),Dh("createdAt","desc"),lp(20));break;default:h=lr(pn(Qe,"questions"),Dh("createdAt","desc"),lp(20))}return Bu(h,p=>{let g=p.docs.map(_=>({id:_.id,..._.data()}));o==="unanswered"&&(g=g.filter(_=>(_.answerCount||0)===0)),e(g),r(!1)})},[o]),t?y.jsx(ba,{text:"Loading questions..."}):y.jsxs("div",{className:"home",children:[y.jsxs("div",{className:"home-header",children:[y.jsx("h1",{children:"Questions for you"}),y.jsxs("div",{className:"filter-tabs",children:[y.jsx("button",{className:`filter-tab ${o==="recent"?"active":""}`,onClick:()=>u("recent"),children:"Recent"}),y.jsx("button",{className:`filter-tab ${o==="popular"?"active":""}`,onClick:()=>u("popular"),children:"Popular"}),y.jsx("button",{className:`filter-tab ${o==="unanswered"?"active":""}`,onClick:()=>u("unanswered"),children:"Unanswered"})]})]}),y.jsx("div",{className:"questions-feed",children:i.length===0?y.jsxs("div",{className:"empty-state",children:[y.jsx("div",{className:"empty-icon",children:y.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[y.jsx("circle",{cx:"12",cy:"12",r:"10"}),y.jsx("path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}),y.jsx("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]})}),y.jsx("h3",{children:"No questions found"}),y.jsx("p",{children:"Be the first to ask a question in this category!"})]}):i.map(h=>y.jsx(Iu,{question:h},h.id))})]})}function sk(){const[i,e]=V.useState(""),[t,r]=V.useState(""),[o,u]=V.useState(""),[h,d]=V.useState(!1),[p,g]=V.useState(!1),{login:_}=tn(),A=pa(),w=async I=>{I.preventDefault();try{u(""),d(!0),await _(i,t),A("/")}catch(x){u(x.message||"Failed to log in. Please check your credentials.")}d(!1)};return y.jsx("div",{className:"auth-page",children:y.jsxs("div",{className:"auth-container",children:[y.jsxs("div",{className:"auth-card",children:[y.jsxs("div",{className:"auth-header",children:[y.jsxs("div",{className:"logo",children:[y.jsx("div",{className:"logo-icon",children:"Q"}),y.jsx("span",{className:"logo-text",children:"Quora"})]}),y.jsx("h1",{children:"Welcome back"}),y.jsx("p",{children:"Sign in to your account to continue"})]}),o&&y.jsxs("div",{className:"error-message",children:[y.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[y.jsx("circle",{cx:"12",cy:"12",r:"10"}),y.jsx("line",{x1:"15",y1:"9",x2:"9",y2:"15"}),y.jsx("line",{x1:"9",y1:"9",x2:"15",y2:"15"})]}),o]}),y.jsxs("form",{onSubmit:w,className:"auth-form",children:[y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"email",children:"Email address"}),y.jsx("div",{className:"input-container",children:y.jsx("input",{type:"email",id:"email",value:i,onChange:I=>e(I.target.value),required:!0,className:"form-input",placeholder:"Enter your email"})})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"password",children:"Password"}),y.jsxs("div",{className:"input-container",children:[y.jsx("input",{type:p?"text":"password",id:"password",value:t,onChange:I=>r(I.target.value),required:!0,className:"form-input",placeholder:"Enter your password"}),y.jsx("button",{type:"button",className:"password-toggle",onClick:()=>g(!p),children:p?y.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[y.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),y.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}):y.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[y.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),y.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]})]}),y.jsx("button",{type:"submit",disabled:h,className:"auth-btn",children:h?y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"btn-spinner"}),"Signing in..."]}):"Sign in"})]}),y.jsx("div",{className:"auth-footer",children:y.jsxs("p",{children:["Don't have an account?"," ",y.jsx(fn,{to:"/register",className:"auth-link",children:"Sign up"})]})})]}),y.jsx("div",{className:"auth-illustration",children:y.jsxs("div",{className:"illustration-content",children:[y.jsx("h2",{children:"Join the Knowledge Community"}),y.jsx("p",{children:"Connect with experts, share insights, and discover answers to your questions."}),y.jsxs("div",{className:"features",children:[y.jsxs("div",{className:"feature",children:[y.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[y.jsx("circle",{cx:"12",cy:"12",r:"10"}),y.jsx("path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}),y.jsx("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]}),y.jsx("span",{children:"Ask Questions"})]}),y.jsxs("div",{className:"feature",children:[y.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:y.jsx("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"})}),y.jsx("span",{children:"Share Knowledge"})]}),y.jsxs("div",{className:"feature",children:[y.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[y.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}),y.jsx("circle",{cx:"9",cy:"7",r:"4"}),y.jsx("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),y.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),y.jsx("span",{children:"Connect with Experts"})]})]})]})})]})})}function rk(){const[i,e]=V.useState({displayName:"",email:"",password:"",confirmPassword:""}),[t,r]=V.useState(""),[o,u]=V.useState(!1),[h,d]=V.useState(!1),[p,g]=V.useState(!1),{signup:_}=tn(),A=pa(),w=M=>{e({...i,[M.target.name]:M.target.value})},I=()=>i.password!==i.confirmPassword?"Passwords do not match":i.password.length<6?"Password must be at least 6 characters":i.displayName.length<2?"Name must be at least 2 characters":null,x=async M=>{M.preventDefault();const K=I();if(K){r(K);return}try{r(""),u(!0),await _(i.email,i.password,i.displayName),A("/")}catch(X){r(X.message||"Failed to create account. Please try again.")}u(!1)},P=(M=>M.length===0?{strength:0,text:""}:M.length<6?{strength:1,text:"Weak"}:M.length<10?{strength:2,text:"Medium"}:{strength:3,text:"Strong"})(i.password);return y.jsx("div",{className:"auth-page",children:y.jsxs("div",{className:"auth-container",children:[y.jsxs("div",{className:"auth-card",children:[y.jsxs("div",{className:"auth-header",children:[y.jsxs("div",{className:"logo",children:[y.jsx("div",{className:"logo-icon",children:"Q"}),y.jsx("span",{className:"logo-text",children:"Quora"})]}),y.jsx("h1",{children:"Create your account"}),y.jsx("p",{children:"Join our community and start sharing knowledge"})]}),t&&y.jsxs("div",{className:"error-message",children:[y.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[y.jsx("circle",{cx:"12",cy:"12",r:"10"}),y.jsx("line",{x1:"15",y1:"9",x2:"9",y2:"15"}),y.jsx("line",{x1:"9",y1:"9",x2:"15",y2:"15"})]}),t]}),y.jsxs("form",{onSubmit:x,className:"auth-form",children:[y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"displayName",children:"Full name"}),y.jsx("div",{className:"input-container",children:y.jsx("input",{type:"text",id:"displayName",name:"displayName",value:i.displayName,onChange:w,required:!0,className:"form-input",placeholder:"Enter your full name"})})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"email",children:"Email address"}),y.jsx("div",{className:"input-container",children:y.jsx("input",{type:"email",id:"email",name:"email",value:i.email,onChange:w,required:!0,className:"form-input",placeholder:"Enter your email"})})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"password",children:"Password"}),y.jsxs("div",{className:"input-container",children:[y.jsx("input",{type:h?"text":"password",id:"password",name:"password",value:i.password,onChange:w,required:!0,className:"form-input",placeholder:"Create a password"}),y.jsx("button",{type:"button",className:"password-toggle",onClick:()=>d(!h),children:h?y.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[y.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),y.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}):y.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[y.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),y.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]}),i.password&&y.jsxs("div",{className:"password-strength",children:[y.jsx("div",{className:"strength-bar",children:y.jsx("div",{className:`strength-fill strength-${P.strength}`,style:{width:`${P.strength/3*100}%`}})}),y.jsx("span",{className:`strength-text strength-${P.strength}`,children:P.text})]})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"confirmPassword",children:"Confirm password"}),y.jsxs("div",{className:"input-container",children:[y.jsx("input",{type:p?"text":"password",id:"confirmPassword",name:"confirmPassword",value:i.confirmPassword,onChange:w,required:!0,className:"form-input",placeholder:"Confirm your password"}),y.jsx("button",{type:"button",className:"password-toggle",onClick:()=>g(!p),children:p?y.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[y.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),y.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}):y.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[y.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),y.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]})]}),y.jsx("button",{type:"submit",disabled:o,className:"auth-btn",children:o?y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"btn-spinner"}),"Creating account..."]}):"Create account"})]}),y.jsx("div",{className:"auth-footer",children:y.jsxs("p",{children:["Already have an account?"," ",y.jsx(fn,{to:"/login",className:"auth-link",children:"Sign in"})]})})]}),y.jsx("div",{className:"auth-illustration",children:y.jsxs("div",{className:"illustration-content",children:[y.jsx("h2",{children:"Start Your Journey"}),y.jsx("p",{children:"Join thousands of users sharing knowledge and learning together."}),y.jsxs("div",{className:"features",children:[y.jsxs("div",{className:"feature",children:[y.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:y.jsx("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})}),y.jsx("span",{children:"Build Reputation"})]}),y.jsxs("div",{className:"feature",children:[y.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[y.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),y.jsx("circle",{cx:"9",cy:"7",r:"4"}),y.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),y.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),y.jsx("span",{children:"Join Community"})]}),y.jsxs("div",{className:"feature",children:[y.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[y.jsx("path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"}),y.jsx("path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"})]}),y.jsx("span",{children:"Learn & Grow"})]})]})]})})]})})}function ak(){const{userId:i}=CT(),{currentUser:e}=tn(),[t,r]=V.useState(null),[o,u]=V.useState([]),[h,d]=V.useState([]),[p,g]=V.useState("questions"),[_,A]=V.useState(!0),[w,I]=V.useState({totalUpvotes:0,totalViews:0,questionsCount:0,answersCount:0}),x=i||e?.uid,z=!i||i===e?.uid;return V.useEffect(()=>{(async()=>{if(x)try{const M=await Vo(Jt(Qe,"users",x));M.exists()?r({id:M.id,...M.data()}):z&&r(e);const K=lr(pn(Qe,"questions"),Jh("authorId","==",x)),se=(await ef(K)).docs.map(B=>({id:B.id,...B.data()})),re=se.sort((B,O)=>{const mt=B.createdAt?.toDate()||new Date(0);return(O.createdAt?.toDate()||new Date(0))-mt});u(re);const fe=lr(pn(Qe,"answers"),Jh("authorId","==",x)),R=(await ef(fe)).docs.map(B=>({id:B.id,...B.data()})),C=R.sort((B,O)=>{const mt=B.createdAt?.toDate()||new Date(0);return(O.createdAt?.toDate()||new Date(0))-mt});d(C);const k=se.reduce((B,O)=>B+(O.upvotes||0),0)+R.reduce((B,O)=>B+(O.upvotes||0),0),U=se.reduce((B,O)=>B+(O.views||0),0);I({totalUpvotes:k,totalViews:U,questionsCount:se.length,answersCount:R.length})}catch(M){console.error("Error fetching user data:",M)}finally{A(!1)}})()},[x,e,z]),_?y.jsx(ba,{text:"Loading profile..."}):t?y.jsxs("div",{className:"profile-page",children:[y.jsxs("div",{className:"profile-header",children:[y.jsx("div",{className:"profile-banner",children:y.jsxs("div",{className:"profile-info",children:[y.jsx("div",{className:"profile-avatar",children:(t.displayName||t.email||"U")[0].toUpperCase()}),y.jsxs("div",{className:"profile-details",children:[y.jsx("h1",{className:"profile-name",children:t.displayName||"Anonymous User"}),y.jsx("p",{className:"profile-email",children:t.email}),t.bio&&y.jsx("p",{className:"profile-bio",children:t.bio}),y.jsx("div",{className:"profile-meta",children:y.jsxs("span",{children:["Joined ",new Date(t.createdAt?.toDate()||Date.now()).toLocaleDateString()]})})]})]})}),y.jsxs("div",{className:"profile-stats",children:[y.jsxs("div",{className:"stat-card",children:[y.jsx("div",{className:"stat-number",children:w.questionsCount}),y.jsx("div",{className:"stat-label",children:"Questions"})]}),y.jsxs("div",{className:"stat-card",children:[y.jsx("div",{className:"stat-number",children:w.answersCount}),y.jsx("div",{className:"stat-label",children:"Answers"})]}),y.jsxs("div",{className:"stat-card",children:[y.jsx("div",{className:"stat-number",children:w.totalUpvotes}),y.jsx("div",{className:"stat-label",children:"Upvotes"})]}),y.jsxs("div",{className:"stat-card",children:[y.jsx("div",{className:"stat-number",children:w.totalViews}),y.jsx("div",{className:"stat-label",children:"Views"})]})]})]}),y.jsxs("div",{className:"profile-content",children:[y.jsxs("div",{className:"profile-tabs",children:[y.jsxs("button",{className:`tab ${p==="questions"?"active":""}`,onClick:()=>g("questions"),children:[y.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[y.jsx("circle",{cx:"12",cy:"12",r:"10"}),y.jsx("path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}),y.jsx("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]}),"Questions (",o.length,")"]}),y.jsxs("button",{className:`tab ${p==="answers"?"active":""}`,onClick:()=>g("answers"),children:[y.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:y.jsx("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"})}),"Answers (",h.length,")"]})]}),y.jsxs("div",{className:"tab-content",children:[p==="questions"&&y.jsx("div",{className:"questions-tab",children:o.length===0?y.jsxs("div",{className:"empty-state",children:[y.jsx("div",{className:"empty-icon",children:y.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[y.jsx("circle",{cx:"12",cy:"12",r:"10"}),y.jsx("path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}),y.jsx("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]})}),y.jsx("h3",{children:"No questions yet"}),y.jsx("p",{children:z?"Start asking questions to build your profile":"This user hasn't asked any questions yet"})]}):y.jsx("div",{className:"content-list",children:o.map(P=>y.jsx(Iu,{question:P},P.id))})}),p==="answers"&&y.jsx("div",{className:"answers-tab",children:h.length===0?y.jsxs("div",{className:"empty-state",children:[y.jsx("div",{className:"empty-icon",children:y.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:y.jsx("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"})})}),y.jsx("h3",{children:"No answers yet"}),y.jsx("p",{children:z?"Start answering questions to help the community":"This user hasn't answered any questions yet"})]}):y.jsx("div",{className:"answers-list",children:h.map(P=>y.jsxs("div",{className:"answer-preview",children:[y.jsx("div",{className:"answer-content",children:y.jsx("p",{children:P.content})}),y.jsx("div",{className:"answer-meta",children:y.jsxs("div",{className:"answer-stats",children:[y.jsxs("span",{className:"upvotes",children:[P.upvotes||0," upvotes"]}),y.jsx("span",{className:"date",children:new Date(P.createdAt?.toDate()).toLocaleDateString()})]})})]},P.id))})})]})]})]}):y.jsxs("div",{className:"profile-error",children:[y.jsx("h2",{children:"User not found"}),y.jsx("p",{children:"The profile you're looking for doesn't exist."})]})}function BA({reply:i,onReplyAdded:e,level:t=0,allReplies:r=[]}){const{currentUser:o}=tn(),[u,h]=V.useState(!1),[d,p]=V.useState(""),[g,_]=V.useState(!1),[A,w]=V.useState(!0),[I,x]=V.useState(!1),[z,P]=V.useState(!1),M=N=>{if(!N)return"Unknown date";const R=N.toDate?N.toDate():new Date(N),k=Math.abs(new Date-R),U=Math.ceil(k/(1e3*60));return U<60?`${U}m ago`:U<1440?`${Math.ceil(U/60)}h ago`:`${Math.ceil(U/1440)}d ago`},K=async N=>{if(N.preventDefault(),!d.trim()||g){console.log("Preventing nested reply submission - submitting:",g,"content:",d.trim());return}try{_(!0),console.log("Starting nested reply submission...");const R={content:d.trim(),answerId:i.answerId,questionId:i.questionId,parentReplyId:i.id,authorId:o.uid,authorName:o.displayName||o.email,createdAt:Hn(),updatedAt:Hn(),upvotes:0,downvotes:0,votes:[]};console.log("Submitting nested reply:",R);const C=await jf(pn(Qe,"replies"),R);console.log("Nested reply created successfully with ID:",C.id),p(""),h(!1),e&&e()}catch(R){console.error("Error submitting nested reply:",R),alert(`Failed to post reply: ${R.message}`)}finally{_(!1),console.log("Nested reply submission completed")}},X=async()=>{if(!(!o||I))try{x(!0),console.log("Deleting reply:",i.id),await e4(Jt(Qe,"replies",i.id)),console.log("Reply deleted successfully"),P(!1),e&&e()}catch(N){console.error("Error deleting reply:",N),alert(`Failed to delete reply: ${N.message}`)}finally{x(!1)}},se=r.filter(N=>N.parentReplyId===i.id).sort((N,R)=>{const C=N.createdAt?.toDate()||new Date(0),k=R.createdAt?.toDate()||new Date(0);return C-k}),re=3,fe=o&&i.authorId===o.uid;return y.jsx("div",{className:`reply-card level-${Math.min(t,re)}`,children:y.jsxs("div",{className:"reply-content",children:[y.jsxs("div",{className:"reply-header",children:[y.jsxs("div",{className:"author-info",children:[y.jsx("div",{className:"author-avatar",children:(i.authorName||"U")[0].toUpperCase()}),y.jsxs("div",{className:"author-details",children:[y.jsx("span",{className:"author-name",children:i.authorName}),y.jsx("span",{className:"reply-date",children:M(i.createdAt)})]})]}),fe&&y.jsx("div",{className:"reply-menu",children:y.jsx("button",{className:"delete-reply-btn",onClick:()=>P(!0),disabled:I,title:"Delete reply",children:y.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[y.jsx("polyline",{points:"3,6 5,6 21,6"}),y.jsx("path",{d:"M19,6v14a2,2 0 0,1 -2,2H7a2,2 0 0,1 -2,-2V6m3,0V4a2,2 0 0,1 2,-2h4a2,2 0 0,1 2,2v2"})]})})})]}),y.jsx("div",{className:"reply-text",children:y.jsx("p",{children:i.content})}),y.jsxs("div",{className:"reply-actions",children:[y.jsx(qf,{itemId:i.id,itemType:"replies",initialUpvotes:i.upvotes||0,initialDownvotes:i.downvotes||0,compact:!0}),t<re&&y.jsxs("button",{className:"reply-btn",onClick:()=>h(!u),disabled:g,children:[y.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:y.jsx("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"})}),g?"Posting...":"Reply"]}),se.length>0&&y.jsxs("button",{className:"toggle-replies-btn",onClick:()=>w(!A),children:[y.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:y.jsx("polyline",{points:A?"18,15 12,9 6,15":"6,9 12,15 18,9"})}),A?"Hide":"Show"," ",se.length," ",se.length===1?"reply":"replies"]})]}),z&&y.jsx("div",{className:"delete-confirmation",children:y.jsxs("div",{className:"delete-modal",children:[y.jsx("h4",{children:"Delete Reply"}),y.jsx("p",{children:"Are you sure you want to delete this reply? This action cannot be undone."}),y.jsxs("div",{className:"delete-actions",children:[y.jsx("button",{className:"cancel-delete-btn",onClick:()=>P(!1),disabled:I,children:"Cancel"}),y.jsx("button",{className:"confirm-delete-btn",onClick:X,disabled:I,children:I?"Deleting...":"Delete"})]})]})}),u&&y.jsxs("form",{onSubmit:K,className:"reply-form",children:[y.jsx("textarea",{value:d,onChange:N=>p(N.target.value),placeholder:"Write your reply...",className:"reply-textarea",rows:3,maxLength:1e3,required:!0,disabled:g}),y.jsxs("div",{className:"reply-form-actions",children:[y.jsxs("span",{className:"char-count",children:[d.length,"/1000"]}),y.jsxs("div",{className:"form-buttons",children:[y.jsx("button",{type:"button",onClick:()=>{h(!1),p("")},className:"cancel-btn",disabled:g,children:"Cancel"}),y.jsx("button",{type:"submit",disabled:g||d.trim().length===0,className:"submit-btn",children:g?"Posting...":"Reply"})]})]})]}),A&&se.length>0&&y.jsx("div",{className:"nested-replies",children:se.map(N=>y.jsx(BA,{reply:N,onReplyAdded:e,level:t+1,allReplies:r},N.id))})]})})}function ok({answer:i}){const{currentUser:e}=tn(),[t,r]=V.useState([]),[o,u]=V.useState(!1),[h,d]=V.useState(!1),[p,g]=V.useState(""),[_,A]=V.useState(!1),[w,I]=V.useState(!1);V.useEffect(()=>{console.log("Setting up replies listener for answer:",i.id);const K=lr(pn(Qe,"replies"),Jh("answerId","==",i.id));return Bu(K,se=>{const re=se.docs.map(fe=>({id:fe.id,...fe.data()}));console.log("Fetched replies for answer",i.id,":",re),r(re),I(!1)},se=>{console.error("Error fetching replies:",se),I(!1)})},[i.id]);const x=K=>K?new Date(K.toDate()).toLocaleDateString():"Unknown date",z=async K=>{if(K.preventDefault(),!p.trim()||_){console.log("Preventing submission - submitting:",_,"content:",p.trim());return}try{A(!0),console.log("Starting reply submission...");const X={content:p.trim(),answerId:i.id,questionId:i.questionId,parentReplyId:null,authorId:e.uid,authorName:e.displayName||e.email,createdAt:Hn(),updatedAt:Hn(),upvotes:0,downvotes:0,votes:[]};console.log("Submitting reply data:",X);const se=await jf(pn(Qe,"replies"),X);console.log("Reply created successfully with ID:",se.id),g(""),d(!1),o||u(!0)}catch(X){console.error("Error submitting reply:",X),alert(`Failed to post reply: ${X.message}`)}finally{A(!1),console.log("Reply submission completed")}},P=t.filter(K=>!K.parentReplyId).sort((K,X)=>{const se=K.createdAt?.toDate()||new Date(0),re=X.createdAt?.toDate()||new Date(0);return se-re}),M=t.length;return y.jsxs("div",{className:"answer-card",children:[y.jsx("div",{className:"answer-votes",children:y.jsx(qf,{itemId:i.id,itemType:"answers",initialUpvotes:i.upvotes||0,initialDownvotes:i.downvotes||0})}),y.jsxs("div",{className:"answer-content",children:[y.jsx("div",{className:"answer-text",children:y.jsx("p",{children:i.content})}),y.jsxs("div",{className:"answer-footer",children:[y.jsxs("div",{className:"answer-meta",children:[y.jsxs("span",{children:["answered by ",i.authorName]}),y.jsx("span",{children:""}),y.jsx("span",{children:x(i.createdAt)})]}),y.jsxs("div",{className:"answer-actions",children:[y.jsxs("button",{className:"reply-toggle-btn",onClick:()=>u(!o),children:[y.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:y.jsx("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"})}),o?"Hide":"Show"," Replies (",M,")"]}),y.jsxs("button",{className:"add-reply-btn",onClick:()=>d(!h),disabled:_,children:[y.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[y.jsx("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"}),y.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"16"}),y.jsx("line",{x1:"8",y1:"12",x2:"16",y2:"12"})]}),_?"Posting...":"Reply"]})]})]}),h&&y.jsxs("form",{onSubmit:z,className:"reply-form",children:[y.jsx("textarea",{value:p,onChange:K=>g(K.target.value),placeholder:"Write your reply to this answer...",className:"reply-textarea",rows:4,maxLength:1e3,required:!0,disabled:_}),y.jsxs("div",{className:"reply-form-actions",children:[y.jsxs("span",{className:"char-count",children:[p.length,"/1000"]}),y.jsxs("div",{className:"form-buttons",children:[y.jsx("button",{type:"button",onClick:()=>{d(!1),g("")},className:"cancel-btn",disabled:_,children:"Cancel"}),y.jsx("button",{type:"submit",disabled:_||p.trim().length===0,className:"submit-btn",children:_?"Posting...":"Post Reply"})]})]})]}),o&&y.jsx("div",{className:"replies-section",children:w?y.jsxs("div",{className:"replies-loading",children:[y.jsx("div",{className:"loading-spinner"}),y.jsx("span",{children:"Loading replies..."})]}):M===0?y.jsx("div",{className:"no-replies",children:y.jsx("p",{children:"No replies yet. Be the first to reply!"})}):y.jsxs("div",{className:"replies-list",children:[y.jsxs("h4",{className:"replies-title",children:[M," ",M===1?"Reply":"Replies"]}),P.map(K=>y.jsx(BA,{reply:K,onReplyAdded:()=>console.log("Nested reply added"),level:0,allReplies:t},K.id))]})})]})]})}function lk(){const{id:i}=CT(),{currentUser:e}=tn(),[t,r]=V.useState(null),[o,u]=V.useState([]),[h,d]=V.useState(""),[p,g]=V.useState(!0),[_,A]=V.useState(!1);V.useEffect(()=>{(async()=>{try{const x=await Vo(Jt(Qe,"questions",i));x.exists()&&(r({id:x.id,...x.data()}),await Es(Jt(Qe,"questions",i),{views:Io(1)}))}catch(x){console.error("Error fetching question:",x)}})()},[i]),V.useEffect(()=>{const I=lr(pn(Qe,"answers"),Jh("questionId","==",i));return Bu(I,z=>{const M=z.docs.map(K=>({id:K.id,...K.data()})).sort((K,X)=>{const se=K.createdAt?.toDate()||new Date(0);return(X.createdAt?.toDate()||new Date(0))-se});u(M),g(!1)})},[i]);const w=async I=>{if(I.preventDefault(),!!h.trim())try{A(!0);const x={content:h.trim(),questionId:i,authorId:e.uid,authorName:e.displayName||e.email,createdAt:Hn(),upvotes:0,downvotes:0,votes:[]};await jf(pn(Qe,"answers"),x),await Es(Jt(Qe,"questions",i),{answerCount:Io(1)}),d("")}catch(x){console.error("Error submitting answer:",x)}finally{A(!1)}};return p?y.jsx("div",{className:"loading",children:"Loading question..."}):t?y.jsx("div",{className:"question-detail",children:y.jsxs("div",{className:"question-container",children:[y.jsxs("div",{className:"question-header",children:[y.jsx("div",{className:"question-votes",children:y.jsx(qf,{itemId:t.id,itemType:"questions",initialUpvotes:t.upvotes||0,initialDownvotes:t.downvotes||0})}),y.jsxs("div",{className:"question-content",children:[y.jsx("h1",{children:t.title}),y.jsxs("div",{className:"question-meta",children:[y.jsxs("span",{children:["Asked by ",t.authorName]}),y.jsx("span",{children:""}),y.jsx("span",{children:new Date(t.createdAt?.toDate()).toLocaleDateString()}),y.jsx("span",{children:""}),y.jsxs("span",{children:[t.views||0," views"]})]}),y.jsx("div",{className:"question-body",children:y.jsx("p",{children:t.content})}),t.tags&&t.tags.length>0&&y.jsx("div",{className:"question-tags",children:t.tags.map((I,x)=>y.jsx("span",{className:"tag",children:I},x))})]})]}),y.jsxs("div",{className:"answers-section",children:[y.jsxs("h2",{children:[o.length," Answer",o.length!==1?"s":""]}),y.jsxs("form",{onSubmit:w,className:"answer-form",children:[y.jsx("textarea",{value:h,onChange:I=>d(I.target.value),placeholder:"Write your answer...",className:"answer-textarea",rows:6}),y.jsx("button",{type:"submit",disabled:_||!h.trim(),className:"submit-answer-btn",children:_?"Posting...":"Post Answer"})]}),y.jsx("div",{className:"answers-list",children:o.map(I=>y.jsx(ok,{answer:I},I.id))})]})]})}):y.jsx("div",{className:"error",children:"Question not found"})}function uk(){const[i,e]=V.useState(""),[t,r]=V.useState(""),[o,u]=V.useState(""),[h,d]=V.useState(!1),[p,g]=V.useState(""),{currentUser:_}=tn(),A=pa(),w=async I=>{if(I.preventDefault(),!i.trim()||!t.trim()){g("Please fill in all required fields");return}if(i.length>200){g("Question title must be 200 characters or less");return}if(t.length>5e3){g("Question content must be 5000 characters or less");return}try{d(!0),g("");const x={title:i.trim(),content:t.trim(),tags:o.split(",").map(P=>P.trim()).filter(P=>P).slice(0,5),authorId:_.uid,authorName:_.displayName||_.email,createdAt:Hn(),updatedAt:Hn(),upvotes:0,downvotes:0,answerCount:0,views:0,votes:[]},z=await jf(pn(Qe,"questions"),x);await Es(Jt(Qe,"users",_.uid),{questionsCount:Io(1),updatedAt:Hn()}),A(`/question/${z.id}`)}catch(x){console.error("Error posting question:",x),x.code==="permission-denied"?g("You don't have permission to post questions. Please make sure you're logged in."):g("Failed to post question. Please try again.")}finally{d(!1)}};return y.jsx("div",{className:"ask-question",children:y.jsxs("div",{className:"ask-container",children:[y.jsx("h1",{children:"Ask a Question"}),y.jsx("p",{children:"Share your question with the community and get helpful answers"}),p&&y.jsx("div",{className:"error-message",children:p}),y.jsxs("form",{onSubmit:w,className:"question-form",children:[y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"title",children:"Question Title *"}),y.jsx("input",{type:"text",id:"title",value:i,onChange:I=>e(I.target.value),placeholder:"What's your question? Be specific.",className:"form-input",maxLength:200}),y.jsxs("small",{className:"char-count",children:[i.length,"/200"]})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"content",children:"Question Details *"}),y.jsx("textarea",{id:"content",value:t,onChange:I=>r(I.target.value),placeholder:"Provide more details about your question...",className:"form-textarea",rows:8,maxLength:5e3}),y.jsxs("small",{className:"char-count",children:[t.length,"/5000"]})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"tags",children:"Tags (optional)"}),y.jsx("input",{type:"text",id:"tags",value:o,onChange:I=>u(I.target.value),placeholder:"Add up to 5 tags separated by commas (e.g., javascript, react, programming)",className:"form-input"}),y.jsx("small",{className:"help-text",children:"Tags help others find your question (max 5 tags)"})]}),y.jsxs("div",{className:"form-actions",children:[y.jsx("button",{type:"button",onClick:()=>A("/"),className:"cancel-btn",children:"Cancel"}),y.jsx("button",{type:"submit",disabled:h,className:"submit-btn",children:h?"Posting...":"Post Question"})]})]})]})})}function ck(){const[i]=HR(),e=i.get("q")||"",[t,r]=V.useState([]),[o,u]=V.useState(!0),[h,d]=V.useState("questions"),[p,g]=V.useState("relevance");return V.useEffect(()=>{(async()=>{if(!e.trim()){r([]),u(!1);return}try{if(u(!0),h==="questions"){const A=pn(Qe,"questions"),w=lr(A,Dh("createdAt","desc")),z=(await ef(w)).docs.map(P=>({id:P.id,...P.data()})).filter(P=>{const M=e.toLowerCase();return P.title.toLowerCase().includes(M)||P.content.toLowerCase().includes(M)||P.tags&&P.tags.some(K=>K.toLowerCase().includes(M))});p==="popular"?z.sort((P,M)=>(M.upvotes||0)-(P.upvotes||0)):p==="recent"&&z.sort((P,M)=>{const K=P.createdAt?.toDate()||new Date(0);return(M.createdAt?.toDate()||new Date(0))-K}),r(z)}}catch(A){console.error("Error searching:",A),r([])}finally{u(!1)}})()},[e,h,p]),o?y.jsx(ba,{text:"Searching..."}):y.jsxs("div",{className:"search-page",children:[y.jsxs("div",{className:"search-header",children:[y.jsx("h1",{children:"Search Results"}),y.jsxs("p",{className:"search-query",children:[t.length," result",t.length!==1?"s":"",' for "',e,'"']}),y.jsxs("div",{className:"search-filters",children:[y.jsxs("div",{className:"filter-group",children:[y.jsx("label",{children:"Search in:"}),y.jsxs("select",{value:h,onChange:_=>d(_.target.value),children:[y.jsx("option",{value:"questions",children:"Questions"}),y.jsx("option",{value:"answers",children:"Answers"}),y.jsx("option",{value:"users",children:"Users"})]})]}),y.jsxs("div",{className:"filter-group",children:[y.jsx("label",{children:"Sort by:"}),y.jsxs("select",{value:p,onChange:_=>g(_.target.value),children:[y.jsx("option",{value:"relevance",children:"Relevance"}),y.jsx("option",{value:"recent",children:"Most Recent"}),y.jsx("option",{value:"popular",children:"Most Popular"})]})]})]})]}),y.jsx("div",{className:"search-results",children:t.length===0?y.jsxs("div",{className:"empty-state",children:[y.jsx("div",{className:"empty-icon",children:y.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[y.jsx("circle",{cx:"11",cy:"11",r:"8"}),y.jsx("path",{d:"m21 21-4.35-4.35"})]})}),y.jsx("h3",{children:"No results found"}),y.jsx("p",{children:"Try different keywords or check your spelling"}),y.jsxs("div",{className:"search-suggestions",children:[y.jsx("h4",{children:"Search suggestions:"}),y.jsxs("ul",{children:[y.jsx("li",{children:"Use different keywords"}),y.jsx("li",{children:"Check your spelling"}),y.jsx("li",{children:"Try more general terms"}),y.jsx("li",{children:"Use fewer keywords"})]})]})]}):y.jsx("div",{className:"results-list",children:t.map(_=>y.jsx(Iu,{question:_},_.id))})})]})}function zA(){const{currentUser:i}=tn(),[e,t]=V.useState(null),[r,o]=V.useState(!0);return V.useEffect(()=>{if(!i){t(null),o(!1);return}const u=Jt(Qe,"users",i.uid);return Bu(u,d=>{d.exists()?t({id:d.id,...d.data()}):t(null),o(!1)},d=>{console.error("Error fetching user data:",d),o(!1)})},[i]),{userData:e,loading:r}}function hk(){const{currentUser:i}=tn(),[e,t]=V.useState([]),[r,o]=V.useState(!0),[u,h]=V.useState(new Set),[d,p]=V.useState(new Set),[g,_]=V.useState(""),[A,w]=V.useState("popular"),{userData:I}=zA();V.useEffect(()=>{(async()=>{try{const K=await ef(pn(Qe,"questions")),X=new Map,se=new Map;K.docs.forEach(fe=>{const N=fe.data();N.tags&&N.tags.forEach(R=>{if(X.has(R)){const C=X.get(R);X.set(R,C+1);const k=se.get(R);(!k.latestActivity||N.createdAt?.toDate()>k.latestActivity)&&se.set(R,{...k,latestActivity:N.createdAt?.toDate(),totalUpvotes:k.totalUpvotes+(N.upvotes||0)})}else X.set(R,1),se.set(R,{latestActivity:N.createdAt?.toDate(),totalUpvotes:N.upvotes||0,description:x(R)})})});const re=Array.from(X.entries()).map(([fe,N])=>({name:fe,count:N,...se.get(fe)}));A==="popular"?re.sort((fe,N)=>N.count-fe.count):A==="alphabetical"?re.sort((fe,N)=>fe.name.localeCompare(N.name)):A==="recent"&&re.sort((fe,N)=>(N.latestActivity||new Date(0))-(fe.latestActivity||new Date(0))),t(re)}catch(K){console.error("Error fetching topics:",K)}finally{o(!1)}})()},[A]),V.useEffect(()=>{h(I?new Set(I.followedTopics||[]):new Set)},[I]);const x=M=>({javascript:"Programming language for web development",react:"JavaScript library for building user interfaces",python:"High-level programming language",technology:"Latest tech trends and innovations",programming:"Software development and coding",web:"Web development and design",mobile:"Mobile app development",ai:"Artificial Intelligence and Machine Learning",career:"Professional development and career advice",startup:"Entrepreneurship and startup culture",design:"UI/UX and graphic design",business:"Business strategy and management"})[M.toLowerCase()]||`Discussion about ${M}`,z=async M=>{if(!(!i||d.has(M))){p(K=>new Set([...K,M]));try{const K=Jt(Qe,"users",i.uid);u.has(M)?(await Es(K,{followedTopics:tf(M),updatedAt:Hn()}),h(se=>{const re=new Set(se);return re.delete(M),re})):(await Es(K,{followedTopics:Xg(M),updatedAt:Hn()}),h(se=>new Set([...se,M])))}catch(K){console.error("Error toggling topic follow:",K)}finally{p(K=>{const X=new Set(K);return X.delete(M),X})}}},P=e.filter(M=>M.name.toLowerCase().includes(g.toLowerCase()));return r?y.jsx(ba,{text:"Loading topics..."}):y.jsxs("div",{className:"topics-page",children:[y.jsxs("div",{className:"topics-header",children:[y.jsx("h1",{children:"Discover Topics"}),y.jsx("p",{children:"Follow topics that interest you to see related questions in your feed"}),y.jsxs("div",{className:"topics-controls",children:[y.jsxs("div",{className:"search-container",children:[y.jsxs("svg",{className:"search-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[y.jsx("circle",{cx:"11",cy:"11",r:"8"}),y.jsx("path",{d:"m21 21-4.35-4.35"})]}),y.jsx("input",{type:"text",placeholder:"Search topics...",value:g,onChange:M=>_(M.target.value),className:"search-input"})]}),y.jsxs("select",{value:A,onChange:M=>w(M.target.value),className:"sort-select",children:[y.jsx("option",{value:"popular",children:"Most Popular"}),y.jsx("option",{value:"alphabetical",children:"Alphabetical"}),y.jsx("option",{value:"recent",children:"Recently Active"})]})]}),u.size>0&&y.jsxs("div",{className:"followed-topics-summary",children:[y.jsxs("h3",{children:["You're following ",u.size," topics"]}),y.jsxs("div",{className:"followed-tags",children:[Array.from(u).slice(0,5).map(M=>y.jsx("span",{className:"followed-tag",children:M},M)),u.size>5&&y.jsxs("span",{className:"more-count",children:["+",u.size-5," more"]})]})]})]}),y.jsx("div",{className:"topics-grid",children:P.length===0?y.jsxs("div",{className:"empty-state",children:[y.jsx("div",{className:"empty-icon",children:y.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[y.jsx("path",{d:"M4 19.5A2.5 2.5 0 0 1 6.5 17H20"}),y.jsx("path",{d:"M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"})]})}),y.jsx("h3",{children:g?"No topics found":"No topics yet"}),y.jsx("p",{children:g?"Try different keywords":"Topics will appear here as questions are posted with tags"})]}):P.map(M=>y.jsxs("div",{className:"topic-card",children:[y.jsxs("div",{className:"topic-header",children:[y.jsx("h3",{className:"topic-name",children:M.name}),y.jsx("button",{className:`follow-btn ${u.has(M.name)?"following":""}`,onClick:()=>z(M.name),disabled:d.has(M.name),children:d.has(M.name)?y.jsx("div",{className:"btn-spinner"}):u.has(M.name)?y.jsxs(y.Fragment,{children:[y.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:y.jsx("polyline",{points:"20,6 9,17 4,12"})}),"Following"]}):y.jsxs(y.Fragment,{children:[y.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[y.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),y.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Follow"]})})]}),y.jsx("p",{className:"topic-description",children:M.description}),y.jsxs("div",{className:"topic-stats",children:[y.jsxs("div",{className:"stat",children:[y.jsx("span",{className:"stat-number",children:M.count}),y.jsx("span",{className:"stat-label",children:"Questions"})]}),y.jsxs("div",{className:"stat",children:[y.jsx("span",{className:"stat-number",children:M.totalUpvotes||0}),y.jsx("span",{className:"stat-label",children:"Upvotes"})]}),M.latestActivity&&y.jsx("div",{className:"stat",children:y.jsxs("span",{className:"stat-text",children:["Active ",new Date(M.latestActivity).toLocaleDateString()]})})]})]},M.name))})]})}function fk(){const{currentUser:i}=tn(),[e,t]=V.useState("questions"),[r,o]=V.useState(!0),[u,h]=V.useState([]),[d,p]=V.useState([]),[g,_]=V.useState({}),[A,w]=V.useState([]),{userData:I}=zA();return V.useEffect(()=>{if(!I){h([]),p([]),w([]),_({}),o(!1);return}const x=I.followedTopics||[];if(h(x),x.length===0){p([]),w([]),_({}),o(!1);return}const z=pn(Qe,"questions");return Bu(z,M=>{const K=M.docs.map(N=>({id:N.id,...N.data()})),X=K.filter(N=>N.tags&&N.tags.some(R=>x.includes(R))).sort((N,R)=>{const C=N.createdAt?.toDate()||new Date(0);return(R.createdAt?.toDate()||new Date(0))-C});p(X);const se={};x.forEach(N=>{const R=K.filter(C=>C.tags&&C.tags.includes(N));se[N]={questionCount:R.length,totalUpvotes:R.reduce((C,k)=>C+(k.upvotes||0),0),recentQuestions:R.slice(0,3)}}),_(se);const re=new Date;re.setDate(re.getDate()-7);const fe=X.filter(N=>N.createdAt?.toDate()>re).slice(0,10);w(fe),o(!1)})},[I]),r?y.jsx(ba,{text:"Loading your feed..."}):u.length===0?y.jsxs("div",{className:"following-page",children:[y.jsxs("div",{className:"following-header",children:[y.jsx("h1",{children:"Your Following Feed"}),y.jsx("p",{children:"Follow topics to see related questions and activity here"})]}),y.jsxs("div",{className:"empty-following",children:[y.jsx("div",{className:"empty-icon",children:y.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[y.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}),y.jsx("circle",{cx:"9",cy:"7",r:"4"}),y.jsx("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),y.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]})}),y.jsx("h3",{children:"Start following topics"}),y.jsx("p",{children:"Discover interesting topics and follow them to see related content in your personalized feed."}),y.jsxs("div",{className:"suggested-topics",children:[y.jsx("h4",{children:"Popular topics to follow:"}),y.jsx("div",{className:"topic-suggestions",children:["JavaScript","React","Python","Technology","Programming","Career"].map(x=>y.jsx("span",{className:"suggested-topic",children:x},x))})]}),y.jsxs("a",{href:"/topics",className:"explore-topics-btn",children:[y.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[y.jsx("path",{d:"M4 19.5A2.5 2.5 0 0 1 6.5 17H20"}),y.jsx("path",{d:"M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"})]}),"Explore Topics"]})]})]}):y.jsxs("div",{className:"following-page",children:[y.jsxs("div",{className:"following-header",children:[y.jsx("h1",{children:"Your Following Feed"}),y.jsxs("p",{children:["Questions and activity from ",u.length," topics you follow"]}),y.jsx("div",{className:"following-summary",children:y.jsxs("div",{className:"summary-stats",children:[y.jsxs("div",{className:"summary-stat",children:[y.jsx("span",{className:"stat-number",children:d.length}),y.jsx("span",{className:"stat-label",children:"Questions"})]}),y.jsxs("div",{className:"summary-stat",children:[y.jsx("span",{className:"stat-number",children:A.length}),y.jsx("span",{className:"stat-label",children:"This Week"})]}),y.jsxs("div",{className:"summary-stat",children:[y.jsx("span",{className:"stat-number",children:u.length}),y.jsx("span",{className:"stat-label",children:"Topics"})]})]})}),y.jsxs("div",{className:"following-tabs",children:[y.jsxs("button",{className:`tab ${e==="questions"?"active":""}`,onClick:()=>t("questions"),children:[y.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[y.jsx("circle",{cx:"12",cy:"12",r:"10"}),y.jsx("path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}),y.jsx("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]}),"All Questions (",d.length,")"]}),y.jsxs("button",{className:`tab ${e==="recent"?"active":""}`,onClick:()=>t("recent"),children:[y.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[y.jsx("circle",{cx:"12",cy:"12",r:"10"}),y.jsx("polyline",{points:"12,6 12,12 16,14"})]}),"Recent Activity (",A.length,")"]}),y.jsxs("button",{className:`tab ${e==="topics"?"active":""}`,onClick:()=>t("topics"),children:[y.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[y.jsx("path",{d:"M4 19.5A2.5 2.5 0 0 1 6.5 17H20"}),y.jsx("path",{d:"M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"})]}),"My Topics (",u.length,")"]})]})]}),y.jsxs("div",{className:"following-content",children:[e==="questions"&&y.jsx("div",{className:"questions-feed",children:d.length===0?y.jsxs("div",{className:"empty-state",children:[y.jsx("div",{className:"empty-icon",children:y.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[y.jsx("circle",{cx:"12",cy:"12",r:"10"}),y.jsx("path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}),y.jsx("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]})}),y.jsx("h3",{children:"No questions yet"}),y.jsx("p",{children:"Questions from your followed topics will appear here"})]}):d.map(x=>y.jsx(Iu,{question:x},x.id))}),e==="recent"&&y.jsx("div",{className:"recent-activity",children:A.length===0?y.jsxs("div",{className:"empty-state",children:[y.jsx("div",{className:"empty-icon",children:y.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[y.jsx("circle",{cx:"12",cy:"12",r:"10"}),y.jsx("polyline",{points:"12,6 12,12 16,14"})]})}),y.jsx("h3",{children:"No recent activity"}),y.jsx("p",{children:"Recent questions from your followed topics will appear here"})]}):A.map(x=>y.jsx(Iu,{question:x},x.id))}),e==="topics"&&y.jsx("div",{className:"topics-overview",children:y.jsx("div",{className:"topics-grid",children:u.map(x=>y.jsxs("div",{className:"topic-overview-card",children:[y.jsxs("div",{className:"topic-header",children:[y.jsx("h3",{children:x}),y.jsxs("div",{className:"topic-stats",children:[y.jsxs("span",{children:[g[x]?.questionCount||0," questions"]}),y.jsxs("span",{children:[g[x]?.totalUpvotes||0," upvotes"]})]})]}),g[x]?.recentQuestions?.length>0&&y.jsxs("div",{className:"recent-questions",children:[y.jsx("h4",{children:"Recent questions:"}),y.jsx("ul",{children:g[x].recentQuestions.map(z=>y.jsx("li",{children:y.jsx("a",{href:`/question/${z.id}`,children:z.title})},z.id))})]})]},x))})})]})]})}function ia({children:i}){const{currentUser:e,loading:t}=tn();return t?y.jsx(ba,{}):e?i:y.jsx(OT,{to:"/login"})}function ET({children:i}){const{currentUser:e,loading:t}=tn();return t?y.jsx(ba,{}):e?y.jsx(OT,{to:"/"}):i}function dk({children:i}){const{currentUser:e}=tn();return e?y.jsxs("div",{className:"app-layout",children:[y.jsx(tk,{}),y.jsxs("div",{className:"main-layout",children:[y.jsx(nk,{}),y.jsx("main",{className:"main-content",children:i})]})]}):i}function mk(){return y.jsx(ek,{children:y.jsx(ZM,{children:y.jsx(UR,{children:y.jsx("div",{className:"App",children:y.jsx(dk,{children:y.jsxs(mR,{children:[y.jsx(bi,{path:"/",element:y.jsx(ia,{children:y.jsx(ik,{})})}),y.jsx(bi,{path:"/login",element:y.jsx(ET,{children:y.jsx(sk,{})})}),y.jsx(bi,{path:"/register",element:y.jsx(ET,{children:y.jsx(rk,{})})}),y.jsx(bi,{path:"/profile/:userId?",element:y.jsx(ia,{children:y.jsx(ak,{})})}),y.jsx(bi,{path:"/question/:id",element:y.jsx(ia,{children:y.jsx(lk,{})})}),y.jsx(bi,{path:"/ask",element:y.jsx(ia,{children:y.jsx(uk,{})})}),y.jsx(bi,{path:"/search",element:y.jsx(ia,{children:y.jsx(ck,{})})}),y.jsx(bi,{path:"/topics",element:y.jsx(ia,{children:y.jsx(hk,{})})}),y.jsx(bi,{path:"/following",element:y.jsx(ia,{children:y.jsx(fk,{})})})]})})})})})})}AS.createRoot(document.getElementById("root")).render(y.jsx(pS.StrictMode,{children:y.jsx(mk,{})}));
