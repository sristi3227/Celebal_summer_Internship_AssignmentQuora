(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&r(h)}).observe(document,{childList:!0,subtree:!0});function t(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=t(o);fetch(o.href,u)}})();function wT(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Hm={exports:{}},tu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d0;function mS(){if(d0)return tu;d0=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var d in o)d!=="key"&&(u[d]=o[d])}else u=o;return o=u.ref,{$$typeof:i,type:r,key:h,ref:o!==void 0?o:null,props:u}}return tu.Fragment=e,tu.jsx=t,tu.jsxs=t,tu}var m0;function pS(){return m0||(m0=1,Hm.exports=mS()),Hm.exports}var g=pS(),Gm={exports:{}},Re={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p0;function gS(){if(p0)return Re;p0=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),A=Symbol.iterator;function w(V){return V===null||typeof V!="object"?null:(V=A&&V[A]||V["@@iterator"],typeof V=="function"?V:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,U={};function j(V,ie,ue){this.props=V,this.context=ie,this.refs=U,this.updater=ue||C}j.prototype.isReactComponent={},j.prototype.setState=function(V,ie){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,ie,"setState")},j.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function P(){}P.prototype=j.prototype;function X(V,ie,ue){this.props=V,this.context=ie,this.refs=U,this.updater=ue||C}var K=X.prototype=new P;K.constructor=X,x(K,j.prototype),K.isPureReactComponent=!0;var se=Array.isArray,re={H:null,A:null,T:null,S:null,V:null},he=Object.prototype.hasOwnProperty;function D(V,ie,ue,ae,ye,Ce){return ue=Ce.ref,{$$typeof:i,type:V,key:ie,ref:ue!==void 0?ue:null,props:Ce}}function R(V,ie){return D(V.type,ie,void 0,void 0,void 0,V.props)}function I(V){return typeof V=="object"&&V!==null&&V.$$typeof===i}function k(V){var ie={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(ue){return ie[ue]})}var z=/\/+/g;function B(V,ie){return typeof V=="object"&&V!==null&&V.key!=null?k(""+V.key):ie.toString(36)}function O(){}function mt(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(O,O):(V.status="pending",V.then(function(ie){V.status==="pending"&&(V.status="fulfilled",V.value=ie)},function(ie){V.status==="pending"&&(V.status="rejected",V.reason=ie)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function it(V,ie,ue,ae,ye){var Ce=typeof V;(Ce==="undefined"||Ce==="boolean")&&(V=null);var Ae=!1;if(V===null)Ae=!0;else switch(Ce){case"bigint":case"string":case"number":Ae=!0;break;case"object":switch(V.$$typeof){case i:case e:Ae=!0;break;case _:return Ae=V._init,it(Ae(V._payload),ie,ue,ae,ye)}}if(Ae)return ye=ye(V),Ae=ae===""?"."+B(V,0):ae,se(ye)?(ue="",Ae!=null&&(ue=Ae.replace(z,"$&/")+"/"),it(ye,ie,ue,"",function(li){return li})):ye!=null&&(I(ye)&&(ye=R(ye,ue+(ye.key==null||V&&V.key===ye.key?"":(""+ye.key).replace(z,"$&/")+"/")+Ae)),ie.push(ye)),1;Ae=0;var Ot=ae===""?".":ae+":";if(se(V))for(var Je=0;Je<V.length;Je++)ae=V[Je],Ce=Ot+B(ae,Je),Ae+=it(ae,ie,ue,Ce,ye);else if(Je=w(V),typeof Je=="function")for(V=Je.call(V),Je=0;!(ae=V.next()).done;)ae=ae.value,Ce=Ot+B(ae,Je++),Ae+=it(ae,ie,ue,Ce,ye);else if(Ce==="object"){if(typeof V.then=="function")return it(mt(V),ie,ue,ae,ye);throw ie=String(V),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return Ae}function W(V,ie,ue){if(V==null)return V;var ae=[],ye=0;return it(V,ae,"","",function(Ce){return ie.call(ue,Ce,ye++)}),ae}function le(V){if(V._status===-1){var ie=V._result;ie=ie(),ie.then(function(ue){(V._status===0||V._status===-1)&&(V._status=1,V._result=ue)},function(ue){(V._status===0||V._status===-1)&&(V._status=2,V._result=ue)}),V._status===-1&&(V._status=0,V._result=ie)}if(V._status===1)return V._result.default;throw V._result}var pe=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)};function ze(){}return Re.Children={map:W,forEach:function(V,ie,ue){W(V,function(){ie.apply(this,arguments)},ue)},count:function(V){var ie=0;return W(V,function(){ie++}),ie},toArray:function(V){return W(V,function(ie){return ie})||[]},only:function(V){if(!I(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},Re.Component=j,Re.Fragment=t,Re.Profiler=o,Re.PureComponent=X,Re.StrictMode=r,Re.Suspense=p,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=re,Re.__COMPILER_RUNTIME={__proto__:null,c:function(V){return re.H.useMemoCache(V)}},Re.cache=function(V){return function(){return V.apply(null,arguments)}},Re.cloneElement=function(V,ie,ue){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var ae=x({},V.props),ye=V.key,Ce=void 0;if(ie!=null)for(Ae in ie.ref!==void 0&&(Ce=void 0),ie.key!==void 0&&(ye=""+ie.key),ie)!he.call(ie,Ae)||Ae==="key"||Ae==="__self"||Ae==="__source"||Ae==="ref"&&ie.ref===void 0||(ae[Ae]=ie[Ae]);var Ae=arguments.length-2;if(Ae===1)ae.children=ue;else if(1<Ae){for(var Ot=Array(Ae),Je=0;Je<Ae;Je++)Ot[Je]=arguments[Je+2];ae.children=Ot}return D(V.type,ye,void 0,void 0,Ce,ae)},Re.createContext=function(V){return V={$$typeof:h,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:u,_context:V},V},Re.createElement=function(V,ie,ue){var ae,ye={},Ce=null;if(ie!=null)for(ae in ie.key!==void 0&&(Ce=""+ie.key),ie)he.call(ie,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(ye[ae]=ie[ae]);var Ae=arguments.length-2;if(Ae===1)ye.children=ue;else if(1<Ae){for(var Ot=Array(Ae),Je=0;Je<Ae;Je++)Ot[Je]=arguments[Je+2];ye.children=Ot}if(V&&V.defaultProps)for(ae in Ae=V.defaultProps,Ae)ye[ae]===void 0&&(ye[ae]=Ae[ae]);return D(V,Ce,void 0,void 0,null,ye)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(V){return{$$typeof:d,render:V}},Re.isValidElement=I,Re.lazy=function(V){return{$$typeof:_,_payload:{_status:-1,_result:V},_init:le}},Re.memo=function(V,ie){return{$$typeof:y,type:V,compare:ie===void 0?null:ie}},Re.startTransition=function(V){var ie=re.T,ue={};re.T=ue;try{var ae=V(),ye=re.S;ye!==null&&ye(ue,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(ze,pe)}catch(Ce){pe(Ce)}finally{re.T=ie}},Re.unstable_useCacheRefresh=function(){return re.H.useCacheRefresh()},Re.use=function(V){return re.H.use(V)},Re.useActionState=function(V,ie,ue){return re.H.useActionState(V,ie,ue)},Re.useCallback=function(V,ie){return re.H.useCallback(V,ie)},Re.useContext=function(V){return re.H.useContext(V)},Re.useDebugValue=function(){},Re.useDeferredValue=function(V,ie){return re.H.useDeferredValue(V,ie)},Re.useEffect=function(V,ie,ue){var ae=re.H;if(typeof ue=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ae.useEffect(V,ie)},Re.useId=function(){return re.H.useId()},Re.useImperativeHandle=function(V,ie,ue){return re.H.useImperativeHandle(V,ie,ue)},Re.useInsertionEffect=function(V,ie){return re.H.useInsertionEffect(V,ie)},Re.useLayoutEffect=function(V,ie){return re.H.useLayoutEffect(V,ie)},Re.useMemo=function(V,ie){return re.H.useMemo(V,ie)},Re.useOptimistic=function(V,ie){return re.H.useOptimistic(V,ie)},Re.useReducer=function(V,ie,ue){return re.H.useReducer(V,ie,ue)},Re.useRef=function(V){return re.H.useRef(V)},Re.useState=function(V){return re.H.useState(V)},Re.useSyncExternalStore=function(V,ie,ue){return re.H.useSyncExternalStore(V,ie,ue)},Re.useTransition=function(){return re.H.useTransition()},Re.version="19.1.0",Re}var g0;function Hp(){return g0||(g0=1,Gm.exports=gS()),Gm.exports}var M=Hp();const yS=wT(M);var $m={exports:{}},nu={},Qm={exports:{}},Km={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y0;function vS(){return y0||(y0=1,function(i){function e(W,le){var pe=W.length;W.push(le);e:for(;0<pe;){var ze=pe-1>>>1,V=W[ze];if(0<o(V,le))W[ze]=le,W[pe]=V,pe=ze;else break e}}function t(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var le=W[0],pe=W.pop();if(pe!==le){W[0]=pe;e:for(var ze=0,V=W.length,ie=V>>>1;ze<ie;){var ue=2*(ze+1)-1,ae=W[ue],ye=ue+1,Ce=W[ye];if(0>o(ae,pe))ye<V&&0>o(Ce,ae)?(W[ze]=Ce,W[ye]=pe,ze=ye):(W[ze]=ae,W[ue]=pe,ze=ue);else if(ye<V&&0>o(Ce,pe))W[ze]=Ce,W[ye]=pe,ze=ye;else break e}}return le}function o(W,le){var pe=W.sortIndex-le.sortIndex;return pe!==0?pe:W.id-le.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var h=Date,d=h.now();i.unstable_now=function(){return h.now()-d}}var p=[],y=[],_=1,A=null,w=3,C=!1,x=!1,U=!1,j=!1,P=typeof setTimeout=="function"?setTimeout:null,X=typeof clearTimeout=="function"?clearTimeout:null,K=typeof setImmediate<"u"?setImmediate:null;function se(W){for(var le=t(y);le!==null;){if(le.callback===null)r(y);else if(le.startTime<=W)r(y),le.sortIndex=le.expirationTime,e(p,le);else break;le=t(y)}}function re(W){if(U=!1,se(W),!x)if(t(p)!==null)x=!0,he||(he=!0,B());else{var le=t(y);le!==null&&it(re,le.startTime-W)}}var he=!1,D=-1,R=5,I=-1;function k(){return j?!0:!(i.unstable_now()-I<R)}function z(){if(j=!1,he){var W=i.unstable_now();I=W;var le=!0;try{e:{x=!1,U&&(U=!1,X(D),D=-1),C=!0;var pe=w;try{t:{for(se(W),A=t(p);A!==null&&!(A.expirationTime>W&&k());){var ze=A.callback;if(typeof ze=="function"){A.callback=null,w=A.priorityLevel;var V=ze(A.expirationTime<=W);if(W=i.unstable_now(),typeof V=="function"){A.callback=V,se(W),le=!0;break t}A===t(p)&&r(p),se(W)}else r(p);A=t(p)}if(A!==null)le=!0;else{var ie=t(y);ie!==null&&it(re,ie.startTime-W),le=!1}}break e}finally{A=null,w=pe,C=!1}le=void 0}}finally{le?B():he=!1}}}var B;if(typeof K=="function")B=function(){K(z)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,mt=O.port2;O.port1.onmessage=z,B=function(){mt.postMessage(null)}}else B=function(){P(z,0)};function it(W,le){D=P(function(){W(i.unstable_now())},le)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(W){W.callback=null},i.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<W?Math.floor(1e3/W):5},i.unstable_getCurrentPriorityLevel=function(){return w},i.unstable_next=function(W){switch(w){case 1:case 2:case 3:var le=3;break;default:le=w}var pe=w;w=le;try{return W()}finally{w=pe}},i.unstable_requestPaint=function(){j=!0},i.unstable_runWithPriority=function(W,le){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var pe=w;w=W;try{return le()}finally{w=pe}},i.unstable_scheduleCallback=function(W,le,pe){var ze=i.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?ze+pe:ze):pe=ze,W){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=pe+V,W={id:_++,callback:le,priorityLevel:W,startTime:pe,expirationTime:V,sortIndex:-1},pe>ze?(W.sortIndex=pe,e(y,W),t(p)===null&&W===t(y)&&(U?(X(D),D=-1):U=!0,it(re,pe-ze))):(W.sortIndex=V,e(p,W),x||C||(x=!0,he||(he=!0,B()))),W},i.unstable_shouldYield=k,i.unstable_wrapCallback=function(W){var le=w;return function(){var pe=w;w=le;try{return W.apply(this,arguments)}finally{w=pe}}}}(Km)),Km}var v0;function _S(){return v0||(v0=1,Qm.exports=vS()),Qm.exports}var Ym={exports:{}},Wt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _0;function ES(){if(_0)return Wt;_0=1;var i=Hp();function e(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)y+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,y,_){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:p,containerInfo:y,implementation:_}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Wt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Wt.createPortal=function(p,y){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(p,y,null,_)},Wt.flushSync=function(p){var y=h.T,_=r.p;try{if(h.T=null,r.p=2,p)return p()}finally{h.T=y,r.p=_,r.d.f()}},Wt.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(p,y))},Wt.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},Wt.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var _=y.as,A=d(_,y.crossOrigin),w=typeof y.integrity=="string"?y.integrity:void 0,C=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;_==="style"?r.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:A,integrity:w,fetchPriority:C}):_==="script"&&r.d.X(p,{crossOrigin:A,integrity:w,fetchPriority:C,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Wt.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var _=d(y.as,y.crossOrigin);r.d.M(p,{crossOrigin:_,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(p)},Wt.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var _=y.as,A=d(_,y.crossOrigin);r.d.L(p,_,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Wt.preloadModule=function(p,y){if(typeof p=="string")if(y){var _=d(y.as,y.crossOrigin);r.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:_,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(p)},Wt.requestFormReset=function(p){r.d.r(p)},Wt.unstable_batchedUpdates=function(p,y){return p(y)},Wt.useFormState=function(p,y,_){return h.H.useFormState(p,y,_)},Wt.useFormStatus=function(){return h.H.useHostTransitionStatus()},Wt.version="19.1.0",Wt}var E0;function TS(){if(E0)return Ym.exports;E0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Ym.exports=ES(),Ym.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T0;function wS(){if(T0)return nu;T0=1;var i=_S(),e=Hp(),t=TS();function r(n){var s="https://react.dev/errors/"+n;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function u(n){var s=n,a=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(a=s.return),n=s.return;while(n)}return s.tag===3?a:null}function h(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function d(n){if(u(n)!==n)throw Error(r(188))}function p(n){var s=n.alternate;if(!s){if(s=u(n),s===null)throw Error(r(188));return s!==n?null:n}for(var a=n,l=s;;){var f=a.return;if(f===null)break;var m=f.alternate;if(m===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===a)return d(f),n;if(m===l)return d(f),s;m=m.sibling}throw Error(r(188))}if(a.return!==l.return)a=f,l=m;else{for(var T=!1,b=f.child;b;){if(b===a){T=!0,a=f,l=m;break}if(b===l){T=!0,l=f,a=m;break}b=b.sibling}if(!T){for(b=m.child;b;){if(b===a){T=!0,a=m,l=f;break}if(b===l){T=!0,l=m,a=f;break}b=b.sibling}if(!T)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?n:s}function y(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n;for(n=n.child;n!==null;){if(s=y(n),s!==null)return s;n=n.sibling}return null}var _=Object.assign,A=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),P=Symbol.for("react.provider"),X=Symbol.for("react.consumer"),K=Symbol.for("react.context"),se=Symbol.for("react.forward_ref"),re=Symbol.for("react.suspense"),he=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),z=Symbol.iterator;function B(n){return n===null||typeof n!="object"?null:(n=z&&n[z]||n["@@iterator"],typeof n=="function"?n:null)}var O=Symbol.for("react.client.reference");function mt(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===O?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case x:return"Fragment";case j:return"Profiler";case U:return"StrictMode";case re:return"Suspense";case he:return"SuspenseList";case I:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case C:return"Portal";case K:return(n.displayName||"Context")+".Provider";case X:return(n._context.displayName||"Context")+".Consumer";case se:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case D:return s=n.displayName||null,s!==null?s:mt(n.type)||"Memo";case R:s=n._payload,n=n._init;try{return mt(n(s))}catch{}}return null}var it=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},ze=[],V=-1;function ie(n){return{current:n}}function ue(n){0>V||(n.current=ze[V],ze[V]=null,V--)}function ae(n,s){V++,ze[V]=n.current,n.current=s}var ye=ie(null),Ce=ie(null),Ae=ie(null),Ot=ie(null);function Je(n,s){switch(ae(Ae,s),ae(Ce,n),ae(ye,null),s.nodeType){case 9:case 11:n=(n=s.documentElement)&&(n=n.namespaceURI)?z_(n):0;break;default:if(n=s.tagName,s=s.namespaceURI)s=z_(s),n=q_(s,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}ue(ye),ae(ye,n)}function li(){ue(ye),ue(Ce),ue(Ae)}function bs(n){n.memoizedState!==null&&ae(Ot,n);var s=ye.current,a=q_(s,n.type);s!==a&&(ae(Ce,n),ae(ye,a))}function Li(n){Ce.current===n&&(ue(ye),ue(Ce)),Ot.current===n&&(ue(Ot),Xl._currentValue=pe)}var Er=Object.prototype.hasOwnProperty,Tr=i.unstable_scheduleCallback,wr=i.unstable_cancelCallback,Qo=i.unstable_shouldYield,Fu=i.unstable_requestPaint,Nn=i.unstable_now,Hf=i.unstable_getCurrentPriorityLevel,Ko=i.unstable_ImmediatePriority,Sa=i.unstable_UserBlockingPriority,Ar=i.unstable_NormalPriority,Gf=i.unstable_LowPriority,Ra=i.unstable_IdlePriority,Yo=i.log,Hu=i.unstable_setDisableYieldValue,ct=null,Ge=null;function vn(n){if(typeof Yo=="function"&&Hu(n),Ge&&typeof Ge.setStrictMode=="function")try{Ge.setStrictMode(ct,n)}catch{}}var Yt=Math.clz32?Math.clz32:br,Gu=Math.log,$f=Math.LN2;function br(n){return n>>>=0,n===0?32:31-(Gu(n)/$f|0)|0}var Sr=256,Rr=4194304;function Kn(n){var s=n&42;if(s!==0)return s;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function xa(n,s,a){var l=n.pendingLanes;if(l===0)return 0;var f=0,m=n.suspendedLanes,T=n.pingedLanes;n=n.warmLanes;var b=l&134217727;return b!==0?(l=b&~m,l!==0?f=Kn(l):(T&=b,T!==0?f=Kn(T):a||(a=b&~n,a!==0&&(f=Kn(a))))):(b=l&~m,b!==0?f=Kn(b):T!==0?f=Kn(T):a||(a=l&~n,a!==0&&(f=Kn(a)))),f===0?0:s!==0&&s!==f&&(s&m)===0&&(m=f&-f,a=s&-s,m>=a||m===32&&(a&4194048)!==0)?s:f}function xr(n,s){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&s)===0}function Xo(n,s){switch(n){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wo(){var n=Sr;return Sr<<=1,(Sr&4194048)===0&&(Sr=256),n}function Zo(){var n=Rr;return Rr<<=1,(Rr&62914560)===0&&(Rr=4194304),n}function Ui(n){for(var s=[],a=0;31>a;a++)s.push(n);return s}function Bi(n,s){n.pendingLanes|=s,s!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Jo(n,s,a,l,f,m){var T=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var b=n.entanglements,N=n.expirationTimes,G=n.hiddenUpdates;for(a=T&~a;0<a;){var Z=31-Yt(a),te=1<<Z;b[Z]=0,N[Z]=-1;var $=G[Z];if($!==null)for(G[Z]=null,Z=0;Z<$.length;Z++){var Q=$[Z];Q!==null&&(Q.lane&=-536870913)}a&=~te}l!==0&&ui(n,l,0),m!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=m&~(T&~s))}function ui(n,s,a){n.pendingLanes|=s,n.suspendedLanes&=~s;var l=31-Yt(s);n.entangledLanes|=s,n.entanglements[l]=n.entanglements[l]|1073741824|a&4194090}function el(n,s){var a=n.entangledLanes|=s;for(n=n.entanglements;a;){var l=31-Yt(a),f=1<<l;f&s|n[l]&s&&(n[l]|=s),a&=~f}}function Ss(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Ia(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Rs(){var n=le.p;return n!==0?n:(n=window.event,n===void 0?32:o0(n.type))}function $u(n,s){var a=le.p;try{return le.p=n,s()}finally{le.p=a}}var st=Math.random().toString(36).slice(2),Rt="__reactFiber$"+st,_t="__reactProps$"+st,Dn="__reactContainer$"+st,tl="__reactEvents$"+st,Qf="__reactListeners$"+st,xs="__reactHandles$"+st,Qu="__reactResources$"+st,Ir="__reactMarker$"+st;function Is(n){delete n[Rt],delete n[_t],delete n[tl],delete n[Qf],delete n[xs]}function zi(n){var s=n[Rt];if(s)return s;for(var a=n.parentNode;a;){if(s=a[Dn]||a[Rt]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(n=$_(n);n!==null;){if(a=n[Rt])return a;n=$_(n)}return s}n=a,a=n.parentNode}return null}function ci(n){if(n=n[Rt]||n[Dn]){var s=n.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return n}return null}function hi(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n.stateNode;throw Error(r(33))}function rn(n){var s=n[Qu];return s||(s=n[Qu]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function pt(n){n[Ir]=!0}var nl=new Set,Ca={};function Yn(n,s){qi(n,s),qi(n+"Capture",s)}function qi(n,s){for(Ca[n]=s,n=0;n<s.length;n++)nl.add(s[n])}var Ku=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Yu={},Cr={};function Xu(n){return Er.call(Cr,n)?!0:Er.call(Yu,n)?!1:Ku.test(n)?Cr[n]=!0:(Yu[n]=!0,!1)}function Cs(n,s,a){if(Xu(s))if(a===null)n.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(s);return;case"boolean":var l=s.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(s);return}}n.setAttribute(s,""+a)}}function fi(n,s,a){if(a===null)n.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttribute(s,""+a)}}function Bt(n,s,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(s,a,""+l)}}var Nr,Wu;function Fi(n){if(Nr===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);Nr=s&&s[1]||"",Wu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Nr+n+Wu}var Na=!1;function Da(n,s){if(!n||Na)return"";Na=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(s){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(Q){var $=Q}Reflect.construct(n,[],te)}else{try{te.call()}catch(Q){$=Q}n.call(te.prototype)}}else{try{throw Error()}catch(Q){$=Q}(te=n())&&typeof te.catch=="function"&&te.catch(function(){})}}catch(Q){if(Q&&$&&typeof Q.stack=="string")return[Q.stack,$.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=l.DetermineComponentFrameRoot(),T=m[0],b=m[1];if(T&&b){var N=T.split(`
`),G=b.split(`
`);for(f=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;f<G.length&&!G[f].includes("DetermineComponentFrameRoot");)f++;if(l===N.length||f===G.length)for(l=N.length-1,f=G.length-1;1<=l&&0<=f&&N[l]!==G[f];)f--;for(;1<=l&&0<=f;l--,f--)if(N[l]!==G[f]){if(l!==1||f!==1)do if(l--,f--,0>f||N[l]!==G[f]){var Z=`
`+N[l].replace(" at new "," at ");return n.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",n.displayName)),Z}while(1<=l&&0<=f);break}}}finally{Na=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?Fi(a):""}function il(n){switch(n.tag){case 26:case 27:case 5:return Fi(n.type);case 16:return Fi("Lazy");case 13:return Fi("Suspense");case 19:return Fi("SuspenseList");case 0:case 15:return Da(n.type,!1);case 11:return Da(n.type.render,!1);case 1:return Da(n.type,!0);case 31:return Fi("Activity");default:return""}}function Oa(n){try{var s="";do s+=il(n),n=n.return;while(n);return s}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function an(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function sl(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Kf(n){var s=sl(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,s),l=""+n[s];if(!n.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,m=a.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return f.call(this)},set:function(T){l=""+T,m.call(this,T)}}),Object.defineProperty(n,s,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(T){l=""+T},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function Ma(n){n._valueTracker||(n._valueTracker=Kf(n))}function rl(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var a=s.getValue(),l="";return n&&(l=sl(n)?n.checked?"true":"false":n.value),n=l,n!==a?(s.setValue(n),!0):!1}function Dr(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Yf=/[\n"\\]/g;function Et(n){return n.replace(Yf,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function _n(n,s,a,l,f,m,T,b){n.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?n.type=T:n.removeAttribute("type"),s!=null?T==="number"?(s===0&&n.value===""||n.value!=s)&&(n.value=""+an(s)):n.value!==""+an(s)&&(n.value=""+an(s)):T!=="submit"&&T!=="reset"||n.removeAttribute("value"),s!=null?Ns(n,T,an(s)):a!=null?Ns(n,T,an(a)):l!=null&&n.removeAttribute("value"),f==null&&m!=null&&(n.defaultChecked=!!m),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?n.name=""+an(b):n.removeAttribute("name")}function Or(n,s,a,l,f,m,T,b){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(n.type=m),s!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||s!=null))return;a=a!=null?""+an(a):"",s=s!=null?""+an(s):a,b||s===n.value||(n.value=s),n.defaultValue=s}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=b?n.checked:!!l,n.defaultChecked=!!l,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(n.name=T)}function Ns(n,s,a){s==="number"&&Dr(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function Hi(n,s,a,l){if(n=n.options,s){s={};for(var f=0;f<a.length;f++)s["$"+a[f]]=!0;for(a=0;a<n.length;a++)f=s.hasOwnProperty("$"+n[a].value),n[a].selected!==f&&(n[a].selected=f),f&&l&&(n[a].defaultSelected=!0)}else{for(a=""+an(a),s=null,f=0;f<n.length;f++){if(n[f].value===a){n[f].selected=!0,l&&(n[f].defaultSelected=!0);return}s!==null||n[f].disabled||(s=n[f])}s!==null&&(s.selected=!0)}}function Ke(n,s,a){if(s!=null&&(s=""+an(s),s!==n.value&&(n.value=s),a==null)){n.defaultValue!==s&&(n.defaultValue=s);return}n.defaultValue=a!=null?""+an(a):""}function Mr(n,s,a,l){if(s==null){if(l!=null){if(a!=null)throw Error(r(92));if(it(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),s=a}a=an(s),n.defaultValue=a,l=n.textContent,l===a&&l!==""&&l!==null&&(n.value=l)}function On(n,s){if(s){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=s;return}}n.textContent=s}var kr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Zu(n,s,a){var l=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?n.setProperty(s,""):s==="float"?n.cssFloat="":n[s]="":l?n.setProperty(s,a):typeof a!="number"||a===0||kr.has(s)?s==="float"?n.cssFloat=a:n[s]=(""+a).trim():n[s]=a+"px"}function al(n,s,a){if(s!=null&&typeof s!="object")throw Error(r(62));if(n=n.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||s!=null&&s.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var f in s)l=s[f],s.hasOwnProperty(f)&&a[f]!==l&&Zu(n,f,l)}else for(var m in s)s.hasOwnProperty(m)&&Zu(n,m,s[m])}function ol(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Wf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ka(n){return Wf.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var Gi=null;function Mn(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var $i=null,Qi=null;function ll(n){var s=ci(n);if(s&&(n=s.stateNode)){var a=n[_t]||null;e:switch(n=s.stateNode,s.type){case"input":if(_n(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Et(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var l=a[s];if(l!==n&&l.form===n.form){var f=l[_t]||null;if(!f)throw Error(r(90));_n(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<a.length;s++)l=a[s],l.form===n.form&&rl(l)}break e;case"textarea":Ke(n,a.value,a.defaultValue);break e;case"select":s=a.value,s!=null&&Hi(n,!!a.multiple,s,!1)}}}var di=!1;function Ju(n,s,a){if(di)return n(s,a);di=!0;try{var l=n(s);return l}finally{if(di=!1,($i!==null||Qi!==null)&&($c(),$i&&(s=$i,n=Qi,Qi=$i=null,ll(s),n)))for(s=0;s<n.length;s++)ll(n[s])}}function Pr(n,s){var a=n.stateNode;if(a===null)return null;var l=a[_t]||null;if(l===null)return null;a=l[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(r(231,s,typeof a));return a}var Xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),kn=!1;if(Xn)try{var jr={};Object.defineProperty(jr,"passive",{get:function(){kn=!0}}),window.addEventListener("test",jr,jr),window.removeEventListener("test",jr,jr)}catch{kn=!1}var mi=null,Ds=null,Ki=null;function ul(){if(Ki)return Ki;var n,s=Ds,a=s.length,l,f="value"in mi?mi.value:mi.textContent,m=f.length;for(n=0;n<a&&s[n]===f[n];n++);var T=a-n;for(l=1;l<=T&&s[a-l]===f[m-l];l++);return Ki=f.slice(n,1<l?1-l:void 0)}function pi(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function gi(){return!0}function cl(){return!1}function Mt(n){function s(a,l,f,m,T){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=m,this.target=T,this.currentTarget=null;for(var b in n)n.hasOwnProperty(b)&&(a=n[b],this[b]=a?a(m):m[b]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?gi:cl,this.isPropagationStopped=cl,this}return _(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=gi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=gi)},persist:function(){},isPersistent:gi}),s}var Fe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pa=Mt(Fe),Vr=_({},Fe,{view:0,detail:0}),ec=Mt(Vr),ja,Va,yi,Lr=_({},Vr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zr,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==yi&&(yi&&n.type==="mousemove"?(ja=n.screenX-yi.screenX,Va=n.screenY-yi.screenY):Va=ja=0,yi=n),ja)},movementY:function(n){return"movementY"in n?n.movementY:Va}}),Pn=Mt(Lr),tc=_({},Lr,{dataTransfer:0}),Zf=Mt(tc),Ur=_({},Vr,{relatedTarget:0}),La=Mt(Ur),hl=_({},Fe,{animationName:0,elapsedTime:0,pseudoElement:0}),Ua=Mt(hl),nc=_({},Fe,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Ba=Mt(nc),Jf=_({},Fe,{data:0}),fl=Mt(Jf),Br={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ic={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dl(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=sc[n])?!!s[n]:!1}function zr(){return dl}var rc=_({},Vr,{key:function(n){if(n.key){var s=Br[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=pi(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?ic[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zr,charCode:function(n){return n.type==="keypress"?pi(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?pi(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),za=Mt(rc),ac=_({},Lr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ml=Mt(ac),Yi=_({},Vr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zr}),oc=Mt(Yi),lc=_({},Fe,{propertyName:0,elapsedTime:0,pseudoElement:0}),uc=Mt(lc),cc=_({},Lr,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),qa=Mt(cc),on=_({},Fe,{newState:0,oldState:0}),hc=Mt(on),fc=[9,13,27,32],vi=Xn&&"CompositionEvent"in window,c=null;Xn&&"documentMode"in document&&(c=document.documentMode);var v=Xn&&"TextEvent"in window&&!c,E=Xn&&(!vi||c&&8<c&&11>=c),S=" ",F=!1;function Y(n,s){switch(n){case"keyup":return fc.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oe(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Pe=!1;function xt(n,s){switch(n){case"compositionend":return oe(s);case"keypress":return s.which!==32?null:(F=!0,S);case"textInput":return n=s.data,n===S&&F?null:n;default:return null}}function je(n,s){if(Pe)return n==="compositionend"||!vi&&Y(n,s)?(n=ul(),Ki=Ds=mi=null,Pe=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return E&&s.locale!=="ko"?null:s.data;default:return null}}var kt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function It(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!kt[n.type]:s==="textarea"}function Xi(n,s,a,l){$i?Qi?Qi.push(l):Qi=[l]:$i=l,s=Zc(s,"onChange"),0<s.length&&(a=new Pa("onChange","change",null,a,l),n.push({event:a,listeners:s}))}var zt=null,_i=null;function pl(n){j_(n,0)}function dc(n){var s=hi(n);if(rl(s))return n}function iy(n,s){if(n==="change")return s}var sy=!1;if(Xn){var ed;if(Xn){var td="oninput"in document;if(!td){var ry=document.createElement("div");ry.setAttribute("oninput","return;"),td=typeof ry.oninput=="function"}ed=td}else ed=!1;sy=ed&&(!document.documentMode||9<document.documentMode)}function ay(){zt&&(zt.detachEvent("onpropertychange",oy),_i=zt=null)}function oy(n){if(n.propertyName==="value"&&dc(_i)){var s=[];Xi(s,_i,n,Mn(n)),Ju(pl,s)}}function HA(n,s,a){n==="focusin"?(ay(),zt=s,_i=a,zt.attachEvent("onpropertychange",oy)):n==="focusout"&&ay()}function GA(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return dc(_i)}function $A(n,s){if(n==="click")return dc(s)}function QA(n,s){if(n==="input"||n==="change")return dc(s)}function KA(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var En=typeof Object.is=="function"?Object.is:KA;function gl(n,s){if(En(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var a=Object.keys(n),l=Object.keys(s);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!Er.call(s,f)||!En(n[f],s[f]))return!1}return!0}function ly(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function uy(n,s){var a=ly(n);n=0;for(var l;a;){if(a.nodeType===3){if(l=n+a.textContent.length,n<=s&&l>=s)return{node:a,offset:s-n};n=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=ly(a)}}function cy(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?cy(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function hy(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var s=Dr(n.document);s instanceof n.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)n=s.contentWindow;else break;s=Dr(n.document)}return s}function nd(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}var YA=Xn&&"documentMode"in document&&11>=document.documentMode,Fa=null,id=null,yl=null,sd=!1;function fy(n,s,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;sd||Fa==null||Fa!==Dr(l)||(l=Fa,"selectionStart"in l&&nd(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),yl&&gl(yl,l)||(yl=l,l=Zc(id,"onSelect"),0<l.length&&(s=new Pa("onSelect","select",null,s,a),n.push({event:s,listeners:l}),s.target=Fa)))}function qr(n,s){var a={};return a[n.toLowerCase()]=s.toLowerCase(),a["Webkit"+n]="webkit"+s,a["Moz"+n]="moz"+s,a}var Ha={animationend:qr("Animation","AnimationEnd"),animationiteration:qr("Animation","AnimationIteration"),animationstart:qr("Animation","AnimationStart"),transitionrun:qr("Transition","TransitionRun"),transitionstart:qr("Transition","TransitionStart"),transitioncancel:qr("Transition","TransitionCancel"),transitionend:qr("Transition","TransitionEnd")},rd={},dy={};Xn&&(dy=document.createElement("div").style,"AnimationEvent"in window||(delete Ha.animationend.animation,delete Ha.animationiteration.animation,delete Ha.animationstart.animation),"TransitionEvent"in window||delete Ha.transitionend.transition);function Fr(n){if(rd[n])return rd[n];if(!Ha[n])return n;var s=Ha[n],a;for(a in s)if(s.hasOwnProperty(a)&&a in dy)return rd[n]=s[a];return n}var my=Fr("animationend"),py=Fr("animationiteration"),gy=Fr("animationstart"),XA=Fr("transitionrun"),WA=Fr("transitionstart"),ZA=Fr("transitioncancel"),yy=Fr("transitionend"),vy=new Map,ad="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ad.push("scrollEnd");function Wn(n,s){vy.set(n,s),Yn(s,[n])}var _y=new WeakMap;function jn(n,s){if(typeof n=="object"&&n!==null){var a=_y.get(n);return a!==void 0?a:(s={value:n,source:s,stack:Oa(s)},_y.set(n,s),s)}return{value:n,source:s,stack:Oa(s)}}var Vn=[],Ga=0,od=0;function mc(){for(var n=Ga,s=od=Ga=0;s<n;){var a=Vn[s];Vn[s++]=null;var l=Vn[s];Vn[s++]=null;var f=Vn[s];Vn[s++]=null;var m=Vn[s];if(Vn[s++]=null,l!==null&&f!==null){var T=l.pending;T===null?f.next=f:(f.next=T.next,T.next=f),l.pending=f}m!==0&&Ey(a,f,m)}}function pc(n,s,a,l){Vn[Ga++]=n,Vn[Ga++]=s,Vn[Ga++]=a,Vn[Ga++]=l,od|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function ld(n,s,a,l){return pc(n,s,a,l),gc(n)}function $a(n,s){return pc(n,null,null,s),gc(n)}function Ey(n,s,a){n.lanes|=a;var l=n.alternate;l!==null&&(l.lanes|=a);for(var f=!1,m=n.return;m!==null;)m.childLanes|=a,l=m.alternate,l!==null&&(l.childLanes|=a),m.tag===22&&(n=m.stateNode,n===null||n._visibility&1||(f=!0)),n=m,m=m.return;return n.tag===3?(m=n.stateNode,f&&s!==null&&(f=31-Yt(a),n=m.hiddenUpdates,l=n[f],l===null?n[f]=[s]:l.push(s),s.lane=a|536870912),m):null}function gc(n){if(50<ql)throw ql=0,mm=null,Error(r(185));for(var s=n.return;s!==null;)n=s,s=n.return;return n.tag===3?n.stateNode:null}var Qa={};function JA(n,s,a,l){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tn(n,s,a,l){return new JA(n,s,a,l)}function ud(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Wi(n,s){var a=n.alternate;return a===null?(a=Tn(n.tag,s,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=s,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,s=n.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function Ty(n,s){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=s,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,s=a.dependencies,n.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),n}function yc(n,s,a,l,f,m){var T=0;if(l=n,typeof n=="function")ud(n)&&(T=1);else if(typeof n=="string")T=tS(n,a,ye.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case I:return n=Tn(31,a,s,f),n.elementType=I,n.lanes=m,n;case x:return Hr(a.children,f,m,s);case U:T=8,f|=24;break;case j:return n=Tn(12,a,s,f|2),n.elementType=j,n.lanes=m,n;case re:return n=Tn(13,a,s,f),n.elementType=re,n.lanes=m,n;case he:return n=Tn(19,a,s,f),n.elementType=he,n.lanes=m,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case P:case K:T=10;break e;case X:T=9;break e;case se:T=11;break e;case D:T=14;break e;case R:T=16,l=null;break e}T=29,a=Error(r(130,n===null?"null":typeof n,"")),l=null}return s=Tn(T,a,s,f),s.elementType=n,s.type=l,s.lanes=m,s}function Hr(n,s,a,l){return n=Tn(7,n,l,s),n.lanes=a,n}function cd(n,s,a){return n=Tn(6,n,null,s),n.lanes=a,n}function hd(n,s,a){return s=Tn(4,n.children!==null?n.children:[],n.key,s),s.lanes=a,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}var Ka=[],Ya=0,vc=null,_c=0,Ln=[],Un=0,Gr=null,Zi=1,Ji="";function $r(n,s){Ka[Ya++]=_c,Ka[Ya++]=vc,vc=n,_c=s}function wy(n,s,a){Ln[Un++]=Zi,Ln[Un++]=Ji,Ln[Un++]=Gr,Gr=n;var l=Zi;n=Ji;var f=32-Yt(l)-1;l&=~(1<<f),a+=1;var m=32-Yt(s)+f;if(30<m){var T=f-f%5;m=(l&(1<<T)-1).toString(32),l>>=T,f-=T,Zi=1<<32-Yt(s)+f|a<<f|l,Ji=m+n}else Zi=1<<m|a<<f|l,Ji=n}function fd(n){n.return!==null&&($r(n,1),wy(n,1,0))}function dd(n){for(;n===vc;)vc=Ka[--Ya],Ka[Ya]=null,_c=Ka[--Ya],Ka[Ya]=null;for(;n===Gr;)Gr=Ln[--Un],Ln[Un]=null,Ji=Ln[--Un],Ln[Un]=null,Zi=Ln[--Un],Ln[Un]=null}var ln=null,ht=null,qe=!1,Qr=null,Ei=!1,md=Error(r(519));function Kr(n){var s=Error(r(418,""));throw El(jn(s,n)),md}function Ay(n){var s=n.stateNode,a=n.type,l=n.memoizedProps;switch(s[Rt]=n,s[_t]=l,a){case"dialog":Oe("cancel",s),Oe("close",s);break;case"iframe":case"object":case"embed":Oe("load",s);break;case"video":case"audio":for(a=0;a<Hl.length;a++)Oe(Hl[a],s);break;case"source":Oe("error",s);break;case"img":case"image":case"link":Oe("error",s),Oe("load",s);break;case"details":Oe("toggle",s);break;case"input":Oe("invalid",s),Or(s,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Ma(s);break;case"select":Oe("invalid",s);break;case"textarea":Oe("invalid",s),Mr(s,l.value,l.defaultValue,l.children),Ma(s)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||l.suppressHydrationWarning===!0||B_(s.textContent,a)?(l.popover!=null&&(Oe("beforetoggle",s),Oe("toggle",s)),l.onScroll!=null&&Oe("scroll",s),l.onScrollEnd!=null&&Oe("scrollend",s),l.onClick!=null&&(s.onclick=Jc),s=!0):s=!1,s||Kr(n)}function by(n){for(ln=n.return;ln;)switch(ln.tag){case 5:case 13:Ei=!1;return;case 27:case 3:Ei=!0;return;default:ln=ln.return}}function vl(n){if(n!==ln)return!1;if(!qe)return by(n),qe=!0,!1;var s=n.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||Nm(n.type,n.memoizedProps)),a=!a),a&&ht&&Kr(n),by(n),s===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));e:{for(n=n.nextSibling,s=0;n;){if(n.nodeType===8)if(a=n.data,a==="/$"){if(s===0){ht=Jn(n.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++;n=n.nextSibling}ht=null}}else s===27?(s=ht,Qs(n.type)?(n=km,km=null,ht=n):ht=s):ht=ln?Jn(n.stateNode.nextSibling):null;return!0}function _l(){ht=ln=null,qe=!1}function Sy(){var n=Qr;return n!==null&&(fn===null?fn=n:fn.push.apply(fn,n),Qr=null),n}function El(n){Qr===null?Qr=[n]:Qr.push(n)}var pd=ie(null),Yr=null,es=null;function Os(n,s,a){ae(pd,s._currentValue),s._currentValue=a}function ts(n){n._currentValue=pd.current,ue(pd)}function gd(n,s,a){for(;n!==null;){var l=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,l!==null&&(l.childLanes|=s)):l!==null&&(l.childLanes&s)!==s&&(l.childLanes|=s),n===a)break;n=n.return}}function yd(n,s,a,l){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var m=f.dependencies;if(m!==null){var T=f.child;m=m.firstContext;e:for(;m!==null;){var b=m;m=f;for(var N=0;N<s.length;N++)if(b.context===s[N]){m.lanes|=a,b=m.alternate,b!==null&&(b.lanes|=a),gd(m.return,a,n),l||(T=null);break e}m=b.next}}else if(f.tag===18){if(T=f.return,T===null)throw Error(r(341));T.lanes|=a,m=T.alternate,m!==null&&(m.lanes|=a),gd(T,a,n),T=null}else T=f.child;if(T!==null)T.return=f;else for(T=f;T!==null;){if(T===n){T=null;break}if(f=T.sibling,f!==null){f.return=T.return,T=f;break}T=T.return}f=T}}function Tl(n,s,a,l){n=null;for(var f=s,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var T=f.alternate;if(T===null)throw Error(r(387));if(T=T.memoizedProps,T!==null){var b=f.type;En(f.pendingProps.value,T.value)||(n!==null?n.push(b):n=[b])}}else if(f===Ot.current){if(T=f.alternate,T===null)throw Error(r(387));T.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(Xl):n=[Xl])}f=f.return}n!==null&&yd(s,n,a,l),s.flags|=262144}function Ec(n){for(n=n.firstContext;n!==null;){if(!En(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Xr(n){Yr=n,es=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Xt(n){return Ry(Yr,n)}function Tc(n,s){return Yr===null&&Xr(n),Ry(n,s)}function Ry(n,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},es===null){if(n===null)throw Error(r(308));es=s,n.dependencies={lanes:0,firstContext:s},n.flags|=524288}else es=es.next=s;return a}var eb=typeof AbortController<"u"?AbortController:function(){var n=[],s=this.signal={aborted:!1,addEventListener:function(a,l){n.push(l)}};this.abort=function(){s.aborted=!0,n.forEach(function(a){return a()})}},tb=i.unstable_scheduleCallback,nb=i.unstable_NormalPriority,Ct={$$typeof:K,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function vd(){return{controller:new eb,data:new Map,refCount:0}}function wl(n){n.refCount--,n.refCount===0&&tb(nb,function(){n.controller.abort()})}var Al=null,_d=0,Xa=0,Wa=null;function ib(n,s){if(Al===null){var a=Al=[];_d=0,Xa=Tm(),Wa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return _d++,s.then(xy,xy),s}function xy(){if(--_d===0&&Al!==null){Wa!==null&&(Wa.status="fulfilled");var n=Al;Al=null,Xa=0,Wa=null;for(var s=0;s<n.length;s++)(0,n[s])()}}function sb(n,s){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return n.then(function(){l.status="fulfilled",l.value=s;for(var f=0;f<a.length;f++)(0,a[f])(s)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var Iy=W.S;W.S=function(n,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&ib(n,s),Iy!==null&&Iy(n,s)};var Wr=ie(null);function Ed(){var n=Wr.current;return n!==null?n:et.pooledCache}function wc(n,s){s===null?ae(Wr,Wr.current):ae(Wr,s.pool)}function Cy(){var n=Ed();return n===null?null:{parent:Ct._currentValue,pool:n}}var bl=Error(r(460)),Ny=Error(r(474)),Ac=Error(r(542)),Td={then:function(){}};function Dy(n){return n=n.status,n==="fulfilled"||n==="rejected"}function bc(){}function Oy(n,s,a){switch(a=n[a],a===void 0?n.push(s):a!==s&&(s.then(bc,bc),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,ky(n),n;default:if(typeof s.status=="string")s.then(bc,bc);else{if(n=et,n!==null&&100<n.shellSuspendCounter)throw Error(r(482));n=s,n.status="pending",n.then(function(l){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=l}},function(l){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=l}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,ky(n),n}throw Sl=s,bl}}var Sl=null;function My(){if(Sl===null)throw Error(r(459));var n=Sl;return Sl=null,n}function ky(n){if(n===bl||n===Ac)throw Error(r(483))}var Ms=!1;function wd(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ad(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function ks(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Ps(n,s,a){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,($e&2)!==0){var f=l.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),l.pending=s,s=gc(n),Ey(n,null,a),s}return pc(n,l,s,a),gc(n)}function Rl(n,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var l=s.lanes;l&=n.pendingLanes,a|=l,s.lanes=a,el(n,a)}}function bd(n,s){var a=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var T={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?f=m=T:m=m.next=T,a=a.next}while(a!==null);m===null?f=m=s:m=m.next=s}else f=m=s;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:l.shared,callbacks:l.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=s:n.next=s,a.lastBaseUpdate=s}var Sd=!1;function xl(){if(Sd){var n=Wa;if(n!==null)throw n}}function Il(n,s,a,l){Sd=!1;var f=n.updateQueue;Ms=!1;var m=f.firstBaseUpdate,T=f.lastBaseUpdate,b=f.shared.pending;if(b!==null){f.shared.pending=null;var N=b,G=N.next;N.next=null,T===null?m=G:T.next=G,T=N;var Z=n.alternate;Z!==null&&(Z=Z.updateQueue,b=Z.lastBaseUpdate,b!==T&&(b===null?Z.firstBaseUpdate=G:b.next=G,Z.lastBaseUpdate=N))}if(m!==null){var te=f.baseState;T=0,Z=G=N=null,b=m;do{var $=b.lane&-536870913,Q=$!==b.lane;if(Q?(Ve&$)===$:(l&$)===$){$!==0&&$===Xa&&(Sd=!0),Z!==null&&(Z=Z.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var we=n,ve=b;$=s;var We=a;switch(ve.tag){case 1:if(we=ve.payload,typeof we=="function"){te=we.call(We,te,$);break e}te=we;break e;case 3:we.flags=we.flags&-65537|128;case 0:if(we=ve.payload,$=typeof we=="function"?we.call(We,te,$):we,$==null)break e;te=_({},te,$);break e;case 2:Ms=!0}}$=b.callback,$!==null&&(n.flags|=64,Q&&(n.flags|=8192),Q=f.callbacks,Q===null?f.callbacks=[$]:Q.push($))}else Q={lane:$,tag:b.tag,payload:b.payload,callback:b.callback,next:null},Z===null?(G=Z=Q,N=te):Z=Z.next=Q,T|=$;if(b=b.next,b===null){if(b=f.shared.pending,b===null)break;Q=b,b=Q.next,Q.next=null,f.lastBaseUpdate=Q,f.shared.pending=null}}while(!0);Z===null&&(N=te),f.baseState=N,f.firstBaseUpdate=G,f.lastBaseUpdate=Z,m===null&&(f.shared.lanes=0),Fs|=T,n.lanes=T,n.memoizedState=te}}function Py(n,s){if(typeof n!="function")throw Error(r(191,n));n.call(s)}function jy(n,s){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)Py(a[n],s)}var Za=ie(null),Sc=ie(0);function Vy(n,s){n=ls,ae(Sc,n),ae(Za,s),ls=n|s.baseLanes}function Rd(){ae(Sc,ls),ae(Za,Za.current)}function xd(){ls=Sc.current,ue(Za),ue(Sc)}var js=0,xe=null,Ye=null,Tt=null,Rc=!1,Ja=!1,Zr=!1,xc=0,Cl=0,eo=null,rb=0;function gt(){throw Error(r(321))}function Id(n,s){if(s===null)return!1;for(var a=0;a<s.length&&a<n.length;a++)if(!En(n[a],s[a]))return!1;return!0}function Cd(n,s,a,l,f,m){return js=m,xe=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,W.H=n===null||n.memoizedState===null?Ev:Tv,Zr=!1,m=a(l,f),Zr=!1,Ja&&(m=Uy(s,a,l,f)),Ly(n),m}function Ly(n){W.H=Mc;var s=Ye!==null&&Ye.next!==null;if(js=0,Tt=Ye=xe=null,Rc=!1,Cl=0,eo=null,s)throw Error(r(300));n===null||Pt||(n=n.dependencies,n!==null&&Ec(n)&&(Pt=!0))}function Uy(n,s,a,l){xe=n;var f=0;do{if(Ja&&(eo=null),Cl=0,Ja=!1,25<=f)throw Error(r(301));if(f+=1,Tt=Ye=null,n.updateQueue!=null){var m=n.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}W.H=fb,m=s(a,l)}while(Ja);return m}function ab(){var n=W.H,s=n.useState()[0];return s=typeof s.then=="function"?Nl(s):s,n=n.useState()[0],(Ye!==null?Ye.memoizedState:null)!==n&&(xe.flags|=1024),s}function Nd(){var n=xc!==0;return xc=0,n}function Dd(n,s,a){s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~a}function Od(n){if(Rc){for(n=n.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Rc=!1}js=0,Tt=Ye=xe=null,Ja=!1,Cl=xc=0,eo=null}function cn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tt===null?xe.memoizedState=Tt=n:Tt=Tt.next=n,Tt}function wt(){if(Ye===null){var n=xe.alternate;n=n!==null?n.memoizedState:null}else n=Ye.next;var s=Tt===null?xe.memoizedState:Tt.next;if(s!==null)Tt=s,Ye=n;else{if(n===null)throw xe.alternate===null?Error(r(467)):Error(r(310));Ye=n,n={memoizedState:Ye.memoizedState,baseState:Ye.baseState,baseQueue:Ye.baseQueue,queue:Ye.queue,next:null},Tt===null?xe.memoizedState=Tt=n:Tt=Tt.next=n}return Tt}function Md(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Nl(n){var s=Cl;return Cl+=1,eo===null&&(eo=[]),n=Oy(eo,n,s),s=xe,(Tt===null?s.memoizedState:Tt.next)===null&&(s=s.alternate,W.H=s===null||s.memoizedState===null?Ev:Tv),n}function Ic(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Nl(n);if(n.$$typeof===K)return Xt(n)}throw Error(r(438,String(n)))}function kd(n){var s=null,a=xe.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var l=xe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(s={data:l.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=Md(),xe.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(n),l=0;l<n;l++)a[l]=k;return s.index++,a}function ns(n,s){return typeof s=="function"?s(n):s}function Cc(n){var s=wt();return Pd(s,Ye,n)}function Pd(n,s,a){var l=n.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var f=n.baseQueue,m=l.pending;if(m!==null){if(f!==null){var T=f.next;f.next=m.next,m.next=T}s.baseQueue=f=m,l.pending=null}if(m=n.baseState,f===null)n.memoizedState=m;else{s=f.next;var b=T=null,N=null,G=s,Z=!1;do{var te=G.lane&-536870913;if(te!==G.lane?(Ve&te)===te:(js&te)===te){var $=G.revertLane;if($===0)N!==null&&(N=N.next={lane:0,revertLane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),te===Xa&&(Z=!0);else if((js&$)===$){G=G.next,$===Xa&&(Z=!0);continue}else te={lane:0,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},N===null?(b=N=te,T=m):N=N.next=te,xe.lanes|=$,Fs|=$;te=G.action,Zr&&a(m,te),m=G.hasEagerState?G.eagerState:a(m,te)}else $={lane:te,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},N===null?(b=N=$,T=m):N=N.next=$,xe.lanes|=te,Fs|=te;G=G.next}while(G!==null&&G!==s);if(N===null?T=m:N.next=b,!En(m,n.memoizedState)&&(Pt=!0,Z&&(a=Wa,a!==null)))throw a;n.memoizedState=m,n.baseState=T,n.baseQueue=N,l.lastRenderedState=m}return f===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function jd(n){var s=wt(),a=s.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=n;var l=a.dispatch,f=a.pending,m=s.memoizedState;if(f!==null){a.pending=null;var T=f=f.next;do m=n(m,T.action),T=T.next;while(T!==f);En(m,s.memoizedState)||(Pt=!0),s.memoizedState=m,s.baseQueue===null&&(s.baseState=m),a.lastRenderedState=m}return[m,l]}function By(n,s,a){var l=xe,f=wt(),m=qe;if(m){if(a===void 0)throw Error(r(407));a=a()}else a=s();var T=!En((Ye||f).memoizedState,a);T&&(f.memoizedState=a,Pt=!0),f=f.queue;var b=Fy.bind(null,l,f,n);if(Dl(2048,8,b,[n]),f.getSnapshot!==s||T||Tt!==null&&Tt.memoizedState.tag&1){if(l.flags|=2048,to(9,Nc(),qy.bind(null,l,f,a,s),null),et===null)throw Error(r(349));m||(js&124)!==0||zy(l,s,a)}return a}function zy(n,s,a){n.flags|=16384,n={getSnapshot:s,value:a},s=xe.updateQueue,s===null?(s=Md(),xe.updateQueue=s,s.stores=[n]):(a=s.stores,a===null?s.stores=[n]:a.push(n))}function qy(n,s,a,l){s.value=a,s.getSnapshot=l,Hy(s)&&Gy(n)}function Fy(n,s,a){return a(function(){Hy(s)&&Gy(n)})}function Hy(n){var s=n.getSnapshot;n=n.value;try{var a=s();return!En(n,a)}catch{return!0}}function Gy(n){var s=$a(n,2);s!==null&&Rn(s,n,2)}function Vd(n){var s=cn();if(typeof n=="function"){var a=n;if(n=a(),Zr){vn(!0);try{a()}finally{vn(!1)}}}return s.memoizedState=s.baseState=n,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ns,lastRenderedState:n},s}function $y(n,s,a,l){return n.baseState=a,Pd(n,Ye,typeof l=="function"?l:ns)}function ob(n,s,a,l,f){if(Oc(n))throw Error(r(485));if(n=s.action,n!==null){var m={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){m.listeners.push(T)}};W.T!==null?a(!0):m.isTransition=!1,l(m),a=s.pending,a===null?(m.next=s.pending=m,Qy(s,m)):(m.next=a.next,s.pending=a.next=m)}}function Qy(n,s){var a=s.action,l=s.payload,f=n.state;if(s.isTransition){var m=W.T,T={};W.T=T;try{var b=a(f,l),N=W.S;N!==null&&N(T,b),Ky(n,s,b)}catch(G){Ld(n,s,G)}finally{W.T=m}}else try{m=a(f,l),Ky(n,s,m)}catch(G){Ld(n,s,G)}}function Ky(n,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Yy(n,s,l)},function(l){return Ld(n,s,l)}):Yy(n,s,a)}function Yy(n,s,a){s.status="fulfilled",s.value=a,Xy(s),n.state=a,s=n.pending,s!==null&&(a=s.next,a===s?n.pending=null:(a=a.next,s.next=a,Qy(n,a)))}function Ld(n,s,a){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do s.status="rejected",s.reason=a,Xy(s),s=s.next;while(s!==l)}n.action=null}function Xy(n){n=n.listeners;for(var s=0;s<n.length;s++)(0,n[s])()}function Wy(n,s){return s}function Zy(n,s){if(qe){var a=et.formState;if(a!==null){e:{var l=xe;if(qe){if(ht){t:{for(var f=ht,m=Ei;f.nodeType!==8;){if(!m){f=null;break t}if(f=Jn(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){ht=Jn(f.nextSibling),l=f.data==="F!";break e}}Kr(l)}l=!1}l&&(s=a[0])}}return a=cn(),a.memoizedState=a.baseState=s,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wy,lastRenderedState:s},a.queue=l,a=yv.bind(null,xe,l),l.dispatch=a,l=Vd(!1),m=Fd.bind(null,xe,!1,l.queue),l=cn(),f={state:s,dispatch:null,action:n,pending:null},l.queue=f,a=ob.bind(null,xe,f,m,a),f.dispatch=a,l.memoizedState=n,[s,a,!1]}function Jy(n){var s=wt();return ev(s,Ye,n)}function ev(n,s,a){if(s=Pd(n,s,Wy)[0],n=Cc(ns)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var l=Nl(s)}catch(T){throw T===bl?Ac:T}else l=s;s=wt();var f=s.queue,m=f.dispatch;return a!==s.memoizedState&&(xe.flags|=2048,to(9,Nc(),lb.bind(null,f,a),null)),[l,m,n]}function lb(n,s){n.action=s}function tv(n){var s=wt(),a=Ye;if(a!==null)return ev(s,a,n);wt(),s=s.memoizedState,a=wt();var l=a.queue.dispatch;return a.memoizedState=n,[s,l,!1]}function to(n,s,a,l){return n={tag:n,create:a,deps:l,inst:s,next:null},s=xe.updateQueue,s===null&&(s=Md(),xe.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=n.next=n:(l=a.next,a.next=n,n.next=l,s.lastEffect=n),n}function Nc(){return{destroy:void 0,resource:void 0}}function nv(){return wt().memoizedState}function Dc(n,s,a,l){var f=cn();l=l===void 0?null:l,xe.flags|=n,f.memoizedState=to(1|s,Nc(),a,l)}function Dl(n,s,a,l){var f=wt();l=l===void 0?null:l;var m=f.memoizedState.inst;Ye!==null&&l!==null&&Id(l,Ye.memoizedState.deps)?f.memoizedState=to(s,m,a,l):(xe.flags|=n,f.memoizedState=to(1|s,m,a,l))}function iv(n,s){Dc(8390656,8,n,s)}function sv(n,s){Dl(2048,8,n,s)}function rv(n,s){return Dl(4,2,n,s)}function av(n,s){return Dl(4,4,n,s)}function ov(n,s){if(typeof s=="function"){n=n();var a=s(n);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function lv(n,s,a){a=a!=null?a.concat([n]):null,Dl(4,4,ov.bind(null,s,n),a)}function Ud(){}function uv(n,s){var a=wt();s=s===void 0?null:s;var l=a.memoizedState;return s!==null&&Id(s,l[1])?l[0]:(a.memoizedState=[n,s],n)}function cv(n,s){var a=wt();s=s===void 0?null:s;var l=a.memoizedState;if(s!==null&&Id(s,l[1]))return l[0];if(l=n(),Zr){vn(!0);try{n()}finally{vn(!1)}}return a.memoizedState=[l,s],l}function Bd(n,s,a){return a===void 0||(js&1073741824)!==0?n.memoizedState=s:(n.memoizedState=a,n=d_(),xe.lanes|=n,Fs|=n,a)}function hv(n,s,a,l){return En(a,s)?a:Za.current!==null?(n=Bd(n,a,l),En(n,s)||(Pt=!0),n):(js&42)===0?(Pt=!0,n.memoizedState=a):(n=d_(),xe.lanes|=n,Fs|=n,s)}function fv(n,s,a,l,f){var m=le.p;le.p=m!==0&&8>m?m:8;var T=W.T,b={};W.T=b,Fd(n,!1,s,a);try{var N=f(),G=W.S;if(G!==null&&G(b,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var Z=sb(N,l);Ol(n,s,Z,Sn(n))}else Ol(n,s,l,Sn(n))}catch(te){Ol(n,s,{then:function(){},status:"rejected",reason:te},Sn())}finally{le.p=m,W.T=T}}function ub(){}function zd(n,s,a,l){if(n.tag!==5)throw Error(r(476));var f=dv(n).queue;fv(n,f,s,pe,a===null?ub:function(){return mv(n),a(l)})}function dv(n){var s=n.memoizedState;if(s!==null)return s;s={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ns,lastRenderedState:pe},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ns,lastRenderedState:a},next:null},n.memoizedState=s,n=n.alternate,n!==null&&(n.memoizedState=s),s}function mv(n){var s=dv(n).next.queue;Ol(n,s,{},Sn())}function qd(){return Xt(Xl)}function pv(){return wt().memoizedState}function gv(){return wt().memoizedState}function cb(n){for(var s=n.return;s!==null;){switch(s.tag){case 24:case 3:var a=Sn();n=ks(a);var l=Ps(s,n,a);l!==null&&(Rn(l,s,a),Rl(l,s,a)),s={cache:vd()},n.payload=s;return}s=s.return}}function hb(n,s,a){var l=Sn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Oc(n)?vv(s,a):(a=ld(n,s,a,l),a!==null&&(Rn(a,n,l),_v(a,s,l)))}function yv(n,s,a){var l=Sn();Ol(n,s,a,l)}function Ol(n,s,a,l){var f={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Oc(n))vv(s,f);else{var m=n.alternate;if(n.lanes===0&&(m===null||m.lanes===0)&&(m=s.lastRenderedReducer,m!==null))try{var T=s.lastRenderedState,b=m(T,a);if(f.hasEagerState=!0,f.eagerState=b,En(b,T))return pc(n,s,f,0),et===null&&mc(),!1}catch{}finally{}if(a=ld(n,s,f,l),a!==null)return Rn(a,n,l),_v(a,s,l),!0}return!1}function Fd(n,s,a,l){if(l={lane:2,revertLane:Tm(),action:l,hasEagerState:!1,eagerState:null,next:null},Oc(n)){if(s)throw Error(r(479))}else s=ld(n,a,l,2),s!==null&&Rn(s,n,2)}function Oc(n){var s=n.alternate;return n===xe||s!==null&&s===xe}function vv(n,s){Ja=Rc=!0;var a=n.pending;a===null?s.next=s:(s.next=a.next,a.next=s),n.pending=s}function _v(n,s,a){if((a&4194048)!==0){var l=s.lanes;l&=n.pendingLanes,a|=l,s.lanes=a,el(n,a)}}var Mc={readContext:Xt,use:Ic,useCallback:gt,useContext:gt,useEffect:gt,useImperativeHandle:gt,useLayoutEffect:gt,useInsertionEffect:gt,useMemo:gt,useReducer:gt,useRef:gt,useState:gt,useDebugValue:gt,useDeferredValue:gt,useTransition:gt,useSyncExternalStore:gt,useId:gt,useHostTransitionStatus:gt,useFormState:gt,useActionState:gt,useOptimistic:gt,useMemoCache:gt,useCacheRefresh:gt},Ev={readContext:Xt,use:Ic,useCallback:function(n,s){return cn().memoizedState=[n,s===void 0?null:s],n},useContext:Xt,useEffect:iv,useImperativeHandle:function(n,s,a){a=a!=null?a.concat([n]):null,Dc(4194308,4,ov.bind(null,s,n),a)},useLayoutEffect:function(n,s){return Dc(4194308,4,n,s)},useInsertionEffect:function(n,s){Dc(4,2,n,s)},useMemo:function(n,s){var a=cn();s=s===void 0?null:s;var l=n();if(Zr){vn(!0);try{n()}finally{vn(!1)}}return a.memoizedState=[l,s],l},useReducer:function(n,s,a){var l=cn();if(a!==void 0){var f=a(s);if(Zr){vn(!0);try{a(s)}finally{vn(!1)}}}else f=s;return l.memoizedState=l.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},l.queue=n,n=n.dispatch=hb.bind(null,xe,n),[l.memoizedState,n]},useRef:function(n){var s=cn();return n={current:n},s.memoizedState=n},useState:function(n){n=Vd(n);var s=n.queue,a=yv.bind(null,xe,s);return s.dispatch=a,[n.memoizedState,a]},useDebugValue:Ud,useDeferredValue:function(n,s){var a=cn();return Bd(a,n,s)},useTransition:function(){var n=Vd(!1);return n=fv.bind(null,xe,n.queue,!0,!1),cn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,s,a){var l=xe,f=cn();if(qe){if(a===void 0)throw Error(r(407));a=a()}else{if(a=s(),et===null)throw Error(r(349));(Ve&124)!==0||zy(l,s,a)}f.memoizedState=a;var m={value:a,getSnapshot:s};return f.queue=m,iv(Fy.bind(null,l,m,n),[n]),l.flags|=2048,to(9,Nc(),qy.bind(null,l,m,a,s),null),a},useId:function(){var n=cn(),s=et.identifierPrefix;if(qe){var a=Ji,l=Zi;a=(l&~(1<<32-Yt(l)-1)).toString(32)+a,s=""+s+"R"+a,a=xc++,0<a&&(s+="H"+a.toString(32)),s+=""}else a=rb++,s=""+s+"r"+a.toString(32)+"";return n.memoizedState=s},useHostTransitionStatus:qd,useFormState:Zy,useActionState:Zy,useOptimistic:function(n){var s=cn();s.memoizedState=s.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=Fd.bind(null,xe,!0,a),a.dispatch=s,[n,s]},useMemoCache:kd,useCacheRefresh:function(){return cn().memoizedState=cb.bind(null,xe)}},Tv={readContext:Xt,use:Ic,useCallback:uv,useContext:Xt,useEffect:sv,useImperativeHandle:lv,useInsertionEffect:rv,useLayoutEffect:av,useMemo:cv,useReducer:Cc,useRef:nv,useState:function(){return Cc(ns)},useDebugValue:Ud,useDeferredValue:function(n,s){var a=wt();return hv(a,Ye.memoizedState,n,s)},useTransition:function(){var n=Cc(ns)[0],s=wt().memoizedState;return[typeof n=="boolean"?n:Nl(n),s]},useSyncExternalStore:By,useId:pv,useHostTransitionStatus:qd,useFormState:Jy,useActionState:Jy,useOptimistic:function(n,s){var a=wt();return $y(a,Ye,n,s)},useMemoCache:kd,useCacheRefresh:gv},fb={readContext:Xt,use:Ic,useCallback:uv,useContext:Xt,useEffect:sv,useImperativeHandle:lv,useInsertionEffect:rv,useLayoutEffect:av,useMemo:cv,useReducer:jd,useRef:nv,useState:function(){return jd(ns)},useDebugValue:Ud,useDeferredValue:function(n,s){var a=wt();return Ye===null?Bd(a,n,s):hv(a,Ye.memoizedState,n,s)},useTransition:function(){var n=jd(ns)[0],s=wt().memoizedState;return[typeof n=="boolean"?n:Nl(n),s]},useSyncExternalStore:By,useId:pv,useHostTransitionStatus:qd,useFormState:tv,useActionState:tv,useOptimistic:function(n,s){var a=wt();return Ye!==null?$y(a,Ye,n,s):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:kd,useCacheRefresh:gv},no=null,Ml=0;function kc(n){var s=Ml;return Ml+=1,no===null&&(no=[]),Oy(no,n,s)}function kl(n,s){s=s.props.ref,n.ref=s!==void 0?s:null}function Pc(n,s){throw s.$$typeof===A?Error(r(525)):(n=Object.prototype.toString.call(s),Error(r(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n)))}function wv(n){var s=n._init;return s(n._payload)}function Av(n){function s(q,L){if(n){var H=q.deletions;H===null?(q.deletions=[L],q.flags|=16):H.push(L)}}function a(q,L){if(!n)return null;for(;L!==null;)s(q,L),L=L.sibling;return null}function l(q){for(var L=new Map;q!==null;)q.key!==null?L.set(q.key,q):L.set(q.index,q),q=q.sibling;return L}function f(q,L){return q=Wi(q,L),q.index=0,q.sibling=null,q}function m(q,L,H){return q.index=H,n?(H=q.alternate,H!==null?(H=H.index,H<L?(q.flags|=67108866,L):H):(q.flags|=67108866,L)):(q.flags|=1048576,L)}function T(q){return n&&q.alternate===null&&(q.flags|=67108866),q}function b(q,L,H,J){return L===null||L.tag!==6?(L=cd(H,q.mode,J),L.return=q,L):(L=f(L,H),L.return=q,L)}function N(q,L,H,J){var de=H.type;return de===x?Z(q,L,H.props.children,J,H.key):L!==null&&(L.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===R&&wv(de)===L.type)?(L=f(L,H.props),kl(L,H),L.return=q,L):(L=yc(H.type,H.key,H.props,null,q.mode,J),kl(L,H),L.return=q,L)}function G(q,L,H,J){return L===null||L.tag!==4||L.stateNode.containerInfo!==H.containerInfo||L.stateNode.implementation!==H.implementation?(L=hd(H,q.mode,J),L.return=q,L):(L=f(L,H.children||[]),L.return=q,L)}function Z(q,L,H,J,de){return L===null||L.tag!==7?(L=Hr(H,q.mode,J,de),L.return=q,L):(L=f(L,H),L.return=q,L)}function te(q,L,H){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=cd(""+L,q.mode,H),L.return=q,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case w:return H=yc(L.type,L.key,L.props,null,q.mode,H),kl(H,L),H.return=q,H;case C:return L=hd(L,q.mode,H),L.return=q,L;case R:var J=L._init;return L=J(L._payload),te(q,L,H)}if(it(L)||B(L))return L=Hr(L,q.mode,H,null),L.return=q,L;if(typeof L.then=="function")return te(q,kc(L),H);if(L.$$typeof===K)return te(q,Tc(q,L),H);Pc(q,L)}return null}function $(q,L,H,J){var de=L!==null?L.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return de!==null?null:b(q,L,""+H,J);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case w:return H.key===de?N(q,L,H,J):null;case C:return H.key===de?G(q,L,H,J):null;case R:return de=H._init,H=de(H._payload),$(q,L,H,J)}if(it(H)||B(H))return de!==null?null:Z(q,L,H,J,null);if(typeof H.then=="function")return $(q,L,kc(H),J);if(H.$$typeof===K)return $(q,L,Tc(q,H),J);Pc(q,H)}return null}function Q(q,L,H,J,de){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return q=q.get(H)||null,b(L,q,""+J,de);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case w:return q=q.get(J.key===null?H:J.key)||null,N(L,q,J,de);case C:return q=q.get(J.key===null?H:J.key)||null,G(L,q,J,de);case R:var Ne=J._init;return J=Ne(J._payload),Q(q,L,H,J,de)}if(it(J)||B(J))return q=q.get(H)||null,Z(L,q,J,de,null);if(typeof J.then=="function")return Q(q,L,H,kc(J),de);if(J.$$typeof===K)return Q(q,L,H,Tc(L,J),de);Pc(L,J)}return null}function we(q,L,H,J){for(var de=null,Ne=null,me=L,_e=L=0,Vt=null;me!==null&&_e<H.length;_e++){me.index>_e?(Vt=me,me=null):Vt=me.sibling;var Be=$(q,me,H[_e],J);if(Be===null){me===null&&(me=Vt);break}n&&me&&Be.alternate===null&&s(q,me),L=m(Be,L,_e),Ne===null?de=Be:Ne.sibling=Be,Ne=Be,me=Vt}if(_e===H.length)return a(q,me),qe&&$r(q,_e),de;if(me===null){for(;_e<H.length;_e++)me=te(q,H[_e],J),me!==null&&(L=m(me,L,_e),Ne===null?de=me:Ne.sibling=me,Ne=me);return qe&&$r(q,_e),de}for(me=l(me);_e<H.length;_e++)Vt=Q(me,q,_e,H[_e],J),Vt!==null&&(n&&Vt.alternate!==null&&me.delete(Vt.key===null?_e:Vt.key),L=m(Vt,L,_e),Ne===null?de=Vt:Ne.sibling=Vt,Ne=Vt);return n&&me.forEach(function(Zs){return s(q,Zs)}),qe&&$r(q,_e),de}function ve(q,L,H,J){if(H==null)throw Error(r(151));for(var de=null,Ne=null,me=L,_e=L=0,Vt=null,Be=H.next();me!==null&&!Be.done;_e++,Be=H.next()){me.index>_e?(Vt=me,me=null):Vt=me.sibling;var Zs=$(q,me,Be.value,J);if(Zs===null){me===null&&(me=Vt);break}n&&me&&Zs.alternate===null&&s(q,me),L=m(Zs,L,_e),Ne===null?de=Zs:Ne.sibling=Zs,Ne=Zs,me=Vt}if(Be.done)return a(q,me),qe&&$r(q,_e),de;if(me===null){for(;!Be.done;_e++,Be=H.next())Be=te(q,Be.value,J),Be!==null&&(L=m(Be,L,_e),Ne===null?de=Be:Ne.sibling=Be,Ne=Be);return qe&&$r(q,_e),de}for(me=l(me);!Be.done;_e++,Be=H.next())Be=Q(me,q,_e,Be.value,J),Be!==null&&(n&&Be.alternate!==null&&me.delete(Be.key===null?_e:Be.key),L=m(Be,L,_e),Ne===null?de=Be:Ne.sibling=Be,Ne=Be);return n&&me.forEach(function(dS){return s(q,dS)}),qe&&$r(q,_e),de}function We(q,L,H,J){if(typeof H=="object"&&H!==null&&H.type===x&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case w:e:{for(var de=H.key;L!==null;){if(L.key===de){if(de=H.type,de===x){if(L.tag===7){a(q,L.sibling),J=f(L,H.props.children),J.return=q,q=J;break e}}else if(L.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===R&&wv(de)===L.type){a(q,L.sibling),J=f(L,H.props),kl(J,H),J.return=q,q=J;break e}a(q,L);break}else s(q,L);L=L.sibling}H.type===x?(J=Hr(H.props.children,q.mode,J,H.key),J.return=q,q=J):(J=yc(H.type,H.key,H.props,null,q.mode,J),kl(J,H),J.return=q,q=J)}return T(q);case C:e:{for(de=H.key;L!==null;){if(L.key===de)if(L.tag===4&&L.stateNode.containerInfo===H.containerInfo&&L.stateNode.implementation===H.implementation){a(q,L.sibling),J=f(L,H.children||[]),J.return=q,q=J;break e}else{a(q,L);break}else s(q,L);L=L.sibling}J=hd(H,q.mode,J),J.return=q,q=J}return T(q);case R:return de=H._init,H=de(H._payload),We(q,L,H,J)}if(it(H))return we(q,L,H,J);if(B(H)){if(de=B(H),typeof de!="function")throw Error(r(150));return H=de.call(H),ve(q,L,H,J)}if(typeof H.then=="function")return We(q,L,kc(H),J);if(H.$$typeof===K)return We(q,L,Tc(q,H),J);Pc(q,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,L!==null&&L.tag===6?(a(q,L.sibling),J=f(L,H),J.return=q,q=J):(a(q,L),J=cd(H,q.mode,J),J.return=q,q=J),T(q)):a(q,L)}return function(q,L,H,J){try{Ml=0;var de=We(q,L,H,J);return no=null,de}catch(me){if(me===bl||me===Ac)throw me;var Ne=Tn(29,me,null,q.mode);return Ne.lanes=J,Ne.return=q,Ne}finally{}}}var io=Av(!0),bv=Av(!1),Bn=ie(null),Ti=null;function Vs(n){var s=n.alternate;ae(Nt,Nt.current&1),ae(Bn,n),Ti===null&&(s===null||Za.current!==null||s.memoizedState!==null)&&(Ti=n)}function Sv(n){if(n.tag===22){if(ae(Nt,Nt.current),ae(Bn,n),Ti===null){var s=n.alternate;s!==null&&s.memoizedState!==null&&(Ti=n)}}else Ls()}function Ls(){ae(Nt,Nt.current),ae(Bn,Bn.current)}function is(n){ue(Bn),Ti===n&&(Ti=null),ue(Nt)}var Nt=ie(0);function jc(n){for(var s=n;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Mm(a)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function Hd(n,s,a,l){s=n.memoizedState,a=a(l,s),a=a==null?s:_({},s,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var Gd={enqueueSetState:function(n,s,a){n=n._reactInternals;var l=Sn(),f=ks(l);f.payload=s,a!=null&&(f.callback=a),s=Ps(n,f,l),s!==null&&(Rn(s,n,l),Rl(s,n,l))},enqueueReplaceState:function(n,s,a){n=n._reactInternals;var l=Sn(),f=ks(l);f.tag=1,f.payload=s,a!=null&&(f.callback=a),s=Ps(n,f,l),s!==null&&(Rn(s,n,l),Rl(s,n,l))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var a=Sn(),l=ks(a);l.tag=2,s!=null&&(l.callback=s),s=Ps(n,l,a),s!==null&&(Rn(s,n,a),Rl(s,n,a))}};function Rv(n,s,a,l,f,m,T){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,m,T):s.prototype&&s.prototype.isPureReactComponent?!gl(a,l)||!gl(f,m):!0}function xv(n,s,a,l){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,l),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,l),s.state!==n&&Gd.enqueueReplaceState(s,s.state,null)}function Jr(n,s){var a=s;if("ref"in s){a={};for(var l in s)l!=="ref"&&(a[l]=s[l])}if(n=n.defaultProps){a===s&&(a=_({},a));for(var f in n)a[f]===void 0&&(a[f]=n[f])}return a}var Vc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function Iv(n){Vc(n)}function Cv(n){console.error(n)}function Nv(n){Vc(n)}function Lc(n,s){try{var a=n.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(l){setTimeout(function(){throw l})}}function Dv(n,s,a){try{var l=n.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function $d(n,s,a){return a=ks(a),a.tag=3,a.payload={element:null},a.callback=function(){Lc(n,s)},a}function Ov(n){return n=ks(n),n.tag=3,n}function Mv(n,s,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var m=l.value;n.payload=function(){return f(m)},n.callback=function(){Dv(s,a,l)}}var T=a.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(n.callback=function(){Dv(s,a,l),typeof f!="function"&&(Hs===null?Hs=new Set([this]):Hs.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function db(n,s,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(s=a.alternate,s!==null&&Tl(s,a,f,!0),a=Bn.current,a!==null){switch(a.tag){case 13:return Ti===null?gm():a.alternate===null&&ft===0&&(ft=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===Td?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([l]):s.add(l),vm(n,l,f)),!1;case 22:return a.flags|=65536,l===Td?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([l]):a.add(l)),vm(n,l,f)),!1}throw Error(r(435,a.tag))}return vm(n,l,f),gm(),!1}if(qe)return s=Bn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=f,l!==md&&(n=Error(r(422),{cause:l}),El(jn(n,a)))):(l!==md&&(s=Error(r(423),{cause:l}),El(jn(s,a))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,l=jn(l,a),f=$d(n.stateNode,l,f),bd(n,f),ft!==4&&(ft=2)),!1;var m=Error(r(520),{cause:l});if(m=jn(m,a),zl===null?zl=[m]:zl.push(m),ft!==4&&(ft=2),s===null)return!0;l=jn(l,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,n=f&-f,a.lanes|=n,n=$d(a.stateNode,l,n),bd(a,n),!1;case 1:if(s=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Hs===null||!Hs.has(m))))return a.flags|=65536,f&=-f,a.lanes|=f,f=Ov(f),Mv(f,n,a,l),bd(a,f),!1}a=a.return}while(a!==null);return!1}var kv=Error(r(461)),Pt=!1;function qt(n,s,a,l){s.child=n===null?bv(s,null,a,l):io(s,n.child,a,l)}function Pv(n,s,a,l,f){a=a.render;var m=s.ref;if("ref"in l){var T={};for(var b in l)b!=="ref"&&(T[b]=l[b])}else T=l;return Xr(s),l=Cd(n,s,a,T,m,f),b=Nd(),n!==null&&!Pt?(Dd(n,s,f),ss(n,s,f)):(qe&&b&&fd(s),s.flags|=1,qt(n,s,l,f),s.child)}function jv(n,s,a,l,f){if(n===null){var m=a.type;return typeof m=="function"&&!ud(m)&&m.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=m,Vv(n,s,m,l,f)):(n=yc(a.type,null,l,s,s.mode,f),n.ref=s.ref,n.return=s,s.child=n)}if(m=n.child,!em(n,f)){var T=m.memoizedProps;if(a=a.compare,a=a!==null?a:gl,a(T,l)&&n.ref===s.ref)return ss(n,s,f)}return s.flags|=1,n=Wi(m,l),n.ref=s.ref,n.return=s,s.child=n}function Vv(n,s,a,l,f){if(n!==null){var m=n.memoizedProps;if(gl(m,l)&&n.ref===s.ref)if(Pt=!1,s.pendingProps=l=m,em(n,f))(n.flags&131072)!==0&&(Pt=!0);else return s.lanes=n.lanes,ss(n,s,f)}return Qd(n,s,a,l,f)}function Lv(n,s,a){var l=s.pendingProps,f=l.children,m=n!==null?n.memoizedState:null;if(l.mode==="hidden"){if((s.flags&128)!==0){if(l=m!==null?m.baseLanes|a:a,n!==null){for(f=s.child=n.child,m=0;f!==null;)m=m|f.lanes|f.childLanes,f=f.sibling;s.childLanes=m&~l}else s.childLanes=0,s.child=null;return Uv(n,s,l,a)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},n!==null&&wc(s,m!==null?m.cachePool:null),m!==null?Vy(s,m):Rd(),Sv(s);else return s.lanes=s.childLanes=536870912,Uv(n,s,m!==null?m.baseLanes|a:a,a)}else m!==null?(wc(s,m.cachePool),Vy(s,m),Ls(),s.memoizedState=null):(n!==null&&wc(s,null),Rd(),Ls());return qt(n,s,f,a),s.child}function Uv(n,s,a,l){var f=Ed();return f=f===null?null:{parent:Ct._currentValue,pool:f},s.memoizedState={baseLanes:a,cachePool:f},n!==null&&wc(s,null),Rd(),Sv(s),n!==null&&Tl(n,s,l,!0),null}function Uc(n,s){var a=s.ref;if(a===null)n!==null&&n.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(n===null||n.ref!==a)&&(s.flags|=4194816)}}function Qd(n,s,a,l,f){return Xr(s),a=Cd(n,s,a,l,void 0,f),l=Nd(),n!==null&&!Pt?(Dd(n,s,f),ss(n,s,f)):(qe&&l&&fd(s),s.flags|=1,qt(n,s,a,f),s.child)}function Bv(n,s,a,l,f,m){return Xr(s),s.updateQueue=null,a=Uy(s,l,a,f),Ly(n),l=Nd(),n!==null&&!Pt?(Dd(n,s,m),ss(n,s,m)):(qe&&l&&fd(s),s.flags|=1,qt(n,s,a,m),s.child)}function zv(n,s,a,l,f){if(Xr(s),s.stateNode===null){var m=Qa,T=a.contextType;typeof T=="object"&&T!==null&&(m=Xt(T)),m=new a(l,m),s.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Gd,s.stateNode=m,m._reactInternals=s,m=s.stateNode,m.props=l,m.state=s.memoizedState,m.refs={},wd(s),T=a.contextType,m.context=typeof T=="object"&&T!==null?Xt(T):Qa,m.state=s.memoizedState,T=a.getDerivedStateFromProps,typeof T=="function"&&(Hd(s,a,T,l),m.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(T=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),T!==m.state&&Gd.enqueueReplaceState(m,m.state,null),Il(s,l,m,f),xl(),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308),l=!0}else if(n===null){m=s.stateNode;var b=s.memoizedProps,N=Jr(a,b);m.props=N;var G=m.context,Z=a.contextType;T=Qa,typeof Z=="object"&&Z!==null&&(T=Xt(Z));var te=a.getDerivedStateFromProps;Z=typeof te=="function"||typeof m.getSnapshotBeforeUpdate=="function",b=s.pendingProps!==b,Z||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(b||G!==T)&&xv(s,m,l,T),Ms=!1;var $=s.memoizedState;m.state=$,Il(s,l,m,f),xl(),G=s.memoizedState,b||$!==G||Ms?(typeof te=="function"&&(Hd(s,a,te,l),G=s.memoizedState),(N=Ms||Rv(s,a,N,l,$,G,T))?(Z||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(s.flags|=4194308)):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=l,s.memoizedState=G),m.props=l,m.state=G,m.context=T,l=N):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),l=!1)}else{m=s.stateNode,Ad(n,s),T=s.memoizedProps,Z=Jr(a,T),m.props=Z,te=s.pendingProps,$=m.context,G=a.contextType,N=Qa,typeof G=="object"&&G!==null&&(N=Xt(G)),b=a.getDerivedStateFromProps,(G=typeof b=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(T!==te||$!==N)&&xv(s,m,l,N),Ms=!1,$=s.memoizedState,m.state=$,Il(s,l,m,f),xl();var Q=s.memoizedState;T!==te||$!==Q||Ms||n!==null&&n.dependencies!==null&&Ec(n.dependencies)?(typeof b=="function"&&(Hd(s,a,b,l),Q=s.memoizedState),(Z=Ms||Rv(s,a,Z,l,$,Q,N)||n!==null&&n.dependencies!==null&&Ec(n.dependencies))?(G||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(l,Q,N),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(l,Q,N)),typeof m.componentDidUpdate=="function"&&(s.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof m.componentDidUpdate!="function"||T===n.memoizedProps&&$===n.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===n.memoizedProps&&$===n.memoizedState||(s.flags|=1024),s.memoizedProps=l,s.memoizedState=Q),m.props=l,m.state=Q,m.context=N,l=Z):(typeof m.componentDidUpdate!="function"||T===n.memoizedProps&&$===n.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===n.memoizedProps&&$===n.memoizedState||(s.flags|=1024),l=!1)}return m=l,Uc(n,s),l=(s.flags&128)!==0,m||l?(m=s.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:m.render(),s.flags|=1,n!==null&&l?(s.child=io(s,n.child,null,f),s.child=io(s,null,a,f)):qt(n,s,a,f),s.memoizedState=m.state,n=s.child):n=ss(n,s,f),n}function qv(n,s,a,l){return _l(),s.flags|=256,qt(n,s,a,l),s.child}var Kd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Yd(n){return{baseLanes:n,cachePool:Cy()}}function Xd(n,s,a){return n=n!==null?n.childLanes&~a:0,s&&(n|=zn),n}function Fv(n,s,a){var l=s.pendingProps,f=!1,m=(s.flags&128)!==0,T;if((T=m)||(T=n!==null&&n.memoizedState===null?!1:(Nt.current&2)!==0),T&&(f=!0,s.flags&=-129),T=(s.flags&32)!==0,s.flags&=-33,n===null){if(qe){if(f?Vs(s):Ls(),qe){var b=ht,N;if(N=b){e:{for(N=b,b=Ei;N.nodeType!==8;){if(!b){b=null;break e}if(N=Jn(N.nextSibling),N===null){b=null;break e}}b=N}b!==null?(s.memoizedState={dehydrated:b,treeContext:Gr!==null?{id:Zi,overflow:Ji}:null,retryLane:536870912,hydrationErrors:null},N=Tn(18,null,null,0),N.stateNode=b,N.return=s,s.child=N,ln=s,ht=null,N=!0):N=!1}N||Kr(s)}if(b=s.memoizedState,b!==null&&(b=b.dehydrated,b!==null))return Mm(b)?s.lanes=32:s.lanes=536870912,null;is(s)}return b=l.children,l=l.fallback,f?(Ls(),f=s.mode,b=Bc({mode:"hidden",children:b},f),l=Hr(l,f,a,null),b.return=s,l.return=s,b.sibling=l,s.child=b,f=s.child,f.memoizedState=Yd(a),f.childLanes=Xd(n,T,a),s.memoizedState=Kd,l):(Vs(s),Wd(s,b))}if(N=n.memoizedState,N!==null&&(b=N.dehydrated,b!==null)){if(m)s.flags&256?(Vs(s),s.flags&=-257,s=Zd(n,s,a)):s.memoizedState!==null?(Ls(),s.child=n.child,s.flags|=128,s=null):(Ls(),f=l.fallback,b=s.mode,l=Bc({mode:"visible",children:l.children},b),f=Hr(f,b,a,null),f.flags|=2,l.return=s,f.return=s,l.sibling=f,s.child=l,io(s,n.child,null,a),l=s.child,l.memoizedState=Yd(a),l.childLanes=Xd(n,T,a),s.memoizedState=Kd,s=f);else if(Vs(s),Mm(b)){if(T=b.nextSibling&&b.nextSibling.dataset,T)var G=T.dgst;T=G,l=Error(r(419)),l.stack="",l.digest=T,El({value:l,source:null,stack:null}),s=Zd(n,s,a)}else if(Pt||Tl(n,s,a,!1),T=(a&n.childLanes)!==0,Pt||T){if(T=et,T!==null&&(l=a&-a,l=(l&42)!==0?1:Ss(l),l=(l&(T.suspendedLanes|a))!==0?0:l,l!==0&&l!==N.retryLane))throw N.retryLane=l,$a(n,l),Rn(T,n,l),kv;b.data==="$?"||gm(),s=Zd(n,s,a)}else b.data==="$?"?(s.flags|=192,s.child=n.child,s=null):(n=N.treeContext,ht=Jn(b.nextSibling),ln=s,qe=!0,Qr=null,Ei=!1,n!==null&&(Ln[Un++]=Zi,Ln[Un++]=Ji,Ln[Un++]=Gr,Zi=n.id,Ji=n.overflow,Gr=s),s=Wd(s,l.children),s.flags|=4096);return s}return f?(Ls(),f=l.fallback,b=s.mode,N=n.child,G=N.sibling,l=Wi(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,G!==null?f=Wi(G,f):(f=Hr(f,b,a,null),f.flags|=2),f.return=s,l.return=s,l.sibling=f,s.child=l,l=f,f=s.child,b=n.child.memoizedState,b===null?b=Yd(a):(N=b.cachePool,N!==null?(G=Ct._currentValue,N=N.parent!==G?{parent:G,pool:G}:N):N=Cy(),b={baseLanes:b.baseLanes|a,cachePool:N}),f.memoizedState=b,f.childLanes=Xd(n,T,a),s.memoizedState=Kd,l):(Vs(s),a=n.child,n=a.sibling,a=Wi(a,{mode:"visible",children:l.children}),a.return=s,a.sibling=null,n!==null&&(T=s.deletions,T===null?(s.deletions=[n],s.flags|=16):T.push(n)),s.child=a,s.memoizedState=null,a)}function Wd(n,s){return s=Bc({mode:"visible",children:s},n.mode),s.return=n,n.child=s}function Bc(n,s){return n=Tn(22,n,null,s),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function Zd(n,s,a){return io(s,n.child,null,a),n=Wd(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function Hv(n,s,a){n.lanes|=s;var l=n.alternate;l!==null&&(l.lanes|=s),gd(n.return,s,a)}function Jd(n,s,a,l,f){var m=n.memoizedState;m===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f}:(m.isBackwards=s,m.rendering=null,m.renderingStartTime=0,m.last=l,m.tail=a,m.tailMode=f)}function Gv(n,s,a){var l=s.pendingProps,f=l.revealOrder,m=l.tail;if(qt(n,s,l.children,a),l=Nt.current,(l&2)!==0)l=l&1|2,s.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Hv(n,a,s);else if(n.tag===19)Hv(n,a,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}l&=1}switch(ae(Nt,l),f){case"forwards":for(a=s.child,f=null;a!==null;)n=a.alternate,n!==null&&jc(n)===null&&(f=a),a=a.sibling;a=f,a===null?(f=s.child,s.child=null):(f=a.sibling,a.sibling=null),Jd(s,!1,f,a,m);break;case"backwards":for(a=null,f=s.child,s.child=null;f!==null;){if(n=f.alternate,n!==null&&jc(n)===null){s.child=f;break}n=f.sibling,f.sibling=a,a=f,f=n}Jd(s,!0,a,null,m);break;case"together":Jd(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function ss(n,s,a){if(n!==null&&(s.dependencies=n.dependencies),Fs|=s.lanes,(a&s.childLanes)===0)if(n!==null){if(Tl(n,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(n!==null&&s.child!==n.child)throw Error(r(153));if(s.child!==null){for(n=s.child,a=Wi(n,n.pendingProps),s.child=a,a.return=s;n.sibling!==null;)n=n.sibling,a=a.sibling=Wi(n,n.pendingProps),a.return=s;a.sibling=null}return s.child}function em(n,s){return(n.lanes&s)!==0?!0:(n=n.dependencies,!!(n!==null&&Ec(n)))}function mb(n,s,a){switch(s.tag){case 3:Je(s,s.stateNode.containerInfo),Os(s,Ct,n.memoizedState.cache),_l();break;case 27:case 5:bs(s);break;case 4:Je(s,s.stateNode.containerInfo);break;case 10:Os(s,s.type,s.memoizedProps.value);break;case 13:var l=s.memoizedState;if(l!==null)return l.dehydrated!==null?(Vs(s),s.flags|=128,null):(a&s.child.childLanes)!==0?Fv(n,s,a):(Vs(s),n=ss(n,s,a),n!==null?n.sibling:null);Vs(s);break;case 19:var f=(n.flags&128)!==0;if(l=(a&s.childLanes)!==0,l||(Tl(n,s,a,!1),l=(a&s.childLanes)!==0),f){if(l)return Gv(n,s,a);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ae(Nt,Nt.current),l)break;return null;case 22:case 23:return s.lanes=0,Lv(n,s,a);case 24:Os(s,Ct,n.memoizedState.cache)}return ss(n,s,a)}function $v(n,s,a){if(n!==null)if(n.memoizedProps!==s.pendingProps)Pt=!0;else{if(!em(n,a)&&(s.flags&128)===0)return Pt=!1,mb(n,s,a);Pt=(n.flags&131072)!==0}else Pt=!1,qe&&(s.flags&1048576)!==0&&wy(s,_c,s.index);switch(s.lanes=0,s.tag){case 16:e:{n=s.pendingProps;var l=s.elementType,f=l._init;if(l=f(l._payload),s.type=l,typeof l=="function")ud(l)?(n=Jr(l,n),s.tag=1,s=zv(null,s,l,n,a)):(s.tag=0,s=Qd(null,s,l,n,a));else{if(l!=null){if(f=l.$$typeof,f===se){s.tag=11,s=Pv(null,s,l,n,a);break e}else if(f===D){s.tag=14,s=jv(null,s,l,n,a);break e}}throw s=mt(l)||l,Error(r(306,s,""))}}return s;case 0:return Qd(n,s,s.type,s.pendingProps,a);case 1:return l=s.type,f=Jr(l,s.pendingProps),zv(n,s,l,f,a);case 3:e:{if(Je(s,s.stateNode.containerInfo),n===null)throw Error(r(387));l=s.pendingProps;var m=s.memoizedState;f=m.element,Ad(n,s),Il(s,l,null,a);var T=s.memoizedState;if(l=T.cache,Os(s,Ct,l),l!==m.cache&&yd(s,[Ct],a,!0),xl(),l=T.element,m.isDehydrated)if(m={element:l,isDehydrated:!1,cache:T.cache},s.updateQueue.baseState=m,s.memoizedState=m,s.flags&256){s=qv(n,s,l,a);break e}else if(l!==f){f=jn(Error(r(424)),s),El(f),s=qv(n,s,l,a);break e}else{switch(n=s.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(ht=Jn(n.firstChild),ln=s,qe=!0,Qr=null,Ei=!0,a=bv(s,null,l,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(_l(),l===f){s=ss(n,s,a);break e}qt(n,s,l,a)}s=s.child}return s;case 26:return Uc(n,s),n===null?(a=X_(s.type,null,s.pendingProps,null))?s.memoizedState=a:qe||(a=s.type,n=s.pendingProps,l=eh(Ae.current).createElement(a),l[Rt]=s,l[_t]=n,Ht(l,a,n),pt(l),s.stateNode=l):s.memoizedState=X_(s.type,n.memoizedProps,s.pendingProps,n.memoizedState),null;case 27:return bs(s),n===null&&qe&&(l=s.stateNode=Q_(s.type,s.pendingProps,Ae.current),ln=s,Ei=!0,f=ht,Qs(s.type)?(km=f,ht=Jn(l.firstChild)):ht=f),qt(n,s,s.pendingProps.children,a),Uc(n,s),n===null&&(s.flags|=4194304),s.child;case 5:return n===null&&qe&&((f=l=ht)&&(l=qb(l,s.type,s.pendingProps,Ei),l!==null?(s.stateNode=l,ln=s,ht=Jn(l.firstChild),Ei=!1,f=!0):f=!1),f||Kr(s)),bs(s),f=s.type,m=s.pendingProps,T=n!==null?n.memoizedProps:null,l=m.children,Nm(f,m)?l=null:T!==null&&Nm(f,T)&&(s.flags|=32),s.memoizedState!==null&&(f=Cd(n,s,ab,null,null,a),Xl._currentValue=f),Uc(n,s),qt(n,s,l,a),s.child;case 6:return n===null&&qe&&((n=a=ht)&&(a=Fb(a,s.pendingProps,Ei),a!==null?(s.stateNode=a,ln=s,ht=null,n=!0):n=!1),n||Kr(s)),null;case 13:return Fv(n,s,a);case 4:return Je(s,s.stateNode.containerInfo),l=s.pendingProps,n===null?s.child=io(s,null,l,a):qt(n,s,l,a),s.child;case 11:return Pv(n,s,s.type,s.pendingProps,a);case 7:return qt(n,s,s.pendingProps,a),s.child;case 8:return qt(n,s,s.pendingProps.children,a),s.child;case 12:return qt(n,s,s.pendingProps.children,a),s.child;case 10:return l=s.pendingProps,Os(s,s.type,l.value),qt(n,s,l.children,a),s.child;case 9:return f=s.type._context,l=s.pendingProps.children,Xr(s),f=Xt(f),l=l(f),s.flags|=1,qt(n,s,l,a),s.child;case 14:return jv(n,s,s.type,s.pendingProps,a);case 15:return Vv(n,s,s.type,s.pendingProps,a);case 19:return Gv(n,s,a);case 31:return l=s.pendingProps,a=s.mode,l={mode:l.mode,children:l.children},n===null?(a=Bc(l,a),a.ref=s.ref,s.child=a,a.return=s,s=a):(a=Wi(n.child,l),a.ref=s.ref,s.child=a,a.return=s,s=a),s;case 22:return Lv(n,s,a);case 24:return Xr(s),l=Xt(Ct),n===null?(f=Ed(),f===null&&(f=et,m=vd(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=a),f=m),s.memoizedState={parent:l,cache:f},wd(s),Os(s,Ct,f)):((n.lanes&a)!==0&&(Ad(n,s),Il(s,null,null,a),xl()),f=n.memoizedState,m=s.memoizedState,f.parent!==l?(f={parent:l,cache:l},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),Os(s,Ct,l)):(l=m.cache,Os(s,Ct,l),l!==f.cache&&yd(s,[Ct],a,!0))),qt(n,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function rs(n){n.flags|=4}function Qv(n,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!t0(s)){if(s=Bn.current,s!==null&&((Ve&4194048)===Ve?Ti!==null:(Ve&62914560)!==Ve&&(Ve&536870912)===0||s!==Ti))throw Sl=Td,Ny;n.flags|=8192}}function zc(n,s){s!==null&&(n.flags|=4),n.flags&16384&&(s=n.tag!==22?Zo():536870912,n.lanes|=s,oo|=s)}function Pl(n,s){if(!qe)switch(n.tailMode){case"hidden":s=n.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function ot(n){var s=n.alternate!==null&&n.alternate.child===n.child,a=0,l=0;if(s)for(var f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=l,n.childLanes=a,s}function pb(n,s,a){var l=s.pendingProps;switch(dd(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ot(s),null;case 1:return ot(s),null;case 3:return a=s.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),ts(Ct),li(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(vl(s)?rs(s):n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Sy())),ot(s),null;case 26:return a=s.memoizedState,n===null?(rs(s),a!==null?(ot(s),Qv(s,a)):(ot(s),s.flags&=-16777217)):a?a!==n.memoizedState?(rs(s),ot(s),Qv(s,a)):(ot(s),s.flags&=-16777217):(n.memoizedProps!==l&&rs(s),ot(s),s.flags&=-16777217),null;case 27:Li(s),a=Ae.current;var f=s.type;if(n!==null&&s.stateNode!=null)n.memoizedProps!==l&&rs(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return ot(s),null}n=ye.current,vl(s)?Ay(s):(n=Q_(f,l,a),s.stateNode=n,rs(s))}return ot(s),null;case 5:if(Li(s),a=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==l&&rs(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return ot(s),null}if(n=ye.current,vl(s))Ay(s);else{switch(f=eh(Ae.current),n){case 1:n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":n=f.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?n.multiple=!0:l.size&&(n.size=l.size);break;default:n=typeof l.is=="string"?f.createElement(a,{is:l.is}):f.createElement(a)}}n[Rt]=s,n[_t]=l;e:for(f=s.child;f!==null;){if(f.tag===5||f.tag===6)n.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===s)break e;for(;f.sibling===null;){if(f.return===null||f.return===s)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}s.stateNode=n;e:switch(Ht(n,a,l),a){case"button":case"input":case"select":case"textarea":n=!!l.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&rs(s)}}return ot(s),s.flags&=-16777217,null;case 6:if(n&&s.stateNode!=null)n.memoizedProps!==l&&rs(s);else{if(typeof l!="string"&&s.stateNode===null)throw Error(r(166));if(n=Ae.current,vl(s)){if(n=s.stateNode,a=s.memoizedProps,l=null,f=ln,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}n[Rt]=s,n=!!(n.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||B_(n.nodeValue,a)),n||Kr(s)}else n=eh(n).createTextNode(l),n[Rt]=s,s.stateNode=n}return ot(s),null;case 13:if(l=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=vl(s),l!==null&&l.dehydrated!==null){if(n===null){if(!f)throw Error(r(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[Rt]=s}else _l(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ot(s),f=!1}else f=Sy(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return s.flags&256?(is(s),s):(is(s),null)}if(is(s),(s.flags&128)!==0)return s.lanes=a,s;if(a=l!==null,n=n!==null&&n.memoizedState!==null,a){l=s.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var m=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==f&&(l.flags|=2048)}return a!==n&&a&&(s.child.flags|=8192),zc(s,s.updateQueue),ot(s),null;case 4:return li(),n===null&&Sm(s.stateNode.containerInfo),ot(s),null;case 10:return ts(s.type),ot(s),null;case 19:if(ue(Nt),f=s.memoizedState,f===null)return ot(s),null;if(l=(s.flags&128)!==0,m=f.rendering,m===null)if(l)Pl(f,!1);else{if(ft!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(m=jc(n),m!==null){for(s.flags|=128,Pl(f,!1),n=m.updateQueue,s.updateQueue=n,zc(s,n),s.subtreeFlags=0,n=a,a=s.child;a!==null;)Ty(a,n),a=a.sibling;return ae(Nt,Nt.current&1|2),s.child}n=n.sibling}f.tail!==null&&Nn()>Hc&&(s.flags|=128,l=!0,Pl(f,!1),s.lanes=4194304)}else{if(!l)if(n=jc(m),n!==null){if(s.flags|=128,l=!0,n=n.updateQueue,s.updateQueue=n,zc(s,n),Pl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!m.alternate&&!qe)return ot(s),null}else 2*Nn()-f.renderingStartTime>Hc&&a!==536870912&&(s.flags|=128,l=!0,Pl(f,!1),s.lanes=4194304);f.isBackwards?(m.sibling=s.child,s.child=m):(n=f.last,n!==null?n.sibling=m:s.child=m,f.last=m)}return f.tail!==null?(s=f.tail,f.rendering=s,f.tail=s.sibling,f.renderingStartTime=Nn(),s.sibling=null,n=Nt.current,ae(Nt,l?n&1|2:n&1),s):(ot(s),null);case 22:case 23:return is(s),xd(),l=s.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(s.flags|=8192):l&&(s.flags|=8192),l?(a&536870912)!==0&&(s.flags&128)===0&&(ot(s),s.subtreeFlags&6&&(s.flags|=8192)):ot(s),a=s.updateQueue,a!==null&&zc(s,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),l=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),l!==a&&(s.flags|=2048),n!==null&&ue(Wr),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),ts(Ct),ot(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function gb(n,s){switch(dd(s),s.tag){case 1:return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return ts(Ct),li(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 26:case 27:case 5:return Li(s),null;case 13:if(is(s),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(r(340));_l()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return ue(Nt),null;case 4:return li(),null;case 10:return ts(s.type),null;case 22:case 23:return is(s),xd(),n!==null&&ue(Wr),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 24:return ts(Ct),null;case 25:return null;default:return null}}function Kv(n,s){switch(dd(s),s.tag){case 3:ts(Ct),li();break;case 26:case 27:case 5:Li(s);break;case 4:li();break;case 13:is(s);break;case 19:ue(Nt);break;case 10:ts(s.type);break;case 22:case 23:is(s),xd(),n!==null&&ue(Wr);break;case 24:ts(Ct)}}function jl(n,s){try{var a=s.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&n)===n){l=void 0;var m=a.create,T=a.inst;l=m(),T.destroy=l}a=a.next}while(a!==f)}}catch(b){Ze(s,s.return,b)}}function Us(n,s,a){try{var l=s.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var m=f.next;l=m;do{if((l.tag&n)===n){var T=l.inst,b=T.destroy;if(b!==void 0){T.destroy=void 0,f=s;var N=a,G=b;try{G()}catch(Z){Ze(f,N,Z)}}}l=l.next}while(l!==m)}}catch(Z){Ze(s,s.return,Z)}}function Yv(n){var s=n.updateQueue;if(s!==null){var a=n.stateNode;try{jy(s,a)}catch(l){Ze(n,n.return,l)}}}function Xv(n,s,a){a.props=Jr(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(l){Ze(n,s,l)}}function Vl(n,s){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var l=n.stateNode;break;case 30:l=n.stateNode;break;default:l=n.stateNode}typeof a=="function"?n.refCleanup=a(l):a.current=l}}catch(f){Ze(n,s,f)}}function wi(n,s){var a=n.ref,l=n.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){Ze(n,s,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Ze(n,s,f)}else a.current=null}function Wv(n){var s=n.type,a=n.memoizedProps,l=n.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){Ze(n,n.return,f)}}function tm(n,s,a){try{var l=n.stateNode;Vb(l,n.type,a,s),l[_t]=s}catch(f){Ze(n,n.return,f)}}function Zv(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Qs(n.type)||n.tag===4}function nm(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Zv(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Qs(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function im(n,s,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(n),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=Jc));else if(l!==4&&(l===27&&Qs(n.type)&&(a=n.stateNode,s=null),n=n.child,n!==null))for(im(n,s,a),n=n.sibling;n!==null;)im(n,s,a),n=n.sibling}function qc(n,s,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,s?a.insertBefore(n,s):a.appendChild(n);else if(l!==4&&(l===27&&Qs(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(qc(n,s,a),n=n.sibling;n!==null;)qc(n,s,a),n=n.sibling}function Jv(n){var s=n.stateNode,a=n.memoizedProps;try{for(var l=n.type,f=s.attributes;f.length;)s.removeAttributeNode(f[0]);Ht(s,l,a),s[Rt]=n,s[_t]=a}catch(m){Ze(n,n.return,m)}}var as=!1,yt=!1,sm=!1,e_=typeof WeakSet=="function"?WeakSet:Set,jt=null;function yb(n,s){if(n=n.containerInfo,Im=ah,n=hy(n),nd(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,m=l.focusNode;l=l.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var T=0,b=-1,N=-1,G=0,Z=0,te=n,$=null;t:for(;;){for(var Q;te!==a||f!==0&&te.nodeType!==3||(b=T+f),te!==m||l!==0&&te.nodeType!==3||(N=T+l),te.nodeType===3&&(T+=te.nodeValue.length),(Q=te.firstChild)!==null;)$=te,te=Q;for(;;){if(te===n)break t;if($===a&&++G===f&&(b=T),$===m&&++Z===l&&(N=T),(Q=te.nextSibling)!==null)break;te=$,$=te.parentNode}te=Q}a=b===-1||N===-1?null:{start:b,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(Cm={focusedElem:n,selectionRange:a},ah=!1,jt=s;jt!==null;)if(s=jt,n=s.child,(s.subtreeFlags&1024)!==0&&n!==null)n.return=s,jt=n;else for(;jt!==null;){switch(s=jt,m=s.alternate,n=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&m!==null){n=void 0,a=s,f=m.memoizedProps,m=m.memoizedState,l=a.stateNode;try{var we=Jr(a.type,f,a.elementType===a.type);n=l.getSnapshotBeforeUpdate(we,m),l.__reactInternalSnapshotBeforeUpdate=n}catch(ve){Ze(a,a.return,ve)}}break;case 3:if((n&1024)!==0){if(n=s.stateNode.containerInfo,a=n.nodeType,a===9)Om(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Om(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(r(163))}if(n=s.sibling,n!==null){n.return=s.return,jt=n;break}jt=s.return}}function t_(n,s,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Bs(n,a),l&4&&jl(5,a);break;case 1:if(Bs(n,a),l&4)if(n=a.stateNode,s===null)try{n.componentDidMount()}catch(T){Ze(a,a.return,T)}else{var f=Jr(a.type,s.memoizedProps);s=s.memoizedState;try{n.componentDidUpdate(f,s,n.__reactInternalSnapshotBeforeUpdate)}catch(T){Ze(a,a.return,T)}}l&64&&Yv(a),l&512&&Vl(a,a.return);break;case 3:if(Bs(n,a),l&64&&(n=a.updateQueue,n!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{jy(n,s)}catch(T){Ze(a,a.return,T)}}break;case 27:s===null&&l&4&&Jv(a);case 26:case 5:Bs(n,a),s===null&&l&4&&Wv(a),l&512&&Vl(a,a.return);break;case 12:Bs(n,a);break;case 13:Bs(n,a),l&4&&s_(n,a),l&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=Rb.bind(null,a),Hb(n,a))));break;case 22:if(l=a.memoizedState!==null||as,!l){s=s!==null&&s.memoizedState!==null||yt,f=as;var m=yt;as=l,(yt=s)&&!m?zs(n,a,(a.subtreeFlags&8772)!==0):Bs(n,a),as=f,yt=m}break;case 30:break;default:Bs(n,a)}}function n_(n){var s=n.alternate;s!==null&&(n.alternate=null,n_(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&Is(s)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var rt=null,hn=!1;function os(n,s,a){for(a=a.child;a!==null;)i_(n,s,a),a=a.sibling}function i_(n,s,a){if(Ge&&typeof Ge.onCommitFiberUnmount=="function")try{Ge.onCommitFiberUnmount(ct,a)}catch{}switch(a.tag){case 26:yt||wi(a,s),os(n,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:yt||wi(a,s);var l=rt,f=hn;Qs(a.type)&&(rt=a.stateNode,hn=!1),os(n,s,a),$l(a.stateNode),rt=l,hn=f;break;case 5:yt||wi(a,s);case 6:if(l=rt,f=hn,rt=null,os(n,s,a),rt=l,hn=f,rt!==null)if(hn)try{(rt.nodeType===9?rt.body:rt.nodeName==="HTML"?rt.ownerDocument.body:rt).removeChild(a.stateNode)}catch(m){Ze(a,s,m)}else try{rt.removeChild(a.stateNode)}catch(m){Ze(a,s,m)}break;case 18:rt!==null&&(hn?(n=rt,G_(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),eu(n)):G_(rt,a.stateNode));break;case 4:l=rt,f=hn,rt=a.stateNode.containerInfo,hn=!0,os(n,s,a),rt=l,hn=f;break;case 0:case 11:case 14:case 15:yt||Us(2,a,s),yt||Us(4,a,s),os(n,s,a);break;case 1:yt||(wi(a,s),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Xv(a,s,l)),os(n,s,a);break;case 21:os(n,s,a);break;case 22:yt=(l=yt)||a.memoizedState!==null,os(n,s,a),yt=l;break;default:os(n,s,a)}}function s_(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{eu(n)}catch(a){Ze(s,s.return,a)}}function vb(n){switch(n.tag){case 13:case 19:var s=n.stateNode;return s===null&&(s=n.stateNode=new e_),s;case 22:return n=n.stateNode,s=n._retryCache,s===null&&(s=n._retryCache=new e_),s;default:throw Error(r(435,n.tag))}}function rm(n,s){var a=vb(n);s.forEach(function(l){var f=xb.bind(null,n,l);a.has(l)||(a.add(l),l.then(f,f))})}function wn(n,s){var a=s.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],m=n,T=s,b=T;e:for(;b!==null;){switch(b.tag){case 27:if(Qs(b.type)){rt=b.stateNode,hn=!1;break e}break;case 5:rt=b.stateNode,hn=!1;break e;case 3:case 4:rt=b.stateNode.containerInfo,hn=!0;break e}b=b.return}if(rt===null)throw Error(r(160));i_(m,T,f),rt=null,hn=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)r_(s,n),s=s.sibling}var Zn=null;function r_(n,s){var a=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:wn(s,n),An(n),l&4&&(Us(3,n,n.return),jl(3,n),Us(5,n,n.return));break;case 1:wn(s,n),An(n),l&512&&(yt||a===null||wi(a,a.return)),l&64&&as&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=Zn;if(wn(s,n),An(n),l&512&&(yt||a===null||wi(a,a.return)),l&4){var m=a!==null?a.memoizedState:null;if(l=n.memoizedState,a===null)if(l===null)if(n.stateNode===null){e:{l=n.type,a=n.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":m=f.getElementsByTagName("title")[0],(!m||m[Ir]||m[Rt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(l),f.head.insertBefore(m,f.querySelector("head > title"))),Ht(m,l,a),m[Rt]=n,pt(m),l=m;break e;case"link":var T=J_("link","href",f).get(l+(a.href||""));if(T){for(var b=0;b<T.length;b++)if(m=T[b],m.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){T.splice(b,1);break t}}m=f.createElement(l),Ht(m,l,a),f.head.appendChild(m);break;case"meta":if(T=J_("meta","content",f).get(l+(a.content||""))){for(b=0;b<T.length;b++)if(m=T[b],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){T.splice(b,1);break t}}m=f.createElement(l),Ht(m,l,a),f.head.appendChild(m);break;default:throw Error(r(468,l))}m[Rt]=n,pt(m),l=m}n.stateNode=l}else e0(f,n.type,n.stateNode);else n.stateNode=Z_(f,l,n.memoizedProps);else m!==l?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,l===null?e0(f,n.type,n.stateNode):Z_(f,l,n.memoizedProps)):l===null&&n.stateNode!==null&&tm(n,n.memoizedProps,a.memoizedProps)}break;case 27:wn(s,n),An(n),l&512&&(yt||a===null||wi(a,a.return)),a!==null&&l&4&&tm(n,n.memoizedProps,a.memoizedProps);break;case 5:if(wn(s,n),An(n),l&512&&(yt||a===null||wi(a,a.return)),n.flags&32){f=n.stateNode;try{On(f,"")}catch(Q){Ze(n,n.return,Q)}}l&4&&n.stateNode!=null&&(f=n.memoizedProps,tm(n,f,a!==null?a.memoizedProps:f)),l&1024&&(sm=!0);break;case 6:if(wn(s,n),An(n),l&4){if(n.stateNode===null)throw Error(r(162));l=n.memoizedProps,a=n.stateNode;try{a.nodeValue=l}catch(Q){Ze(n,n.return,Q)}}break;case 3:if(ih=null,f=Zn,Zn=th(s.containerInfo),wn(s,n),Zn=f,An(n),l&4&&a!==null&&a.memoizedState.isDehydrated)try{eu(s.containerInfo)}catch(Q){Ze(n,n.return,Q)}sm&&(sm=!1,a_(n));break;case 4:l=Zn,Zn=th(n.stateNode.containerInfo),wn(s,n),An(n),Zn=l;break;case 12:wn(s,n),An(n);break;case 13:wn(s,n),An(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(hm=Nn()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,rm(n,l)));break;case 22:f=n.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,G=as,Z=yt;if(as=G||f,yt=Z||N,wn(s,n),yt=Z,as=G,An(n),l&8192)e:for(s=n.stateNode,s._visibility=f?s._visibility&-2:s._visibility|1,f&&(a===null||N||as||yt||ea(n)),a=null,s=n;;){if(s.tag===5||s.tag===26){if(a===null){N=a=s;try{if(m=N.stateNode,f)T=m.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{b=N.stateNode;var te=N.memoizedProps.style,$=te!=null&&te.hasOwnProperty("display")?te.display:null;b.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(Q){Ze(N,N.return,Q)}}}else if(s.tag===6){if(a===null){N=s;try{N.stateNode.nodeValue=f?"":N.memoizedProps}catch(Q){Ze(N,N.return,Q)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===n)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break e;for(;s.sibling===null;){if(s.return===null||s.return===n)break e;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}l&4&&(l=n.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,rm(n,a))));break;case 19:wn(s,n),An(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,rm(n,l)));break;case 30:break;case 21:break;default:wn(s,n),An(n)}}function An(n){var s=n.flags;if(s&2){try{for(var a,l=n.return;l!==null;){if(Zv(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var f=a.stateNode,m=nm(n);qc(n,m,f);break;case 5:var T=a.stateNode;a.flags&32&&(On(T,""),a.flags&=-33);var b=nm(n);qc(n,b,T);break;case 3:case 4:var N=a.stateNode.containerInfo,G=nm(n);im(n,G,N);break;default:throw Error(r(161))}}catch(Z){Ze(n,n.return,Z)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function a_(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var s=n;a_(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),n=n.sibling}}function Bs(n,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)t_(n,s.alternate,s),s=s.sibling}function ea(n){for(n=n.child;n!==null;){var s=n;switch(s.tag){case 0:case 11:case 14:case 15:Us(4,s,s.return),ea(s);break;case 1:wi(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&Xv(s,s.return,a),ea(s);break;case 27:$l(s.stateNode);case 26:case 5:wi(s,s.return),ea(s);break;case 22:s.memoizedState===null&&ea(s);break;case 30:ea(s);break;default:ea(s)}n=n.sibling}}function zs(n,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var l=s.alternate,f=n,m=s,T=m.flags;switch(m.tag){case 0:case 11:case 15:zs(f,m,a),jl(4,m);break;case 1:if(zs(f,m,a),l=m,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(G){Ze(l,l.return,G)}if(l=m,f=l.updateQueue,f!==null){var b=l.stateNode;try{var N=f.shared.hiddenCallbacks;if(N!==null)for(f.shared.hiddenCallbacks=null,f=0;f<N.length;f++)Py(N[f],b)}catch(G){Ze(l,l.return,G)}}a&&T&64&&Yv(m),Vl(m,m.return);break;case 27:Jv(m);case 26:case 5:zs(f,m,a),a&&l===null&&T&4&&Wv(m),Vl(m,m.return);break;case 12:zs(f,m,a);break;case 13:zs(f,m,a),a&&T&4&&s_(f,m);break;case 22:m.memoizedState===null&&zs(f,m,a),Vl(m,m.return);break;case 30:break;default:zs(f,m,a)}s=s.sibling}}function am(n,s){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(n=s.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&wl(a))}function om(n,s){n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&wl(n))}function Ai(n,s,a,l){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)o_(n,s,a,l),s=s.sibling}function o_(n,s,a,l){var f=s.flags;switch(s.tag){case 0:case 11:case 15:Ai(n,s,a,l),f&2048&&jl(9,s);break;case 1:Ai(n,s,a,l);break;case 3:Ai(n,s,a,l),f&2048&&(n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&wl(n)));break;case 12:if(f&2048){Ai(n,s,a,l),n=s.stateNode;try{var m=s.memoizedProps,T=m.id,b=m.onPostCommit;typeof b=="function"&&b(T,s.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(N){Ze(s,s.return,N)}}else Ai(n,s,a,l);break;case 13:Ai(n,s,a,l);break;case 23:break;case 22:m=s.stateNode,T=s.alternate,s.memoizedState!==null?m._visibility&2?Ai(n,s,a,l):Ll(n,s):m._visibility&2?Ai(n,s,a,l):(m._visibility|=2,so(n,s,a,l,(s.subtreeFlags&10256)!==0)),f&2048&&am(T,s);break;case 24:Ai(n,s,a,l),f&2048&&om(s.alternate,s);break;default:Ai(n,s,a,l)}}function so(n,s,a,l,f){for(f=f&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var m=n,T=s,b=a,N=l,G=T.flags;switch(T.tag){case 0:case 11:case 15:so(m,T,b,N,f),jl(8,T);break;case 23:break;case 22:var Z=T.stateNode;T.memoizedState!==null?Z._visibility&2?so(m,T,b,N,f):Ll(m,T):(Z._visibility|=2,so(m,T,b,N,f)),f&&G&2048&&am(T.alternate,T);break;case 24:so(m,T,b,N,f),f&&G&2048&&om(T.alternate,T);break;default:so(m,T,b,N,f)}s=s.sibling}}function Ll(n,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=n,l=s,f=l.flags;switch(l.tag){case 22:Ll(a,l),f&2048&&am(l.alternate,l);break;case 24:Ll(a,l),f&2048&&om(l.alternate,l);break;default:Ll(a,l)}s=s.sibling}}var Ul=8192;function ro(n){if(n.subtreeFlags&Ul)for(n=n.child;n!==null;)l_(n),n=n.sibling}function l_(n){switch(n.tag){case 26:ro(n),n.flags&Ul&&n.memoizedState!==null&&iS(Zn,n.memoizedState,n.memoizedProps);break;case 5:ro(n);break;case 3:case 4:var s=Zn;Zn=th(n.stateNode.containerInfo),ro(n),Zn=s;break;case 22:n.memoizedState===null&&(s=n.alternate,s!==null&&s.memoizedState!==null?(s=Ul,Ul=16777216,ro(n),Ul=s):ro(n));break;default:ro(n)}}function u_(n){var s=n.alternate;if(s!==null&&(n=s.child,n!==null)){s.child=null;do s=n.sibling,n.sibling=null,n=s;while(n!==null)}}function Bl(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];jt=l,h_(l,n)}u_(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)c_(n),n=n.sibling}function c_(n){switch(n.tag){case 0:case 11:case 15:Bl(n),n.flags&2048&&Us(9,n,n.return);break;case 3:Bl(n);break;case 12:Bl(n);break;case 22:var s=n.stateNode;n.memoizedState!==null&&s._visibility&2&&(n.return===null||n.return.tag!==13)?(s._visibility&=-3,Fc(n)):Bl(n);break;default:Bl(n)}}function Fc(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];jt=l,h_(l,n)}u_(n)}for(n=n.child;n!==null;){switch(s=n,s.tag){case 0:case 11:case 15:Us(8,s,s.return),Fc(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,Fc(s));break;default:Fc(s)}n=n.sibling}}function h_(n,s){for(;jt!==null;){var a=jt;switch(a.tag){case 0:case 11:case 15:Us(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:wl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,jt=l;else e:for(a=n;jt!==null;){l=jt;var f=l.sibling,m=l.return;if(n_(l),l===a){jt=null;break e}if(f!==null){f.return=m,jt=f;break e}jt=m}}}var _b={getCacheForType:function(n){var s=Xt(Ct),a=s.data.get(n);return a===void 0&&(a=n(),s.data.set(n,a)),a}},Eb=typeof WeakMap=="function"?WeakMap:Map,$e=0,et=null,De=null,Ve=0,Qe=0,bn=null,qs=!1,ao=!1,lm=!1,ls=0,ft=0,Fs=0,ta=0,um=0,zn=0,oo=0,zl=null,fn=null,cm=!1,hm=0,Hc=1/0,Gc=null,Hs=null,Ft=0,Gs=null,lo=null,uo=0,fm=0,dm=null,f_=null,ql=0,mm=null;function Sn(){if(($e&2)!==0&&Ve!==0)return Ve&-Ve;if(W.T!==null){var n=Xa;return n!==0?n:Tm()}return Rs()}function d_(){zn===0&&(zn=(Ve&536870912)===0||qe?Wo():536870912);var n=Bn.current;return n!==null&&(n.flags|=32),zn}function Rn(n,s,a){(n===et&&(Qe===2||Qe===9)||n.cancelPendingCommit!==null)&&(co(n,0),$s(n,Ve,zn,!1)),Bi(n,a),(($e&2)===0||n!==et)&&(n===et&&(($e&2)===0&&(ta|=a),ft===4&&$s(n,Ve,zn,!1)),bi(n))}function m_(n,s,a){if(($e&6)!==0)throw Error(r(327));var l=!a&&(s&124)===0&&(s&n.expiredLanes)===0||xr(n,s),f=l?Ab(n,s):ym(n,s,!0),m=l;do{if(f===0){ao&&!l&&$s(n,s,0,!1);break}else{if(a=n.current.alternate,m&&!Tb(a)){f=ym(n,s,!1),m=!1;continue}if(f===2){if(m=s,n.errorRecoveryDisabledLanes&m)var T=0;else T=n.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){s=T;e:{var b=n;f=zl;var N=b.current.memoizedState.isDehydrated;if(N&&(co(b,T).flags|=256),T=ym(b,T,!1),T!==2){if(lm&&!N){b.errorRecoveryDisabledLanes|=m,ta|=m,f=4;break e}m=fn,fn=f,m!==null&&(fn===null?fn=m:fn.push.apply(fn,m))}f=T}if(m=!1,f!==2)continue}}if(f===1){co(n,0),$s(n,s,0,!0);break}e:{switch(l=n,m=f,m){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:$s(l,s,zn,!qs);break e;case 2:fn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(f=hm+300-Nn(),10<f)){if($s(l,s,zn,!qs),xa(l,0,!0)!==0)break e;l.timeoutHandle=F_(p_.bind(null,l,a,fn,Gc,cm,s,zn,ta,oo,qs,m,2,-0,0),f);break e}p_(l,a,fn,Gc,cm,s,zn,ta,oo,qs,m,0,-0,0)}}break}while(!0);bi(n)}function p_(n,s,a,l,f,m,T,b,N,G,Z,te,$,Q){if(n.timeoutHandle=-1,te=s.subtreeFlags,(te&8192||(te&16785408)===16785408)&&(Yl={stylesheets:null,count:0,unsuspend:nS},l_(s),te=sS(),te!==null)){n.cancelPendingCommit=te(w_.bind(null,n,s,m,a,l,f,T,b,N,Z,1,$,Q)),$s(n,m,T,!G);return}w_(n,s,m,a,l,f,T,b,N)}function Tb(n){for(var s=n;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],m=f.getSnapshot;f=f.value;try{if(!En(m(),f))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function $s(n,s,a,l){s&=~um,s&=~ta,n.suspendedLanes|=s,n.pingedLanes&=~s,l&&(n.warmLanes|=s),l=n.expirationTimes;for(var f=s;0<f;){var m=31-Yt(f),T=1<<m;l[m]=-1,f&=~T}a!==0&&ui(n,a,s)}function $c(){return($e&6)===0?(Fl(0),!1):!0}function pm(){if(De!==null){if(Qe===0)var n=De.return;else n=De,es=Yr=null,Od(n),no=null,Ml=0,n=De;for(;n!==null;)Kv(n.alternate,n),n=n.return;De=null}}function co(n,s){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,Ub(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),pm(),et=n,De=a=Wi(n.current,null),Ve=s,Qe=0,bn=null,qs=!1,ao=xr(n,s),lm=!1,oo=zn=um=ta=Fs=ft=0,fn=zl=null,cm=!1,(s&8)!==0&&(s|=s&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=s;0<l;){var f=31-Yt(l),m=1<<f;s|=n[f],l&=~m}return ls=s,mc(),a}function g_(n,s){xe=null,W.H=Mc,s===bl||s===Ac?(s=My(),Qe=3):s===Ny?(s=My(),Qe=4):Qe=s===kv?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,bn=s,De===null&&(ft=1,Lc(n,jn(s,n.current)))}function y_(){var n=W.H;return W.H=Mc,n===null?Mc:n}function v_(){var n=W.A;return W.A=_b,n}function gm(){ft=4,qs||(Ve&4194048)!==Ve&&Bn.current!==null||(ao=!0),(Fs&134217727)===0&&(ta&134217727)===0||et===null||$s(et,Ve,zn,!1)}function ym(n,s,a){var l=$e;$e|=2;var f=y_(),m=v_();(et!==n||Ve!==s)&&(Gc=null,co(n,s)),s=!1;var T=ft;e:do try{if(Qe!==0&&De!==null){var b=De,N=bn;switch(Qe){case 8:pm(),T=6;break e;case 3:case 2:case 9:case 6:Bn.current===null&&(s=!0);var G=Qe;if(Qe=0,bn=null,ho(n,b,N,G),a&&ao){T=0;break e}break;default:G=Qe,Qe=0,bn=null,ho(n,b,N,G)}}wb(),T=ft;break}catch(Z){g_(n,Z)}while(!0);return s&&n.shellSuspendCounter++,es=Yr=null,$e=l,W.H=f,W.A=m,De===null&&(et=null,Ve=0,mc()),T}function wb(){for(;De!==null;)__(De)}function Ab(n,s){var a=$e;$e|=2;var l=y_(),f=v_();et!==n||Ve!==s?(Gc=null,Hc=Nn()+500,co(n,s)):ao=xr(n,s);e:do try{if(Qe!==0&&De!==null){s=De;var m=bn;t:switch(Qe){case 1:Qe=0,bn=null,ho(n,s,m,1);break;case 2:case 9:if(Dy(m)){Qe=0,bn=null,E_(s);break}s=function(){Qe!==2&&Qe!==9||et!==n||(Qe=7),bi(n)},m.then(s,s);break e;case 3:Qe=7;break e;case 4:Qe=5;break e;case 7:Dy(m)?(Qe=0,bn=null,E_(s)):(Qe=0,bn=null,ho(n,s,m,7));break;case 5:var T=null;switch(De.tag){case 26:T=De.memoizedState;case 5:case 27:var b=De;if(!T||t0(T)){Qe=0,bn=null;var N=b.sibling;if(N!==null)De=N;else{var G=b.return;G!==null?(De=G,Qc(G)):De=null}break t}}Qe=0,bn=null,ho(n,s,m,5);break;case 6:Qe=0,bn=null,ho(n,s,m,6);break;case 8:pm(),ft=6;break e;default:throw Error(r(462))}}bb();break}catch(Z){g_(n,Z)}while(!0);return es=Yr=null,W.H=l,W.A=f,$e=a,De!==null?0:(et=null,Ve=0,mc(),ft)}function bb(){for(;De!==null&&!Qo();)__(De)}function __(n){var s=$v(n.alternate,n,ls);n.memoizedProps=n.pendingProps,s===null?Qc(n):De=s}function E_(n){var s=n,a=s.alternate;switch(s.tag){case 15:case 0:s=Bv(a,s,s.pendingProps,s.type,void 0,Ve);break;case 11:s=Bv(a,s,s.pendingProps,s.type.render,s.ref,Ve);break;case 5:Od(s);default:Kv(a,s),s=De=Ty(s,ls),s=$v(a,s,ls)}n.memoizedProps=n.pendingProps,s===null?Qc(n):De=s}function ho(n,s,a,l){es=Yr=null,Od(s),no=null,Ml=0;var f=s.return;try{if(db(n,f,s,a,Ve)){ft=1,Lc(n,jn(a,n.current)),De=null;return}}catch(m){if(f!==null)throw De=f,m;ft=1,Lc(n,jn(a,n.current)),De=null;return}s.flags&32768?(qe||l===1?n=!0:ao||(Ve&536870912)!==0?n=!1:(qs=n=!0,(l===2||l===9||l===3||l===6)&&(l=Bn.current,l!==null&&l.tag===13&&(l.flags|=16384))),T_(s,n)):Qc(s)}function Qc(n){var s=n;do{if((s.flags&32768)!==0){T_(s,qs);return}n=s.return;var a=pb(s.alternate,s,ls);if(a!==null){De=a;return}if(s=s.sibling,s!==null){De=s;return}De=s=n}while(s!==null);ft===0&&(ft=5)}function T_(n,s){do{var a=gb(n.alternate,n);if(a!==null){a.flags&=32767,De=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(n=n.sibling,n!==null)){De=n;return}De=n=a}while(n!==null);ft=6,De=null}function w_(n,s,a,l,f,m,T,b,N){n.cancelPendingCommit=null;do Kc();while(Ft!==0);if(($e&6)!==0)throw Error(r(327));if(s!==null){if(s===n.current)throw Error(r(177));if(m=s.lanes|s.childLanes,m|=od,Jo(n,a,m,T,b,N),n===et&&(De=et=null,Ve=0),lo=s,Gs=n,uo=a,fm=m,dm=f,f_=l,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,Ib(Ar,function(){return x_(),null})):(n.callbackNode=null,n.callbackPriority=0),l=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||l){l=W.T,W.T=null,f=le.p,le.p=2,T=$e,$e|=4;try{yb(n,s,a)}finally{$e=T,le.p=f,W.T=l}}Ft=1,A_(),b_(),S_()}}function A_(){if(Ft===1){Ft=0;var n=Gs,s=lo,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=W.T,W.T=null;var l=le.p;le.p=2;var f=$e;$e|=4;try{r_(s,n);var m=Cm,T=hy(n.containerInfo),b=m.focusedElem,N=m.selectionRange;if(T!==b&&b&&b.ownerDocument&&cy(b.ownerDocument.documentElement,b)){if(N!==null&&nd(b)){var G=N.start,Z=N.end;if(Z===void 0&&(Z=G),"selectionStart"in b)b.selectionStart=G,b.selectionEnd=Math.min(Z,b.value.length);else{var te=b.ownerDocument||document,$=te&&te.defaultView||window;if($.getSelection){var Q=$.getSelection(),we=b.textContent.length,ve=Math.min(N.start,we),We=N.end===void 0?ve:Math.min(N.end,we);!Q.extend&&ve>We&&(T=We,We=ve,ve=T);var q=uy(b,ve),L=uy(b,We);if(q&&L&&(Q.rangeCount!==1||Q.anchorNode!==q.node||Q.anchorOffset!==q.offset||Q.focusNode!==L.node||Q.focusOffset!==L.offset)){var H=te.createRange();H.setStart(q.node,q.offset),Q.removeAllRanges(),ve>We?(Q.addRange(H),Q.extend(L.node,L.offset)):(H.setEnd(L.node,L.offset),Q.addRange(H))}}}}for(te=[],Q=b;Q=Q.parentNode;)Q.nodeType===1&&te.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<te.length;b++){var J=te[b];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}ah=!!Im,Cm=Im=null}finally{$e=f,le.p=l,W.T=a}}n.current=s,Ft=2}}function b_(){if(Ft===2){Ft=0;var n=Gs,s=lo,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=W.T,W.T=null;var l=le.p;le.p=2;var f=$e;$e|=4;try{t_(n,s.alternate,s)}finally{$e=f,le.p=l,W.T=a}}Ft=3}}function S_(){if(Ft===4||Ft===3){Ft=0,Fu();var n=Gs,s=lo,a=uo,l=f_;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Ft=5:(Ft=0,lo=Gs=null,R_(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(Hs=null),Ia(a),s=s.stateNode,Ge&&typeof Ge.onCommitFiberRoot=="function")try{Ge.onCommitFiberRoot(ct,s,void 0,(s.current.flags&128)===128)}catch{}if(l!==null){s=W.T,f=le.p,le.p=2,W.T=null;try{for(var m=n.onRecoverableError,T=0;T<l.length;T++){var b=l[T];m(b.value,{componentStack:b.stack})}}finally{W.T=s,le.p=f}}(uo&3)!==0&&Kc(),bi(n),f=n.pendingLanes,(a&4194090)!==0&&(f&42)!==0?n===mm?ql++:(ql=0,mm=n):ql=0,Fl(0)}}function R_(n,s){(n.pooledCacheLanes&=s)===0&&(s=n.pooledCache,s!=null&&(n.pooledCache=null,wl(s)))}function Kc(n){return A_(),b_(),S_(),x_()}function x_(){if(Ft!==5)return!1;var n=Gs,s=fm;fm=0;var a=Ia(uo),l=W.T,f=le.p;try{le.p=32>a?32:a,W.T=null,a=dm,dm=null;var m=Gs,T=uo;if(Ft=0,lo=Gs=null,uo=0,($e&6)!==0)throw Error(r(331));var b=$e;if($e|=4,c_(m.current),o_(m,m.current,T,a),$e=b,Fl(0,!1),Ge&&typeof Ge.onPostCommitFiberRoot=="function")try{Ge.onPostCommitFiberRoot(ct,m)}catch{}return!0}finally{le.p=f,W.T=l,R_(n,s)}}function I_(n,s,a){s=jn(a,s),s=$d(n.stateNode,s,2),n=Ps(n,s,2),n!==null&&(Bi(n,2),bi(n))}function Ze(n,s,a){if(n.tag===3)I_(n,n,a);else for(;s!==null;){if(s.tag===3){I_(s,n,a);break}else if(s.tag===1){var l=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Hs===null||!Hs.has(l))){n=jn(a,n),a=Ov(2),l=Ps(s,a,2),l!==null&&(Mv(a,l,s,n),Bi(l,2),bi(l));break}}s=s.return}}function vm(n,s,a){var l=n.pingCache;if(l===null){l=n.pingCache=new Eb;var f=new Set;l.set(s,f)}else f=l.get(s),f===void 0&&(f=new Set,l.set(s,f));f.has(a)||(lm=!0,f.add(a),n=Sb.bind(null,n,s,a),s.then(n,n))}function Sb(n,s,a){var l=n.pingCache;l!==null&&l.delete(s),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,et===n&&(Ve&a)===a&&(ft===4||ft===3&&(Ve&62914560)===Ve&&300>Nn()-hm?($e&2)===0&&co(n,0):um|=a,oo===Ve&&(oo=0)),bi(n)}function C_(n,s){s===0&&(s=Zo()),n=$a(n,s),n!==null&&(Bi(n,s),bi(n))}function Rb(n){var s=n.memoizedState,a=0;s!==null&&(a=s.retryLane),C_(n,a)}function xb(n,s){var a=0;switch(n.tag){case 13:var l=n.stateNode,f=n.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(s),C_(n,a)}function Ib(n,s){return Tr(n,s)}var Yc=null,fo=null,_m=!1,Xc=!1,Em=!1,na=0;function bi(n){n!==fo&&n.next===null&&(fo===null?Yc=fo=n:fo=fo.next=n),Xc=!0,_m||(_m=!0,Nb())}function Fl(n,s){if(!Em&&Xc){Em=!0;do for(var a=!1,l=Yc;l!==null;){if(n!==0){var f=l.pendingLanes;if(f===0)var m=0;else{var T=l.suspendedLanes,b=l.pingedLanes;m=(1<<31-Yt(42|n)+1)-1,m&=f&~(T&~b),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(a=!0,M_(l,m))}else m=Ve,m=xa(l,l===et?m:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(m&3)===0||xr(l,m)||(a=!0,M_(l,m));l=l.next}while(a);Em=!1}}function Cb(){N_()}function N_(){Xc=_m=!1;var n=0;na!==0&&(Lb()&&(n=na),na=0);for(var s=Nn(),a=null,l=Yc;l!==null;){var f=l.next,m=D_(l,s);m===0?(l.next=null,a===null?Yc=f:a.next=f,f===null&&(fo=a)):(a=l,(n!==0||(m&3)!==0)&&(Xc=!0)),l=f}Fl(n)}function D_(n,s){for(var a=n.suspendedLanes,l=n.pingedLanes,f=n.expirationTimes,m=n.pendingLanes&-62914561;0<m;){var T=31-Yt(m),b=1<<T,N=f[T];N===-1?((b&a)===0||(b&l)!==0)&&(f[T]=Xo(b,s)):N<=s&&(n.expiredLanes|=b),m&=~b}if(s=et,a=Ve,a=xa(n,n===s?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l=n.callbackNode,a===0||n===s&&(Qe===2||Qe===9)||n.cancelPendingCommit!==null)return l!==null&&l!==null&&wr(l),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||xr(n,a)){if(s=a&-a,s===n.callbackPriority)return s;switch(l!==null&&wr(l),Ia(a)){case 2:case 8:a=Sa;break;case 32:a=Ar;break;case 268435456:a=Ra;break;default:a=Ar}return l=O_.bind(null,n),a=Tr(a,l),n.callbackPriority=s,n.callbackNode=a,s}return l!==null&&l!==null&&wr(l),n.callbackPriority=2,n.callbackNode=null,2}function O_(n,s){if(Ft!==0&&Ft!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(Kc()&&n.callbackNode!==a)return null;var l=Ve;return l=xa(n,n===et?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l===0?null:(m_(n,l,s),D_(n,Nn()),n.callbackNode!=null&&n.callbackNode===a?O_.bind(null,n):null)}function M_(n,s){if(Kc())return null;m_(n,s,!0)}function Nb(){Bb(function(){($e&6)!==0?Tr(Ko,Cb):N_()})}function Tm(){return na===0&&(na=Wo()),na}function k_(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:ka(""+n)}function P_(n,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,n.id&&a.setAttribute("form",n.id),s.parentNode.insertBefore(a,s),n=new FormData(n),a.parentNode.removeChild(a),n}function Db(n,s,a,l,f){if(s==="submit"&&a&&a.stateNode===f){var m=k_((f[_t]||null).action),T=l.submitter;T&&(s=(s=T[_t]||null)?k_(s.formAction):T.getAttribute("formAction"),s!==null&&(m=s,T=null));var b=new Pa("action","action",null,l,f);n.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(na!==0){var N=T?P_(f,T):new FormData(f);zd(a,{pending:!0,data:N,method:f.method,action:m},null,N)}}else typeof m=="function"&&(b.preventDefault(),N=T?P_(f,T):new FormData(f),zd(a,{pending:!0,data:N,method:f.method,action:m},m,N))},currentTarget:f}]})}}for(var wm=0;wm<ad.length;wm++){var Am=ad[wm],Ob=Am.toLowerCase(),Mb=Am[0].toUpperCase()+Am.slice(1);Wn(Ob,"on"+Mb)}Wn(my,"onAnimationEnd"),Wn(py,"onAnimationIteration"),Wn(gy,"onAnimationStart"),Wn("dblclick","onDoubleClick"),Wn("focusin","onFocus"),Wn("focusout","onBlur"),Wn(XA,"onTransitionRun"),Wn(WA,"onTransitionStart"),Wn(ZA,"onTransitionCancel"),Wn(yy,"onTransitionEnd"),qi("onMouseEnter",["mouseout","mouseover"]),qi("onMouseLeave",["mouseout","mouseover"]),qi("onPointerEnter",["pointerout","pointerover"]),qi("onPointerLeave",["pointerout","pointerover"]),Yn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Yn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Yn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Yn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Yn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Yn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Hl));function j_(n,s){s=(s&4)!==0;for(var a=0;a<n.length;a++){var l=n[a],f=l.event;l=l.listeners;e:{var m=void 0;if(s)for(var T=l.length-1;0<=T;T--){var b=l[T],N=b.instance,G=b.currentTarget;if(b=b.listener,N!==m&&f.isPropagationStopped())break e;m=b,f.currentTarget=G;try{m(f)}catch(Z){Vc(Z)}f.currentTarget=null,m=N}else for(T=0;T<l.length;T++){if(b=l[T],N=b.instance,G=b.currentTarget,b=b.listener,N!==m&&f.isPropagationStopped())break e;m=b,f.currentTarget=G;try{m(f)}catch(Z){Vc(Z)}f.currentTarget=null,m=N}}}}function Oe(n,s){var a=s[tl];a===void 0&&(a=s[tl]=new Set);var l=n+"__bubble";a.has(l)||(V_(s,n,2,!1),a.add(l))}function bm(n,s,a){var l=0;s&&(l|=4),V_(a,n,l,s)}var Wc="_reactListening"+Math.random().toString(36).slice(2);function Sm(n){if(!n[Wc]){n[Wc]=!0,nl.forEach(function(a){a!=="selectionchange"&&(kb.has(a)||bm(a,!1,n),bm(a,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[Wc]||(s[Wc]=!0,bm("selectionchange",!1,s))}}function V_(n,s,a,l){switch(o0(s)){case 2:var f=oS;break;case 8:f=lS;break;default:f=Um}a=f.bind(null,s,a,n),f=void 0,!kn||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),l?f!==void 0?n.addEventListener(s,a,{capture:!0,passive:f}):n.addEventListener(s,a,!0):f!==void 0?n.addEventListener(s,a,{passive:f}):n.addEventListener(s,a,!1)}function Rm(n,s,a,l,f){var m=l;if((s&1)===0&&(s&2)===0&&l!==null)e:for(;;){if(l===null)return;var T=l.tag;if(T===3||T===4){var b=l.stateNode.containerInfo;if(b===f)break;if(T===4)for(T=l.return;T!==null;){var N=T.tag;if((N===3||N===4)&&T.stateNode.containerInfo===f)return;T=T.return}for(;b!==null;){if(T=zi(b),T===null)return;if(N=T.tag,N===5||N===6||N===26||N===27){l=m=T;continue e}b=b.parentNode}}l=l.return}Ju(function(){var G=m,Z=Mn(a),te=[];e:{var $=vy.get(n);if($!==void 0){var Q=Pa,we=n;switch(n){case"keypress":if(pi(a)===0)break e;case"keydown":case"keyup":Q=za;break;case"focusin":we="focus",Q=La;break;case"focusout":we="blur",Q=La;break;case"beforeblur":case"afterblur":Q=La;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=Pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=Zf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=oc;break;case my:case py:case gy:Q=Ua;break;case yy:Q=uc;break;case"scroll":case"scrollend":Q=ec;break;case"wheel":Q=qa;break;case"copy":case"cut":case"paste":Q=Ba;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=ml;break;case"toggle":case"beforetoggle":Q=hc}var ve=(s&4)!==0,We=!ve&&(n==="scroll"||n==="scrollend"),q=ve?$!==null?$+"Capture":null:$;ve=[];for(var L=G,H;L!==null;){var J=L;if(H=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||H===null||q===null||(J=Pr(L,q),J!=null&&ve.push(Gl(L,J,H))),We)break;L=L.return}0<ve.length&&($=new Q($,we,null,a,Z),te.push({event:$,listeners:ve}))}}if((s&7)===0){e:{if($=n==="mouseover"||n==="pointerover",Q=n==="mouseout"||n==="pointerout",$&&a!==Gi&&(we=a.relatedTarget||a.fromElement)&&(zi(we)||we[Dn]))break e;if((Q||$)&&($=Z.window===Z?Z:($=Z.ownerDocument)?$.defaultView||$.parentWindow:window,Q?(we=a.relatedTarget||a.toElement,Q=G,we=we?zi(we):null,we!==null&&(We=u(we),ve=we.tag,we!==We||ve!==5&&ve!==27&&ve!==6)&&(we=null)):(Q=null,we=G),Q!==we)){if(ve=Pn,J="onMouseLeave",q="onMouseEnter",L="mouse",(n==="pointerout"||n==="pointerover")&&(ve=ml,J="onPointerLeave",q="onPointerEnter",L="pointer"),We=Q==null?$:hi(Q),H=we==null?$:hi(we),$=new ve(J,L+"leave",Q,a,Z),$.target=We,$.relatedTarget=H,J=null,zi(Z)===G&&(ve=new ve(q,L+"enter",we,a,Z),ve.target=H,ve.relatedTarget=We,J=ve),We=J,Q&&we)t:{for(ve=Q,q=we,L=0,H=ve;H;H=mo(H))L++;for(H=0,J=q;J;J=mo(J))H++;for(;0<L-H;)ve=mo(ve),L--;for(;0<H-L;)q=mo(q),H--;for(;L--;){if(ve===q||q!==null&&ve===q.alternate)break t;ve=mo(ve),q=mo(q)}ve=null}else ve=null;Q!==null&&L_(te,$,Q,ve,!1),we!==null&&We!==null&&L_(te,We,we,ve,!0)}}e:{if($=G?hi(G):window,Q=$.nodeName&&$.nodeName.toLowerCase(),Q==="select"||Q==="input"&&$.type==="file")var de=iy;else if(It($))if(sy)de=QA;else{de=GA;var Ne=HA}else Q=$.nodeName,!Q||Q.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?G&&ol(G.elementType)&&(de=iy):de=$A;if(de&&(de=de(n,G))){Xi(te,de,a,Z);break e}Ne&&Ne(n,$,G),n==="focusout"&&G&&$.type==="number"&&G.memoizedProps.value!=null&&Ns($,"number",$.value)}switch(Ne=G?hi(G):window,n){case"focusin":(It(Ne)||Ne.contentEditable==="true")&&(Fa=Ne,id=G,yl=null);break;case"focusout":yl=id=Fa=null;break;case"mousedown":sd=!0;break;case"contextmenu":case"mouseup":case"dragend":sd=!1,fy(te,a,Z);break;case"selectionchange":if(YA)break;case"keydown":case"keyup":fy(te,a,Z)}var me;if(vi)e:{switch(n){case"compositionstart":var _e="onCompositionStart";break e;case"compositionend":_e="onCompositionEnd";break e;case"compositionupdate":_e="onCompositionUpdate";break e}_e=void 0}else Pe?Y(n,a)&&(_e="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(_e="onCompositionStart");_e&&(E&&a.locale!=="ko"&&(Pe||_e!=="onCompositionStart"?_e==="onCompositionEnd"&&Pe&&(me=ul()):(mi=Z,Ds="value"in mi?mi.value:mi.textContent,Pe=!0)),Ne=Zc(G,_e),0<Ne.length&&(_e=new fl(_e,n,null,a,Z),te.push({event:_e,listeners:Ne}),me?_e.data=me:(me=oe(a),me!==null&&(_e.data=me)))),(me=v?xt(n,a):je(n,a))&&(_e=Zc(G,"onBeforeInput"),0<_e.length&&(Ne=new fl("onBeforeInput","beforeinput",null,a,Z),te.push({event:Ne,listeners:_e}),Ne.data=me)),Db(te,n,G,a,Z)}j_(te,s)})}function Gl(n,s,a){return{instance:n,listener:s,currentTarget:a}}function Zc(n,s){for(var a=s+"Capture",l=[];n!==null;){var f=n,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=Pr(n,a),f!=null&&l.unshift(Gl(n,f,m)),f=Pr(n,s),f!=null&&l.push(Gl(n,f,m))),n.tag===3)return l;n=n.return}return[]}function mo(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function L_(n,s,a,l,f){for(var m=s._reactName,T=[];a!==null&&a!==l;){var b=a,N=b.alternate,G=b.stateNode;if(b=b.tag,N!==null&&N===l)break;b!==5&&b!==26&&b!==27||G===null||(N=G,f?(G=Pr(a,m),G!=null&&T.unshift(Gl(a,G,N))):f||(G=Pr(a,m),G!=null&&T.push(Gl(a,G,N)))),a=a.return}T.length!==0&&n.push({event:s,listeners:T})}var Pb=/\r\n?/g,jb=/\u0000|\uFFFD/g;function U_(n){return(typeof n=="string"?n:""+n).replace(Pb,`
`).replace(jb,"")}function B_(n,s){return s=U_(s),U_(n)===s}function Jc(){}function Xe(n,s,a,l,f,m){switch(a){case"children":typeof l=="string"?s==="body"||s==="textarea"&&l===""||On(n,l):(typeof l=="number"||typeof l=="bigint")&&s!=="body"&&On(n,""+l);break;case"className":fi(n,"class",l);break;case"tabIndex":fi(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":fi(n,a,l);break;case"style":al(n,l,m);break;case"data":if(s!=="object"){fi(n,"data",l);break}case"src":case"href":if(l===""&&(s!=="a"||a!=="href")){n.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=ka(""+l),n.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(s!=="input"&&Xe(n,s,"name",f.name,f,null),Xe(n,s,"formEncType",f.formEncType,f,null),Xe(n,s,"formMethod",f.formMethod,f,null),Xe(n,s,"formTarget",f.formTarget,f,null)):(Xe(n,s,"encType",f.encType,f,null),Xe(n,s,"method",f.method,f,null),Xe(n,s,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=ka(""+l),n.setAttribute(a,l);break;case"onClick":l!=null&&(n.onclick=Jc);break;case"onScroll":l!=null&&Oe("scroll",n);break;case"onScrollEnd":l!=null&&Oe("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));n.innerHTML=a}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}a=ka(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""+l):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":l===!0?n.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,l):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(a,l):n.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(a):n.setAttribute(a,l);break;case"popover":Oe("beforetoggle",n),Oe("toggle",n),Cs(n,"popover",l);break;case"xlinkActuate":Bt(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Bt(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Bt(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Bt(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Bt(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Bt(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Bt(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Bt(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Bt(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Cs(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Xf.get(a)||a,Cs(n,a,l))}}function xm(n,s,a,l,f,m){switch(a){case"style":al(n,l,m);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));n.innerHTML=a}}break;case"children":typeof l=="string"?On(n,l):(typeof l=="number"||typeof l=="bigint")&&On(n,""+l);break;case"onScroll":l!=null&&Oe("scroll",n);break;case"onScrollEnd":l!=null&&Oe("scrollend",n);break;case"onClick":l!=null&&(n.onclick=Jc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ca.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),s=a.slice(2,f?a.length-7:void 0),m=n[_t]||null,m=m!=null?m[a]:null,typeof m=="function"&&n.removeEventListener(s,m,f),typeof l=="function")){typeof m!="function"&&m!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(s,l,f);break e}a in n?n[a]=l:l===!0?n.setAttribute(a,""):Cs(n,a,l)}}}function Ht(n,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Oe("error",n),Oe("load",n);var l=!1,f=!1,m;for(m in a)if(a.hasOwnProperty(m)){var T=a[m];if(T!=null)switch(m){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Xe(n,s,m,T,a,null)}}f&&Xe(n,s,"srcSet",a.srcSet,a,null),l&&Xe(n,s,"src",a.src,a,null);return;case"input":Oe("invalid",n);var b=m=T=f=null,N=null,G=null;for(l in a)if(a.hasOwnProperty(l)){var Z=a[l];if(Z!=null)switch(l){case"name":f=Z;break;case"type":T=Z;break;case"checked":N=Z;break;case"defaultChecked":G=Z;break;case"value":m=Z;break;case"defaultValue":b=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(r(137,s));break;default:Xe(n,s,l,Z,a,null)}}Or(n,m,b,N,G,T,f,!1),Ma(n);return;case"select":Oe("invalid",n),l=T=m=null;for(f in a)if(a.hasOwnProperty(f)&&(b=a[f],b!=null))switch(f){case"value":m=b;break;case"defaultValue":T=b;break;case"multiple":l=b;default:Xe(n,s,f,b,a,null)}s=m,a=T,n.multiple=!!l,s!=null?Hi(n,!!l,s,!1):a!=null&&Hi(n,!!l,a,!0);return;case"textarea":Oe("invalid",n),m=f=l=null;for(T in a)if(a.hasOwnProperty(T)&&(b=a[T],b!=null))switch(T){case"value":l=b;break;case"defaultValue":f=b;break;case"children":m=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(r(91));break;default:Xe(n,s,T,b,a,null)}Mr(n,l,f,m),Ma(n);return;case"option":for(N in a)if(a.hasOwnProperty(N)&&(l=a[N],l!=null))switch(N){case"selected":n.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Xe(n,s,N,l,a,null)}return;case"dialog":Oe("beforetoggle",n),Oe("toggle",n),Oe("cancel",n),Oe("close",n);break;case"iframe":case"object":Oe("load",n);break;case"video":case"audio":for(l=0;l<Hl.length;l++)Oe(Hl[l],n);break;case"image":Oe("error",n),Oe("load",n);break;case"details":Oe("toggle",n);break;case"embed":case"source":case"link":Oe("error",n),Oe("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in a)if(a.hasOwnProperty(G)&&(l=a[G],l!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Xe(n,s,G,l,a,null)}return;default:if(ol(s)){for(Z in a)a.hasOwnProperty(Z)&&(l=a[Z],l!==void 0&&xm(n,s,Z,l,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(l=a[b],l!=null&&Xe(n,s,b,l,a,null))}function Vb(n,s,a,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,T=null,b=null,N=null,G=null,Z=null;for(Q in a){var te=a[Q];if(a.hasOwnProperty(Q)&&te!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":N=te;default:l.hasOwnProperty(Q)||Xe(n,s,Q,null,l,te)}}for(var $ in l){var Q=l[$];if(te=a[$],l.hasOwnProperty($)&&(Q!=null||te!=null))switch($){case"type":m=Q;break;case"name":f=Q;break;case"checked":G=Q;break;case"defaultChecked":Z=Q;break;case"value":T=Q;break;case"defaultValue":b=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,s));break;default:Q!==te&&Xe(n,s,$,Q,l,te)}}_n(n,T,b,N,G,Z,m,f);return;case"select":Q=T=b=$=null;for(m in a)if(N=a[m],a.hasOwnProperty(m)&&N!=null)switch(m){case"value":break;case"multiple":Q=N;default:l.hasOwnProperty(m)||Xe(n,s,m,null,l,N)}for(f in l)if(m=l[f],N=a[f],l.hasOwnProperty(f)&&(m!=null||N!=null))switch(f){case"value":$=m;break;case"defaultValue":b=m;break;case"multiple":T=m;default:m!==N&&Xe(n,s,f,m,l,N)}s=b,a=T,l=Q,$!=null?Hi(n,!!a,$,!1):!!l!=!!a&&(s!=null?Hi(n,!!a,s,!0):Hi(n,!!a,a?[]:"",!1));return;case"textarea":Q=$=null;for(b in a)if(f=a[b],a.hasOwnProperty(b)&&f!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:Xe(n,s,b,null,l,f)}for(T in l)if(f=l[T],m=a[T],l.hasOwnProperty(T)&&(f!=null||m!=null))switch(T){case"value":$=f;break;case"defaultValue":Q=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==m&&Xe(n,s,T,f,l,m)}Ke(n,$,Q);return;case"option":for(var we in a)if($=a[we],a.hasOwnProperty(we)&&$!=null&&!l.hasOwnProperty(we))switch(we){case"selected":n.selected=!1;break;default:Xe(n,s,we,null,l,$)}for(N in l)if($=l[N],Q=a[N],l.hasOwnProperty(N)&&$!==Q&&($!=null||Q!=null))switch(N){case"selected":n.selected=$&&typeof $!="function"&&typeof $!="symbol";break;default:Xe(n,s,N,$,l,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in a)$=a[ve],a.hasOwnProperty(ve)&&$!=null&&!l.hasOwnProperty(ve)&&Xe(n,s,ve,null,l,$);for(G in l)if($=l[G],Q=a[G],l.hasOwnProperty(G)&&$!==Q&&($!=null||Q!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(r(137,s));break;default:Xe(n,s,G,$,l,Q)}return;default:if(ol(s)){for(var We in a)$=a[We],a.hasOwnProperty(We)&&$!==void 0&&!l.hasOwnProperty(We)&&xm(n,s,We,void 0,l,$);for(Z in l)$=l[Z],Q=a[Z],!l.hasOwnProperty(Z)||$===Q||$===void 0&&Q===void 0||xm(n,s,Z,$,l,Q);return}}for(var q in a)$=a[q],a.hasOwnProperty(q)&&$!=null&&!l.hasOwnProperty(q)&&Xe(n,s,q,null,l,$);for(te in l)$=l[te],Q=a[te],!l.hasOwnProperty(te)||$===Q||$==null&&Q==null||Xe(n,s,te,$,l,Q)}var Im=null,Cm=null;function eh(n){return n.nodeType===9?n:n.ownerDocument}function z_(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function q_(n,s){if(n===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&s==="foreignObject"?0:n}function Nm(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Dm=null;function Lb(){var n=window.event;return n&&n.type==="popstate"?n===Dm?!1:(Dm=n,!0):(Dm=null,!1)}var F_=typeof setTimeout=="function"?setTimeout:void 0,Ub=typeof clearTimeout=="function"?clearTimeout:void 0,H_=typeof Promise=="function"?Promise:void 0,Bb=typeof queueMicrotask=="function"?queueMicrotask:typeof H_<"u"?function(n){return H_.resolve(null).then(n).catch(zb)}:F_;function zb(n){setTimeout(function(){throw n})}function Qs(n){return n==="head"}function G_(n,s){var a=s,l=0,f=0;do{var m=a.nextSibling;if(n.removeChild(a),m&&m.nodeType===8)if(a=m.data,a==="/$"){if(0<l&&8>l){a=l;var T=n.ownerDocument;if(a&1&&$l(T.documentElement),a&2&&$l(T.body),a&4)for(a=T.head,$l(a),T=a.firstChild;T;){var b=T.nextSibling,N=T.nodeName;T[Ir]||N==="SCRIPT"||N==="STYLE"||N==="LINK"&&T.rel.toLowerCase()==="stylesheet"||a.removeChild(T),T=b}}if(f===0){n.removeChild(m),eu(s);return}f--}else a==="$"||a==="$?"||a==="$!"?f++:l=a.charCodeAt(0)-48;else l=0;a=m}while(a);eu(s)}function Om(n){var s=n.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Om(a),Is(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function qb(n,s,a,l){for(;n.nodeType===1;){var f=a;if(n.nodeName.toLowerCase()!==s.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[Ir])switch(s){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(m=n.getAttribute("rel"),m==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(m!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(m=n.getAttribute("src"),(m!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(s==="input"&&n.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===m)return n}else return n;if(n=Jn(n.nextSibling),n===null)break}return null}function Fb(n,s,a){if(s==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=Jn(n.nextSibling),n===null))return null;return n}function Mm(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function Hb(n,s){var a=n.ownerDocument;if(n.data!=="$?"||a.readyState==="complete")s();else{var l=function(){s(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),n._reactRetry=l}}function Jn(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return n}var km=null;function $_(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return n;s--}else a==="/$"&&s++}n=n.previousSibling}return null}function Q_(n,s,a){switch(s=eh(a),n){case"html":if(n=s.documentElement,!n)throw Error(r(452));return n;case"head":if(n=s.head,!n)throw Error(r(453));return n;case"body":if(n=s.body,!n)throw Error(r(454));return n;default:throw Error(r(451))}}function $l(n){for(var s=n.attributes;s.length;)n.removeAttributeNode(s[0]);Is(n)}var qn=new Map,K_=new Set;function th(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var us=le.d;le.d={f:Gb,r:$b,D:Qb,C:Kb,L:Yb,m:Xb,X:Zb,S:Wb,M:Jb};function Gb(){var n=us.f(),s=$c();return n||s}function $b(n){var s=ci(n);s!==null&&s.tag===5&&s.type==="form"?mv(s):us.r(n)}var po=typeof document>"u"?null:document;function Y_(n,s,a){var l=po;if(l&&typeof s=="string"&&s){var f=Et(s);f='link[rel="'+n+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),K_.has(f)||(K_.add(f),n={rel:n,crossOrigin:a,href:s},l.querySelector(f)===null&&(s=l.createElement("link"),Ht(s,"link",n),pt(s),l.head.appendChild(s)))}}function Qb(n){us.D(n),Y_("dns-prefetch",n,null)}function Kb(n,s){us.C(n,s),Y_("preconnect",n,s)}function Yb(n,s,a){us.L(n,s,a);var l=po;if(l&&n&&s){var f='link[rel="preload"][as="'+Et(s)+'"]';s==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+Et(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+Et(a.imageSizes)+'"]')):f+='[href="'+Et(n)+'"]';var m=f;switch(s){case"style":m=go(n);break;case"script":m=yo(n)}qn.has(m)||(n=_({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:n,as:s},a),qn.set(m,n),l.querySelector(f)!==null||s==="style"&&l.querySelector(Ql(m))||s==="script"&&l.querySelector(Kl(m))||(s=l.createElement("link"),Ht(s,"link",n),pt(s),l.head.appendChild(s)))}}function Xb(n,s){us.m(n,s);var a=po;if(a&&n){var l=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+Et(l)+'"][href="'+Et(n)+'"]',m=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=yo(n)}if(!qn.has(m)&&(n=_({rel:"modulepreload",href:n},s),qn.set(m,n),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Kl(m)))return}l=a.createElement("link"),Ht(l,"link",n),pt(l),a.head.appendChild(l)}}}function Wb(n,s,a){us.S(n,s,a);var l=po;if(l&&n){var f=rn(l).hoistableStyles,m=go(n);s=s||"default";var T=f.get(m);if(!T){var b={loading:0,preload:null};if(T=l.querySelector(Ql(m)))b.loading=5;else{n=_({rel:"stylesheet",href:n,"data-precedence":s},a),(a=qn.get(m))&&Pm(n,a);var N=T=l.createElement("link");pt(N),Ht(N,"link",n),N._p=new Promise(function(G,Z){N.onload=G,N.onerror=Z}),N.addEventListener("load",function(){b.loading|=1}),N.addEventListener("error",function(){b.loading|=2}),b.loading|=4,nh(T,s,l)}T={type:"stylesheet",instance:T,count:1,state:b},f.set(m,T)}}}function Zb(n,s){us.X(n,s);var a=po;if(a&&n){var l=rn(a).hoistableScripts,f=yo(n),m=l.get(f);m||(m=a.querySelector(Kl(f)),m||(n=_({src:n,async:!0},s),(s=qn.get(f))&&jm(n,s),m=a.createElement("script"),pt(m),Ht(m,"link",n),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(f,m))}}function Jb(n,s){us.M(n,s);var a=po;if(a&&n){var l=rn(a).hoistableScripts,f=yo(n),m=l.get(f);m||(m=a.querySelector(Kl(f)),m||(n=_({src:n,async:!0,type:"module"},s),(s=qn.get(f))&&jm(n,s),m=a.createElement("script"),pt(m),Ht(m,"link",n),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(f,m))}}function X_(n,s,a,l){var f=(f=Ae.current)?th(f):null;if(!f)throw Error(r(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=go(a.href),a=rn(f).hoistableStyles,l=a.get(s),l||(l={type:"style",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=go(a.href);var m=rn(f).hoistableStyles,T=m.get(n);if(T||(f=f.ownerDocument||f,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(n,T),(m=f.querySelector(Ql(n)))&&!m._p&&(T.instance=m,T.state.loading=5),qn.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},qn.set(n,a),m||eS(f,n,a,T.state))),s&&l===null)throw Error(r(528,""));return T}if(s&&l!==null)throw Error(r(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=yo(a),a=rn(f).hoistableScripts,l=a.get(s),l||(l={type:"script",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,n))}}function go(n){return'href="'+Et(n)+'"'}function Ql(n){return'link[rel="stylesheet"]['+n+"]"}function W_(n){return _({},n,{"data-precedence":n.precedence,precedence:null})}function eS(n,s,a,l){n.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=n.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),Ht(s,"link",a),pt(s),n.head.appendChild(s))}function yo(n){return'[src="'+Et(n)+'"]'}function Kl(n){return"script[async]"+n}function Z_(n,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var l=n.querySelector('style[data-href~="'+Et(a.href)+'"]');if(l)return s.instance=l,pt(l),l;var f=_({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),pt(l),Ht(l,"style",f),nh(l,a.precedence,n),s.instance=l;case"stylesheet":f=go(a.href);var m=n.querySelector(Ql(f));if(m)return s.state.loading|=4,s.instance=m,pt(m),m;l=W_(a),(f=qn.get(f))&&Pm(l,f),m=(n.ownerDocument||n).createElement("link"),pt(m);var T=m;return T._p=new Promise(function(b,N){T.onload=b,T.onerror=N}),Ht(m,"link",l),s.state.loading|=4,nh(m,a.precedence,n),s.instance=m;case"script":return m=yo(a.src),(f=n.querySelector(Kl(m)))?(s.instance=f,pt(f),f):(l=a,(f=qn.get(m))&&(l=_({},a),jm(l,f)),n=n.ownerDocument||n,f=n.createElement("script"),pt(f),Ht(f,"link",l),n.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(l=s.instance,s.state.loading|=4,nh(l,a.precedence,n));return s.instance}function nh(n,s,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,m=f,T=0;T<l.length;T++){var b=l[T];if(b.dataset.precedence===s)m=b;else if(m!==f)break}m?m.parentNode.insertBefore(n,m.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(n,s.firstChild))}function Pm(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.title==null&&(n.title=s.title)}function jm(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.integrity==null&&(n.integrity=s.integrity)}var ih=null;function J_(n,s,a){if(ih===null){var l=new Map,f=ih=new Map;f.set(a,l)}else f=ih,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(n))return l;for(l.set(n,null),a=a.getElementsByTagName(n),f=0;f<a.length;f++){var m=a[f];if(!(m[Ir]||m[Rt]||n==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var T=m.getAttribute(s)||"";T=n+T;var b=l.get(T);b?b.push(m):l.set(T,[m])}}return l}function e0(n,s,a){n=n.ownerDocument||n,n.head.insertBefore(a,s==="title"?n.querySelector("head > title"):null)}function tS(n,s,a){if(a===1||s.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return n=s.disabled,typeof s.precedence=="string"&&n==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function t0(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var Yl=null;function nS(){}function iS(n,s,a){if(Yl===null)throw Error(r(475));var l=Yl;if(s.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var f=go(a.href),m=n.querySelector(Ql(f));if(m){n=m._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(l.count++,l=sh.bind(l),n.then(l,l)),s.state.loading|=4,s.instance=m,pt(m);return}m=n.ownerDocument||n,a=W_(a),(f=qn.get(f))&&Pm(a,f),m=m.createElement("link"),pt(m);var T=m;T._p=new Promise(function(b,N){T.onload=b,T.onerror=N}),Ht(m,"link",a),s.instance=m}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(l.count++,s=sh.bind(l),n.addEventListener("load",s),n.addEventListener("error",s))}}function sS(){if(Yl===null)throw Error(r(475));var n=Yl;return n.stylesheets&&n.count===0&&Vm(n,n.stylesheets),0<n.count?function(s){var a=setTimeout(function(){if(n.stylesheets&&Vm(n,n.stylesheets),n.unsuspend){var l=n.unsuspend;n.unsuspend=null,l()}},6e4);return n.unsuspend=s,function(){n.unsuspend=null,clearTimeout(a)}}:null}function sh(){if(this.count--,this.count===0){if(this.stylesheets)Vm(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var rh=null;function Vm(n,s){n.stylesheets=null,n.unsuspend!==null&&(n.count++,rh=new Map,s.forEach(rS,n),rh=null,sh.call(n))}function rS(n,s){if(!(s.state.loading&4)){var a=rh.get(n);if(a)var l=a.get(null);else{a=new Map,rh.set(n,a);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var T=f[m];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(a.set(T.dataset.precedence,T),l=T)}l&&a.set(null,l)}f=s.instance,T=f.getAttribute("data-precedence"),m=a.get(T)||l,m===l&&a.set(null,f),a.set(T,f),this.count++,l=sh.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),m?m.parentNode.insertBefore(f,m.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),s.state.loading|=4}}var Xl={$$typeof:K,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function aS(n,s,a,l,f,m,T,b){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ui(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ui(0),this.hiddenUpdates=Ui(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function n0(n,s,a,l,f,m,T,b,N,G,Z,te){return n=new aS(n,s,a,T,b,N,G,te),s=1,m===!0&&(s|=24),m=Tn(3,null,null,s),n.current=m,m.stateNode=n,s=vd(),s.refCount++,n.pooledCache=s,s.refCount++,m.memoizedState={element:l,isDehydrated:a,cache:s},wd(m),n}function i0(n){return n?(n=Qa,n):Qa}function s0(n,s,a,l,f,m){f=i0(f),l.context===null?l.context=f:l.pendingContext=f,l=ks(s),l.payload={element:a},m=m===void 0?null:m,m!==null&&(l.callback=m),a=Ps(n,l,s),a!==null&&(Rn(a,n,s),Rl(a,n,s))}function r0(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<s?a:s}}function Lm(n,s){r0(n,s),(n=n.alternate)&&r0(n,s)}function a0(n){if(n.tag===13){var s=$a(n,67108864);s!==null&&Rn(s,n,67108864),Lm(n,67108864)}}var ah=!0;function oS(n,s,a,l){var f=W.T;W.T=null;var m=le.p;try{le.p=2,Um(n,s,a,l)}finally{le.p=m,W.T=f}}function lS(n,s,a,l){var f=W.T;W.T=null;var m=le.p;try{le.p=8,Um(n,s,a,l)}finally{le.p=m,W.T=f}}function Um(n,s,a,l){if(ah){var f=Bm(l);if(f===null)Rm(n,s,l,oh,a),l0(n,l);else if(cS(f,n,s,a,l))l.stopPropagation();else if(l0(n,l),s&4&&-1<uS.indexOf(n)){for(;f!==null;){var m=ci(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var T=Kn(m.pendingLanes);if(T!==0){var b=m;for(b.pendingLanes|=2,b.entangledLanes|=2;T;){var N=1<<31-Yt(T);b.entanglements[1]|=N,T&=~N}bi(m),($e&6)===0&&(Hc=Nn()+500,Fl(0))}}break;case 13:b=$a(m,2),b!==null&&Rn(b,m,2),$c(),Lm(m,2)}if(m=Bm(l),m===null&&Rm(n,s,l,oh,a),m===f)break;f=m}f!==null&&l.stopPropagation()}else Rm(n,s,l,null,a)}}function Bm(n){return n=Mn(n),zm(n)}var oh=null;function zm(n){if(oh=null,n=zi(n),n!==null){var s=u(n);if(s===null)n=null;else{var a=s.tag;if(a===13){if(n=h(s),n!==null)return n;n=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null)}}return oh=n,null}function o0(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Hf()){case Ko:return 2;case Sa:return 8;case Ar:case Gf:return 32;case Ra:return 268435456;default:return 32}default:return 32}}var qm=!1,Ks=null,Ys=null,Xs=null,Wl=new Map,Zl=new Map,Ws=[],uS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function l0(n,s){switch(n){case"focusin":case"focusout":Ks=null;break;case"dragenter":case"dragleave":Ys=null;break;case"mouseover":case"mouseout":Xs=null;break;case"pointerover":case"pointerout":Wl.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zl.delete(s.pointerId)}}function Jl(n,s,a,l,f,m){return n===null||n.nativeEvent!==m?(n={blockedOn:s,domEventName:a,eventSystemFlags:l,nativeEvent:m,targetContainers:[f]},s!==null&&(s=ci(s),s!==null&&a0(s)),n):(n.eventSystemFlags|=l,s=n.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),n)}function cS(n,s,a,l,f){switch(s){case"focusin":return Ks=Jl(Ks,n,s,a,l,f),!0;case"dragenter":return Ys=Jl(Ys,n,s,a,l,f),!0;case"mouseover":return Xs=Jl(Xs,n,s,a,l,f),!0;case"pointerover":var m=f.pointerId;return Wl.set(m,Jl(Wl.get(m)||null,n,s,a,l,f)),!0;case"gotpointercapture":return m=f.pointerId,Zl.set(m,Jl(Zl.get(m)||null,n,s,a,l,f)),!0}return!1}function u0(n){var s=zi(n.target);if(s!==null){var a=u(s);if(a!==null){if(s=a.tag,s===13){if(s=h(a),s!==null){n.blockedOn=s,$u(n.priority,function(){if(a.tag===13){var l=Sn();l=Ss(l);var f=$a(a,l);f!==null&&Rn(f,a,l),Lm(a,l)}});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function lh(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var a=Bm(n.nativeEvent);if(a===null){a=n.nativeEvent;var l=new a.constructor(a.type,a);Gi=l,a.target.dispatchEvent(l),Gi=null}else return s=ci(a),s!==null&&a0(s),n.blockedOn=a,!1;s.shift()}return!0}function c0(n,s,a){lh(n)&&a.delete(s)}function hS(){qm=!1,Ks!==null&&lh(Ks)&&(Ks=null),Ys!==null&&lh(Ys)&&(Ys=null),Xs!==null&&lh(Xs)&&(Xs=null),Wl.forEach(c0),Zl.forEach(c0)}function uh(n,s){n.blockedOn===s&&(n.blockedOn=null,qm||(qm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,hS)))}var ch=null;function h0(n){ch!==n&&(ch=n,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){ch===n&&(ch=null);for(var s=0;s<n.length;s+=3){var a=n[s],l=n[s+1],f=n[s+2];if(typeof l!="function"){if(zm(l||a)===null)continue;break}var m=ci(a);m!==null&&(n.splice(s,3),s-=3,zd(m,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function eu(n){function s(N){return uh(N,n)}Ks!==null&&uh(Ks,n),Ys!==null&&uh(Ys,n),Xs!==null&&uh(Xs,n),Wl.forEach(s),Zl.forEach(s);for(var a=0;a<Ws.length;a++){var l=Ws[a];l.blockedOn===n&&(l.blockedOn=null)}for(;0<Ws.length&&(a=Ws[0],a.blockedOn===null);)u0(a),a.blockedOn===null&&Ws.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],m=a[l+1],T=f[_t]||null;if(typeof m=="function")T||h0(a);else if(T){var b=null;if(m&&m.hasAttribute("formAction")){if(f=m,T=m[_t]||null)b=T.formAction;else if(zm(f)!==null)continue}else b=T.action;typeof b=="function"?a[l+1]=b:(a.splice(l,3),l-=3),h0(a)}}}function Fm(n){this._internalRoot=n}hh.prototype.render=Fm.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(r(409));var a=s.current,l=Sn();s0(a,l,n,s,null,null)},hh.prototype.unmount=Fm.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;s0(n.current,2,null,n,null,null),$c(),s[Dn]=null}};function hh(n){this._internalRoot=n}hh.prototype.unstable_scheduleHydration=function(n){if(n){var s=Rs();n={blockedOn:null,target:n,priority:s};for(var a=0;a<Ws.length&&s!==0&&s<Ws[a].priority;a++);Ws.splice(a,0,n),a===0&&u0(n)}};var f0=e.version;if(f0!=="19.1.0")throw Error(r(527,f0,"19.1.0"));le.findDOMNode=function(n){var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(r(188)):(n=Object.keys(n).join(","),Error(r(268,n)));return n=p(s),n=n!==null?y(n):null,n=n===null?null:n.stateNode,n};var fS={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fh.isDisabled&&fh.supportsFiber)try{ct=fh.inject(fS),Ge=fh}catch{}}return nu.createRoot=function(n,s){if(!o(n))throw Error(r(299));var a=!1,l="",f=Iv,m=Cv,T=Nv,b=null;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(l=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(m=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(b=s.unstable_transitionCallbacks)),s=n0(n,1,!1,null,null,a,l,f,m,T,b,null),n[Dn]=s.current,Sm(n),new Fm(s)},nu.hydrateRoot=function(n,s,a){if(!o(n))throw Error(r(299));var l=!1,f="",m=Iv,T=Cv,b=Nv,N=null,G=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(T=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(N=a.unstable_transitionCallbacks),a.formState!==void 0&&(G=a.formState)),s=n0(n,1,!0,s,a??null,l,f,m,T,b,N,G),s.context=i0(null),a=s.current,l=Sn(),l=Ss(l),f=ks(l),f.callback=null,Ps(a,f,l),a=l,s.current.lanes=a,Bi(s,a),bi(s),n[Dn]=s.current,Sm(n),new hh(s)},nu.version="19.1.0",nu}var w0;function AS(){if(w0)return $m.exports;w0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),$m.exports=wS(),$m.exports}var bS=AS();const SS=wT(bS);var iu={},A0;function RS(){if(A0)return iu;A0=1,Object.defineProperty(iu,"__esModule",{value:!0}),iu.parse=h,iu.serialize=y;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const w=function(){};return w.prototype=Object.create(null),w})();function h(w,C){const x=new u,U=w.length;if(U<2)return x;const j=C?.decode||_;let P=0;do{const X=w.indexOf("=",P);if(X===-1)break;const K=w.indexOf(";",P),se=K===-1?U:K;if(X>se){P=w.lastIndexOf(";",X-1)+1;continue}const re=d(w,P,X),he=p(w,X,re),D=w.slice(re,he);if(x[D]===void 0){let R=d(w,X+1,se),I=p(w,se,R);const k=j(w.slice(R,I));x[D]=k}P=se+1}while(P<U);return x}function d(w,C,x){do{const U=w.charCodeAt(C);if(U!==32&&U!==9)return C}while(++C<x);return x}function p(w,C,x){for(;C>x;){const U=w.charCodeAt(--C);if(U!==32&&U!==9)return C+1}return x}function y(w,C,x){const U=x?.encode||encodeURIComponent;if(!i.test(w))throw new TypeError(`argument name is invalid: ${w}`);const j=U(C);if(!e.test(j))throw new TypeError(`argument val is invalid: ${C}`);let P=w+"="+j;if(!x)return P;if(x.maxAge!==void 0){if(!Number.isInteger(x.maxAge))throw new TypeError(`option maxAge is invalid: ${x.maxAge}`);P+="; Max-Age="+x.maxAge}if(x.domain){if(!t.test(x.domain))throw new TypeError(`option domain is invalid: ${x.domain}`);P+="; Domain="+x.domain}if(x.path){if(!r.test(x.path))throw new TypeError(`option path is invalid: ${x.path}`);P+="; Path="+x.path}if(x.expires){if(!A(x.expires)||!Number.isFinite(x.expires.valueOf()))throw new TypeError(`option expires is invalid: ${x.expires}`);P+="; Expires="+x.expires.toUTCString()}if(x.httpOnly&&(P+="; HttpOnly"),x.secure&&(P+="; Secure"),x.partitioned&&(P+="; Partitioned"),x.priority)switch(typeof x.priority=="string"?x.priority.toLowerCase():void 0){case"low":P+="; Priority=Low";break;case"medium":P+="; Priority=Medium";break;case"high":P+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${x.priority}`)}if(x.sameSite)switch(typeof x.sameSite=="string"?x.sameSite.toLowerCase():x.sameSite){case!0:case"strict":P+="; SameSite=Strict";break;case"lax":P+="; SameSite=Lax";break;case"none":P+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${x.sameSite}`)}return P}function _(w){if(w.indexOf("%")===-1)return w;try{return decodeURIComponent(w)}catch{return w}}function A(w){return o.call(w)==="[object Date]"}return iu}RS();var b0="popstate";function xS(i={}){function e(r,o){let{pathname:u,search:h,hash:d}=r.location;return mp("",{pathname:u,search:h,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(r,o){return typeof o=="string"?o:vu(o)}return CS(e,t,null,i)}function at(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Gn(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function IS(){return Math.random().toString(36).substring(2,10)}function S0(i,e){return{usr:i.state,key:i.key,idx:e}}function mp(i,e,t=null,r){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?Vo(e):e,state:t,key:e&&e.key||r||IS()}}function vu({pathname:i="/",search:e="",hash:t=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(i+=t.charAt(0)==="#"?t:"#"+t),i}function Vo(i){let e={};if(i){let t=i.indexOf("#");t>=0&&(e.hash=i.substring(t),i=i.substring(0,t));let r=i.indexOf("?");r>=0&&(e.search=i.substring(r),i=i.substring(0,r)),i&&(e.pathname=i)}return e}function CS(i,e,t,r={}){let{window:o=document.defaultView,v5Compat:u=!1}=r,h=o.history,d="POP",p=null,y=_();y==null&&(y=0,h.replaceState({...h.state,idx:y},""));function _(){return(h.state||{idx:null}).idx}function A(){d="POP";let j=_(),P=j==null?null:j-y;y=j,p&&p({action:d,location:U.location,delta:P})}function w(j,P){d="PUSH";let X=mp(U.location,j,P);y=_()+1;let K=S0(X,y),se=U.createHref(X);try{h.pushState(K,"",se)}catch(re){if(re instanceof DOMException&&re.name==="DataCloneError")throw re;o.location.assign(se)}u&&p&&p({action:d,location:U.location,delta:1})}function C(j,P){d="REPLACE";let X=mp(U.location,j,P);y=_();let K=S0(X,y),se=U.createHref(X);h.replaceState(K,"",se),u&&p&&p({action:d,location:U.location,delta:0})}function x(j){return NS(j)}let U={get action(){return d},get location(){return i(o,h)},listen(j){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(b0,A),p=j,()=>{o.removeEventListener(b0,A),p=null}},createHref(j){return e(o,j)},createURL:x,encodeLocation(j){let P=x(j);return{pathname:P.pathname,search:P.search,hash:P.hash}},push:w,replace:C,go(j){return h.go(j)}};return U}function NS(i,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),at(t,"No window.location.(origin|href) available to create URL");let r=typeof i=="string"?i:vu(i);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function AT(i,e,t="/"){return DS(i,e,t,!1)}function DS(i,e,t,r){let o=typeof e=="string"?Vo(e):e,u=gs(o.pathname||"/",t);if(u==null)return null;let h=bT(i);OS(h);let d=null;for(let p=0;d==null&&p<h.length;++p){let y=FS(u);d=zS(h[p],y,r)}return d}function bT(i,e=[],t=[],r=""){let o=(u,h,d)=>{let p={relativePath:d===void 0?u.path||"":d,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};p.relativePath.startsWith("/")&&(at(p.relativePath.startsWith(r),`Absolute route path "${p.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(r.length));let y=fs([r,p.relativePath]),_=t.concat(p);u.children&&u.children.length>0&&(at(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),bT(u.children,e,_,y)),!(u.path==null&&!u.index)&&e.push({path:y,score:US(y,u.index),routesMeta:_})};return i.forEach((u,h)=>{if(u.path===""||!u.path?.includes("?"))o(u,h);else for(let d of ST(u.path))o(u,h,d)}),e}function ST(i){let e=i.split("/");if(e.length===0)return[];let[t,...r]=e,o=t.endsWith("?"),u=t.replace(/\?$/,"");if(r.length===0)return o?[u,""]:[u];let h=ST(r.join("/")),d=[];return d.push(...h.map(p=>p===""?u:[u,p].join("/"))),o&&d.push(...h),d.map(p=>i.startsWith("/")&&p===""?"/":p)}function OS(i){i.sort((e,t)=>e.score!==t.score?t.score-e.score:BS(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var MS=/^:[\w-]+$/,kS=3,PS=2,jS=1,VS=10,LS=-2,R0=i=>i==="*";function US(i,e){let t=i.split("/"),r=t.length;return t.some(R0)&&(r+=LS),e&&(r+=PS),t.filter(o=>!R0(o)).reduce((o,u)=>o+(MS.test(u)?kS:u===""?jS:VS),r)}function BS(i,e){return i.length===e.length&&i.slice(0,-1).every((r,o)=>r===e[o])?i[i.length-1]-e[e.length-1]:0}function zS(i,e,t=!1){let{routesMeta:r}=i,o={},u="/",h=[];for(let d=0;d<r.length;++d){let p=r[d],y=d===r.length-1,_=u==="/"?e:e.slice(u.length)||"/",A=Ph({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},_),w=p.route;if(!A&&y&&t&&!r[r.length-1].route.index&&(A=Ph({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},_)),!A)return null;Object.assign(o,A.params),h.push({params:o,pathname:fs([u,A.pathname]),pathnameBase:QS(fs([u,A.pathnameBase])),route:w}),A.pathnameBase!=="/"&&(u=fs([u,A.pathnameBase]))}return h}function Ph(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[t,r]=qS(i.path,i.caseSensitive,i.end),o=e.match(t);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:r.reduce((y,{paramName:_,isOptional:A},w)=>{if(_==="*"){let x=d[w]||"";h=u.slice(0,u.length-x.length).replace(/(.)\/+$/,"$1")}const C=d[w];return A&&!C?y[_]=void 0:y[_]=(C||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:h,pattern:i}}function qS(i,e=!1,t=!0){Gn(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let r=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,d,p)=>(r.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(r.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function FS(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Gn(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function gs(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=i.charAt(t);return r&&r!=="/"?null:i.slice(t)||"/"}function HS(i,e="/"){let{pathname:t,search:r="",hash:o=""}=typeof i=="string"?Vo(i):i;return{pathname:t?t.startsWith("/")?t:GS(t,e):e,search:KS(r),hash:YS(o)}}function GS(i,e){let t=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Xm(i,e,t,r){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function $S(i){return i.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Gp(i){let e=$S(i);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function $p(i,e,t,r=!1){let o;typeof i=="string"?o=Vo(i):(o={...i},at(!o.pathname||!o.pathname.includes("?"),Xm("?","pathname","search",o)),at(!o.pathname||!o.pathname.includes("#"),Xm("#","pathname","hash",o)),at(!o.search||!o.search.includes("#"),Xm("#","search","hash",o)));let u=i===""||o.pathname==="",h=u?"/":o.pathname,d;if(h==null)d=t;else{let A=e.length-1;if(!r&&h.startsWith("..")){let w=h.split("/");for(;w[0]==="..";)w.shift(),A-=1;o.pathname=w.join("/")}d=A>=0?e[A]:"/"}let p=HS(o,d),y=h&&h!=="/"&&h.endsWith("/"),_=(u||h===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(y||_)&&(p.pathname+="/"),p}var fs=i=>i.join("/").replace(/\/\/+/g,"/"),QS=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),KS=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,YS=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function XS(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var RT=["POST","PUT","PATCH","DELETE"];new Set(RT);var WS=["GET",...RT];new Set(WS);var Lo=M.createContext(null);Lo.displayName="DataRouter";var lf=M.createContext(null);lf.displayName="DataRouterState";var xT=M.createContext({isTransitioning:!1});xT.displayName="ViewTransition";var ZS=M.createContext(new Map);ZS.displayName="Fetchers";var JS=M.createContext(null);JS.displayName="Await";var ai=M.createContext(null);ai.displayName="Navigation";var Nu=M.createContext(null);Nu.displayName="Location";var oi=M.createContext({outlet:null,matches:[],isDataRoute:!1});oi.displayName="Route";var Qp=M.createContext(null);Qp.displayName="RouteError";function eR(i,{relative:e}={}){at(Uo(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=M.useContext(ai),{hash:o,pathname:u,search:h}=Du(i,{relative:e}),d=u;return t!=="/"&&(d=u==="/"?t:fs([t,u])),r.createHref({pathname:d,search:h,hash:o})}function Uo(){return M.useContext(Nu)!=null}function ji(){return at(Uo(),"useLocation() may be used only in the context of a <Router> component."),M.useContext(Nu).location}var IT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function CT(i){M.useContext(ai).static||M.useLayoutEffect(i)}function pa(){let{isDataRoute:i}=M.useContext(oi);return i?dR():tR()}function tR(){at(Uo(),"useNavigate() may be used only in the context of a <Router> component.");let i=M.useContext(Lo),{basename:e,navigator:t}=M.useContext(ai),{matches:r}=M.useContext(oi),{pathname:o}=ji(),u=JSON.stringify(Gp(r)),h=M.useRef(!1);return CT(()=>{h.current=!0}),M.useCallback((p,y={})=>{if(Gn(h.current,IT),!h.current)return;if(typeof p=="number"){t.go(p);return}let _=$p(p,JSON.parse(u),o,y.relative==="path");i==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:fs([e,_.pathname])),(y.replace?t.replace:t.push)(_,y.state,y)},[e,t,u,o,i])}M.createContext(null);function NT(){let{matches:i}=M.useContext(oi),e=i[i.length-1];return e?e.params:{}}function Du(i,{relative:e}={}){let{matches:t}=M.useContext(oi),{pathname:r}=ji(),o=JSON.stringify(Gp(t));return M.useMemo(()=>$p(i,JSON.parse(o),r,e==="path"),[i,o,r,e])}function nR(i,e){return DT(i,e)}function DT(i,e,t,r){at(Uo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=M.useContext(ai),{matches:u}=M.useContext(oi),h=u[u.length-1],d=h?h.params:{},p=h?h.pathname:"/",y=h?h.pathnameBase:"/",_=h&&h.route;{let P=_&&_.path||"";OT(p,!_||P.endsWith("*")||P.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${P}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${P}"> to <Route path="${P==="/"?"*":`${P}/*`}">.`)}let A=ji(),w;if(e){let P=typeof e=="string"?Vo(e):e;at(y==="/"||P.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${P.pathname}" was given in the \`location\` prop.`),w=P}else w=A;let C=w.pathname||"/",x=C;if(y!=="/"){let P=y.replace(/^\//,"").split("/");x="/"+C.replace(/^\//,"").split("/").slice(P.length).join("/")}let U=AT(i,{pathname:x});Gn(_||U!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),Gn(U==null||U[U.length-1].route.element!==void 0||U[U.length-1].route.Component!==void 0||U[U.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let j=oR(U&&U.map(P=>Object.assign({},P,{params:Object.assign({},d,P.params),pathname:fs([y,o.encodeLocation?o.encodeLocation(P.pathname).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?y:fs([y,o.encodeLocation?o.encodeLocation(P.pathnameBase).pathname:P.pathnameBase])})),u,t,r);return e&&j?M.createElement(Nu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},j):j}function iR(){let i=fR(),e=XS(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),t=i instanceof Error?i.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},u={padding:"2px 4px",backgroundColor:r},h=null;return console.error("Error handled by React Router default ErrorBoundary:",i),h=M.createElement(M.Fragment,null,M.createElement("p",null," Hey developer "),M.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",M.createElement("code",{style:u},"ErrorBoundary")," or"," ",M.createElement("code",{style:u},"errorElement")," prop on your route.")),M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},e),t?M.createElement("pre",{style:o},t):null,h)}var sR=M.createElement(iR,null),rR=class extends M.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?M.createElement(oi.Provider,{value:this.props.routeContext},M.createElement(Qp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function aR({routeContext:i,match:e,children:t}){let r=M.useContext(Lo);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),M.createElement(oi.Provider,{value:i},t)}function oR(i,e=[],t=null,r=null){if(i==null){if(!t)return null;if(t.errors)i=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)i=t.matches;else return null}let o=i,u=t?.errors;if(u!=null){let p=o.findIndex(y=>y.route.id&&u?.[y.route.id]!==void 0);at(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let h=!1,d=-1;if(t)for(let p=0;p<o.length;p++){let y=o[p];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(d=p),y.route.id){let{loaderData:_,errors:A}=t,w=y.route.loader&&!_.hasOwnProperty(y.route.id)&&(!A||A[y.route.id]===void 0);if(y.route.lazy||w){h=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((p,y,_)=>{let A,w=!1,C=null,x=null;t&&(A=u&&y.route.id?u[y.route.id]:void 0,C=y.route.errorElement||sR,h&&(d<0&&_===0?(OT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,x=null):d===_&&(w=!0,x=y.route.hydrateFallbackElement||null)));let U=e.concat(o.slice(0,_+1)),j=()=>{let P;return A?P=C:w?P=x:y.route.Component?P=M.createElement(y.route.Component,null):y.route.element?P=y.route.element:P=p,M.createElement(aR,{match:y,routeContext:{outlet:p,matches:U,isDataRoute:t!=null},children:P})};return t&&(y.route.ErrorBoundary||y.route.errorElement||_===0)?M.createElement(rR,{location:t.location,revalidation:t.revalidation,component:C,error:A,children:j(),routeContext:{outlet:null,matches:U,isDataRoute:!0}}):j()},null)}function Kp(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function lR(i){let e=M.useContext(Lo);return at(e,Kp(i)),e}function uR(i){let e=M.useContext(lf);return at(e,Kp(i)),e}function cR(i){let e=M.useContext(oi);return at(e,Kp(i)),e}function Yp(i){let e=cR(i),t=e.matches[e.matches.length-1];return at(t.route.id,`${i} can only be used on routes that contain a unique "id"`),t.route.id}function hR(){return Yp("useRouteId")}function fR(){let i=M.useContext(Qp),e=uR("useRouteError"),t=Yp("useRouteError");return i!==void 0?i:e.errors?.[t]}function dR(){let{router:i}=lR("useNavigate"),e=Yp("useNavigate"),t=M.useRef(!1);return CT(()=>{t.current=!0}),M.useCallback(async(o,u={})=>{Gn(t.current,IT),t.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var x0={};function OT(i,e,t){!e&&!x0[i]&&(x0[i]=!0,Gn(!1,t))}M.memo(mR);function mR({routes:i,future:e,state:t}){return DT(i,void 0,t,e)}function MT({to:i,replace:e,state:t,relative:r}){at(Uo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=M.useContext(ai);Gn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=M.useContext(oi),{pathname:h}=ji(),d=pa(),p=$p(i,Gp(u),h,r==="path"),y=JSON.stringify(p);return M.useEffect(()=>{d(JSON.parse(y),{replace:e,state:t,relative:r})},[d,y,r,e,t]),null}function Si(i){at(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function pR({basename:i="/",children:e=null,location:t,navigationType:r="POP",navigator:o,static:u=!1}){at(!Uo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=i.replace(/^\/*/,"/"),d=M.useMemo(()=>({basename:h,navigator:o,static:u,future:{}}),[h,o,u]);typeof t=="string"&&(t=Vo(t));let{pathname:p="/",search:y="",hash:_="",state:A=null,key:w="default"}=t,C=M.useMemo(()=>{let x=gs(p,h);return x==null?null:{location:{pathname:x,search:y,hash:_,state:A,key:w},navigationType:r}},[h,p,y,_,A,w,r]);return Gn(C!=null,`<Router basename="${h}"> is not able to match the URL "${p}${y}${_}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:M.createElement(ai.Provider,{value:d},M.createElement(Nu.Provider,{children:e,value:C}))}function gR({children:i,location:e}){return nR(pp(i),e)}function pp(i,e=[]){let t=[];return M.Children.forEach(i,(r,o)=>{if(!M.isValidElement(r))return;let u=[...e,o];if(r.type===M.Fragment){t.push.apply(t,pp(r.props.children,u));return}at(r.type===Si,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),at(!r.props.index||!r.props.children,"An index route cannot have child routes.");let h={id:r.props.id||u.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(h.children=pp(r.props.children,u)),t.push(h)}),t}var wh="get",Ah="application/x-www-form-urlencoded";function uf(i){return i!=null&&typeof i.tagName=="string"}function yR(i){return uf(i)&&i.tagName.toLowerCase()==="button"}function vR(i){return uf(i)&&i.tagName.toLowerCase()==="form"}function _R(i){return uf(i)&&i.tagName.toLowerCase()==="input"}function ER(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function TR(i,e){return i.button===0&&(!e||e==="_self")&&!ER(i)}function gp(i=""){return new URLSearchParams(typeof i=="string"||Array.isArray(i)||i instanceof URLSearchParams?i:Object.keys(i).reduce((e,t)=>{let r=i[t];return e.concat(Array.isArray(r)?r.map(o=>[t,o]):[[t,r]])},[]))}function wR(i,e){let t=gp(i);return e&&e.forEach((r,o)=>{t.has(o)||e.getAll(o).forEach(u=>{t.append(o,u)})}),t}var dh=null;function AR(){if(dh===null)try{new FormData(document.createElement("form"),0),dh=!1}catch{dh=!0}return dh}var bR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Wm(i){return i!=null&&!bR.has(i)?(Gn(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ah}"`),null):i}function SR(i,e){let t,r,o,u,h;if(vR(i)){let d=i.getAttribute("action");r=d?gs(d,e):null,t=i.getAttribute("method")||wh,o=Wm(i.getAttribute("enctype"))||Ah,u=new FormData(i)}else if(yR(i)||_R(i)&&(i.type==="submit"||i.type==="image")){let d=i.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||d.getAttribute("action");if(r=p?gs(p,e):null,t=i.getAttribute("formmethod")||d.getAttribute("method")||wh,o=Wm(i.getAttribute("formenctype"))||Wm(d.getAttribute("enctype"))||Ah,u=new FormData(d,i),!AR()){let{name:y,type:_,value:A}=i;if(_==="image"){let w=y?`${y}.`:"";u.append(`${w}x`,"0"),u.append(`${w}y`,"0")}else y&&u.append(y,A)}}else{if(uf(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=wh,r=null,o=Ah,h=i}return u&&o==="text/plain"&&(h=u,u=void 0),{action:r,method:t.toLowerCase(),encType:o,formData:u,body:h}}function Xp(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}async function RR(i,e){if(i.id in e)return e[i.id];try{let t=await import(i.module);return e[i.id]=t,t}catch(t){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function xR(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function IR(i,e,t){let r=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await RR(u,t);return h.links?h.links():[]}return[]}));return OR(r.flat(1).filter(xR).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function I0(i,e,t,r,o,u){let h=(p,y)=>t[y]?p.route.id!==t[y].route.id:!0,d=(p,y)=>t[y].pathname!==p.pathname||t[y].route.path?.endsWith("*")&&t[y].params["*"]!==p.params["*"];return u==="assets"?e.filter((p,y)=>h(p,y)||d(p,y)):u==="data"?e.filter((p,y)=>{let _=r.routes[p.route.id];if(!_||!_.hasLoader)return!1;if(h(p,y)||d(p,y))return!0;if(p.route.shouldRevalidate){let A=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function CR(i,e,{includeHydrateFallback:t}={}){return NR(i.map(r=>{let o=e.routes[r.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function NR(i){return[...new Set(i)]}function DR(i){let e={},t=Object.keys(i).sort();for(let r of t)e[r]=i[r];return e}function OR(i,e){let t=new Set;return new Set(e),i.reduce((r,o)=>{let u=JSON.stringify(DR(o));return t.has(u)||(t.add(u),r.push({key:u,link:o})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var MR=new Set([100,101,204,205]);function kR(i,e){let t=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return t.pathname==="/"?t.pathname="_root.data":e&&gs(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function kT(){let i=M.useContext(Lo);return Xp(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function PR(){let i=M.useContext(lf);return Xp(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Wp=M.createContext(void 0);Wp.displayName="FrameworkContext";function PT(){let i=M.useContext(Wp);return Xp(i,"You must render this element inside a <HydratedRouter> element"),i}function jR(i,e){let t=M.useContext(Wp),[r,o]=M.useState(!1),[u,h]=M.useState(!1),{onFocus:d,onBlur:p,onMouseEnter:y,onMouseLeave:_,onTouchStart:A}=e,w=M.useRef(null);M.useEffect(()=>{if(i==="render"&&h(!0),i==="viewport"){let U=P=>{P.forEach(X=>{h(X.isIntersecting)})},j=new IntersectionObserver(U,{threshold:.5});return w.current&&j.observe(w.current),()=>{j.disconnect()}}},[i]),M.useEffect(()=>{if(r){let U=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(U)}}},[r]);let C=()=>{o(!0)},x=()=>{o(!1),h(!1)};return t?i!=="intent"?[u,w,{}]:[u,w,{onFocus:su(d,C),onBlur:su(p,x),onMouseEnter:su(y,C),onMouseLeave:su(_,x),onTouchStart:su(A,C)}]:[!1,w,{}]}function su(i,e){return t=>{i&&i(t),t.defaultPrevented||e(t)}}function VR({page:i,...e}){let{router:t}=kT(),r=M.useMemo(()=>AT(t.routes,i,t.basename),[t.routes,i,t.basename]);return r?M.createElement(UR,{page:i,matches:r,...e}):null}function LR(i){let{manifest:e,routeModules:t}=PT(),[r,o]=M.useState([]);return M.useEffect(()=>{let u=!1;return IR(i,e,t).then(h=>{u||o(h)}),()=>{u=!0}},[i,e,t]),r}function UR({page:i,matches:e,...t}){let r=ji(),{manifest:o,routeModules:u}=PT(),{basename:h}=kT(),{loaderData:d,matches:p}=PR(),y=M.useMemo(()=>I0(i,e,p,o,r,"data"),[i,e,p,o,r]),_=M.useMemo(()=>I0(i,e,p,o,r,"assets"),[i,e,p,o,r]),A=M.useMemo(()=>{if(i===r.pathname+r.search+r.hash)return[];let x=new Set,U=!1;if(e.forEach(P=>{let X=o.routes[P.route.id];!X||!X.hasLoader||(!y.some(K=>K.route.id===P.route.id)&&P.route.id in d&&u[P.route.id]?.shouldRevalidate||X.hasClientLoader?U=!0:x.add(P.route.id))}),x.size===0)return[];let j=kR(i,h);return U&&x.size>0&&j.searchParams.set("_routes",e.filter(P=>x.has(P.route.id)).map(P=>P.route.id).join(",")),[j.pathname+j.search]},[h,d,r,o,y,e,i,u]),w=M.useMemo(()=>CR(_,o),[_,o]),C=LR(_);return M.createElement(M.Fragment,null,A.map(x=>M.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...t})),w.map(x=>M.createElement("link",{key:x,rel:"modulepreload",href:x,...t})),C.map(({key:x,link:U})=>M.createElement("link",{key:x,...U})))}function BR(...i){return e=>{i.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var jT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{jT&&(window.__reactRouterVersion="7.6.3")}catch{}function zR({basename:i,children:e,window:t}){let r=M.useRef();r.current==null&&(r.current=xS({window:t,v5Compat:!0}));let o=r.current,[u,h]=M.useState({action:o.action,location:o.location}),d=M.useCallback(p=>{M.startTransition(()=>h(p))},[h]);return M.useLayoutEffect(()=>o.listen(d),[o,d]),M.createElement(pR,{basename:i,children:e,location:u.location,navigationType:u.action,navigator:o})}var VT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,tn=M.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:o,reloadDocument:u,replace:h,state:d,target:p,to:y,preventScrollReset:_,viewTransition:A,...w},C){let{basename:x}=M.useContext(ai),U=typeof y=="string"&&VT.test(y),j,P=!1;if(typeof y=="string"&&U&&(j=y,jT))try{let I=new URL(window.location.href),k=y.startsWith("//")?new URL(I.protocol+y):new URL(y),z=gs(k.pathname,x);k.origin===I.origin&&z!=null?y=z+k.search+k.hash:P=!0}catch{Gn(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let X=eR(y,{relative:o}),[K,se,re]=jR(r,w),he=GR(y,{replace:h,state:d,target:p,preventScrollReset:_,relative:o,viewTransition:A});function D(I){e&&e(I),I.defaultPrevented||he(I)}let R=M.createElement("a",{...w,...re,href:j||X,onClick:P||u?e:D,ref:BR(C,se),target:p,"data-discover":!U&&t==="render"?"true":void 0});return K&&!U?M.createElement(M.Fragment,null,R,M.createElement(VR,{page:X})):R});tn.displayName="Link";var qR=M.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:o=!1,style:u,to:h,viewTransition:d,children:p,...y},_){let A=Du(h,{relative:y.relative}),w=ji(),C=M.useContext(lf),{navigator:x,basename:U}=M.useContext(ai),j=C!=null&&WR(A)&&d===!0,P=x.encodeLocation?x.encodeLocation(A).pathname:A.pathname,X=w.pathname,K=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;t||(X=X.toLowerCase(),K=K?K.toLowerCase():null,P=P.toLowerCase()),K&&U&&(K=gs(K,U)||K);const se=P!=="/"&&P.endsWith("/")?P.length-1:P.length;let re=X===P||!o&&X.startsWith(P)&&X.charAt(se)==="/",he=K!=null&&(K===P||!o&&K.startsWith(P)&&K.charAt(P.length)==="/"),D={isActive:re,isPending:he,isTransitioning:j},R=re?e:void 0,I;typeof r=="function"?I=r(D):I=[r,re?"active":null,he?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let k=typeof u=="function"?u(D):u;return M.createElement(tn,{...y,"aria-current":R,className:I,ref:_,style:k,to:h,viewTransition:d},typeof p=="function"?p(D):p)});qR.displayName="NavLink";var FR=M.forwardRef(({discover:i="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:o,state:u,method:h=wh,action:d,onSubmit:p,relative:y,preventScrollReset:_,viewTransition:A,...w},C)=>{let x=YR(),U=XR(d,{relative:y}),j=h.toLowerCase()==="get"?"get":"post",P=typeof d=="string"&&VT.test(d),X=K=>{if(p&&p(K),K.defaultPrevented)return;K.preventDefault();let se=K.nativeEvent.submitter,re=se?.getAttribute("formmethod")||h;x(se||K.currentTarget,{fetcherKey:e,method:re,navigate:t,replace:o,state:u,relative:y,preventScrollReset:_,viewTransition:A})};return M.createElement("form",{ref:C,method:j,action:U,onSubmit:r?p:X,...w,"data-discover":!P&&i==="render"?"true":void 0})});FR.displayName="Form";function HR(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function LT(i){let e=M.useContext(Lo);return at(e,HR(i)),e}function GR(i,{target:e,replace:t,state:r,preventScrollReset:o,relative:u,viewTransition:h}={}){let d=pa(),p=ji(),y=Du(i,{relative:u});return M.useCallback(_=>{if(TR(_,e)){_.preventDefault();let A=t!==void 0?t:vu(p)===vu(y);d(i,{replace:A,state:r,preventScrollReset:o,relative:u,viewTransition:h})}},[p,d,y,t,r,e,i,o,u,h])}function $R(i){Gn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=M.useRef(gp(i)),t=M.useRef(!1),r=ji(),o=M.useMemo(()=>wR(r.search,t.current?null:e.current),[r.search]),u=pa(),h=M.useCallback((d,p)=>{const y=gp(typeof d=="function"?d(o):d);t.current=!0,u("?"+y,p)},[u,o]);return[o,h]}var QR=0,KR=()=>`__${String(++QR)}__`;function YR(){let{router:i}=LT("useSubmit"),{basename:e}=M.useContext(ai),t=hR();return M.useCallback(async(r,o={})=>{let{action:u,method:h,encType:d,formData:p,body:y}=SR(r,e);if(o.navigate===!1){let _=o.fetcherKey||KR();await i.fetch(_,t,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||h,formEncType:o.encType||d,flushSync:o.flushSync})}else await i.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||h,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,t])}function XR(i,{relative:e}={}){let{basename:t}=M.useContext(ai),r=M.useContext(oi);at(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),u={...Du(i||".",{relative:e})},h=ji();if(i==null){u.search=h.search;let d=new URLSearchParams(u.search),p=d.getAll("index");if(p.some(_=>_==="")){d.delete("index"),p.filter(A=>A).forEach(A=>d.append("index",A));let _=d.toString();u.search=_?`?${_}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(u.pathname=u.pathname==="/"?t:fs([t,u.pathname])),vu(u)}function WR(i,e={}){let t=M.useContext(xT);at(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=LT("useViewTransitionState"),o=Du(i,{relative:e.relative});if(!t.isTransitioning)return!1;let u=gs(t.currentLocation.pathname,r)||t.currentLocation.pathname,h=gs(t.nextLocation.pathname,r)||t.nextLocation.pathname;return Ph(o.pathname,h)!=null||Ph(o.pathname,u)!=null}[...MR];const ZR=()=>{};var C0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UT=function(i){const e=[];let t=0;for(let r=0;r<i.length;r++){let o=i.charCodeAt(r);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&r+1<i.length&&(i.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++r)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},JR=function(i){const e=[];let t=0,r=0;for(;t<i.length;){const o=i[t++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[t++];e[r++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[t++],h=i[t++],d=i[t++],p=((o&7)<<18|(u&63)<<12|(h&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(p>>10)),e[r++]=String.fromCharCode(56320+(p&1023))}else{const u=i[t++],h=i[t++];e[r++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},BT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<i.length;o+=3){const u=i[o],h=o+1<i.length,d=h?i[o+1]:0,p=o+2<i.length,y=p?i[o+2]:0,_=u>>2,A=(u&3)<<4|d>>4;let w=(d&15)<<2|y>>6,C=y&63;p||(C=64,h||(w=64)),r.push(t[_],t[A],t[w],t[C])}return r.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(UT(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):JR(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<i.length;){const u=t[i.charAt(o++)],d=o<i.length?t[i.charAt(o)]:0;++o;const y=o<i.length?t[i.charAt(o)]:64;++o;const A=o<i.length?t[i.charAt(o)]:64;if(++o,u==null||d==null||y==null||A==null)throw new e2;const w=u<<2|d>>4;if(r.push(w),y!==64){const C=d<<4&240|y>>2;if(r.push(C),A!==64){const x=y<<6&192|A;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class e2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const t2=function(i){const e=UT(i);return BT.encodeByteArray(e,!0)},jh=function(i){return t2(i).replace(/\./g,"")},zT=function(i){try{return BT.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i2=()=>n2().__FIREBASE_DEFAULTS__,s2=()=>{if(typeof process>"u"||typeof C0>"u")return;const i=C0.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},r2=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&zT(i[1]);return e&&JSON.parse(e)},cf=()=>{try{return ZR()||i2()||s2()||r2()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},qT=i=>{var e,t;return(t=(e=cf())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[i]},FT=i=>{const e=qT(i);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},HT=()=>{var i;return(i=cf())===null||i===void 0?void 0:i.config},GT=i=>{var e;return(e=cf())===null||e===void 0?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ga(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Zp(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $T(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[jh(JSON.stringify(t)),jh(JSON.stringify(h)),""].join(".")}const hu={};function o2(){const i={prod:[],emulator:[]};for(const e of Object.keys(hu))hu[e]?i.emulator.push(e):i.prod.push(e);return i}function l2(i){let e=document.getElementById(i),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),t=!0),{created:t,element:e}}let N0=!1;function Jp(i,e){if(typeof window>"u"||typeof document>"u"||!ga(window.location.host)||hu[i]===e||hu[i]||N0)return;hu[i]=e;function t(w){return`__firebase__banner__${w}`}const r="__firebase__banner",u=o2().prod.length>0;function h(){const w=document.getElementById(r);w&&w.remove()}function d(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function p(w,C){w.setAttribute("width","24"),w.setAttribute("id",C),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function y(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{N0=!0,h()},w}function _(w,C){w.setAttribute("id",C),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function A(){const w=l2(r),C=t("text"),x=document.getElementById(C)||document.createElement("span"),U=t("learnmore"),j=document.getElementById(U)||document.createElement("a"),P=t("preprendIcon"),X=document.getElementById(P)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const K=w.element;d(K),_(j,U);const se=y();p(X,P),K.append(X,x,j,se),document.body.appendChild(K)}u?(x.innerText="Preview backend disconnected.",X.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(X.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",C)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function u2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(sn())}function c2(){var i;const e=(i=cf())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function h2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function QT(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function f2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function d2(){const i=sn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function m2(){return!c2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function KT(){try{return typeof indexedDB=="object"}catch{return!1}}function YT(){return new Promise((i,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(r),i(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(t){e(t)}})}function p2(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g2="FirebaseError";class Qn extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=g2,Object.setPrototypeOf(this,Qn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ya.prototype.create)}}class ya{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?y2(u,r):"Error",d=`${this.serviceName}: ${h} (${o}).`;return new Qn(o,d,r)}}function y2(i,e){return i.replace(v2,(t,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const v2=/\{\$([^}]+)}/g;function _2(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function Mi(i,e){if(i===e)return!0;const t=Object.keys(i),r=Object.keys(e);for(const o of t){if(!r.includes(o))return!1;const u=i[o],h=e[o];if(D0(u)&&D0(h)){if(!Mi(u,h))return!1}else if(u!==h)return!1}for(const o of r)if(!t.includes(o))return!1;return!0}function D0(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ou(i){const e=[];for(const[t,r]of Object.entries(i))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ru(i){const e={};return i.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,u]=r.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function au(i){const e=i.indexOf("?");if(!e)return"";const t=i.indexOf("#",e);return i.substring(e,t>0?t:void 0)}function E2(i,e){const t=new T2(i,e);return t.subscribe.bind(t)}class T2{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let o;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");w2(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:r},o.next===void 0&&(o.next=Zm),o.error===void 0&&(o.error=Zm),o.complete===void 0&&(o.complete=Zm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function w2(i,e){if(typeof i!="object"||i===null)return!1;for(const t of e)if(t in i&&typeof i[t]=="function")return!0;return!1}function Zm(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A2=1e3,b2=2,S2=4*60*60*1e3,R2=.5;function O0(i,e=A2,t=b2){const r=e*Math.pow(t,i),o=Math.round(R2*r*(Math.random()-.5)*2);return Math.min(S2,r+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lt(i){return i&&i._delegate?i._delegate:i}class $n{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new a2;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e?.identifier),o=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(C2(e))try{this.getOrInitializeService({instanceIdentifier:sa})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const u=this.getOrInitializeService({instanceIdentifier:o});r.resolve(u)}catch{}}}}clearInstance(e=sa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=sa){return this.instances.has(e)}getOptions(e=sa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[u,h]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(u);r===d&&h.resolve(o)}return o}onInit(e,t){var r;const o=this.normalizeInstanceIdentifier(t),u=(r=this.onInitCallbacks.get(o))!==null&&r!==void 0?r:new Set;u.add(e),this.onInitCallbacks.set(o,u);const h=this.instances.get(o);return h&&e(h,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const o of r)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:I2(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=sa){return this.component?this.component.multipleInstances?e:sa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function I2(i){return i===sa?void 0:i}function C2(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new x2(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Me;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Me||(Me={}));const D2={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},O2=Me.INFO,M2={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},k2=(i,e,...t)=>{if(e<i.logLevel)return;const r=new Date().toISOString(),o=M2[e];if(o)console[o](`[${r}]  ${i.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class hf{constructor(e){this.name=e,this._logLevel=O2,this._logHandler=k2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?D2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const P2=(i,e)=>e.some(t=>i instanceof t);let M0,k0;function j2(){return M0||(M0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function V2(){return k0||(k0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const XT=new WeakMap,yp=new WeakMap,WT=new WeakMap,Jm=new WeakMap,eg=new WeakMap;function L2(i){const e=new Promise((t,r)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",h)},u=()=>{t(rr(i.result)),o()},h=()=>{r(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&XT.set(t,i)}).catch(()=>{}),eg.set(e,i),e}function U2(i){if(yp.has(i))return;const e=new Promise((t,r)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",h),i.removeEventListener("abort",h)},u=()=>{t(),o()},h=()=>{r(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",h),i.addEventListener("abort",h)});yp.set(i,e)}let vp={get(i,e,t){if(i instanceof IDBTransaction){if(e==="done")return yp.get(i);if(e==="objectStoreNames")return i.objectStoreNames||WT.get(i);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return rr(i[e])},set(i,e,t){return i[e]=t,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function B2(i){vp=i(vp)}function z2(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=i.call(ep(this),e,...t);return WT.set(r,e.sort?e.sort():[e]),rr(r)}:V2().includes(i)?function(...e){return i.apply(ep(this),e),rr(XT.get(this))}:function(...e){return rr(i.apply(ep(this),e))}}function q2(i){return typeof i=="function"?z2(i):(i instanceof IDBTransaction&&U2(i),P2(i,j2())?new Proxy(i,vp):i)}function rr(i){if(i instanceof IDBRequest)return L2(i);if(Jm.has(i))return Jm.get(i);const e=q2(i);return e!==i&&(Jm.set(i,e),eg.set(e,i)),e}const ep=i=>eg.get(i);function ZT(i,e,{blocked:t,upgrade:r,blocking:o,terminated:u}={}){const h=indexedDB.open(i,e),d=rr(h);return r&&h.addEventListener("upgradeneeded",p=>{r(rr(h.result),p.oldVersion,p.newVersion,rr(h.transaction),p)}),t&&h.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),d.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),d}const F2=["get","getKey","getAll","getAllKeys","count"],H2=["put","add","delete","clear"],tp=new Map;function P0(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(tp.get(e))return tp.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,o=H2.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(o||F2.includes(t)))return;const u=async function(h,...d){const p=this.transaction(h,o?"readwrite":"readonly");let y=p.store;return r&&(y=y.index(d.shift())),(await Promise.all([y[t](...d),o&&p.done]))[0]};return tp.set(e,u),u}B2(i=>({...i,get:(e,t,r)=>P0(e,t)||i.get(e,t,r),has:(e,t)=>!!P0(e,t)||i.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if($2(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function $2(i){const e=i.getComponent();return e?.type==="VERSION"}const _p="@firebase/app",j0="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ys=new hf("@firebase/app"),Q2="@firebase/app-compat",K2="@firebase/analytics-compat",Y2="@firebase/analytics",X2="@firebase/app-check-compat",W2="@firebase/app-check",Z2="@firebase/auth",J2="@firebase/auth-compat",ex="@firebase/database",tx="@firebase/data-connect",nx="@firebase/database-compat",ix="@firebase/functions",sx="@firebase/functions-compat",rx="@firebase/installations",ax="@firebase/installations-compat",ox="@firebase/messaging",lx="@firebase/messaging-compat",ux="@firebase/performance",cx="@firebase/performance-compat",hx="@firebase/remote-config",fx="@firebase/remote-config-compat",dx="@firebase/storage",mx="@firebase/storage-compat",px="@firebase/firestore",gx="@firebase/ai",yx="@firebase/firestore-compat",vx="firebase",_x="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ep="[DEFAULT]",Ex={[_p]:"fire-core",[Q2]:"fire-core-compat",[Y2]:"fire-analytics",[K2]:"fire-analytics-compat",[W2]:"fire-app-check",[X2]:"fire-app-check-compat",[Z2]:"fire-auth",[J2]:"fire-auth-compat",[ex]:"fire-rtdb",[tx]:"fire-data-connect",[nx]:"fire-rtdb-compat",[ix]:"fire-fn",[sx]:"fire-fn-compat",[rx]:"fire-iid",[ax]:"fire-iid-compat",[ox]:"fire-fcm",[lx]:"fire-fcm-compat",[ux]:"fire-perf",[cx]:"fire-perf-compat",[hx]:"fire-rc",[fx]:"fire-rc-compat",[dx]:"fire-gcs",[mx]:"fire-gcs-compat",[px]:"fire-fst",[yx]:"fire-fst-compat",[gx]:"fire-vertex","fire-js":"fire-js",[vx]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vh=new Map,Tx=new Map,Tp=new Map;function V0(i,e){try{i.container.addComponent(e)}catch(t){ys.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,t)}}function ni(i){const e=i.name;if(Tp.has(e))return ys.debug(`There were multiple attempts to register component ${e}.`),!1;Tp.set(e,i);for(const t of Vh.values())V0(t,i);for(const t of Tx.values())V0(t,i);return!0}function gr(i,e){const t=i.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),i.container.getProvider(e)}function xn(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wx={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ar=new ya("app","Firebase",wx);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ax{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new $n("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ar.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const va=_x;function JT(i,e={}){let t=i;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Ep,automaticDataCollectionEnabled:!0},e),o=r.name;if(typeof o!="string"||!o)throw ar.create("bad-app-name",{appName:String(o)});if(t||(t=HT()),!t)throw ar.create("no-options");const u=Vh.get(o);if(u){if(Mi(t,u.options)&&Mi(r,u.config))return u;throw ar.create("duplicate-app",{appName:o})}const h=new N2(o);for(const p of Tp.values())h.addComponent(p);const d=new Ax(t,r,h);return Vh.set(o,d),d}function ff(i=Ep){const e=Vh.get(i);if(!e&&i===Ep&&HT())return JT();if(!e)throw ar.create("no-app",{appName:i});return e}function pn(i,e,t){var r;let o=(r=Ex[i])!==null&&r!==void 0?r:i;t&&(o+=`-${t}`);const u=o.match(/\s|\//),h=e.match(/\s|\//);if(u||h){const d=[`Unable to register library "${o}" with version "${e}":`];u&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&h&&d.push("and"),h&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ys.warn(d.join(" "));return}ni(new $n(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bx="firebase-heartbeat-database",Sx=1,_u="firebase-heartbeat-store";let np=null;function ew(){return np||(np=ZT(bx,Sx,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(_u)}catch(t){console.warn(t)}}}}).catch(i=>{throw ar.create("idb-open",{originalErrorMessage:i.message})})),np}async function Rx(i){try{const t=(await ew()).transaction(_u),r=await t.objectStore(_u).get(tw(i));return await t.done,r}catch(e){if(e instanceof Qn)ys.warn(e.message);else{const t=ar.create("idb-get",{originalErrorMessage:e?.message});ys.warn(t.message)}}}async function L0(i,e){try{const r=(await ew()).transaction(_u,"readwrite");await r.objectStore(_u).put(e,tw(i)),await r.done}catch(t){if(t instanceof Qn)ys.warn(t.message);else{const r=ar.create("idb-set",{originalErrorMessage:t?.message});ys.warn(r.message)}}}function tw(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xx=1024,Ix=30;class Cx{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Dx(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=U0();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>Ix){const h=Ox(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ys.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=U0(),{heartbeatsToSend:r,unsentEntries:o}=Nx(this._heartbeatsCache.heartbeats),u=jh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(t){return ys.warn(t),""}}}function U0(){return new Date().toISOString().substring(0,10)}function Nx(i,e=xx){const t=[];let r=i.slice();for(const o of i){const u=t.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),B0(t)>e){u.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),B0(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class Dx{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return KT()?YT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await Rx(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return L0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return L0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function B0(i){return jh(JSON.stringify({version:2,heartbeats:i})).length}function Ox(i){if(i.length===0)return-1;let e=0,t=i[0].date;for(let r=1;r<i.length;r++)i[r].date<t&&(t=i[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mx(i){ni(new $n("platform-logger",e=>new G2(e),"PRIVATE")),ni(new $n("heartbeat",e=>new Cx(e),"PRIVATE")),pn(_p,j0,i),pn(_p,j0,"esm2017"),pn("fire-js","")}Mx("");function tg(i,e){var t={};for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&e.indexOf(r)<0&&(t[r]=i[r]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(i);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(i,r[o])&&(t[r[o]]=i[r[o]]);return t}function nw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const kx=nw,iw=new ya("auth","Firebase",nw());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lh=new hf("@firebase/auth");function Px(i,...e){Lh.logLevel<=Me.WARN&&Lh.warn(`Auth (${va}): ${i}`,...e)}function bh(i,...e){Lh.logLevel<=Me.ERROR&&Lh.error(`Auth (${va}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ii(i,...e){throw ng(i,...e)}function xi(i,...e){return ng(i,...e)}function sw(i,e,t){const r=Object.assign(Object.assign({},kx()),{[e]:t});return new ya("auth","Firebase",r).create(e,{appName:i.name})}function ds(i){return sw(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ng(i,...e){if(typeof i!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=i.name),i._errorFactory.create(t,...r)}return iw.create(i,...e)}function Ee(i,e,...t){if(!i)throw ng(e,...t)}function cs(i){const e="INTERNAL ASSERTION FAILED: "+i;throw bh(e),new Error(e)}function vs(i,e){i||cs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wp(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function jx(){return z0()==="http:"||z0()==="https:"}function z0(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vx(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(jx()||QT()||"connection"in navigator)?navigator.onLine:!0}function Lx(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(e,t){this.shortDelay=e,this.longDelay=t,vs(t>e,"Short delay should be less than long delay!"),this.isMobile=u2()||f2()}get(){return Vx()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ig(i,e){vs(i.emulator,"Emulator should always be set here");const{url:t}=i.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;cs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;cs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;cs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ux={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bx=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],zx=new Mu(3e4,6e4);function yr(i,e){return i.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:i.tenantId}):e}async function ws(i,e,t,r,o={}){return aw(i,o,async()=>{let u={},h={};r&&(e==="GET"?h=r:u={body:JSON.stringify(r)});const d=Ou(Object.assign({key:i.config.apiKey},h)).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const y=Object.assign({method:e,headers:p},u);return h2()||(y.referrerPolicy="no-referrer"),i.emulatorConfig&&ga(i.emulatorConfig.host)&&(y.credentials="include"),rw.fetch()(await ow(i,i.config.apiHost,t,d),y)})}async function aw(i,e,t){i._canInitEmulator=!1;const r=Object.assign(Object.assign({},Ux),e);try{const o=new Fx(i),u=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw mh(i,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const d=u.ok?h.errorMessage:h.error.message,[p,y]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw mh(i,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw mh(i,"email-already-in-use",h);if(p==="USER_DISABLED")throw mh(i,"user-disabled",h);const _=r[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw sw(i,_,y);ii(i,_)}}catch(o){if(o instanceof Qn)throw o;ii(i,"network-request-failed",{message:String(o)})}}async function ku(i,e,t,r,o={}){const u=await ws(i,e,t,r,o);return"mfaPendingCredential"in u&&ii(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function ow(i,e,t,r){const o=`${e}${t}?${r}`,u=i,h=u.config.emulator?ig(i.config,o):`${i.config.apiScheme}://${o}`;return Bx.includes(t)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}function qx(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Fx{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(xi(this.auth,"network-request-failed")),zx.get())})}}function mh(i,e,t){const r={appName:i.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const o=xi(i,e,r);return o.customData._tokenResponse=t,o}function q0(i){return i!==void 0&&i.enterprise!==void 0}class Hx{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return qx(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Gx(i,e){return ws(i,"GET","/v2/recaptchaConfig",yr(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $x(i,e){return ws(i,"POST","/v1/accounts:delete",e)}async function Uh(i,e){return ws(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fu(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Qx(i,e=!1){const t=lt(i),r=await t.getIdToken(e),o=sg(r);Ee(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u?.sign_in_provider;return{claims:o,token:r,authTime:fu(ip(o.auth_time)),issuedAtTime:fu(ip(o.iat)),expirationTime:fu(ip(o.exp)),signInProvider:h||null,signInSecondFactor:u?.sign_in_second_factor||null}}function ip(i){return Number(i)*1e3}function sg(i){const[e,t,r]=i.split(".");if(e===void 0||t===void 0||r===void 0)return bh("JWT malformed, contained fewer than 3 sections"),null;try{const o=zT(t);return o?JSON.parse(o):(bh("Failed to decode base64 JWT payload"),null)}catch(o){return bh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function F0(i){const e=sg(i);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Io(i,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Qn&&Kx(r)&&i.auth.currentUser===i&&await i.auth.signOut(),r}}function Kx({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ap{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=fu(this.lastLoginAt),this.creationTime=fu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bh(i){var e;const t=i.auth,r=await i.getIdToken(),o=await Io(i,Uh(t,{idToken:r}));Ee(o?.users.length,t,"internal-error");const u=o.users[0];i._notifyReloadListener(u);const h=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?lw(u.providerUserInfo):[],d=Wx(i.providerData,h),p=i.isAnonymous,y=!(i.email&&u.passwordHash)&&!d?.length,_=p?y:!1,A={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:d,metadata:new Ap(u.createdAt,u.lastLoginAt),isAnonymous:_};Object.assign(i,A)}async function Xx(i){const e=lt(i);await Bh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Wx(i,e){return[...i.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function lw(i){return i.map(e=>{var{providerId:t}=e,r=tg(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zx(i,e){const t=await aw(i,{},async()=>{const r=Ou({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,h=await ow(i,o,"/v1/token",`key=${u}`),d=await i._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:d,body:r};return i.emulatorConfig&&ga(i.emulatorConfig.host)&&(p.credentials="include"),rw.fetch()(h,p)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function Jx(i,e){return ws(i,"POST","/v2/accounts:revokeToken",yr(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):F0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const t=F0(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:o,expiresIn:u}=await Zx(e,t);this.updateTokensAndExpiration(r,o,Number(u))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:o,expirationTime:u}=t,h=new Ao;return r&&(Ee(typeof r=="string","internal-error",{appName:e}),h.refreshToken=r),o&&(Ee(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(Ee(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ao,this.toJSON())}_performRefresh(){return cs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Js(i,e){Ee(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class ei{constructor(e){var{uid:t,auth:r,stsTokenManager:o}=e,u=tg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Yx(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Ap(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const t=await Io(this,this.stsTokenManager.getToken(this.auth,e));return Ee(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return Qx(this,e)}reload(){return Xx(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ei(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Bh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(xn(this.auth.app))return Promise.reject(ds(this.auth));const e=await this.getIdToken();return await Io(this,$x(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,o,u,h,d,p,y,_;const A=(r=t.displayName)!==null&&r!==void 0?r:void 0,w=(o=t.email)!==null&&o!==void 0?o:void 0,C=(u=t.phoneNumber)!==null&&u!==void 0?u:void 0,x=(h=t.photoURL)!==null&&h!==void 0?h:void 0,U=(d=t.tenantId)!==null&&d!==void 0?d:void 0,j=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,P=(y=t.createdAt)!==null&&y!==void 0?y:void 0,X=(_=t.lastLoginAt)!==null&&_!==void 0?_:void 0,{uid:K,emailVerified:se,isAnonymous:re,providerData:he,stsTokenManager:D}=t;Ee(K&&D,e,"internal-error");const R=Ao.fromJSON(this.name,D);Ee(typeof K=="string",e,"internal-error"),Js(A,e.name),Js(w,e.name),Ee(typeof se=="boolean",e,"internal-error"),Ee(typeof re=="boolean",e,"internal-error"),Js(C,e.name),Js(x,e.name),Js(U,e.name),Js(j,e.name),Js(P,e.name),Js(X,e.name);const I=new ei({uid:K,auth:e,email:w,emailVerified:se,displayName:A,isAnonymous:re,photoURL:x,phoneNumber:C,tenantId:U,stsTokenManager:R,createdAt:P,lastLoginAt:X});return he&&Array.isArray(he)&&(I.providerData=he.map(k=>Object.assign({},k))),j&&(I._redirectEventId=j),I}static async _fromIdTokenResponse(e,t,r=!1){const o=new Ao;o.updateFromServerResponse(t);const u=new ei({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await Bh(u),u}static async _fromGetAccountInfoResponse(e,t,r){const o=t.users[0];Ee(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?lw(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!u?.length,d=new Ao;d.updateFromIdToken(r);const p=new ei({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:h}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Ap(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,y),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H0=new Map;function hs(i){vs(i instanceof Function,"Expected a class definition");let e=H0.get(i);return e?(vs(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,H0.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}uw.type="NONE";const G0=uw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sh(i,e,t){return`firebase:${i}:${e}:${t}`}class bo{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:o,name:u}=this.auth;this.fullUserKey=Sh(this.userKey,o.apiKey,u),this.fullPersistenceKey=Sh("persistence",o.apiKey,u),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Uh(this.auth,{idToken:e}).catch(()=>{});return t?ei._fromGetAccountInfoResponse(this.auth,t,e):null}return ei._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new bo(hs(G0),e,r);const o=(await Promise.all(t.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||hs(G0);const h=Sh(r,e.config.apiKey,e.name);let d=null;for(const y of t)try{const _=await y._get(h);if(_){let A;if(typeof _=="string"){const w=await Uh(e,{idToken:_}).catch(()=>{});if(!w)break;A=await ei._fromGetAccountInfoResponse(e,w,_)}else A=ei._fromJSON(e,_);y!==u&&(d=A),u=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new bo(u,e,r):(u=p[0],d&&await u._set(h,d.toJSON()),await Promise.all(t.map(async y=>{if(y!==u)try{await y._remove(h)}catch{}})),new bo(u,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $0(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(dw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(cw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(pw(e))return"Blackberry";if(gw(e))return"Webos";if(hw(e))return"Safari";if((e.includes("chrome/")||fw(e))&&!e.includes("edge/"))return"Chrome";if(mw(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=i.match(t);if(r?.length===2)return r[1]}return"Other"}function cw(i=sn()){return/firefox\//i.test(i)}function hw(i=sn()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function fw(i=sn()){return/crios\//i.test(i)}function dw(i=sn()){return/iemobile/i.test(i)}function mw(i=sn()){return/android/i.test(i)}function pw(i=sn()){return/blackberry/i.test(i)}function gw(i=sn()){return/webos/i.test(i)}function rg(i=sn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function eI(i=sn()){var e;return rg(i)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function tI(){return d2()&&document.documentMode===10}function yw(i=sn()){return rg(i)||mw(i)||gw(i)||pw(i)||/windows phone/i.test(i)||dw(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vw(i,e=[]){let t;switch(i){case"Browser":t=$0(sn());break;case"Worker":t=`${$0(sn())}-${i}`;break;default:t=i}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${va}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=u=>new Promise((h,d)=>{try{const p=e(u);h(p)}catch(p){d(p)}});r.onAbort=t,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iI(i,e={}){return ws(i,"GET","/v2/passwordPolicy",yr(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sI=6;class rI{constructor(e){var t,r,o,u;const h=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=h.minPasswordLength)!==null&&t!==void 0?t:sI,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,o,u,h,d;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(r=p.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(h=p.containsNumericCharacter)!==null&&h!==void 0?h:!0),p.isValid&&(p.isValid=(d=p.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),p}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(e,t,r,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Q0(this),this.idTokenSubscription=new Q0(this),this.beforeStateQueue=new nI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=iw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=hs(t)),this._initializationPromise=this.queue(async()=>{var r,o,u;if(!this._deleted&&(this.persistenceManager=await bo.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Uh(this,{idToken:e}),r=await ei._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(xn(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(d,d))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let o=r,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,d=o?._redirectEventId,p=await this.tryRedirectSignIn(e);(!h||h===d)&&p?.user&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(h){o=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Bh(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Lx()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(xn(this.app))return Promise.reject(ds(this));const t=e?lt(e):null;return t&&Ee(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return xn(this.app)?Promise.reject(ds(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return xn(this.app)?Promise.reject(ds(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(hs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await iI(this),t=new rI(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ya("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await Jx(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&hs(e)||this._popupRedirectResolver;Ee(t,this,"argument-error"),this.redirectPersistenceManager=await bo.create(this,[hs(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,o){if(this._deleted)return()=>{};const u=typeof t=="function"?t:t.next.bind(t);let h=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(d,this,"internal-error"),d.then(()=>{h||u(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,r,o);return()=>{h=!0,p()}}else{const p=e.addObserver(t);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=vw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;if(xn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t?.error&&Px(`Error while retrieving App Check token: ${t.error}`),t?.token}}function _a(i){return lt(i)}class Q0{constructor(e){this.auth=e,this.observer=null,this.addObserver=E2(t=>this.observer=t)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let df={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function oI(i){df=i}function _w(i){return df.loadJS(i)}function lI(){return df.recaptchaEnterpriseScript}function uI(){return df.gapiScript}function cI(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class hI{constructor(){this.enterprise=new fI}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class fI{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const dI="recaptcha-enterprise",Ew="NO_RECAPTCHA";class mI{constructor(e){this.type=dI,this.auth=_a(e)}async verify(e="verify",t=!1){async function r(u){if(!t){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,d)=>{Gx(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const y=new Hx(p);return u.tenantId==null?u._agentRecaptchaConfig=y:u._tenantRecaptchaConfigs[u.tenantId]=y,h(y.siteKey)}}).catch(p=>{d(p)})})}function o(u,h,d){const p=window.grecaptcha;q0(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(y=>{h(y)}).catch(()=>{h(Ew)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new hI().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{r(this.auth).then(d=>{if(!t&&q0(window.grecaptcha))o(d,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let p=lI();p.length!==0&&(p+=d),_w(p).then(()=>{o(d,u,h)}).catch(y=>{h(y)})}}).catch(d=>{h(d)})})}}async function K0(i,e,t,r=!1,o=!1){const u=new mI(i);let h;if(o)h=Ew;else try{h=await u.verify(t)}catch{h=await u.verify(t,!0)}const d=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const p=d.phoneEnrollmentInfo.phoneNumber,y=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:y,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const p=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return r?Object.assign(d,{captchaResp:h}):Object.assign(d,{captchaResponse:h}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function bp(i,e,t,r,o){var u;if(!((u=i._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await K0(i,e,t,t==="getOobCode");return r(i,h)}else return r(i,e).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await K0(i,e,t,t==="getOobCode");return r(i,d)}else return Promise.reject(h)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pI(i,e){const t=gr(i,"auth");if(t.isInitialized()){const o=t.getImmediate(),u=t.getOptions();if(Mi(u,e??{}))return o;ii(o,"already-initialized")}return t.initialize({options:e})}function gI(i,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(hs);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(r,e?.popupRedirectResolver)}function yI(i,e,t){const r=_a(i);Ee(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,u=Tw(e),{host:h,port:d}=vI(e),p=d===null?"":`:${d}`,y={url:`${u}//${h}${p}/`},_=Object.freeze({host:h,port:d,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){Ee(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ee(Mi(y,r.config.emulator)&&Mi(_,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=y,r.emulatorConfig=_,r.settings.appVerificationDisabledForTesting=!0,ga(h)?(Zp(`${u}//${h}${p}`),Jp("Auth",!0)):_I()}function Tw(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function vI(i){const e=Tw(i),t=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const u=o[1];return{host:u,port:Y0(r.substr(u.length+1))}}else{const[u,h]=r.split(":");return{host:u,port:Y0(h)}}}function Y0(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function _I(){function i(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return cs("not implemented")}_getIdTokenResponse(e){return cs("not implemented")}_linkToIdToken(e,t){return cs("not implemented")}_getReauthenticationResolver(e){return cs("not implemented")}}async function EI(i,e){return ws(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TI(i,e){return ku(i,"POST","/v1/accounts:signInWithPassword",yr(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wI(i,e){return ku(i,"POST","/v1/accounts:signInWithEmailLink",yr(i,e))}async function AI(i,e){return ku(i,"POST","/v1/accounts:signInWithEmailLink",yr(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu extends ag{constructor(e,t,r,o=null){super("password",r),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new Eu(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Eu(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return bp(e,t,"signInWithPassword",TI);case"emailLink":return wI(e,{email:this._email,oobCode:this._password});default:ii(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return bp(e,r,"signUpPassword",EI);case"emailLink":return AI(e,{idToken:t,email:this._email,oobCode:this._password});default:ii(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function So(i,e){return ku(i,"POST","/v1/accounts:signInWithIdp",yr(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bI="http://localhost";class ua extends ag{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ua(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ii("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o}=t,u=tg(t,["providerId","signInMethod"]);if(!r||!o)return null;const h=new ua(r,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const t=this.buildRequest();return So(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,So(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,So(e,t)}buildRequest(){const e={requestUri:bI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ou(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SI(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function RI(i){const e=ru(au(i)).link,t=e?ru(au(e)).deep_link_id:null,r=ru(au(i)).deep_link_id;return(r?ru(au(r)).link:null)||r||t||e||i}class og{constructor(e){var t,r,o,u,h,d;const p=ru(au(e)),y=(t=p.apiKey)!==null&&t!==void 0?t:null,_=(r=p.oobCode)!==null&&r!==void 0?r:null,A=SI((o=p.mode)!==null&&o!==void 0?o:null);Ee(y&&_&&A,"argument-error"),this.apiKey=y,this.operation=A,this.code=_,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(h=p.lang)!==null&&h!==void 0?h:null,this.tenantId=(d=p.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const t=RI(e);try{return new og(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(){this.providerId=Bo.PROVIDER_ID}static credential(e,t){return Eu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=og.parseLink(t);return Ee(r,"argument-error"),Eu._fromEmailAndCode(e,r.code,r.tenantId)}}Bo.PROVIDER_ID="password";Bo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Bo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu extends ww{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er extends Pu{constructor(){super("facebook.com")}static credential(e){return ua._fromParams({providerId:er.PROVIDER_ID,signInMethod:er.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return er.credentialFromTaggedObject(e)}static credentialFromError(e){return er.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return er.credential(e.oauthAccessToken)}catch{return null}}}er.FACEBOOK_SIGN_IN_METHOD="facebook.com";er.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr extends Pu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ua._fromParams({providerId:tr.PROVIDER_ID,signInMethod:tr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return tr.credentialFromTaggedObject(e)}static credentialFromError(e){return tr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return tr.credential(t,r)}catch{return null}}}tr.GOOGLE_SIGN_IN_METHOD="google.com";tr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr extends Pu{constructor(){super("github.com")}static credential(e){return ua._fromParams({providerId:nr.PROVIDER_ID,signInMethod:nr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return nr.credentialFromTaggedObject(e)}static credentialFromError(e){return nr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return nr.credential(e.oauthAccessToken)}catch{return null}}}nr.GITHUB_SIGN_IN_METHOD="github.com";nr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir extends Pu{constructor(){super("twitter.com")}static credential(e,t){return ua._fromParams({providerId:ir.PROVIDER_ID,signInMethod:ir.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ir.credentialFromTaggedObject(e)}static credentialFromError(e){return ir.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return ir.credential(t,r)}catch{return null}}}ir.TWITTER_SIGN_IN_METHOD="twitter.com";ir.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xI(i,e){return ku(i,"POST","/v1/accounts:signUp",yr(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,o=!1){const u=await ei._fromIdTokenResponse(e,r,o),h=X0(r);return new ca({user:u,providerId:h,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const o=X0(r);return new ca({user:e,providerId:o,_tokenResponse:r,operationType:t})}}function X0(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh extends Qn{constructor(e,t,r,o){var u;super(t.code,t.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,zh.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,o){return new zh(e,t,r,o)}}function Aw(i,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(i):t._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?zh._fromErrorAndOperation(i,u,e,r):u})}async function II(i,e,t=!1){const r=await Io(i,e._linkToIdToken(i.auth,await i.getIdToken()),t);return ca._forOperation(i,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CI(i,e,t=!1){const{auth:r}=i;if(xn(r.app))return Promise.reject(ds(r));const o="reauthenticate";try{const u=await Io(i,Aw(r,o,e,i),t);Ee(u.idToken,r,"internal-error");const h=sg(u.idToken);Ee(h,r,"internal-error");const{sub:d}=h;return Ee(i.uid===d,r,"user-mismatch"),ca._forOperation(i,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&ii(r,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bw(i,e,t=!1){if(xn(i.app))return Promise.reject(ds(i));const r="signIn",o=await Aw(i,r,e),u=await ca._fromIdTokenResponse(i,r,o);return t||await i._updateCurrentUser(u.user),u}async function NI(i,e){return bw(_a(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sw(i){const e=_a(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function DI(i,e,t){if(xn(i.app))return Promise.reject(ds(i));const r=_a(i),h=await bp(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",xI).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&Sw(i),p}),d=await ca._fromIdTokenResponse(r,"signIn",h);return await r._updateCurrentUser(d.user),d}function OI(i,e,t){return xn(i.app)?Promise.reject(ds(i)):NI(lt(i),Bo.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Sw(i),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MI(i,e){return ws(i,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kI(i,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const r=lt(i),u={idToken:await r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},h=await Io(r,MI(r.auth,u));r.displayName=h.displayName||null,r.photoURL=h.photoUrl||null;const d=r.providerData.find(({providerId:p})=>p==="password");d&&(d.displayName=r.displayName,d.photoURL=r.photoURL),await r._updateTokensIfNecessary(h)}function PI(i,e,t,r){return lt(i).onIdTokenChanged(e,t,r)}function jI(i,e,t){return lt(i).beforeAuthStateChanged(e,t)}function VI(i,e,t,r){return lt(i).onAuthStateChanged(e,t,r)}function LI(i){return lt(i).signOut()}const qh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(qh,"1"),this.storage.removeItem(qh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UI=1e3,BI=10;class xw extends Rw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=yw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),o=this.localCache[t];r!==o&&e(t,o,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((h,d,p)=>{this.notifyListeners(h,p)});return}const r=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(r);!t&&this.localCache[r]===h||this.notifyListeners(r,h)},u=this.storage.getItem(r);tI()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,BI):o()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},UI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}xw.type="LOCAL";const zI=xw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw extends Rw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Iw.type="SESSION";const Cw=Iw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qI(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const r=new mf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:o,data:u}=t.data,h=this.handlersMap[o];if(!h?.size)return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const d=Array.from(h).map(async y=>y(t.origin,u)),p=await qI(d);t.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}mf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lg(i="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return i+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((d,p)=>{const y=lg("",20);o.port1.start();const _=setTimeout(()=>{p(new Error("unsupported_event"))},r);h={messageChannel:o,onMessage(A){const w=A;if(w.data.eventId===y)switch(w.data.status){case"ack":clearTimeout(_),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),d(w.data.response);break;default:clearTimeout(_),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:y,data:t},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ii(){return window}function HI(i){Ii().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nw(){return typeof Ii().WorkerGlobalScope<"u"&&typeof Ii().importScripts=="function"}async function GI(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function $I(){var i;return((i=navigator?.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function QI(){return Nw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dw="firebaseLocalStorageDb",KI=1,Fh="firebaseLocalStorage",Ow="fbase_key";class ju{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function pf(i,e){return i.transaction([Fh],e?"readwrite":"readonly").objectStore(Fh)}function YI(){const i=indexedDB.deleteDatabase(Dw);return new ju(i).toPromise()}function Sp(){const i=indexedDB.open(Dw,KI);return new Promise((e,t)=>{i.addEventListener("error",()=>{t(i.error)}),i.addEventListener("upgradeneeded",()=>{const r=i.result;try{r.createObjectStore(Fh,{keyPath:Ow})}catch(o){t(o)}}),i.addEventListener("success",async()=>{const r=i.result;r.objectStoreNames.contains(Fh)?e(r):(r.close(),await YI(),e(await Sp()))})})}async function W0(i,e,t){const r=pf(i,!0).put({[Ow]:e,value:t});return new ju(r).toPromise()}async function XI(i,e){const t=pf(i,!1).get(e),r=await new ju(t).toPromise();return r===void 0?null:r.value}function Z0(i,e){const t=pf(i,!0).delete(e);return new ju(t).toPromise()}const WI=800,ZI=3;class Mw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Sp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>ZI)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Nw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=mf._getInstance(QI()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await GI(),!this.activeServiceWorker)return;this.sender=new FI(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||$I()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Sp();return await W0(e,qh,"1"),await Z0(e,qh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>W0(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>XI(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Z0(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=pf(o,!1).getAll();return new ju(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),WI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Mw.type="LOCAL";const JI=Mw;new Mu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eC(i,e){return e?hs(e):(Ee(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug extends ag{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return So(e,this._buildIdpRequest())}_linkToIdToken(e,t){return So(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return So(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function tC(i){return bw(i.auth,new ug(i),i.bypassAuthState)}function nC(i){const{auth:e,user:t}=i;return Ee(t,e,"internal-error"),CI(t,new ug(i),i.bypassAuthState)}async function iC(i){const{auth:e,user:t}=i;return Ee(t,e,"internal-error"),II(t,new ug(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kw{constructor(e,t,r,o,u=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:o,tenantId:u,error:h,type:d}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:t,sessionId:r,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return tC;case"linkViaPopup":case"linkViaRedirect":return iC;case"reauthViaPopup":case"reauthViaRedirect":return nC;default:ii(this.auth,"internal-error")}}resolve(e){vs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){vs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sC=new Mu(2e3,1e4);class wo extends kw{constructor(e,t,r,o,u){super(e,t,o,u),this.provider=r,this.authWindow=null,this.pollId=null,wo.currentPopupAction&&wo.currentPopupAction.cancel(),wo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){vs(this.filter.length===1,"Popup operations only handle one event");const e=lg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(xi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(xi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,wo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(xi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,sC.get())};e()}}wo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rC="pendingRedirect",Rh=new Map;class aC extends kw{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Rh.get(this.auth._key());if(!e){try{const r=await oC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Rh.set(this.auth._key(),e)}return this.bypassAuthState||Rh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function oC(i,e){const t=cC(e),r=uC(i);if(!await r._isAvailable())return!1;const o=await r._get(t)==="true";return await r._remove(t),o}function lC(i,e){Rh.set(i._key(),e)}function uC(i){return hs(i._redirectPersistence)}function cC(i){return Sh(rC,i.config.apiKey,i.name)}async function hC(i,e,t=!1){if(xn(i.app))return Promise.reject(ds(i));const r=_a(i),o=eC(r,e),h=await new aC(r,o,t).execute();return h&&!t&&(delete h.user._redirectEventId,await r._persistUserIfCurrent(h.user),await r._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fC=10*60*1e3;class dC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!mC(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!Pw(e)){const o=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(xi(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=fC&&this.cachedEventUids.clear(),this.cachedEventUids.has(J0(e))}saveEventToCache(e){this.cachedEventUids.add(J0(e)),this.lastProcessedEventTime=Date.now()}}function J0(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function Pw({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function mC(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Pw(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pC(i,e={}){return ws(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,yC=/^https?/;async function vC(i){if(i.config.emulator)return;const{authorizedDomains:e}=await pC(i);for(const t of e)try{if(_C(t))return}catch{}ii(i,"unauthorized-domain")}function _C(i){const e=wp(),{protocol:t,hostname:r}=new URL(e);if(i.startsWith("chrome-extension://")){const h=new URL(i);return h.hostname===""&&r===""?t==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&h.hostname===r}if(!yC.test(t))return!1;if(gC.test(i))return r===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EC=new Mu(3e4,6e4);function eE(){const i=Ii().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let t=0;t<i.CP.length;t++)i.CP[t]=null}}function TC(i){return new Promise((e,t)=>{var r,o,u;function h(){eE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{eE(),t(xi(i,"network-request-failed"))},timeout:EC.get()})}if(!((o=(r=Ii().gapi)===null||r===void 0?void 0:r.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=Ii().gapi)===null||u===void 0)&&u.load)h();else{const d=cI("iframefcb");return Ii()[d]=()=>{gapi.load?h():t(xi(i,"network-request-failed"))},_w(`${uI()}?onload=${d}`).catch(p=>t(p))}}).catch(e=>{throw xh=null,e})}let xh=null;function wC(i){return xh=xh||TC(i),xh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AC=new Mu(5e3,15e3),bC="__/auth/iframe",SC="emulator/auth/iframe",RC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},xC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function IC(i){const e=i.config;Ee(e.authDomain,i,"auth-domain-config-required");const t=e.emulator?ig(e,SC):`https://${i.config.authDomain}/${bC}`,r={apiKey:e.apiKey,appName:i.name,v:va},o=xC.get(i.config.apiHost);o&&(r.eid=o);const u=i._getFrameworks();return u.length&&(r.fw=u.join(",")),`${t}?${Ou(r).slice(1)}`}async function CC(i){const e=await wC(i),t=Ii().gapi;return Ee(t,i,"internal-error"),e.open({where:document.body,url:IC(i),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:RC,dontclear:!0},r=>new Promise(async(o,u)=>{await r.restyle({setHideOnLeave:!1});const h=xi(i,"network-request-failed"),d=Ii().setTimeout(()=>{u(h)},AC.get());function p(){Ii().clearTimeout(d),o(r)}r.ping(p).then(p,()=>{u(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},DC=500,OC=600,MC="_blank",kC="http://localhost";class tE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function PC(i,e,t,r=DC,o=OC){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const p=Object.assign(Object.assign({},NC),{width:r.toString(),height:o.toString(),top:u,left:h}),y=sn().toLowerCase();t&&(d=fw(y)?MC:t),cw(y)&&(e=e||kC,p.scrollbars="yes");const _=Object.entries(p).reduce((w,[C,x])=>`${w}${C}=${x},`,"");if(eI(y)&&d!=="_self")return jC(e||"",d),new tE(null);const A=window.open(e||"",d,_);Ee(A,i,"popup-blocked");try{A.focus()}catch{}return new tE(A)}function jC(i,e){const t=document.createElement("a");t.href=i,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VC="__/auth/handler",LC="emulator/auth/handler",UC=encodeURIComponent("fac");async function nE(i,e,t,r,o,u){Ee(i.config.authDomain,i,"auth-domain-config-required"),Ee(i.config.apiKey,i,"invalid-api-key");const h={apiKey:i.config.apiKey,appName:i.name,authType:t,redirectUrl:r,v:va,eventId:o};if(e instanceof ww){e.setDefaultLanguage(i.languageCode),h.providerId=e.providerId||"",_2(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,A]of Object.entries({}))h[_]=A}if(e instanceof Pu){const _=e.getScopes().filter(A=>A!=="");_.length>0&&(h.scopes=_.join(","))}i.tenantId&&(h.tid=i.tenantId);const d=h;for(const _ of Object.keys(d))d[_]===void 0&&delete d[_];const p=await i._getAppCheckToken(),y=p?`#${UC}=${encodeURIComponent(p)}`:"";return`${BC(i)}?${Ou(d).slice(1)}${y}`}function BC({config:i}){return i.emulator?ig(i,LC):`https://${i.authDomain}/${VC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sp="webStorageSupport";class zC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Cw,this._completeRedirectFn=hC,this._overrideRedirectResult=lC}async _openPopup(e,t,r,o){var u;vs((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const h=await nE(e,t,r,wp(),o);return PC(e,h,lg())}async _openRedirect(e,t,r,o){await this._originValidation(e);const u=await nE(e,t,r,wp(),o);return HI(u),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:u}=this.eventManagers[t];return o?Promise.resolve(o):(vs(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await CC(e),r=new dC(e);return t.register("authEvent",o=>(Ee(o?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(sp,{type:sp},o=>{var u;const h=(u=o?.[0])===null||u===void 0?void 0:u[sp];h!==void 0&&t(!!h),ii(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=vC(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return yw()||hw()||rg()}}const qC=zC;var iE="@firebase/auth",sE="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HC(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function GC(i){ni(new $n("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:d}=r.options;Ee(h&&!h.includes(":"),"invalid-api-key",{appName:r.name});const p={apiKey:h,authDomain:d,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:vw(i)},y=new aI(r,o,u,p);return gI(y,t),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),ni(new $n("auth-internal",e=>{const t=_a(e.getProvider("auth").getImmediate());return(r=>new FC(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),pn(iE,sE,HC(i)),pn(iE,sE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $C=5*60,QC=GT("authIdTokenMaxAge")||$C;let rE=null;const KC=i=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>QC)return;const o=t?.token;rE!==o&&(rE=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function YC(i=ff()){const e=gr(i,"auth");if(e.isInitialized())return e.getImmediate();const t=pI(i,{popupRedirectResolver:qC,persistence:[JI,zI,Cw]}),r=GT("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const h=KC(u.toString());jI(t,h,()=>h(t.currentUser)),PI(t,d=>h(d))}}const o=qT("auth");return o&&yI(t,`http://${o}`),t}function XC(){var i,e;return(e=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&e!==void 0?e:document}oI({loadJS(i){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",i),r.onload=e,r.onerror=o=>{const u=xi("internal-error");u.customData=o,t(u)},r.type="text/javascript",r.charset="UTF-8",XC().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});GC("Browser");var aE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var or,jw;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,R){function I(){}I.prototype=R.prototype,D.D=R.prototype,D.prototype=new I,D.prototype.constructor=D,D.C=function(k,z,B){for(var O=Array(arguments.length-2),mt=2;mt<arguments.length;mt++)O[mt-2]=arguments[mt];return R.prototype[z].apply(k,O)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(D,R,I){I||(I=0);var k=Array(16);if(typeof R=="string")for(var z=0;16>z;++z)k[z]=R.charCodeAt(I++)|R.charCodeAt(I++)<<8|R.charCodeAt(I++)<<16|R.charCodeAt(I++)<<24;else for(z=0;16>z;++z)k[z]=R[I++]|R[I++]<<8|R[I++]<<16|R[I++]<<24;R=D.g[0],I=D.g[1],z=D.g[2];var B=D.g[3],O=R+(B^I&(z^B))+k[0]+3614090360&4294967295;R=I+(O<<7&4294967295|O>>>25),O=B+(z^R&(I^z))+k[1]+3905402710&4294967295,B=R+(O<<12&4294967295|O>>>20),O=z+(I^B&(R^I))+k[2]+606105819&4294967295,z=B+(O<<17&4294967295|O>>>15),O=I+(R^z&(B^R))+k[3]+3250441966&4294967295,I=z+(O<<22&4294967295|O>>>10),O=R+(B^I&(z^B))+k[4]+4118548399&4294967295,R=I+(O<<7&4294967295|O>>>25),O=B+(z^R&(I^z))+k[5]+1200080426&4294967295,B=R+(O<<12&4294967295|O>>>20),O=z+(I^B&(R^I))+k[6]+2821735955&4294967295,z=B+(O<<17&4294967295|O>>>15),O=I+(R^z&(B^R))+k[7]+4249261313&4294967295,I=z+(O<<22&4294967295|O>>>10),O=R+(B^I&(z^B))+k[8]+1770035416&4294967295,R=I+(O<<7&4294967295|O>>>25),O=B+(z^R&(I^z))+k[9]+2336552879&4294967295,B=R+(O<<12&4294967295|O>>>20),O=z+(I^B&(R^I))+k[10]+4294925233&4294967295,z=B+(O<<17&4294967295|O>>>15),O=I+(R^z&(B^R))+k[11]+2304563134&4294967295,I=z+(O<<22&4294967295|O>>>10),O=R+(B^I&(z^B))+k[12]+1804603682&4294967295,R=I+(O<<7&4294967295|O>>>25),O=B+(z^R&(I^z))+k[13]+4254626195&4294967295,B=R+(O<<12&4294967295|O>>>20),O=z+(I^B&(R^I))+k[14]+2792965006&4294967295,z=B+(O<<17&4294967295|O>>>15),O=I+(R^z&(B^R))+k[15]+1236535329&4294967295,I=z+(O<<22&4294967295|O>>>10),O=R+(z^B&(I^z))+k[1]+4129170786&4294967295,R=I+(O<<5&4294967295|O>>>27),O=B+(I^z&(R^I))+k[6]+3225465664&4294967295,B=R+(O<<9&4294967295|O>>>23),O=z+(R^I&(B^R))+k[11]+643717713&4294967295,z=B+(O<<14&4294967295|O>>>18),O=I+(B^R&(z^B))+k[0]+3921069994&4294967295,I=z+(O<<20&4294967295|O>>>12),O=R+(z^B&(I^z))+k[5]+3593408605&4294967295,R=I+(O<<5&4294967295|O>>>27),O=B+(I^z&(R^I))+k[10]+38016083&4294967295,B=R+(O<<9&4294967295|O>>>23),O=z+(R^I&(B^R))+k[15]+3634488961&4294967295,z=B+(O<<14&4294967295|O>>>18),O=I+(B^R&(z^B))+k[4]+3889429448&4294967295,I=z+(O<<20&4294967295|O>>>12),O=R+(z^B&(I^z))+k[9]+568446438&4294967295,R=I+(O<<5&4294967295|O>>>27),O=B+(I^z&(R^I))+k[14]+3275163606&4294967295,B=R+(O<<9&4294967295|O>>>23),O=z+(R^I&(B^R))+k[3]+4107603335&4294967295,z=B+(O<<14&4294967295|O>>>18),O=I+(B^R&(z^B))+k[8]+1163531501&4294967295,I=z+(O<<20&4294967295|O>>>12),O=R+(z^B&(I^z))+k[13]+2850285829&4294967295,R=I+(O<<5&4294967295|O>>>27),O=B+(I^z&(R^I))+k[2]+4243563512&4294967295,B=R+(O<<9&4294967295|O>>>23),O=z+(R^I&(B^R))+k[7]+1735328473&4294967295,z=B+(O<<14&4294967295|O>>>18),O=I+(B^R&(z^B))+k[12]+2368359562&4294967295,I=z+(O<<20&4294967295|O>>>12),O=R+(I^z^B)+k[5]+4294588738&4294967295,R=I+(O<<4&4294967295|O>>>28),O=B+(R^I^z)+k[8]+2272392833&4294967295,B=R+(O<<11&4294967295|O>>>21),O=z+(B^R^I)+k[11]+1839030562&4294967295,z=B+(O<<16&4294967295|O>>>16),O=I+(z^B^R)+k[14]+4259657740&4294967295,I=z+(O<<23&4294967295|O>>>9),O=R+(I^z^B)+k[1]+2763975236&4294967295,R=I+(O<<4&4294967295|O>>>28),O=B+(R^I^z)+k[4]+1272893353&4294967295,B=R+(O<<11&4294967295|O>>>21),O=z+(B^R^I)+k[7]+4139469664&4294967295,z=B+(O<<16&4294967295|O>>>16),O=I+(z^B^R)+k[10]+3200236656&4294967295,I=z+(O<<23&4294967295|O>>>9),O=R+(I^z^B)+k[13]+681279174&4294967295,R=I+(O<<4&4294967295|O>>>28),O=B+(R^I^z)+k[0]+3936430074&4294967295,B=R+(O<<11&4294967295|O>>>21),O=z+(B^R^I)+k[3]+3572445317&4294967295,z=B+(O<<16&4294967295|O>>>16),O=I+(z^B^R)+k[6]+76029189&4294967295,I=z+(O<<23&4294967295|O>>>9),O=R+(I^z^B)+k[9]+3654602809&4294967295,R=I+(O<<4&4294967295|O>>>28),O=B+(R^I^z)+k[12]+3873151461&4294967295,B=R+(O<<11&4294967295|O>>>21),O=z+(B^R^I)+k[15]+530742520&4294967295,z=B+(O<<16&4294967295|O>>>16),O=I+(z^B^R)+k[2]+3299628645&4294967295,I=z+(O<<23&4294967295|O>>>9),O=R+(z^(I|~B))+k[0]+4096336452&4294967295,R=I+(O<<6&4294967295|O>>>26),O=B+(I^(R|~z))+k[7]+1126891415&4294967295,B=R+(O<<10&4294967295|O>>>22),O=z+(R^(B|~I))+k[14]+2878612391&4294967295,z=B+(O<<15&4294967295|O>>>17),O=I+(B^(z|~R))+k[5]+4237533241&4294967295,I=z+(O<<21&4294967295|O>>>11),O=R+(z^(I|~B))+k[12]+1700485571&4294967295,R=I+(O<<6&4294967295|O>>>26),O=B+(I^(R|~z))+k[3]+2399980690&4294967295,B=R+(O<<10&4294967295|O>>>22),O=z+(R^(B|~I))+k[10]+4293915773&4294967295,z=B+(O<<15&4294967295|O>>>17),O=I+(B^(z|~R))+k[1]+2240044497&4294967295,I=z+(O<<21&4294967295|O>>>11),O=R+(z^(I|~B))+k[8]+1873313359&4294967295,R=I+(O<<6&4294967295|O>>>26),O=B+(I^(R|~z))+k[15]+4264355552&4294967295,B=R+(O<<10&4294967295|O>>>22),O=z+(R^(B|~I))+k[6]+2734768916&4294967295,z=B+(O<<15&4294967295|O>>>17),O=I+(B^(z|~R))+k[13]+1309151649&4294967295,I=z+(O<<21&4294967295|O>>>11),O=R+(z^(I|~B))+k[4]+4149444226&4294967295,R=I+(O<<6&4294967295|O>>>26),O=B+(I^(R|~z))+k[11]+3174756917&4294967295,B=R+(O<<10&4294967295|O>>>22),O=z+(R^(B|~I))+k[2]+718787259&4294967295,z=B+(O<<15&4294967295|O>>>17),O=I+(B^(z|~R))+k[9]+3951481745&4294967295,D.g[0]=D.g[0]+R&4294967295,D.g[1]=D.g[1]+(z+(O<<21&4294967295|O>>>11))&4294967295,D.g[2]=D.g[2]+z&4294967295,D.g[3]=D.g[3]+B&4294967295}r.prototype.u=function(D,R){R===void 0&&(R=D.length);for(var I=R-this.blockSize,k=this.B,z=this.h,B=0;B<R;){if(z==0)for(;B<=I;)o(this,D,B),B+=this.blockSize;if(typeof D=="string"){for(;B<R;)if(k[z++]=D.charCodeAt(B++),z==this.blockSize){o(this,k),z=0;break}}else for(;B<R;)if(k[z++]=D[B++],z==this.blockSize){o(this,k),z=0;break}}this.h=z,this.o+=R},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var R=1;R<D.length-8;++R)D[R]=0;var I=8*this.o;for(R=D.length-8;R<D.length;++R)D[R]=I&255,I/=256;for(this.u(D),D=Array(16),R=I=0;4>R;++R)for(var k=0;32>k;k+=8)D[I++]=this.g[R]>>>k&255;return D};function u(D,R){var I=d;return Object.prototype.hasOwnProperty.call(I,D)?I[D]:I[D]=R(D)}function h(D,R){this.h=R;for(var I=[],k=!0,z=D.length-1;0<=z;z--){var B=D[z]|0;k&&B==R||(I[z]=B,k=!1)}this.g=I}var d={};function p(D){return-128<=D&&128>D?u(D,function(R){return new h([R|0],0>R?-1:0)}):new h([D|0],0>D?-1:0)}function y(D){if(isNaN(D)||!isFinite(D))return A;if(0>D)return j(y(-D));for(var R=[],I=1,k=0;D>=I;k++)R[k]=D/I|0,I*=4294967296;return new h(R,0)}function _(D,R){if(D.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(D.charAt(0)=="-")return j(_(D.substring(1),R));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=y(Math.pow(R,8)),k=A,z=0;z<D.length;z+=8){var B=Math.min(8,D.length-z),O=parseInt(D.substring(z,z+B),R);8>B?(B=y(Math.pow(R,B)),k=k.j(B).add(y(O))):(k=k.j(I),k=k.add(y(O)))}return k}var A=p(0),w=p(1),C=p(16777216);i=h.prototype,i.m=function(){if(U(this))return-j(this).m();for(var D=0,R=1,I=0;I<this.g.length;I++){var k=this.i(I);D+=(0<=k?k:4294967296+k)*R,R*=4294967296}return D},i.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(x(this))return"0";if(U(this))return"-"+j(this).toString(D);for(var R=y(Math.pow(D,6)),I=this,k="";;){var z=se(I,R).g;I=P(I,z.j(R));var B=((0<I.g.length?I.g[0]:I.h)>>>0).toString(D);if(I=z,x(I))return B+k;for(;6>B.length;)B="0"+B;k=B+k}},i.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function x(D){if(D.h!=0)return!1;for(var R=0;R<D.g.length;R++)if(D.g[R]!=0)return!1;return!0}function U(D){return D.h==-1}i.l=function(D){return D=P(this,D),U(D)?-1:x(D)?0:1};function j(D){for(var R=D.g.length,I=[],k=0;k<R;k++)I[k]=~D.g[k];return new h(I,~D.h).add(w)}i.abs=function(){return U(this)?j(this):this},i.add=function(D){for(var R=Math.max(this.g.length,D.g.length),I=[],k=0,z=0;z<=R;z++){var B=k+(this.i(z)&65535)+(D.i(z)&65535),O=(B>>>16)+(this.i(z)>>>16)+(D.i(z)>>>16);k=O>>>16,B&=65535,O&=65535,I[z]=O<<16|B}return new h(I,I[I.length-1]&-2147483648?-1:0)};function P(D,R){return D.add(j(R))}i.j=function(D){if(x(this)||x(D))return A;if(U(this))return U(D)?j(this).j(j(D)):j(j(this).j(D));if(U(D))return j(this.j(j(D)));if(0>this.l(C)&&0>D.l(C))return y(this.m()*D.m());for(var R=this.g.length+D.g.length,I=[],k=0;k<2*R;k++)I[k]=0;for(k=0;k<this.g.length;k++)for(var z=0;z<D.g.length;z++){var B=this.i(k)>>>16,O=this.i(k)&65535,mt=D.i(z)>>>16,it=D.i(z)&65535;I[2*k+2*z]+=O*it,X(I,2*k+2*z),I[2*k+2*z+1]+=B*it,X(I,2*k+2*z+1),I[2*k+2*z+1]+=O*mt,X(I,2*k+2*z+1),I[2*k+2*z+2]+=B*mt,X(I,2*k+2*z+2)}for(k=0;k<R;k++)I[k]=I[2*k+1]<<16|I[2*k];for(k=R;k<2*R;k++)I[k]=0;return new h(I,0)};function X(D,R){for(;(D[R]&65535)!=D[R];)D[R+1]+=D[R]>>>16,D[R]&=65535,R++}function K(D,R){this.g=D,this.h=R}function se(D,R){if(x(R))throw Error("division by zero");if(x(D))return new K(A,A);if(U(D))return R=se(j(D),R),new K(j(R.g),j(R.h));if(U(R))return R=se(D,j(R)),new K(j(R.g),R.h);if(30<D.g.length){if(U(D)||U(R))throw Error("slowDivide_ only works with positive integers.");for(var I=w,k=R;0>=k.l(D);)I=re(I),k=re(k);var z=he(I,1),B=he(k,1);for(k=he(k,2),I=he(I,2);!x(k);){var O=B.add(k);0>=O.l(D)&&(z=z.add(I),B=O),k=he(k,1),I=he(I,1)}return R=P(D,z.j(R)),new K(z,R)}for(z=A;0<=D.l(R);){for(I=Math.max(1,Math.floor(D.m()/R.m())),k=Math.ceil(Math.log(I)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),B=y(I),O=B.j(R);U(O)||0<O.l(D);)I-=k,B=y(I),O=B.j(R);x(B)&&(B=w),z=z.add(B),D=P(D,O)}return new K(z,D)}i.A=function(D){return se(this,D).h},i.and=function(D){for(var R=Math.max(this.g.length,D.g.length),I=[],k=0;k<R;k++)I[k]=this.i(k)&D.i(k);return new h(I,this.h&D.h)},i.or=function(D){for(var R=Math.max(this.g.length,D.g.length),I=[],k=0;k<R;k++)I[k]=this.i(k)|D.i(k);return new h(I,this.h|D.h)},i.xor=function(D){for(var R=Math.max(this.g.length,D.g.length),I=[],k=0;k<R;k++)I[k]=this.i(k)^D.i(k);return new h(I,this.h^D.h)};function re(D){for(var R=D.g.length+1,I=[],k=0;k<R;k++)I[k]=D.i(k)<<1|D.i(k-1)>>>31;return new h(I,D.h)}function he(D,R){var I=R>>5;R%=32;for(var k=D.g.length-I,z=[],B=0;B<k;B++)z[B]=0<R?D.i(B+I)>>>R|D.i(B+I+1)<<32-R:D.i(B+I);return new h(z,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,jw=r,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=y,h.fromString=_,or=h}).apply(typeof aE<"u"?aE:typeof self<"u"?self:typeof window<"u"?window:{});var ph=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Vw,ou,Lw,Ih,Rp,Uw,Bw,zw;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,v,E){return c==Array.prototype||c==Object.prototype||(c[v]=E.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof ph=="object"&&ph];for(var v=0;v<c.length;++v){var E=c[v];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=t(this);function o(c,v){if(v)e:{var E=r;c=c.split(".");for(var S=0;S<c.length-1;S++){var F=c[S];if(!(F in E))break e;E=E[F]}c=c[c.length-1],S=E[c],v=v(S),v!=S&&v!=null&&e(E,c,{configurable:!0,writable:!0,value:v})}}function u(c,v){c instanceof String&&(c+="");var E=0,S=!1,F={next:function(){if(!S&&E<c.length){var Y=E++;return{value:v(Y,c[Y]),done:!1}}return S=!0,{done:!0,value:void 0}}};return F[Symbol.iterator]=function(){return F},F}o("Array.prototype.values",function(c){return c||function(){return u(this,function(v,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},d=this||self;function p(c){var v=typeof c;return v=v!="object"?v:c?Array.isArray(c)?"array":v:"null",v=="array"||v=="object"&&typeof c.length=="number"}function y(c){var v=typeof c;return v=="object"&&c!=null||v=="function"}function _(c,v,E){return c.call.apply(c.bind,arguments)}function A(c,v,E){if(!c)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var F=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(F,S),c.apply(v,F)}}return function(){return c.apply(v,arguments)}}function w(c,v,E){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:A,w.apply(null,arguments)}function C(c,v){var E=Array.prototype.slice.call(arguments,1);return function(){var S=E.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function x(c,v){function E(){}E.prototype=v.prototype,c.aa=v.prototype,c.prototype=new E,c.prototype.constructor=c,c.Qb=function(S,F,Y){for(var oe=Array(arguments.length-2),Pe=2;Pe<arguments.length;Pe++)oe[Pe-2]=arguments[Pe];return v.prototype[F].apply(S,oe)}}function U(c){const v=c.length;if(0<v){const E=Array(v);for(let S=0;S<v;S++)E[S]=c[S];return E}return[]}function j(c,v){for(let E=1;E<arguments.length;E++){const S=arguments[E];if(p(S)){const F=c.length||0,Y=S.length||0;c.length=F+Y;for(let oe=0;oe<Y;oe++)c[F+oe]=S[oe]}else c.push(S)}}class P{constructor(v,E){this.i=v,this.j=E,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function X(c){return/^[\s\xa0]*$/.test(c)}function K(){var c=d.navigator;return c&&(c=c.userAgent)?c:""}function se(c){return se[" "](c),c}se[" "]=function(){};var re=K().indexOf("Gecko")!=-1&&!(K().toLowerCase().indexOf("webkit")!=-1&&K().indexOf("Edge")==-1)&&!(K().indexOf("Trident")!=-1||K().indexOf("MSIE")!=-1)&&K().indexOf("Edge")==-1;function he(c,v,E){for(const S in c)v.call(E,c[S],S,c)}function D(c,v){for(const E in c)v.call(void 0,c[E],E,c)}function R(c){const v={};for(const E in c)v[E]=c[E];return v}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(c,v){let E,S;for(let F=1;F<arguments.length;F++){S=arguments[F];for(E in S)c[E]=S[E];for(let Y=0;Y<I.length;Y++)E=I[Y],Object.prototype.hasOwnProperty.call(S,E)&&(c[E]=S[E])}}function z(c){var v=1;c=c.split(":");const E=[];for(;0<v&&c.length;)E.push(c.shift()),v--;return c.length&&E.push(c.join(":")),E}function B(c){d.setTimeout(()=>{throw c},0)}function O(){var c=ze;let v=null;return c.g&&(v=c.g,c.g=c.g.next,c.g||(c.h=null),v.next=null),v}class mt{constructor(){this.h=this.g=null}add(v,E){const S=it.get();S.set(v,E),this.h?this.h.next=S:this.g=S,this.h=S}}var it=new P(()=>new W,c=>c.reset());class W{constructor(){this.next=this.g=this.h=null}set(v,E){this.h=v,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let le,pe=!1,ze=new mt,V=()=>{const c=d.Promise.resolve(void 0);le=()=>{c.then(ie)}};var ie=()=>{for(var c;c=O();){try{c.h.call(c.g)}catch(E){B(E)}var v=it;v.j(c),100>v.h&&(v.h++,c.next=v.g,v.g=c)}pe=!1};function ue(){this.s=this.s,this.C=this.C}ue.prototype.s=!1,ue.prototype.ma=function(){this.s||(this.s=!0,this.N())},ue.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ae(c,v){this.type=c,this.g=this.target=v,this.defaultPrevented=!1}ae.prototype.h=function(){this.defaultPrevented=!0};var ye=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,v=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const E=()=>{};d.addEventListener("test",E,v),d.removeEventListener("test",E,v)}catch{}return c}();function Ce(c,v){if(ae.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var E=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=v,v=c.relatedTarget){if(re){e:{try{se(v.nodeName);var F=!0;break e}catch{}F=!1}F||(v=null)}}else E=="mouseover"?v=c.fromElement:E=="mouseout"&&(v=c.toElement);this.relatedTarget=v,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Ae[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ce.aa.h.call(this)}}x(Ce,ae);var Ae={2:"touch",3:"pen",4:"mouse"};Ce.prototype.h=function(){Ce.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ot="closure_listenable_"+(1e6*Math.random()|0),Je=0;function li(c,v,E,S,F){this.listener=c,this.proxy=null,this.src=v,this.type=E,this.capture=!!S,this.ha=F,this.key=++Je,this.da=this.fa=!1}function bs(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Li(c){this.src=c,this.g={},this.h=0}Li.prototype.add=function(c,v,E,S,F){var Y=c.toString();c=this.g[Y],c||(c=this.g[Y]=[],this.h++);var oe=Tr(c,v,S,F);return-1<oe?(v=c[oe],E||(v.fa=!1)):(v=new li(v,this.src,Y,!!S,F),v.fa=E,c.push(v)),v};function Er(c,v){var E=v.type;if(E in c.g){var S=c.g[E],F=Array.prototype.indexOf.call(S,v,void 0),Y;(Y=0<=F)&&Array.prototype.splice.call(S,F,1),Y&&(bs(v),c.g[E].length==0&&(delete c.g[E],c.h--))}}function Tr(c,v,E,S){for(var F=0;F<c.length;++F){var Y=c[F];if(!Y.da&&Y.listener==v&&Y.capture==!!E&&Y.ha==S)return F}return-1}var wr="closure_lm_"+(1e6*Math.random()|0),Qo={};function Fu(c,v,E,S,F){if(Array.isArray(v)){for(var Y=0;Y<v.length;Y++)Fu(c,v[Y],E,S,F);return null}return E=Hu(E),c&&c[Ot]?c.K(v,E,y(S)?!!S.capture:!1,F):Nn(c,v,E,!1,S,F)}function Nn(c,v,E,S,F,Y){if(!v)throw Error("Invalid event type");var oe=y(F)?!!F.capture:!!F,Pe=Ra(c);if(Pe||(c[wr]=Pe=new Li(c)),E=Pe.add(v,E,S,oe,Y),E.proxy)return E;if(S=Hf(),E.proxy=S,S.src=c,S.listener=E,c.addEventListener)ye||(F=oe),F===void 0&&(F=!1),c.addEventListener(v.toString(),S,F);else if(c.attachEvent)c.attachEvent(Ar(v.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Hf(){function c(E){return v.call(c.src,c.listener,E)}const v=Gf;return c}function Ko(c,v,E,S,F){if(Array.isArray(v))for(var Y=0;Y<v.length;Y++)Ko(c,v[Y],E,S,F);else S=y(S)?!!S.capture:!!S,E=Hu(E),c&&c[Ot]?(c=c.i,v=String(v).toString(),v in c.g&&(Y=c.g[v],E=Tr(Y,E,S,F),-1<E&&(bs(Y[E]),Array.prototype.splice.call(Y,E,1),Y.length==0&&(delete c.g[v],c.h--)))):c&&(c=Ra(c))&&(v=c.g[v.toString()],c=-1,v&&(c=Tr(v,E,S,F)),(E=-1<c?v[c]:null)&&Sa(E))}function Sa(c){if(typeof c!="number"&&c&&!c.da){var v=c.src;if(v&&v[Ot])Er(v.i,c);else{var E=c.type,S=c.proxy;v.removeEventListener?v.removeEventListener(E,S,c.capture):v.detachEvent?v.detachEvent(Ar(E),S):v.addListener&&v.removeListener&&v.removeListener(S),(E=Ra(v))?(Er(E,c),E.h==0&&(E.src=null,v[wr]=null)):bs(c)}}}function Ar(c){return c in Qo?Qo[c]:Qo[c]="on"+c}function Gf(c,v){if(c.da)c=!0;else{v=new Ce(v,this);var E=c.listener,S=c.ha||c.src;c.fa&&Sa(c),c=E.call(S,v)}return c}function Ra(c){return c=c[wr],c instanceof Li?c:null}var Yo="__closure_events_fn_"+(1e9*Math.random()>>>0);function Hu(c){return typeof c=="function"?c:(c[Yo]||(c[Yo]=function(v){return c.handleEvent(v)}),c[Yo])}function ct(){ue.call(this),this.i=new Li(this),this.M=this,this.F=null}x(ct,ue),ct.prototype[Ot]=!0,ct.prototype.removeEventListener=function(c,v,E,S){Ko(this,c,v,E,S)};function Ge(c,v){var E,S=c.F;if(S)for(E=[];S;S=S.F)E.push(S);if(c=c.M,S=v.type||v,typeof v=="string")v=new ae(v,c);else if(v instanceof ae)v.target=v.target||c;else{var F=v;v=new ae(S,c),k(v,F)}if(F=!0,E)for(var Y=E.length-1;0<=Y;Y--){var oe=v.g=E[Y];F=vn(oe,S,!0,v)&&F}if(oe=v.g=c,F=vn(oe,S,!0,v)&&F,F=vn(oe,S,!1,v)&&F,E)for(Y=0;Y<E.length;Y++)oe=v.g=E[Y],F=vn(oe,S,!1,v)&&F}ct.prototype.N=function(){if(ct.aa.N.call(this),this.i){var c=this.i,v;for(v in c.g){for(var E=c.g[v],S=0;S<E.length;S++)bs(E[S]);delete c.g[v],c.h--}}this.F=null},ct.prototype.K=function(c,v,E,S){return this.i.add(String(c),v,!1,E,S)},ct.prototype.L=function(c,v,E,S){return this.i.add(String(c),v,!0,E,S)};function vn(c,v,E,S){if(v=c.i.g[String(v)],!v)return!0;v=v.concat();for(var F=!0,Y=0;Y<v.length;++Y){var oe=v[Y];if(oe&&!oe.da&&oe.capture==E){var Pe=oe.listener,xt=oe.ha||oe.src;oe.fa&&Er(c.i,oe),F=Pe.call(xt,S)!==!1&&F}}return F&&!S.defaultPrevented}function Yt(c,v,E){if(typeof c=="function")E&&(c=w(c,E));else if(c&&typeof c.handleEvent=="function")c=w(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:d.setTimeout(c,v||0)}function Gu(c){c.g=Yt(()=>{c.g=null,c.i&&(c.i=!1,Gu(c))},c.l);const v=c.h;c.h=null,c.m.apply(null,v)}class $f extends ue{constructor(v,E){super(),this.m=v,this.l=E,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Gu(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function br(c){ue.call(this),this.h=c,this.g={}}x(br,ue);var Sr=[];function Rr(c){he(c.g,function(v,E){this.g.hasOwnProperty(E)&&Sa(v)},c),c.g={}}br.prototype.N=function(){br.aa.N.call(this),Rr(this)},br.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Kn=d.JSON.stringify,xa=d.JSON.parse,xr=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function Xo(){}Xo.prototype.h=null;function Wo(c){return c.h||(c.h=c.i())}function Zo(){}var Ui={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Bi(){ae.call(this,"d")}x(Bi,ae);function Jo(){ae.call(this,"c")}x(Jo,ae);var ui={},el=null;function Ss(){return el=el||new ct}ui.La="serverreachability";function Ia(c){ae.call(this,ui.La,c)}x(Ia,ae);function Rs(c){const v=Ss();Ge(v,new Ia(v))}ui.STAT_EVENT="statevent";function $u(c,v){ae.call(this,ui.STAT_EVENT,c),this.stat=v}x($u,ae);function st(c){const v=Ss();Ge(v,new $u(v,c))}ui.Ma="timingevent";function Rt(c,v){ae.call(this,ui.Ma,c),this.size=v}x(Rt,ae);function _t(c,v){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},v)}function Dn(){this.g=!0}Dn.prototype.xa=function(){this.g=!1};function tl(c,v,E,S,F,Y){c.info(function(){if(c.g)if(Y)for(var oe="",Pe=Y.split("&"),xt=0;xt<Pe.length;xt++){var je=Pe[xt].split("=");if(1<je.length){var kt=je[0];je=je[1];var It=kt.split("_");oe=2<=It.length&&It[1]=="type"?oe+(kt+"="+je+"&"):oe+(kt+"=redacted&")}}else oe=null;else oe=Y;return"XMLHTTP REQ ("+S+") [attempt "+F+"]: "+v+`
`+E+`
`+oe})}function Qf(c,v,E,S,F,Y,oe){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+F+"]: "+v+`
`+E+`
`+Y+" "+oe})}function xs(c,v,E,S){c.info(function(){return"XMLHTTP TEXT ("+v+"): "+Ir(c,E)+(S?" "+S:"")})}function Qu(c,v){c.info(function(){return"TIMEOUT: "+v})}Dn.prototype.info=function(){};function Ir(c,v){if(!c.g)return v;if(!v)return null;try{var E=JSON.parse(v);if(E){for(c=0;c<E.length;c++)if(Array.isArray(E[c])){var S=E[c];if(!(2>S.length)){var F=S[1];if(Array.isArray(F)&&!(1>F.length)){var Y=F[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(var oe=1;oe<F.length;oe++)F[oe]=""}}}}return Kn(E)}catch{return v}}var Is={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},zi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ci;function hi(){}x(hi,Xo),hi.prototype.g=function(){return new XMLHttpRequest},hi.prototype.i=function(){return{}},ci=new hi;function rn(c,v,E,S){this.j=c,this.i=v,this.l=E,this.R=S||1,this.U=new br(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new pt}function pt(){this.i=null,this.g="",this.h=!1}var nl={},Ca={};function Yn(c,v,E){c.L=1,c.v=Mr(_n(v)),c.m=E,c.P=!0,qi(c,null)}function qi(c,v){c.F=Date.now(),Cr(c),c.A=_n(c.v);var E=c.A,S=c.R;Array.isArray(S)||(S=[String(S)]),ll(E.i,"t",S),c.C=0,E=c.j.J,c.h=new pt,c.g=uc(c.j,E?v:null,!c.m),0<c.O&&(c.M=new $f(w(c.Y,c,c.g),c.O)),v=c.U,E=c.g,S=c.ca;var F="readystatechange";Array.isArray(F)||(F&&(Sr[0]=F.toString()),F=Sr);for(var Y=0;Y<F.length;Y++){var oe=Fu(E,F[Y],S||v.handleEvent,!1,v.h||v);if(!oe)break;v.g[oe.key]=oe}v=c.H?R(c.H):{},c.m?(c.u||(c.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,v)):(c.u="GET",c.g.ea(c.A,c.u,null,v)),Rs(),tl(c.i,c.u,c.A,c.l,c.R,c.m)}rn.prototype.ca=function(c){c=c.target;const v=this.M;v&&Pn(c)==3?v.j():this.Y(c)},rn.prototype.Y=function(c){try{if(c==this.g)e:{const It=Pn(this.g);var v=this.g.Ba();const Xi=this.g.Z();if(!(3>It)&&(It!=3||this.g&&(this.h.h||this.g.oa()||tc(this.g)))){this.J||It!=4||v==7||(v==8||0>=Xi?Rs(3):Rs(2)),Cs(this);var E=this.g.Z();this.X=E;t:if(Ku(this)){var S=tc(this.g);c="";var F=S.length,Y=Pn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Bt(this),fi(this);var oe="";break t}this.h.i=new d.TextDecoder}for(v=0;v<F;v++)this.h.h=!0,c+=this.h.i.decode(S[v],{stream:!(Y&&v==F-1)});S.length=0,this.h.g+=c,this.C=0,oe=this.h.g}else oe=this.g.oa();if(this.o=E==200,Qf(this.i,this.u,this.A,this.l,this.R,It,E),this.o){if(this.T&&!this.K){t:{if(this.g){var Pe,xt=this.g;if((Pe=xt.g?xt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!X(Pe)){var je=Pe;break t}}je=null}if(E=je)xs(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Nr(this,E);else{this.o=!1,this.s=3,st(12),Bt(this),fi(this);break e}}if(this.P){E=!0;let zt;for(;!this.J&&this.C<oe.length;)if(zt=Yu(this,oe),zt==Ca){It==4&&(this.s=4,st(14),E=!1),xs(this.i,this.l,null,"[Incomplete Response]");break}else if(zt==nl){this.s=4,st(15),xs(this.i,this.l,oe,"[Invalid Chunk]"),E=!1;break}else xs(this.i,this.l,zt,null),Nr(this,zt);if(Ku(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),It!=4||oe.length!=0||this.h.h||(this.s=1,st(16),E=!1),this.o=this.o&&E,!E)xs(this.i,this.l,oe,"[Invalid Chunked Response]"),Bt(this),fi(this);else if(0<oe.length&&!this.W){this.W=!0;var kt=this.j;kt.g==this&&kt.ba&&!kt.M&&(kt.j.info("Great, no buffering proxy detected. Bytes received: "+oe.length),zr(kt),kt.M=!0,st(11))}}else xs(this.i,this.l,oe,null),Nr(this,oe);It==4&&Bt(this),this.o&&!this.J&&(It==4?ac(this.j,this):(this.o=!1,Cr(this)))}else Zf(this.g),E==400&&0<oe.indexOf("Unknown SID")?(this.s=3,st(12)):(this.s=0,st(13)),Bt(this),fi(this)}}}catch{}finally{}};function Ku(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Yu(c,v){var E=c.C,S=v.indexOf(`
`,E);return S==-1?Ca:(E=Number(v.substring(E,S)),isNaN(E)?nl:(S+=1,S+E>v.length?Ca:(v=v.slice(S,S+E),c.C=S+E,v)))}rn.prototype.cancel=function(){this.J=!0,Bt(this)};function Cr(c){c.S=Date.now()+c.I,Xu(c,c.I)}function Xu(c,v){if(c.B!=null)throw Error("WatchDog timer not null");c.B=_t(w(c.ba,c),v)}function Cs(c){c.B&&(d.clearTimeout(c.B),c.B=null)}rn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Qu(this.i,this.A),this.L!=2&&(Rs(),st(17)),Bt(this),this.s=2,fi(this)):Xu(this,this.S-c)};function fi(c){c.j.G==0||c.J||ac(c.j,c)}function Bt(c){Cs(c);var v=c.M;v&&typeof v.ma=="function"&&v.ma(),c.M=null,Rr(c.U),c.g&&(v=c.g,c.g=null,v.abort(),v.ma())}function Nr(c,v){try{var E=c.j;if(E.G!=0&&(E.g==c||il(E.h,c))){if(!c.K&&il(E.h,c)&&E.G==3){try{var S=E.Da.g.parse(v)}catch{S=null}if(Array.isArray(S)&&S.length==3){var F=S;if(F[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<c.F)za(E),Ua(E);else break e;dl(E),st(18)}}else E.za=F[1],0<E.za-E.T&&37500>F[2]&&E.F&&E.v==0&&!E.C&&(E.C=_t(w(E.Za,E),6e3));if(1>=Da(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else Yi(E,11)}else if((c.K||E.g==c)&&za(E),!X(v))for(F=E.Da.g.parse(v),v=0;v<F.length;v++){let je=F[v];if(E.T=je[0],je=je[1],E.G==2)if(je[0]=="c"){E.K=je[1],E.ia=je[2];const kt=je[3];kt!=null&&(E.la=kt,E.j.info("VER="+E.la));const It=je[4];It!=null&&(E.Aa=It,E.j.info("SVER="+E.Aa));const Xi=je[5];Xi!=null&&typeof Xi=="number"&&0<Xi&&(S=1.5*Xi,E.L=S,E.j.info("backChannelRequestTimeoutMs_="+S)),S=E;const zt=c.g;if(zt){const _i=zt.g?zt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_i){var Y=S.h;Y.g||_i.indexOf("spdy")==-1&&_i.indexOf("quic")==-1&&_i.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(Oa(Y,Y.h),Y.h=null))}if(S.D){const pl=zt.g?zt.g.getResponseHeader("X-HTTP-Session-Id"):null;pl&&(S.ya=pl,Ke(S.I,S.D,pl))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-c.F,E.j.info("Handshake RTT: "+E.R+"ms")),S=E;var oe=c;if(S.qa=lc(S,S.J?S.ia:null,S.W),oe.K){an(S.h,oe);var Pe=oe,xt=S.L;xt&&(Pe.I=xt),Pe.B&&(Cs(Pe),Cr(Pe)),S.g=oe}else sc(S);0<E.i.length&&Ba(E)}else je[0]!="stop"&&je[0]!="close"||Yi(E,7);else E.G==3&&(je[0]=="stop"||je[0]=="close"?je[0]=="stop"?Yi(E,7):hl(E):je[0]!="noop"&&E.l&&E.l.ta(je),E.v=0)}}Rs(4)}catch{}}var Wu=class{constructor(c,v){this.g=c,this.map=v}};function Fi(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Na(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Da(c){return c.h?1:c.g?c.g.size:0}function il(c,v){return c.h?c.h==v:c.g?c.g.has(v):!1}function Oa(c,v){c.g?c.g.add(v):c.h=v}function an(c,v){c.h&&c.h==v?c.h=null:c.g&&c.g.has(v)&&c.g.delete(v)}Fi.prototype.cancel=function(){if(this.i=sl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function sl(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let v=c.i;for(const E of c.g.values())v=v.concat(E.D);return v}return U(c.i)}function Kf(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var v=[],E=c.length,S=0;S<E;S++)v.push(c[S]);return v}v=[],E=0;for(S in c)v[E++]=c[S];return v}function Ma(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var v=[];c=c.length;for(var E=0;E<c;E++)v.push(E);return v}v=[],E=0;for(const S in c)v[E++]=S;return v}}}function rl(c,v){if(c.forEach&&typeof c.forEach=="function")c.forEach(v,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,v,void 0);else for(var E=Ma(c),S=Kf(c),F=S.length,Y=0;Y<F;Y++)v.call(void 0,S[Y],E&&E[Y],c)}var Dr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Yf(c,v){if(c){c=c.split("&");for(var E=0;E<c.length;E++){var S=c[E].indexOf("="),F=null;if(0<=S){var Y=c[E].substring(0,S);F=c[E].substring(S+1)}else Y=c[E];v(Y,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function Et(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Et){this.h=c.h,Or(this,c.j),this.o=c.o,this.g=c.g,Ns(this,c.s),this.l=c.l;var v=c.i,E=new Gi;E.i=v.i,v.g&&(E.g=new Map(v.g),E.h=v.h),Hi(this,E),this.m=c.m}else c&&(v=String(c).match(Dr))?(this.h=!1,Or(this,v[1]||"",!0),this.o=On(v[2]||""),this.g=On(v[3]||"",!0),Ns(this,v[4]),this.l=On(v[5]||"",!0),Hi(this,v[6]||"",!0),this.m=On(v[7]||"")):(this.h=!1,this.i=new Gi(null,this.h))}Et.prototype.toString=function(){var c=[],v=this.j;v&&c.push(kr(v,al,!0),":");var E=this.g;return(E||v=="file")&&(c.push("//"),(v=this.o)&&c.push(kr(v,al,!0),"@"),c.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&c.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&c.push("/"),c.push(kr(E,E.charAt(0)=="/"?Xf:ol,!0))),(E=this.i.toString())&&c.push("?",E),(E=this.m)&&c.push("#",kr(E,ka)),c.join("")};function _n(c){return new Et(c)}function Or(c,v,E){c.j=E?On(v,!0):v,c.j&&(c.j=c.j.replace(/:$/,""))}function Ns(c,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);c.s=v}else c.s=null}function Hi(c,v,E){v instanceof Gi?(c.i=v,Ju(c.i,c.h)):(E||(v=kr(v,Wf)),c.i=new Gi(v,c.h))}function Ke(c,v,E){c.i.set(v,E)}function Mr(c){return Ke(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function On(c,v){return c?v?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function kr(c,v,E){return typeof c=="string"?(c=encodeURI(c).replace(v,Zu),E&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Zu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var al=/[#\/\?@]/g,ol=/[#\?:]/g,Xf=/[#\?]/g,Wf=/[#\?@]/g,ka=/#/g;function Gi(c,v){this.h=this.g=null,this.i=c||null,this.j=!!v}function Mn(c){c.g||(c.g=new Map,c.h=0,c.i&&Yf(c.i,function(v,E){c.add(decodeURIComponent(v.replace(/\+/g," ")),E)}))}i=Gi.prototype,i.add=function(c,v){Mn(this),this.i=null,c=di(this,c);var E=this.g.get(c);return E||this.g.set(c,E=[]),E.push(v),this.h+=1,this};function $i(c,v){Mn(c),v=di(c,v),c.g.has(v)&&(c.i=null,c.h-=c.g.get(v).length,c.g.delete(v))}function Qi(c,v){return Mn(c),v=di(c,v),c.g.has(v)}i.forEach=function(c,v){Mn(this),this.g.forEach(function(E,S){E.forEach(function(F){c.call(v,F,S,this)},this)},this)},i.na=function(){Mn(this);const c=Array.from(this.g.values()),v=Array.from(this.g.keys()),E=[];for(let S=0;S<v.length;S++){const F=c[S];for(let Y=0;Y<F.length;Y++)E.push(v[S])}return E},i.V=function(c){Mn(this);let v=[];if(typeof c=="string")Qi(this,c)&&(v=v.concat(this.g.get(di(this,c))));else{c=Array.from(this.g.values());for(let E=0;E<c.length;E++)v=v.concat(c[E])}return v},i.set=function(c,v){return Mn(this),this.i=null,c=di(this,c),Qi(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[v]),this.h+=1,this},i.get=function(c,v){return c?(c=this.V(c),0<c.length?String(c[0]):v):v};function ll(c,v,E){$i(c,v),0<E.length&&(c.i=null,c.g.set(di(c,v),U(E)),c.h+=E.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],v=Array.from(this.g.keys());for(var E=0;E<v.length;E++){var S=v[E];const Y=encodeURIComponent(String(S)),oe=this.V(S);for(S=0;S<oe.length;S++){var F=Y;oe[S]!==""&&(F+="="+encodeURIComponent(String(oe[S]))),c.push(F)}}return this.i=c.join("&")};function di(c,v){return v=String(v),c.j&&(v=v.toLowerCase()),v}function Ju(c,v){v&&!c.j&&(Mn(c),c.i=null,c.g.forEach(function(E,S){var F=S.toLowerCase();S!=F&&($i(this,S),ll(this,F,E))},c)),c.j=v}function Pr(c,v){const E=new Dn;if(d.Image){const S=new Image;S.onload=C(kn,E,"TestLoadImage: loaded",!0,v,S),S.onerror=C(kn,E,"TestLoadImage: error",!1,v,S),S.onabort=C(kn,E,"TestLoadImage: abort",!1,v,S),S.ontimeout=C(kn,E,"TestLoadImage: timeout",!1,v,S),d.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else v(!1)}function Xn(c,v){const E=new Dn,S=new AbortController,F=setTimeout(()=>{S.abort(),kn(E,"TestPingServer: timeout",!1,v)},1e4);fetch(c,{signal:S.signal}).then(Y=>{clearTimeout(F),Y.ok?kn(E,"TestPingServer: ok",!0,v):kn(E,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(F),kn(E,"TestPingServer: error",!1,v)})}function kn(c,v,E,S,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),S(E)}catch{}}function jr(){this.g=new xr}function mi(c,v,E){const S=E||"";try{rl(c,function(F,Y){let oe=F;y(F)&&(oe=Kn(F)),v.push(S+Y+"="+encodeURIComponent(oe))})}catch(F){throw v.push(S+"type="+encodeURIComponent("_badmap")),F}}function Ds(c){this.l=c.Ub||null,this.j=c.eb||!1}x(Ds,Xo),Ds.prototype.g=function(){return new Ki(this.l,this.j)},Ds.prototype.i=function(c){return function(){return c}}({});function Ki(c,v){ct.call(this),this.D=c,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(Ki,ct),i=Ki.prototype,i.open=function(c,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=v,this.readyState=1,gi(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(v.body=c),(this.D||d).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,pi(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,gi(this)),this.g&&(this.readyState=3,gi(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ul(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function ul(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var v=c.value?c.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!c.done}))&&(this.response=this.responseText+=v)}c.done?pi(this):gi(this),this.readyState==3&&ul(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,pi(this))},i.Qa=function(c){this.g&&(this.response=c,pi(this))},i.ga=function(){this.g&&pi(this)};function pi(c){c.readyState=4,c.l=null,c.j=null,c.v=null,gi(c)}i.setRequestHeader=function(c,v){this.u.append(c,v)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],v=this.h.entries();for(var E=v.next();!E.done;)E=E.value,c.push(E[0]+": "+E[1]),E=v.next();return c.join(`\r
`)};function gi(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ki.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function cl(c){let v="";return he(c,function(E,S){v+=S,v+=":",v+=E,v+=`\r
`}),v}function Mt(c,v,E){e:{for(S in E){var S=!1;break e}S=!0}S||(E=cl(E),typeof c=="string"?E!=null&&encodeURIComponent(String(E)):Ke(c,v,E))}function Fe(c){ct.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(Fe,ct);var Pa=/^https?$/i,Vr=["POST","PUT"];i=Fe.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,v,E,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);v=v?v.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ci.g(),this.v=this.o?Wo(this.o):Wo(ci),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(v,String(c),!0),this.B=!1}catch(Y){ec(this,Y);return}if(c=E||"",E=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var F in S)E.set(F,S[F]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const Y of S.keys())E.set(Y,S.get(Y));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(E.keys()).find(Y=>Y.toLowerCase()=="content-type"),F=d.FormData&&c instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Vr,v,void 0))||S||F||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,oe]of E)this.g.setRequestHeader(Y,oe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Lr(this),this.u=!0,this.g.send(c),this.u=!1}catch(Y){ec(this,Y)}};function ec(c,v){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=v,c.m=5,ja(c),yi(c)}function ja(c){c.A||(c.A=!0,Ge(c,"complete"),Ge(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ge(this,"complete"),Ge(this,"abort"),yi(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),yi(this,!0)),Fe.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?Va(this):this.bb())},i.bb=function(){Va(this)};function Va(c){if(c.h&&typeof h<"u"&&(!c.v[1]||Pn(c)!=4||c.Z()!=2)){if(c.u&&Pn(c)==4)Yt(c.Ea,0,c);else if(Ge(c,"readystatechange"),Pn(c)==4){c.h=!1;try{const oe=c.Z();e:switch(oe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var E;if(!(E=v)){var S;if(S=oe===0){var F=String(c.D).match(Dr)[1]||null;!F&&d.self&&d.self.location&&(F=d.self.location.protocol.slice(0,-1)),S=!Pa.test(F?F.toLowerCase():"")}E=S}if(E)Ge(c,"complete"),Ge(c,"success");else{c.m=6;try{var Y=2<Pn(c)?c.g.statusText:""}catch{Y=""}c.l=Y+" ["+c.Z()+"]",ja(c)}}finally{yi(c)}}}}function yi(c,v){if(c.g){Lr(c);const E=c.g,S=c.v[0]?()=>{}:null;c.g=null,c.v=null,v||Ge(c,"ready");try{E.onreadystatechange=S}catch{}}}function Lr(c){c.I&&(d.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function Pn(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<Pn(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var v=this.g.responseText;return c&&v.indexOf(c)==0&&(v=v.substring(c.length)),xa(v)}};function tc(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Zf(c){const v={};c=(c.g&&2<=Pn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(X(c[S]))continue;var E=z(c[S]);const F=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const Y=v[F]||[];v[F]=Y,Y.push(E)}D(v,function(S){return S.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ur(c,v,E){return E&&E.internalChannelParams&&E.internalChannelParams[c]||v}function La(c){this.Aa=0,this.i=[],this.j=new Dn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ur("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ur("baseRetryDelayMs",5e3,c),this.cb=Ur("retryDelaySeedMs",1e4,c),this.Wa=Ur("forwardChannelMaxRetries",2,c),this.wa=Ur("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Fi(c&&c.concurrentRequestLimit),this.Da=new jr,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=La.prototype,i.la=8,i.G=1,i.connect=function(c,v,E,S){st(0),this.W=c,this.H=v||{},E&&S!==void 0&&(this.H.OSID=E,this.H.OAID=S),this.F=this.X,this.I=lc(this,null,this.W),Ba(this)};function hl(c){if(nc(c),c.G==3){var v=c.U++,E=_n(c.I);if(Ke(E,"SID",c.K),Ke(E,"RID",v),Ke(E,"TYPE","terminate"),Br(c,E),v=new rn(c,c.j,v),v.L=2,v.v=Mr(_n(E)),E=!1,d.navigator&&d.navigator.sendBeacon)try{E=d.navigator.sendBeacon(v.v.toString(),"")}catch{}!E&&d.Image&&(new Image().src=v.v,E=!0),E||(v.g=uc(v.j,null),v.g.ea(v.v)),v.F=Date.now(),Cr(v)}oc(c)}function Ua(c){c.g&&(zr(c),c.g.cancel(),c.g=null)}function nc(c){Ua(c),c.u&&(d.clearTimeout(c.u),c.u=null),za(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&d.clearTimeout(c.s),c.s=null)}function Ba(c){if(!Na(c.h)&&!c.s){c.s=!0;var v=c.Ga;le||V(),pe||(le(),pe=!0),ze.add(v,c),c.B=0}}function Jf(c,v){return Da(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=v.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=_t(w(c.Ga,c,v),ml(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const F=new rn(this,this.j,c);let Y=this.o;if(this.S&&(Y?(Y=R(Y),k(Y,this.S)):Y=this.S),this.m!==null||this.O||(F.H=Y,Y=null),this.P)e:{for(var v=0,E=0;E<this.i.length;E++){t:{var S=this.i[E];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(v+=S,4096<v){v=E;break e}if(v===4096||E===this.i.length-1){v=E+1;break e}}v=1e3}else v=1e3;v=ic(this,F,v),E=_n(this.I),Ke(E,"RID",c),Ke(E,"CVER",22),this.D&&Ke(E,"X-HTTP-Session-Id",this.D),Br(this,E),Y&&(this.O?v="headers="+encodeURIComponent(String(cl(Y)))+"&"+v:this.m&&Mt(E,this.m,Y)),Oa(this.h,F),this.Ua&&Ke(E,"TYPE","init"),this.P?(Ke(E,"$req",v),Ke(E,"SID","null"),F.T=!0,Yn(F,E,null)):Yn(F,E,v),this.G=2}}else this.G==3&&(c?fl(this,c):this.i.length==0||Na(this.h)||fl(this))};function fl(c,v){var E;v?E=v.l:E=c.U++;const S=_n(c.I);Ke(S,"SID",c.K),Ke(S,"RID",E),Ke(S,"AID",c.T),Br(c,S),c.m&&c.o&&Mt(S,c.m,c.o),E=new rn(c,c.j,E,c.B+1),c.m===null&&(E.H=c.o),v&&(c.i=v.D.concat(c.i)),v=ic(c,E,1e3),E.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Oa(c.h,E),Yn(E,S,v)}function Br(c,v){c.H&&he(c.H,function(E,S){Ke(v,S,E)}),c.l&&rl({},function(E,S){Ke(v,S,E)})}function ic(c,v,E){E=Math.min(c.i.length,E);var S=c.l?w(c.l.Na,c.l,c):null;e:{var F=c.i;let Y=-1;for(;;){const oe=["count="+E];Y==-1?0<E?(Y=F[0].g,oe.push("ofs="+Y)):Y=0:oe.push("ofs="+Y);let Pe=!0;for(let xt=0;xt<E;xt++){let je=F[xt].g;const kt=F[xt].map;if(je-=Y,0>je)Y=Math.max(0,F[xt].g-100),Pe=!1;else try{mi(kt,oe,"req"+je+"_")}catch{S&&S(kt)}}if(Pe){S=oe.join("&");break e}}}return c=c.i.splice(0,E),v.D=c,S}function sc(c){if(!c.g&&!c.u){c.Y=1;var v=c.Fa;le||V(),pe||(le(),pe=!0),ze.add(v,c),c.v=0}}function dl(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=_t(w(c.Fa,c),ml(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,rc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=_t(w(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,st(10),Ua(this),rc(this))};function zr(c){c.A!=null&&(d.clearTimeout(c.A),c.A=null)}function rc(c){c.g=new rn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var v=_n(c.qa);Ke(v,"RID","rpc"),Ke(v,"SID",c.K),Ke(v,"AID",c.T),Ke(v,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ke(v,"TO",c.ja),Ke(v,"TYPE","xmlhttp"),Br(c,v),c.m&&c.o&&Mt(v,c.m,c.o),c.L&&(c.g.I=c.L);var E=c.g;c=c.ia,E.L=1,E.v=Mr(_n(v)),E.m=null,E.P=!0,qi(E,c)}i.Za=function(){this.C!=null&&(this.C=null,Ua(this),dl(this),st(19))};function za(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function ac(c,v){var E=null;if(c.g==v){za(c),zr(c),c.g=null;var S=2}else if(il(c.h,v))E=v.D,an(c.h,v),S=1;else return;if(c.G!=0){if(v.o)if(S==1){E=v.m?v.m.length:0,v=Date.now()-v.F;var F=c.B;S=Ss(),Ge(S,new Rt(S,E)),Ba(c)}else sc(c);else if(F=v.s,F==3||F==0&&0<v.X||!(S==1&&Jf(c,v)||S==2&&dl(c)))switch(E&&0<E.length&&(v=c.h,v.i=v.i.concat(E)),F){case 1:Yi(c,5);break;case 4:Yi(c,10);break;case 3:Yi(c,6);break;default:Yi(c,2)}}}function ml(c,v){let E=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(E*=2),E*v}function Yi(c,v){if(c.j.info("Error code "+v),v==2){var E=w(c.fb,c),S=c.Xa;const F=!S;S=new Et(S||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Or(S,"https"),Mr(S),F?Pr(S.toString(),E):Xn(S.toString(),E)}else st(2);c.G=0,c.l&&c.l.sa(v),oc(c),nc(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),st(2)):(this.j.info("Failed to ping google.com"),st(1))};function oc(c){if(c.G=0,c.ka=[],c.l){const v=sl(c.h);(v.length!=0||c.i.length!=0)&&(j(c.ka,v),j(c.ka,c.i),c.h.i.length=0,U(c.i),c.i.length=0),c.l.ra()}}function lc(c,v,E){var S=E instanceof Et?_n(E):new Et(E);if(S.g!="")v&&(S.g=v+"."+S.g),Ns(S,S.s);else{var F=d.location;S=F.protocol,v=v?v+"."+F.hostname:F.hostname,F=+F.port;var Y=new Et(null);S&&Or(Y,S),v&&(Y.g=v),F&&Ns(Y,F),E&&(Y.l=E),S=Y}return E=c.D,v=c.ya,E&&v&&Ke(S,E,v),Ke(S,"VER",c.la),Br(c,S),S}function uc(c,v,E){if(v&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=c.Ca&&!c.pa?new Fe(new Ds({eb:E})):new Fe(c.pa),v.Ha(c.J),v}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function cc(){}i=cc.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function qa(){}qa.prototype.g=function(c,v){return new on(c,v)};function on(c,v){ct.call(this),this.g=new La(v),this.l=c,this.h=v&&v.messageUrlParams||null,c=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(c?c["X-WebChannel-Content-Type"]=v.messageContentType:c={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(c?c["X-WebChannel-Client-Profile"]=v.va:c={"X-WebChannel-Client-Profile":v.va}),this.g.S=c,(c=v&&v.Sb)&&!X(c)&&(this.g.m=c),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!X(v)&&(this.g.D=v,c=this.h,c!==null&&v in c&&(c=this.h,v in c&&delete c[v])),this.j=new vi(this)}x(on,ct),on.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},on.prototype.close=function(){hl(this.g)},on.prototype.o=function(c){var v=this.g;if(typeof c=="string"){var E={};E.__data__=c,c=E}else this.u&&(E={},E.__data__=Kn(c),c=E);v.i.push(new Wu(v.Ya++,c)),v.G==3&&Ba(v)},on.prototype.N=function(){this.g.l=null,delete this.j,hl(this.g),delete this.g,on.aa.N.call(this)};function hc(c){Bi.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var v=c.__sm__;if(v){e:{for(const E in v){c=E;break e}c=void 0}(this.i=c)&&(c=this.i,v=v!==null&&c in v?v[c]:void 0),this.data=v}else this.data=c}x(hc,Bi);function fc(){Jo.call(this),this.status=1}x(fc,Jo);function vi(c){this.g=c}x(vi,cc),vi.prototype.ua=function(){Ge(this.g,"a")},vi.prototype.ta=function(c){Ge(this.g,new hc(c))},vi.prototype.sa=function(c){Ge(this.g,new fc)},vi.prototype.ra=function(){Ge(this.g,"b")},qa.prototype.createWebChannel=qa.prototype.g,on.prototype.send=on.prototype.o,on.prototype.open=on.prototype.m,on.prototype.close=on.prototype.close,zw=function(){return new qa},Bw=function(){return Ss()},Uw=ui,Rp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Is.NO_ERROR=0,Is.TIMEOUT=8,Is.HTTP_ERROR=6,Ih=Is,zi.COMPLETE="complete",Lw=zi,Zo.EventType=Ui,Ui.OPEN="a",Ui.CLOSE="b",Ui.ERROR="c",Ui.MESSAGE="d",ct.prototype.listen=ct.prototype.K,ou=Zo,Fe.prototype.listenOnce=Fe.prototype.L,Fe.prototype.getLastError=Fe.prototype.Ka,Fe.prototype.getLastErrorCode=Fe.prototype.Ba,Fe.prototype.getStatus=Fe.prototype.Z,Fe.prototype.getResponseJson=Fe.prototype.Oa,Fe.prototype.getResponseText=Fe.prototype.oa,Fe.prototype.send=Fe.prototype.ea,Fe.prototype.setWithCredentials=Fe.prototype.Ha,Vw=Fe}).apply(typeof ph<"u"?ph:typeof self<"u"?self:typeof window<"u"?window:{});const oE="@firebase/firestore",lE="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Jt.UNAUTHENTICATED=new Jt(null),Jt.GOOGLE_CREDENTIALS=new Jt("google-credentials-uid"),Jt.FIRST_PARTY=new Jt("first-party-uid"),Jt.MOCK_USER=new Jt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zo="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ha=new hf("@firebase/firestore");function vo(){return ha.logLevel}function fe(i,...e){if(ha.logLevel<=Me.DEBUG){const t=e.map(cg);ha.debug(`Firestore (${zo}): ${i}`,...t)}}function _s(i,...e){if(ha.logLevel<=Me.ERROR){const t=e.map(cg);ha.error(`Firestore (${zo}): ${i}`,...t)}}function ur(i,...e){if(ha.logLevel<=Me.WARN){const t=e.map(cg);ha.warn(`Firestore (${zo}): ${i}`,...t)}}function cg(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(i,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,qw(i,r,t)}function qw(i,e,t){let r=`FIRESTORE (${zo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw _s(r),new Error(r)}function He(i,e,t,r){let o="Unexpected state";typeof t=="string"?o=t:r=t,i||qw(e,o,r)}function Se(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends Qn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class WC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Jt.UNAUTHENTICATED))}shutdown(){}}class ZC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class JC{constructor(e){this.t=e,this.currentUser=Jt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){He(this.o===void 0,42304);let r=this.i;const o=p=>this.i!==r?(r=this.i,t(p)):Promise.resolve();let u=new ms;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ms,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},d=p=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(p=>d(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ms)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(He(typeof r.accessToken=="string",31837,{l:r}),new Fw(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return He(e===null||typeof e=="string",2055,{h:e}),new Jt(e)}}class eN{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Jt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class tN{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new eN(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Jt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class uE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class nN{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,xn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){He(this.o===void 0,3512);const r=u=>{u.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,fe("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>r(u))};const o=u=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new uE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(He(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new uE(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iN(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<i;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hw(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=iN(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<t&&(r+=e.charAt(o[u]%62))}return r}}function Ie(i,e){return i<e?-1:i>e?1:0}function xp(i,e){let t=0;for(;t<i.length&&t<e.length;){const r=i.codePointAt(t),o=e.codePointAt(t);if(r!==o){if(r<128&&o<128)return Ie(r,o);{const u=Hw(),h=sN(u.encode(cE(i,t)),u.encode(cE(e,t)));return h!==0?h:Ie(r,o)}}t+=r>65535?2:1}return Ie(i.length,e.length)}function cE(i,e){return i.codePointAt(e)>65535?i.substring(e,e+2):i.substring(e,e+1)}function sN(i,e){for(let t=0;t<i.length&&t<e.length;++t)if(i[t]!==e[t])return Ie(i[t],e[t]);return Ie(i.length,e.length)}function Co(i,e,t){return i.length===e.length&&i.every((r,o)=>t(r,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hE="__name__";class Ri{constructor(e,t,r){t===void 0?t=0:t>e.length&&Te(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Te(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Ri.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ri?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let o=0;o<r;o++){const u=Ri.compareSegments(e.get(o),t.get(o));if(u!==0)return u}return Ie(e.length,t.length)}static compareSegments(e,t){const r=Ri.isNumericId(e),o=Ri.isNumericId(t);return r&&!o?-1:!r&&o?1:r&&o?Ri.extractNumericId(e).compare(Ri.extractNumericId(t)):xp(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return or.fromString(e.substring(4,e.length-2))}}class tt extends Ri{construct(e,t,r){return new tt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new ce(ee.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(o=>o.length>0))}return new tt(t)}static emptyPath(){return new tt([])}}const rN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $t extends Ri{construct(e,t,r){return new $t(e,t,r)}static isValidIdentifier(e){return rN.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===hE}static keyField(){return new $t([hE])}static fromServerFormat(e){const t=[];let r="",o=0;const u=()=>{if(r.length===0)throw new ce(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let h=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new ce(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ce(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=p,o+=2}else d==="`"?(h=!h,o++):d!=="."||h?(r+=d,o++):(u(),o++)}if(u(),h)throw new ce(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new $t(t)}static emptyPath(){return new $t([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.path=e}static fromPath(e){return new ge(tt.fromString(e))}static fromName(e){return new ge(tt.fromString(e).popFirst(5))}static empty(){return new ge(tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return tt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new tt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gw(i,e,t){if(!t)throw new ce(ee.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function aN(i,e,t,r){if(e===!0&&r===!0)throw new ce(ee.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function fE(i){if(!ge.isDocumentKey(i))throw new ce(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function dE(i){if(ge.isDocumentKey(i))throw new ce(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function $w(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function gf(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Te(12329,{type:typeof i})}function gn(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new ce(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=gf(i);throw new ce(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function St(i,e){const t={typeString:i};return e&&(t.value=e),t}function Vu(i,e){if(!$w(i))throw new ce(ee.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const o=e[r].typeString,u="value"in e[r]?{value:e[r].value}:void 0;if(!(r in i)){t=`JSON missing required field: '${r}'`;break}const h=i[r];if(o&&typeof h!==o){t=`JSON field '${r}' must be a ${o}.`;break}if(u!==void 0&&h!==u.value){t=`Expected '${r}' field to equal '${u.value}'`;break}}if(t)throw new ce(ee.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mE=-62135596800,pE=1e6;class nt{static now(){return nt.fromMillis(Date.now())}static fromDate(e){return nt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*pE);return new nt(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ce(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ce(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<mE)throw new ce(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/pE}_compareTo(e){return this.seconds===e.seconds?Ie(this.nanoseconds,e.nanoseconds):Ie(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:nt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Vu(e,nt._jsonSchema))return new nt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-mE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}nt._jsonSchemaVersion="firestore/timestamp/1.0",nt._jsonSchema={type:St("string",nt._jsonSchemaVersion),seconds:St("number"),nanoseconds:St("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{static fromTimestamp(e){return new be(e)}static min(){return new be(new nt(0,0))}static max(){return new be(new nt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tu=-1;function oN(i,e){const t=i.toTimestamp().seconds,r=i.toTimestamp().nanoseconds+1,o=be.fromTimestamp(r===1e9?new nt(t+1,0):new nt(t,r));return new cr(o,ge.empty(),e)}function lN(i){return new cr(i.readTime,i.key,Tu)}class cr{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new cr(be.min(),ge.empty(),Tu)}static max(){return new cr(be.max(),ge.empty(),Tu)}}function uN(i,e){let t=i.readTime.compareTo(e.readTime);return t!==0?t:(t=ge.comparator(i.documentKey,e.documentKey),t!==0?t:Ie(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class hN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qo(i){if(i.code!==ee.FAILED_PRECONDITION||i.message!==cN)throw i;fe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ne((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(r,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ne?t:ne.resolve(t)}catch(t){return ne.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ne.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ne.reject(t)}static resolve(e){return new ne((t,r)=>{t(e)})}static reject(e){return new ne((t,r)=>{r(e)})}static waitFor(e){return new ne((t,r)=>{let o=0,u=0,h=!1;e.forEach(d=>{++o,d.next(()=>{++u,h&&u===o&&t()},p=>r(p))}),h=!0,u===o&&t()})}static or(e){let t=ne.resolve(!1);for(const r of e)t=t.next(o=>o?ne.resolve(o):r());return t}static forEach(e,t){const r=[];return e.forEach((o,u)=>{r.push(t.call(this,o,u))}),this.waitFor(r)}static mapArray(e,t){return new ne((r,o)=>{const u=e.length,h=new Array(u);let d=0;for(let p=0;p<u;p++){const y=p;t(e[y]).next(_=>{h[y]=_,++d,d===u&&r(h)},_=>o(_))}})}static doWhile(e,t){return new ne((r,o)=>{const u=()=>{e()===!0?t().next(()=>{u()},o):r()};u()})}}function fN(i){const e=i.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Fo(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this._e(r),this.ae=r=>t.writeSequenceNumber(r))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}yf.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fg=-1;function vf(i){return i==null}function Hh(i){return i===0&&1/i==-1/0}function dN(i){return typeof i=="number"&&Number.isInteger(i)&&!Hh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qw="";function mN(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=gE(e)),e=pN(i.get(t),e);return gE(e)}function pN(i,e){let t=e;const r=i.length;for(let o=0;o<r;o++){const u=i.charAt(o);switch(u){case"\0":t+="";break;case Qw:t+="";break;default:t+=u}}return t}function gE(i){return i+Qw+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yE(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function vr(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function Kw(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e,t){this.comparator=e,this.root=t||Gt.EMPTY}insert(e,t){return new ut(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Gt.BLACK,null,null))}remove(e){return new ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Gt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return t+r.left.size;o<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new gh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new gh(this.root,e,this.comparator,!1)}getReverseIterator(){return new gh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new gh(this.root,e,this.comparator,!0)}}class gh{constructor(e,t,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?r(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Gt{constructor(e,t,r,o,u){this.key=e,this.value=t,this.color=r??Gt.RED,this.left=o??Gt.EMPTY,this.right=u??Gt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,o,u){return new Gt(e??this.key,t??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let o=this;const u=r(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,r),null):u===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Gt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Gt.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Gt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Gt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Te(27949);return e+(this.isRed()?0:1)}}Gt.EMPTY=null,Gt.RED=!0,Gt.BLACK=!1;Gt.EMPTY=new class{constructor(){this.size=0}get key(){throw Te(57766)}get value(){throw Te(16141)}get color(){throw Te(16727)}get left(){throw Te(29726)}get right(){throw Te(36894)}copy(e,t,r,o,u){return this}insert(e,t,r){return new Gt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e){this.comparator=e,this.data=new ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new vE(this.data.getIterator())}getIteratorFrom(e){return new vE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Dt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=r.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Dt(this.comparator);return t.data=e,t}}class vE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.fields=e,e.sort($t.comparator)}static empty(){return new In([])}unionWith(e){let t=new Dt($t.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new In(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Co(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new Yw("Invalid base64 string: "+u):u}}(e);return new Qt(t)}static fromUint8Array(e){const t=function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u}(e);return new Qt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let o=0;o<t.length;o++)r[o]=t.charCodeAt(o);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ie(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Qt.EMPTY_BYTE_STRING=new Qt("");const gN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function hr(i){if(He(!!i,39018),typeof i=="string"){let e=0;const t=gN.exec(i);if(He(!!t,46558,{timestamp:i}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(i);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:vt(i.seconds),nanos:vt(i.nanos)}}function vt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function fr(i){return typeof i=="string"?Qt.fromBase64String(i):Qt.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xw="server_timestamp",Ww="__type__",Zw="__previous_value__",Jw="__local_write_time__";function dg(i){var e,t;return((t=(((e=i?.mapValue)===null||e===void 0?void 0:e.fields)||{})[Ww])===null||t===void 0?void 0:t.stringValue)===Xw}function _f(i){const e=i.mapValue.fields[Zw];return dg(e)?_f(e):e}function wu(i){const e=hr(i.mapValue.fields[Jw].timestampValue);return new nt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(e,t,r,o,u,h,d,p,y,_){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=y,this.isUsingEmulator=_}}const Gh="(default)";class Au{constructor(e,t){this.projectId=e,this.database=t||Gh}static empty(){return new Au("","")}get isDefaultDatabase(){return this.database===Gh}isEqual(e){return e instanceof Au&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e1="__type__",vN="__max__",yh={mapValue:{}},t1="__vector__",$h="value";function dr(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?dg(i)?4:EN(i)?9007199254740991:_N(i)?10:11:Te(28295,{value:i})}function ki(i,e){if(i===e)return!0;const t=dr(i);if(t!==dr(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return wu(i).isEqual(wu(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=hr(o.timestampValue),d=hr(u.timestampValue);return h.seconds===d.seconds&&h.nanos===d.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(o,u){return fr(o.bytesValue).isEqual(fr(u.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return vt(o.geoPointValue.latitude)===vt(u.geoPointValue.latitude)&&vt(o.geoPointValue.longitude)===vt(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return vt(o.integerValue)===vt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=vt(o.doubleValue),d=vt(u.doubleValue);return h===d?Hh(h)===Hh(d):isNaN(h)&&isNaN(d)}return!1}(i,e);case 9:return Co(i.arrayValue.values||[],e.arrayValue.values||[],ki);case 10:case 11:return function(o,u){const h=o.mapValue.fields||{},d=u.mapValue.fields||{};if(yE(h)!==yE(d))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(d[p]===void 0||!ki(h[p],d[p])))return!1;return!0}(i,e);default:return Te(52216,{left:i})}}function bu(i,e){return(i.values||[]).find(t=>ki(t,e))!==void 0}function No(i,e){if(i===e)return 0;const t=dr(i),r=dr(e);if(t!==r)return Ie(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ie(i.booleanValue,e.booleanValue);case 2:return function(u,h){const d=vt(u.integerValue||u.doubleValue),p=vt(h.integerValue||h.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1}(i,e);case 3:return _E(i.timestampValue,e.timestampValue);case 4:return _E(wu(i),wu(e));case 5:return xp(i.stringValue,e.stringValue);case 6:return function(u,h){const d=fr(u),p=fr(h);return d.compareTo(p)}(i.bytesValue,e.bytesValue);case 7:return function(u,h){const d=u.split("/"),p=h.split("/");for(let y=0;y<d.length&&y<p.length;y++){const _=Ie(d[y],p[y]);if(_!==0)return _}return Ie(d.length,p.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,h){const d=Ie(vt(u.latitude),vt(h.latitude));return d!==0?d:Ie(vt(u.longitude),vt(h.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return EE(i.arrayValue,e.arrayValue);case 10:return function(u,h){var d,p,y,_;const A=u.fields||{},w=h.fields||{},C=(d=A[$h])===null||d===void 0?void 0:d.arrayValue,x=(p=w[$h])===null||p===void 0?void 0:p.arrayValue,U=Ie(((y=C?.values)===null||y===void 0?void 0:y.length)||0,((_=x?.values)===null||_===void 0?void 0:_.length)||0);return U!==0?U:EE(C,x)}(i.mapValue,e.mapValue);case 11:return function(u,h){if(u===yh.mapValue&&h===yh.mapValue)return 0;if(u===yh.mapValue)return 1;if(h===yh.mapValue)return-1;const d=u.fields||{},p=Object.keys(d),y=h.fields||{},_=Object.keys(y);p.sort(),_.sort();for(let A=0;A<p.length&&A<_.length;++A){const w=xp(p[A],_[A]);if(w!==0)return w;const C=No(d[p[A]],y[_[A]]);if(C!==0)return C}return Ie(p.length,_.length)}(i.mapValue,e.mapValue);default:throw Te(23264,{le:t})}}function _E(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Ie(i,e);const t=hr(i),r=hr(e),o=Ie(t.seconds,r.seconds);return o!==0?o:Ie(t.nanos,r.nanos)}function EE(i,e){const t=i.values||[],r=e.values||[];for(let o=0;o<t.length&&o<r.length;++o){const u=No(t[o],r[o]);if(u)return u}return Ie(t.length,r.length)}function Do(i){return Ip(i)}function Ip(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(t){const r=hr(t);return`time(${r.seconds},${r.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(t){return fr(t).toBase64()}(i.bytesValue):"referenceValue"in i?function(t){return ge.fromName(t).toString()}(i.referenceValue):"geoPointValue"in i?function(t){return`geo(${t.latitude},${t.longitude})`}(i.geoPointValue):"arrayValue"in i?function(t){let r="[",o=!0;for(const u of t.values||[])o?o=!1:r+=",",r+=Ip(u);return r+"]"}(i.arrayValue):"mapValue"in i?function(t){const r=Object.keys(t.fields||{}).sort();let o="{",u=!0;for(const h of r)u?u=!1:o+=",",o+=`${h}:${Ip(t.fields[h])}`;return o+"}"}(i.mapValue):Te(61005,{value:i})}function Ch(i){switch(dr(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=_f(i);return e?16+Ch(e):16;case 5:return 2*i.stringValue.length;case 6:return fr(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((o,u)=>o+Ch(u),0)}(i.arrayValue);case 10:case 11:return function(r){let o=0;return vr(r.fields,(u,h)=>{o+=u.length+Ch(h)}),o}(i.mapValue);default:throw Te(13486,{value:i})}}function TE(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Cp(i){return!!i&&"integerValue"in i}function mg(i){return!!i&&"arrayValue"in i}function wE(i){return!!i&&"nullValue"in i}function AE(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Nh(i){return!!i&&"mapValue"in i}function _N(i){var e,t;return((t=(((e=i?.mapValue)===null||e===void 0?void 0:e.fields)||{})[e1])===null||t===void 0?void 0:t.stringValue)===t1}function du(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return vr(i.mapValue.fields,(t,r)=>e.mapValue.fields[t]=du(r)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=du(i.arrayValue.values[t]);return e}return Object.assign({},i)}function EN(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===vN}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.value=e}static empty(){return new mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Nh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=du(t)}setAll(e){let t=$t.emptyPath(),r={},o=[];e.forEach((h,d)=>{if(!t.isImmediateParentOf(d)){const p=this.getFieldsMap(t);this.applyChanges(p,r,o),r={},o=[],t=d.popLast()}h?r[d.lastSegment()]=du(h):o.push(d.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,r,o)}delete(e){const t=this.field(e.popLast());Nh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ki(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=t.mapValue.fields[e.get(r)];Nh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,r){vr(t,(o,u)=>e[o]=u);for(const o of r)delete e[o]}clone(){return new mn(du(this.value))}}function n1(i){const e=[];return vr(i.fields,(t,r)=>{const o=new $t([t]);if(Nh(r)){const u=n1(r.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)}),new In(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e,t,r,o,u,h,d){this.key=e,this.documentType=t,this.version=r,this.readTime=o,this.createTime=u,this.data=h,this.documentState=d}static newInvalidDocument(e){return new en(e,0,be.min(),be.min(),be.min(),mn.empty(),0)}static newFoundDocument(e,t,r,o){return new en(e,1,t,be.min(),r,o,0)}static newNoDocument(e,t){return new en(e,2,t,be.min(),be.min(),mn.empty(),0)}static newUnknownDocument(e,t){return new en(e,3,t,be.min(),be.min(),mn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof en&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new en(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(e,t){this.position=e,this.inclusive=t}}function bE(i,e,t){let r=0;for(let o=0;o<i.position.length;o++){const u=e[o],h=i.position[o];if(u.field.isKeyField()?r=ge.comparator(ge.fromName(h.referenceValue),t.key):r=No(h,t.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function SE(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!ki(i.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su{constructor(e,t="asc"){this.field=e,this.dir=t}}function TN(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{}class bt extends i1{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new AN(e,t,r):t==="array-contains"?new RN(e,r):t==="in"?new xN(e,r):t==="not-in"?new IN(e,r):t==="array-contains-any"?new CN(e,r):new bt(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new bN(e,r):new SN(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(No(t,this.value)):t!==null&&dr(this.value)===dr(t)&&this.matchesComparison(No(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class si extends i1{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new si(e,t)}matches(e){return s1(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function s1(i){return i.op==="and"}function r1(i){return wN(i)&&s1(i)}function wN(i){for(const e of i.filters)if(e instanceof si)return!1;return!0}function Np(i){if(i instanceof bt)return i.field.canonicalString()+i.op.toString()+Do(i.value);if(r1(i))return i.filters.map(e=>Np(e)).join(",");{const e=i.filters.map(t=>Np(t)).join(",");return`${i.op}(${e})`}}function a1(i,e){return i instanceof bt?function(r,o){return o instanceof bt&&r.op===o.op&&r.field.isEqual(o.field)&&ki(r.value,o.value)}(i,e):i instanceof si?function(r,o){return o instanceof si&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce((u,h,d)=>u&&a1(h,o.filters[d]),!0):!1}(i,e):void Te(19439)}function o1(i){return i instanceof bt?function(t){return`${t.field.canonicalString()} ${t.op} ${Do(t.value)}`}(i):i instanceof si?function(t){return t.op.toString()+" {"+t.getFilters().map(o1).join(" ,")+"}"}(i):"Filter"}class AN extends bt{constructor(e,t,r){super(e,t,r),this.key=ge.fromName(r.referenceValue)}matches(e){const t=ge.comparator(e.key,this.key);return this.matchesComparison(t)}}class bN extends bt{constructor(e,t){super(e,"in",t),this.keys=l1("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class SN extends bt{constructor(e,t){super(e,"not-in",t),this.keys=l1("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function l1(i,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>ge.fromName(r.referenceValue))}class RN extends bt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return mg(t)&&bu(t.arrayValue,this.value)}}class xN extends bt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&bu(this.value.arrayValue,t)}}class IN extends bt{constructor(e,t){super(e,"not-in",t)}matches(e){if(bu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!bu(this.value.arrayValue,t)}}class CN extends bt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!mg(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>bu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(e,t=null,r=[],o=[],u=null,h=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=h,this.endAt=d,this.Pe=null}}function RE(i,e=null,t=[],r=[],o=null,u=null,h=null){return new NN(i,e,t,r,o,u,h)}function pg(i){const e=Se(i);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Np(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(u){return u.field.canonicalString()+u.dir}(r)).join(","),vf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Do(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Do(r)).join(",")),e.Pe=t}return e.Pe}function gg(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!TN(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!a1(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!SE(i.startAt,e.startAt)&&SE(i.endAt,e.endAt)}function Dp(i){return ge.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(e,t=null,r=[],o=[],u=null,h="F",d=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=h,this.startAt=d,this.endAt=p,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function DN(i,e,t,r,o,u,h,d){return new Ho(i,e,t,r,o,u,h,d)}function Ef(i){return new Ho(i)}function xE(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function u1(i){return i.collectionGroup!==null}function mu(i){const e=Se(i);if(e.Te===null){e.Te=[];const t=new Set;for(const u of e.explicitOrderBy)e.Te.push(u),t.add(u.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let d=new Dt($t.comparator);return h.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(d=d.add(y.field))})}),d})(e).forEach(u=>{t.has(u.canonicalString())||u.isKeyField()||e.Te.push(new Su(u,r))}),t.has($t.keyField().canonicalString())||e.Te.push(new Su($t.keyField(),r))}return e.Te}function Ci(i){const e=Se(i);return e.Ie||(e.Ie=ON(e,mu(i))),e.Ie}function ON(i,e){if(i.limitType==="F")return RE(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Su(o.field,u)});const t=i.endAt?new Qh(i.endAt.position,i.endAt.inclusive):null,r=i.startAt?new Qh(i.startAt.position,i.startAt.inclusive):null;return RE(i.path,i.collectionGroup,e,i.filters,i.limit,t,r)}}function Op(i,e){const t=i.filters.concat([e]);return new Ho(i.path,i.collectionGroup,i.explicitOrderBy.slice(),t,i.limit,i.limitType,i.startAt,i.endAt)}function Kh(i,e,t){return new Ho(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function Tf(i,e){return gg(Ci(i),Ci(e))&&i.limitType===e.limitType}function c1(i){return`${pg(Ci(i))}|lt:${i.limitType}`}function _o(i){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(o=>o1(o)).join(", ")}]`),vf(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(o=>Do(o)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(o=>Do(o)).join(",")),`Target(${r})`}(Ci(i))}; limitType=${i.limitType})`}function wf(i,e){return e.isFoundDocument()&&function(r,o){const u=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):ge.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)}(i,e)&&function(r,o){for(const u of mu(r))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(i,e)&&function(r,o){for(const u of r.filters)if(!u.matches(o))return!1;return!0}(i,e)&&function(r,o){return!(r.startAt&&!function(h,d,p){const y=bE(h,d,p);return h.inclusive?y<=0:y<0}(r.startAt,mu(r),o)||r.endAt&&!function(h,d,p){const y=bE(h,d,p);return h.inclusive?y>=0:y>0}(r.endAt,mu(r),o))}(i,e)}function MN(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function h1(i){return(e,t)=>{let r=!1;for(const o of mu(i)){const u=kN(o,e,t);if(u!==0)return u;r=r||o.field.isKeyField()}return 0}}function kN(i,e,t){const r=i.field.isKeyField()?ge.comparator(e.key,t.key):function(u,h,d){const p=h.data.field(u),y=d.data.field(u);return p!==null&&y!==null?No(p,y):Te(42886)}(i.field,e,t);switch(i.dir){case"asc":return r;case"desc":return-1*r;default:return Te(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[o,u]of r)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[t]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){vr(this.inner,(t,r)=>{for(const[o,u]of r)e(o,u)})}isEmpty(){return Kw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PN=new ut(ge.comparator);function Es(){return PN}const f1=new ut(ge.comparator);function lu(...i){let e=f1;for(const t of i)e=e.insert(t.key,t);return e}function d1(i){let e=f1;return i.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function ra(){return pu()}function m1(){return pu()}function pu(){return new Ea(i=>i.toString(),(i,e)=>i.isEqual(e))}const jN=new ut(ge.comparator),VN=new Dt(ge.comparator);function ke(...i){let e=VN;for(const t of i)e=e.add(t);return e}const LN=new Dt(Ie);function UN(){return LN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yg(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Hh(e)?"-0":e}}function p1(i){return{integerValue:""+i}}function g1(i,e){return dN(e)?p1(e):yg(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af{constructor(){this._=void 0}}function BN(i,e,t){return i instanceof Ru?function(o,u){const h={fields:{[Ww]:{stringValue:Xw},[Jw]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&dg(u)&&(u=_f(u)),u&&(h.fields[Zw]=u),{mapValue:h}}(t,e):i instanceof Oo?v1(i,e):i instanceof Mo?_1(i,e):function(o,u){const h=y1(o,u),d=IE(h)+IE(o.Ee);return Cp(h)&&Cp(o.Ee)?p1(d):yg(o.serializer,d)}(i,e)}function zN(i,e,t){return i instanceof Oo?v1(i,e):i instanceof Mo?_1(i,e):t}function y1(i,e){return i instanceof xu?function(r){return Cp(r)||function(u){return!!u&&"doubleValue"in u}(r)}(e)?e:{integerValue:0}:null}class Ru extends Af{}class Oo extends Af{constructor(e){super(),this.elements=e}}function v1(i,e){const t=E1(e);for(const r of i.elements)t.some(o=>ki(o,r))||t.push(r);return{arrayValue:{values:t}}}class Mo extends Af{constructor(e){super(),this.elements=e}}function _1(i,e){let t=E1(e);for(const r of i.elements)t=t.filter(o=>!ki(o,r));return{arrayValue:{values:t}}}class xu extends Af{constructor(e,t){super(),this.serializer=e,this.Ee=t}}function IE(i){return vt(i.integerValue||i.doubleValue)}function E1(i){return mg(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(e,t){this.field=e,this.transform=t}}function qN(i,e){return i.field.isEqual(e.field)&&function(r,o){return r instanceof Oo&&o instanceof Oo||r instanceof Mo&&o instanceof Mo?Co(r.elements,o.elements,ki):r instanceof xu&&o instanceof xu?ki(r.Ee,o.Ee):r instanceof Ru&&o instanceof Ru}(i.transform,e.transform)}class FN{constructor(e,t){this.version=e,this.transformResults=t}}class Hn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Hn}static exists(e){return new Hn(void 0,e)}static updateTime(e){return new Hn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Dh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Sf{}function T1(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new vg(i.key,Hn.none()):new Lu(i.key,i.data,Hn.none());{const t=i.data,r=mn.empty();let o=new Dt($t.comparator);for(let u of e.fields)if(!o.has(u)){let h=t.field(u);h===null&&u.length>1&&(u=u.popLast(),h=t.field(u)),h===null?r.delete(u):r.set(u,h),o=o.add(u)}return new _r(i.key,r,new In(o.toArray()),Hn.none())}}function HN(i,e,t){i instanceof Lu?function(o,u,h){const d=o.value.clone(),p=NE(o.fieldTransforms,u,h.transformResults);d.setAll(p),u.convertToFoundDocument(h.version,d).setHasCommittedMutations()}(i,e,t):i instanceof _r?function(o,u,h){if(!Dh(o.precondition,u))return void u.convertToUnknownDocument(h.version);const d=NE(o.fieldTransforms,u,h.transformResults),p=u.data;p.setAll(w1(o)),p.setAll(d),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()}(i,e,t):function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,t)}function gu(i,e,t,r){return i instanceof Lu?function(u,h,d,p){if(!Dh(u.precondition,h))return d;const y=u.value.clone(),_=DE(u.fieldTransforms,p,h);return y.setAll(_),h.convertToFoundDocument(h.version,y).setHasLocalMutations(),null}(i,e,t,r):i instanceof _r?function(u,h,d,p){if(!Dh(u.precondition,h))return d;const y=DE(u.fieldTransforms,p,h),_=h.data;return _.setAll(w1(u)),_.setAll(y),h.convertToFoundDocument(h.version,_).setHasLocalMutations(),d===null?null:d.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(A=>A.field))}(i,e,t,r):function(u,h,d){return Dh(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):d}(i,e,t)}function GN(i,e){let t=null;for(const r of i.fieldTransforms){const o=e.data.field(r.field),u=y1(r.transform,o||null);u!=null&&(t===null&&(t=mn.empty()),t.set(r.field,u))}return t||null}function CE(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Co(r,o,(u,h)=>qN(u,h))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Lu extends Sf{constructor(e,t,r,o=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class _r extends Sf{constructor(e,t,r,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function w1(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=i.data.field(t);e.set(t,r)}}),e}function NE(i,e,t){const r=new Map;He(i.length===t.length,32656,{Ae:t.length,Re:i.length});for(let o=0;o<t.length;o++){const u=i[o],h=u.transform,d=e.data.field(u.field);r.set(u.field,zN(h,d,t[o]))}return r}function DE(i,e,t){const r=new Map;for(const o of i){const u=o.transform,h=t.data.field(o.field);r.set(o.field,BN(u,h,e))}return r}class vg extends Sf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class $N extends Sf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(e,t,r,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&HN(u,e,r[o])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=gu(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=gu(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=m1();return this.mutations.forEach(o=>{const u=e.get(o.key),h=u.overlayedDocument;let d=this.applyToLocalView(h,u.mutatedFields);d=t.has(o.key)?null:d;const p=T1(h,d);p!==null&&r.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(be.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ke())}isEqual(e){return this.batchId===e.batchId&&Co(this.mutations,e.mutations,(t,r)=>CE(t,r))&&Co(this.baseMutations,e.baseMutations,(t,r)=>CE(t,r))}}class _g{constructor(e,t,r,o){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=o}static from(e,t,r){He(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let o=function(){return jN}();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,r[h].version);return new _g(e,t,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var At,Le;function XN(i){switch(i){case ee.OK:return Te(64938);case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return Te(15467,{code:i})}}function A1(i){if(i===void 0)return _s("GRPC error has no .code"),ee.UNKNOWN;switch(i){case At.OK:return ee.OK;case At.CANCELLED:return ee.CANCELLED;case At.UNKNOWN:return ee.UNKNOWN;case At.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case At.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case At.INTERNAL:return ee.INTERNAL;case At.UNAVAILABLE:return ee.UNAVAILABLE;case At.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case At.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case At.NOT_FOUND:return ee.NOT_FOUND;case At.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case At.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case At.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case At.ABORTED:return ee.ABORTED;case At.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case At.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case At.DATA_LOSS:return ee.DATA_LOSS;default:return Te(39323,{code:i})}}(Le=At||(At={}))[Le.OK=0]="OK",Le[Le.CANCELLED=1]="CANCELLED",Le[Le.UNKNOWN=2]="UNKNOWN",Le[Le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Le[Le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Le[Le.NOT_FOUND=5]="NOT_FOUND",Le[Le.ALREADY_EXISTS=6]="ALREADY_EXISTS",Le[Le.PERMISSION_DENIED=7]="PERMISSION_DENIED",Le[Le.UNAUTHENTICATED=16]="UNAUTHENTICATED",Le[Le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Le[Le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Le[Le.ABORTED=10]="ABORTED",Le[Le.OUT_OF_RANGE=11]="OUT_OF_RANGE",Le[Le.UNIMPLEMENTED=12]="UNIMPLEMENTED",Le[Le.INTERNAL=13]="INTERNAL",Le[Le.UNAVAILABLE=14]="UNAVAILABLE",Le[Le.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WN=new or([4294967295,4294967295],0);function OE(i){const e=Hw().encode(i),t=new jw;return t.update(e),new Uint8Array(t.digest())}function ME(i){const e=new DataView(i.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new or([t,r],0),new or([o,u],0)]}class Eg{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new uu(`Invalid padding: ${t}`);if(r<0)throw new uu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new uu(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new uu(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=or.fromNumber(this.fe)}pe(e,t,r){let o=e.add(t.multiply(or.fromNumber(r)));return o.compare(WN)===1&&(o=new or([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const t=OE(e),[r,o]=ME(t);for(let u=0;u<this.hashCount;u++){const h=this.pe(r,o,u);if(!this.ye(h))return!1}return!0}static create(e,t,r){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new Eg(u,o,t);return r.forEach(d=>h.insert(d)),h}insert(e){if(this.fe===0)return;const t=OE(e),[r,o]=ME(t);for(let u=0;u<this.hashCount;u++){const h=this.pe(r,o,u);this.we(h)}}we(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class uu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf{constructor(e,t,r,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const o=new Map;return o.set(e,Uu.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Rf(be.min(),o,new ut(Ie),Es(),ke())}}class Uu{constructor(e,t,r,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Uu(r,t,ke(),ke(),ke())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(e,t,r,o){this.Se=e,this.removedTargetIds=t,this.key=r,this.be=o}}class b1{constructor(e,t){this.targetId=e,this.De=t}}class S1{constructor(e,t,r=Qt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=o}}class kE{constructor(){this.ve=0,this.Ce=PE(),this.Fe=Qt.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=ke(),t=ke(),r=ke();return this.Ce.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:r=r.add(o);break;default:Te(38017,{changeType:u})}}),new Uu(this.Fe,this.Me,e,t,r)}ke(){this.xe=!1,this.Ce=PE()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,He(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class ZN{constructor(e){this.We=e,this.Ge=new Map,this.ze=Es(),this.je=vh(),this.Je=vh(),this.He=new ut(Ie)}Ye(e){for(const t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(const t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,t=>{const r=this.tt(t);switch(e.state){case 0:this.nt(t)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),r.Be(e.resumeToken));break;default:Te(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach((r,o)=>{this.nt(o)&&t(o)})}it(e){const t=e.targetId,r=e.De.count,o=this.st(t);if(o){const u=o.target;if(Dp(u))if(r===0){const h=new ge(u.path);this.Xe(t,h,en.newNoDocument(h,be.min()))}else He(r===1,20013,{expectedCount:r});else{const h=this.ot(t);if(h!==r){const d=this._t(e),p=d?this.ut(d,e,h):1;if(p!==0){this.rt(t);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,y)}}}}}_t(e){const t=e.De.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:u=0}=t;let h,d;try{h=fr(r).toUint8Array()}catch(p){if(p instanceof Yw)return ur("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new Eg(h,o,u)}catch(p){return ur(p instanceof uu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.fe===0?null:d}ut(e,t,r){return t.De.count===r-this.ht(e,t.targetId)?0:2}ht(e,t){const r=this.We.getRemoteKeysForTarget(t);let o=0;return r.forEach(u=>{const h=this.We.lt(),d=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(d)||(this.Xe(t,u,null),o++)}),o}Pt(e){const t=new Map;this.Ge.forEach((u,h)=>{const d=this.st(h);if(d){if(u.current&&Dp(d.target)){const p=new ge(d.target.path);this.Tt(p).has(h)||this.It(h,p)||this.Xe(h,p,en.newNoDocument(p,e))}u.Ne&&(t.set(h,u.Le()),u.ke())}});let r=ke();this.Je.forEach((u,h)=>{let d=!0;h.forEachWhile(p=>{const y=this.st(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(r=r.add(u))}),this.ze.forEach((u,h)=>h.setReadTime(e));const o=new Rf(e,t,this.He,this.ze,r);return this.ze=Es(),this.je=vh(),this.Je=vh(),this.He=new ut(Ie),o}Ze(e,t){if(!this.nt(e))return;const r=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,r),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,r){if(!this.nt(e))return;const o=this.tt(e);this.It(e,t)?o.qe(t,1):o.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),r&&(this.ze=this.ze.insert(t,r))}removeTarget(e){this.Ge.delete(e)}ot(e){const t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new kE,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new Dt(Ie),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new Dt(Ie),this.je=this.je.insert(e,t)),t}nt(e){const t=this.st(e)!==null;return t||fe("WatchChangeAggregator","Detected inactive target",e),t}st(e){const t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new kE),this.We.getRemoteKeysForTarget(e).forEach(t=>{this.Xe(e,t,null)})}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}}function vh(){return new ut(ge.comparator)}function PE(){return new ut(ge.comparator)}const JN={asc:"ASCENDING",desc:"DESCENDING"},eD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},tD={and:"AND",or:"OR"};class nD{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Mp(i,e){return i.useProto3Json||vf(e)?e:{value:e}}function Yh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function R1(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function iD(i,e){return Yh(i,e.toTimestamp())}function Ni(i){return He(!!i,49232),be.fromTimestamp(function(t){const r=hr(t);return new nt(r.seconds,r.nanos)}(i))}function Tg(i,e){return kp(i,e).canonicalString()}function kp(i,e){const t=function(o){return new tt(["projects",o.projectId,"databases",o.database])}(i).child("documents");return e===void 0?t:t.child(e)}function x1(i){const e=tt.fromString(i);return He(O1(e),10190,{key:e.toString()}),e}function Pp(i,e){return Tg(i.databaseId,e.path)}function rp(i,e){const t=x1(e);if(t.get(1)!==i.databaseId.projectId)throw new ce(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new ce(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new ge(C1(t))}function I1(i,e){return Tg(i.databaseId,e)}function sD(i){const e=x1(i);return e.length===4?tt.emptyPath():C1(e)}function jp(i){return new tt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function C1(i){return He(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function jE(i,e,t){return{name:Pp(i,e),fields:t.value.mapValue.fields}}function rD(i,e){let t;if("targetChange"in e){e.targetChange;const r=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Te(39313,{state:y})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(y,_){return y.useProto3Json?(He(_===void 0||typeof _=="string",58123),Qt.fromBase64String(_||"")):(He(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),Qt.fromUint8Array(_||new Uint8Array))}(i,e.targetChange.resumeToken),h=e.targetChange.cause,d=h&&function(y){const _=y.code===void 0?ee.UNKNOWN:A1(y.code);return new ce(_,y.message||"")}(h);t=new S1(r,o,u,d||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=rp(i,r.document.name),u=Ni(r.document.updateTime),h=r.document.createTime?Ni(r.document.createTime):be.min(),d=new mn({mapValue:{fields:r.document.fields}}),p=en.newFoundDocument(o,u,h,d),y=r.targetIds||[],_=r.removedTargetIds||[];t=new Oh(y,_,p.key,p)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=rp(i,r.document),u=r.readTime?Ni(r.readTime):be.min(),h=en.newNoDocument(o,u),d=r.removedTargetIds||[];t=new Oh([],d,h.key,h)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=rp(i,r.document),u=r.removedTargetIds||[];t=new Oh([],u,o,null)}else{if(!("filter"in e))return Te(11601,{At:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:u}=r,h=new YN(o,u),d=r.targetId;t=new b1(d,h)}}return t}function aD(i,e){let t;if(e instanceof Lu)t={update:jE(i,e.key,e.value)};else if(e instanceof vg)t={delete:Pp(i,e.key)};else if(e instanceof _r)t={update:jE(i,e.key,e.data),updateMask:pD(e.fieldMask)};else{if(!(e instanceof $N))return Te(16599,{Rt:e.type});t={verify:Pp(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(u,h){const d=h.transform;if(d instanceof Ru)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Oo)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Mo)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof xu)return{fieldPath:h.field.canonicalString(),increment:d.Ee};throw Te(20930,{transform:h.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:iD(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Te(27497)}(i,e.precondition)),t}function oD(i,e){return i&&i.length>0?(He(e!==void 0,14353),i.map(t=>function(o,u){let h=o.updateTime?Ni(o.updateTime):Ni(u);return h.isEqual(be.min())&&(h=Ni(u)),new FN(h,o.transformResults||[])}(t,e))):[]}function lD(i,e){return{documents:[I1(i,e.path)]}}function uD(i,e){const t={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=I1(i,o);const u=function(y){if(y.length!==0)return D1(si.create(y,"and"))}(e.filters);u&&(t.structuredQuery.where=u);const h=function(y){if(y.length!==0)return y.map(_=>function(w){return{field:Eo(w.field),direction:fD(w.dir)}}(_))}(e.orderBy);h&&(t.structuredQuery.orderBy=h);const d=Mp(i,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{Vt:t,parent:o}}function cD(i){let e=sD(i.parent);const t=i.structuredQuery,r=t.from?t.from.length:0;let o=null;if(r>0){He(r===1,65062);const _=t.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let u=[];t.where&&(u=function(A){const w=N1(A);return w instanceof si&&r1(w)?w.getFilters():[w]}(t.where));let h=[];t.orderBy&&(h=function(A){return A.map(w=>function(x){return new Su(To(x.field),function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(w))}(t.orderBy));let d=null;t.limit&&(d=function(A){let w;return w=typeof A=="object"?A.value:A,vf(w)?null:w}(t.limit));let p=null;t.startAt&&(p=function(A){const w=!!A.before,C=A.values||[];return new Qh(C,w)}(t.startAt));let y=null;return t.endAt&&(y=function(A){const w=!A.before,C=A.values||[];return new Qh(C,w)}(t.endAt)),DN(e,o,h,u,d,"F",p,y)}function hD(i,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te(28987,{purpose:o})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function N1(i){return i.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=To(t.unaryFilter.field);return bt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=To(t.unaryFilter.field);return bt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=To(t.unaryFilter.field);return bt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=To(t.unaryFilter.field);return bt.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Te(61313);default:return Te(60726)}}(i):i.fieldFilter!==void 0?function(t){return bt.create(To(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Te(58110);default:return Te(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(t){return si.create(t.compositeFilter.filters.map(r=>N1(r)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Te(1026)}}(t.compositeFilter.op))}(i):Te(30097,{filter:i})}function fD(i){return JN[i]}function dD(i){return eD[i]}function mD(i){return tD[i]}function Eo(i){return{fieldPath:i.canonicalString()}}function To(i){return $t.fromServerFormat(i.fieldPath)}function D1(i){return i instanceof bt?function(t){if(t.op==="=="){if(AE(t.value))return{unaryFilter:{field:Eo(t.field),op:"IS_NAN"}};if(wE(t.value))return{unaryFilter:{field:Eo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(AE(t.value))return{unaryFilter:{field:Eo(t.field),op:"IS_NOT_NAN"}};if(wE(t.value))return{unaryFilter:{field:Eo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Eo(t.field),op:dD(t.op),value:t.value}}}(i):i instanceof si?function(t){const r=t.getFilters().map(o=>D1(o));return r.length===1?r[0]:{compositeFilter:{op:mD(t.op),filters:r}}}(i):Te(54877,{filter:i})}function pD(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function O1(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(e,t,r,o,u=be.min(),h=be.min(),d=Qt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(e){return new sr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new sr(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new sr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new sr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD{constructor(e){this.gt=e}}function yD(i){const e=cD({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Kh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(){this.Dn=new _D}addToCollectionParentIndex(e,t){return this.Dn.add(t),ne.resolve()}getCollectionParents(e,t){return ne.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return ne.resolve()}deleteFieldIndex(e,t){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,t){return ne.resolve()}getDocumentsMatchingTarget(e,t){return ne.resolve(null)}getIndexType(e,t){return ne.resolve(0)}getFieldIndexes(e,t){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,t){return ne.resolve(cr.min())}getMinOffsetFromCollectionGroup(e,t){return ne.resolve(cr.min())}updateCollectionGroup(e,t,r){return ne.resolve()}updateIndexEntries(e,t){return ne.resolve()}}class _D{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t]||new Dt(tt.comparator),u=!o.has(r);return this.index[t]=o.add(r),u}has(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Dt(tt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},M1=41943040;class dn{static withCacheSize(e){return new dn(e,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */dn.DEFAULT_COLLECTION_PERCENTILE=10,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,dn.DEFAULT=new dn(M1,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),dn.DISABLED=new dn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new ko(0)}static ur(){return new ko(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LE="LruGarbageCollector",ED=1048576;function UE([i,e],[t,r]){const o=Ie(i,t);return o===0?Ie(e,r):o}class TD{constructor(e){this.Tr=e,this.buffer=new Dt(UE),this.Ir=0}dr(){return++this.Ir}Er(e){const t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();UE(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class wD{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){fe(LE,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Fo(t)?fe(LE,"Ignoring IndexedDB error during garbage collection: ",t):await qo(t)}await this.Rr(3e5)})}}class AD{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return ne.resolve(yf.ue);const r=new TD(t);return this.Vr.forEachTarget(e,o=>r.Er(o.sequenceNumber)).next(()=>this.Vr.gr(e,o=>r.Er(o))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(fe("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(VE)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),VE):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let r,o,u,h,d,p,y;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(A=>(A>this.params.maximumSequenceNumbersToCollect?(fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,h=Date.now(),this.nthSequenceNumber(e,o))).next(A=>(r=A,d=Date.now(),this.removeTargets(e,r,t))).next(A=>(u=A,p=Date.now(),this.removeOrphanedDocuments(e,r))).next(A=>(y=Date.now(),vo()<=Me.DEBUG&&fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-_}ms
	Determined least recently used ${o} in `+(d-h)+`ms
	Removed ${u} targets in `+(p-d)+`ms
	Removed ${A} documents in `+(y-p)+`ms
Total Duration: ${y-_}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:A})))}}function bD(i,e){return new AD(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{constructor(){this.changes=new Ea(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,en.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?ne.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(e,t,r,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(r=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(r!==null&&gu(r.mutation,o,In.empty(),nt.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,ke()).next(()=>r))}getLocalViewOfDocuments(e,t,r=ke()){const o=ra();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,r).next(u=>{let h=lu();return u.forEach((d,p)=>{h=h.insert(d,p.overlayedDocument)}),h}))}getOverlayedDocuments(e,t){const r=ra();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,ke()))}populateOverlays(e,t,r){const o=[];return r.forEach(u=>{t.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((h,d)=>{t.set(h,d)})})}computeViews(e,t,r,o){let u=Es();const h=pu(),d=function(){return pu()}();return t.forEach((p,y)=>{const _=r.get(y.key);o.has(y.key)&&(_===void 0||_.mutation instanceof _r)?u=u.insert(y.key,y):_!==void 0?(h.set(y.key,_.mutation.getFieldMask()),gu(_.mutation,y,_.mutation.getFieldMask(),nt.now())):h.set(y.key,In.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((y,_)=>h.set(y,_)),t.forEach((y,_)=>{var A;return d.set(y,new RD(_,(A=h.get(y))!==null&&A!==void 0?A:null))}),d))}recalculateAndSaveOverlays(e,t){const r=pu();let o=new ut((h,d)=>h-d),u=ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(h=>{for(const d of h)d.keys().forEach(p=>{const y=t.get(p);if(y===null)return;let _=r.get(p)||In.empty();_=d.applyToLocalView(y,_),r.set(p,_);const A=(o.get(d.batchId)||ke()).add(p);o=o.insert(d.batchId,A)})}).next(()=>{const h=[],d=o.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),y=p.key,_=p.value,A=m1();_.forEach(w=>{if(!u.has(w)){const C=T1(t.get(w),r.get(w));C!==null&&A.set(w,C),u=u.add(w)}}),h.push(this.documentOverlayCache.saveOverlays(e,y,A))}return ne.waitFor(h)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,o){return function(h){return ge.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):u1(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,o):this.getDocumentsMatchingCollectionQuery(e,t,r,o)}getNextDocuments(e,t,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,o).next(u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,o-u.size):ne.resolve(ra());let d=Tu,p=u;return h.next(y=>ne.forEach(y,(_,A)=>(d<A.largestBatchId&&(d=A.largestBatchId),u.get(_)?ne.resolve():this.remoteDocumentCache.getEntry(e,_).next(w=>{p=p.insert(_,w)}))).next(()=>this.populateOverlays(e,y,u)).next(()=>this.computeViews(e,p,y,ke())).next(_=>({batchId:d,changes:d1(_)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ge(t)).next(r=>{let o=lu();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,r,o){const u=t.collectionGroup;let h=lu();return this.indexManager.getCollectionParents(e,u).next(d=>ne.forEach(d,p=>{const y=function(A,w){return new Ho(w,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)}(t,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,r,o).next(_=>{_.forEach((A,w)=>{h=h.insert(A,w)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,t,r,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,u,o))).next(h=>{u.forEach((p,y)=>{const _=y.getKey();h.get(_)===null&&(h=h.insert(_,en.newInvalidDocument(_)))});let d=lu();return h.forEach((p,y)=>{const _=u.get(p);_!==void 0&&gu(_.mutation,y,In.empty(),nt.now()),wf(t,y)&&(d=d.insert(p,y))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return ne.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,function(o){return{id:o.id,version:o.version,createTime:Ni(o.createTime)}}(t)),ne.resolve()}getNamedQuery(e,t){return ne.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,function(o){return{name:o.name,query:yD(o.bundledQuery),readTime:Ni(o.readTime)}}(t)),ne.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD{constructor(){this.overlays=new ut(ge.comparator),this.kr=new Map}getOverlay(e,t){return ne.resolve(this.overlays.get(t))}getOverlays(e,t){const r=ra();return ne.forEach(t,o=>this.getOverlay(e,o).next(u=>{u!==null&&r.set(o,u)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((o,u)=>{this.wt(e,t,u)}),ne.resolve()}removeOverlaysForBatchId(e,t,r){const o=this.kr.get(r);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.kr.delete(r)),ne.resolve()}getOverlaysForCollection(e,t,r){const o=ra(),u=t.length+1,h=new ge(t.child("")),d=this.overlays.getIteratorFrom(h);for(;d.hasNext();){const p=d.getNext().value,y=p.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===u&&p.largestBatchId>r&&o.set(p.getKey(),p)}return ne.resolve(o)}getOverlaysForCollectionGroup(e,t,r,o){let u=new ut((y,_)=>y-_);const h=this.overlays.getIterator();for(;h.hasNext();){const y=h.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>r){let _=u.get(y.largestBatchId);_===null&&(_=ra(),u=u.insert(y.largestBatchId,_)),_.set(y.getKey(),y)}}const d=ra(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,_)=>d.set(y,_)),!(d.size()>=o)););return ne.resolve(d)}wt(e,t,r){const o=this.overlays.get(r.key);if(o!==null){const h=this.kr.get(o.largestBatchId).delete(r.key);this.kr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(r.key,new KN(t,r));let u=this.kr.get(t);u===void 0&&(u=ke(),this.kr.set(t,u)),this.kr.set(t,u.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(){this.sessionToken=Qt.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ne.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wg{constructor(){this.qr=new Dt(Lt.Qr),this.$r=new Dt(Lt.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){const r=new Lt(e,t);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Wr(new Lt(e,t))}Gr(e,t){e.forEach(r=>this.removeReference(r,t))}zr(e){const t=new ge(new tt([])),r=new Lt(t,e),o=new Lt(t,e+1),u=[];return this.$r.forEachInRange([r,o],h=>{this.Wr(h),u.push(h.key)}),u}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const t=new ge(new tt([])),r=new Lt(t,e),o=new Lt(t,e+1);let u=ke();return this.$r.forEachInRange([r,o],h=>{u=u.add(h.key)}),u}containsKey(e){const t=new Lt(e,0),r=this.qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Lt{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return ge.comparator(e.key,t.key)||Ie(e.Hr,t.Hr)}static Ur(e,t){return Ie(e.Hr,t.Hr)||ge.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new Dt(Lt.Qr)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,o){const u=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new QN(u,t,r,o);this.mutationQueue.push(h);for(const d of o)this.Yr=this.Yr.add(new Lt(d.key,u)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return ne.resolve(h)}lookupMutationBatch(e,t){return ne.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,o=this.Xr(r),u=o<0?0:o;return ne.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?fg:this.er-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Lt(t,0),o=new Lt(t,Number.POSITIVE_INFINITY),u=[];return this.Yr.forEachInRange([r,o],h=>{const d=this.Zr(h.Hr);u.push(d)}),ne.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Dt(Ie);return t.forEach(o=>{const u=new Lt(o,0),h=new Lt(o,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([u,h],d=>{r=r.add(d.Hr)})}),ne.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1;let u=r;ge.isDocumentKey(u)||(u=u.child(""));const h=new Lt(new ge(u),0);let d=new Dt(Ie);return this.Yr.forEachWhile(p=>{const y=p.key.path;return!!r.isPrefixOf(y)&&(y.length===o&&(d=d.add(p.Hr)),!0)},h),ne.resolve(this.ei(d))}ei(e){const t=[];return e.forEach(r=>{const o=this.Zr(r);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){He(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return ne.forEach(t.mutations,o=>{const u=new Lt(o.key,t.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,t){const r=new Lt(t,0),o=this.Yr.firstAfterOrEqual(r);return ne.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(e){this.ni=e,this.docs=function(){return new ut(ge.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,o=this.docs.get(r),u=o?o.size:0,h=this.ni(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ne.resolve(r?r.document.mutableCopy():en.newInvalidDocument(t))}getEntries(e,t){let r=Es();return t.forEach(o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():en.newInvalidDocument(o))}),ne.resolve(r)}getDocumentsMatchingQuery(e,t,r,o){let u=Es();const h=t.path,d=new ge(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:y,value:{document:_}}=p.getNext();if(!h.isPrefixOf(y.path))break;y.path.length>h.length+1||uN(lN(_),r)<=0||(o.has(_.key)||wf(t,_))&&(u=u.insert(_.key,_.mutableCopy()))}return ne.resolve(u)}getAllFromCollectionGroup(e,t,r,o){Te(9500)}ri(e,t){return ne.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new MD(this)}getSize(e){return ne.resolve(this.size)}}class MD extends SD{constructor(e){super(),this.Or=e}applyChanges(e){const t=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?t.push(this.Or.addEntry(e,o)):this.Or.removeEntry(r)}),ne.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(e){this.persistence=e,this.ii=new Ea(t=>pg(t),gg),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this.si=0,this.oi=new wg,this.targetCount=0,this._i=ko.ar()}forEachTarget(e,t){return this.ii.forEach((r,o)=>t(o)),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.si&&(this.si=t),ne.resolve()}hr(e){this.ii.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this._i=new ko(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,ne.resolve()}updateTargetData(e,t){return this.hr(t),ne.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,t,r){let o=0;const u=[];return this.ii.forEach((h,d)=>{d.sequenceNumber<=t&&r.get(d.targetId)===null&&(this.ii.delete(h),u.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)}),ne.waitFor(u).next(()=>o)}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,t){const r=this.ii.get(t)||null;return ne.resolve(r)}addMatchingKeys(e,t,r){return this.oi.Kr(t,r),ne.resolve()}removeMatchingKeys(e,t,r){this.oi.Gr(t,r);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach(h=>{u.push(o.markPotentiallyOrphaned(e,h))}),ne.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),ne.resolve()}getMatchingKeysForTargetId(e,t){const r=this.oi.Jr(t);return ne.resolve(r)}containsKey(e,t){return ne.resolve(this.oi.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(e,t){this.ai={},this.overlays={},this.ui=new yf(0),this.ci=!1,this.ci=!0,this.li=new ND,this.referenceDelegate=e(this),this.hi=new kD(this),this.indexManager=new vD,this.remoteDocumentCache=function(o){return new OD(o)}(r=>this.referenceDelegate.Pi(r)),this.serializer=new gD(t),this.Ti=new ID(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new CD,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ai[e.toKey()];return r||(r=new DD(t,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,r){fe("MemoryPersistence","Starting transaction:",e);const o=new PD(this.ui.next());return this.referenceDelegate.Ii(),r(o).next(u=>this.referenceDelegate.di(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ei(e,t){return ne.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,t)))}}class PD extends hN{constructor(e){super(),this.currentSequenceNumber=e}}class Ag{constructor(e){this.persistence=e,this.Ai=new wg,this.Ri=null}static Vi(e){return new Ag(e)}get mi(){if(this.Ri)return this.Ri;throw Te(60996)}addReference(e,t,r){return this.Ai.addReference(r,t),this.mi.delete(r.toString()),ne.resolve()}removeReference(e,t,r){return this.Ai.removeReference(r,t),this.mi.add(r.toString()),ne.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),ne.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(o=>this.mi.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(u=>this.mi.add(u.toString()))}).next(()=>r.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.mi,r=>{const o=ge.fromPath(r);return this.fi(e,o).next(u=>{u||t.removeEntry(o,be.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(r=>{r?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return ne.or([()=>ne.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class Xh{constructor(e,t){this.persistence=e,this.gi=new Ea(r=>mN(r.path),(r,o)=>r.isEqual(o)),this.garbageCollector=bD(this,t)}static Vi(e,t){return new Xh(e,t)}Ii(){}di(e){return ne.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){const t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(o=>r+o))}yr(e){let t=0;return this.gr(e,r=>{t++}).next(()=>t)}gr(e,t){return ne.forEach(this.gi,(r,o)=>this.Sr(e,r,o).next(u=>u?ne.resolve():t(o)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ri(e,h=>this.Sr(e,h,t).next(d=>{d||(r++,u.removeEntry(h,be.min()))})).next(()=>u.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),ne.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),ne.resolve()}removeReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),ne.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Ch(e.data.value)),t}Sr(e,t,r){return ne.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.gi.get(t);return ne.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg{constructor(e,t,r,o){this.targetId=e,this.fromCache=t,this.Is=r,this.ds=o}static Es(e,t){let r=ke(),o=ke();for(const u of t.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new bg(e,t.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return m2()?8:fN(sn())>0?6:4}()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,r,o){const u={result:null};return this.ps(e,t).next(h=>{u.result=h}).next(()=>{if(!u.result)return this.ys(e,t,o,r).next(h=>{u.result=h})}).next(()=>{if(u.result)return;const h=new jD;return this.ws(e,t,h).next(d=>{if(u.result=d,this.Rs)return this.Ss(e,t,h,d.size)})}).next(()=>u.result)}Ss(e,t,r,o){return r.documentReadCount<this.Vs?(vo()<=Me.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",_o(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ne.resolve()):(vo()<=Me.DEBUG&&fe("QueryEngine","Query:",_o(t),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.fs*o?(vo()<=Me.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",_o(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ci(t))):ne.resolve())}ps(e,t){if(xE(t))return ne.resolve(null);let r=Ci(t);return this.indexManager.getIndexType(e,r).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=Kh(t,null,"F"),r=Ci(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(u=>{const h=ke(...u);return this.gs.getDocuments(e,h).next(d=>this.indexManager.getMinOffset(e,r).next(p=>{const y=this.bs(t,d);return this.Ds(t,y,h,p.readTime)?this.ps(e,Kh(t,null,"F")):this.vs(e,y,t,p)}))})))}ys(e,t,r,o){return xE(t)||o.isEqual(be.min())?ne.resolve(null):this.gs.getDocuments(e,r).next(u=>{const h=this.bs(t,u);return this.Ds(t,h,r,o)?ne.resolve(null):(vo()<=Me.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),_o(t)),this.vs(e,h,t,oN(o,Tu)).next(d=>d))})}bs(e,t){let r=new Dt(h1(e));return t.forEach((o,u)=>{wf(e,u)&&(r=r.add(u))}),r}Ds(e,t,r,o){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const u=e.limitType==="F"?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ws(e,t,r){return vo()<=Me.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",_o(t)),this.gs.getDocumentsMatchingQuery(e,t,cr.min(),r)}vs(e,t,r,o){return this.gs.getDocumentsMatchingQuery(e,r,o).next(u=>(t.forEach(h=>{u=u.insert(h.key,h)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sg="LocalStore",LD=3e8;class UD{constructor(e,t,r,o){this.persistence=e,this.Cs=t,this.serializer=o,this.Fs=new ut(Ie),this.Ms=new Ea(u=>pg(u),gg),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new xD(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}}function BD(i,e,t,r){return new UD(i,e,t,r)}async function P1(i,e){const t=Se(i);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let o;return t.mutationQueue.getAllMutationBatches(r).next(u=>(o=u,t.Ns(e),t.mutationQueue.getAllMutationBatches(r))).next(u=>{const h=[],d=[];let p=ke();for(const y of o){h.push(y.batchId);for(const _ of y.mutations)p=p.add(_.key)}for(const y of u){d.push(y.batchId);for(const _ of y.mutations)p=p.add(_.key)}return t.localDocuments.getDocuments(r,p).next(y=>({Bs:y,removedBatchIds:h,addedBatchIds:d}))})})}function zD(i,e){const t=Se(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=e.batch.keys(),u=t.Os.newChangeBuffer({trackRemovals:!0});return function(d,p,y,_){const A=y.batch,w=A.keys();let C=ne.resolve();return w.forEach(x=>{C=C.next(()=>_.getEntry(p,x)).next(U=>{const j=y.docVersions.get(x);He(j!==null,48541),U.version.compareTo(j)<0&&(A.applyToRemoteDocument(U,y),U.isValidDocument()&&(U.setReadTime(y.commitVersion),_.addEntry(U)))})}),C.next(()=>d.mutationQueue.removeMutationBatch(p,A))}(t,r,e,u).next(()=>u.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(d){let p=ke();for(let y=0;y<d.mutationResults.length;++y)d.mutationResults[y].transformResults.length>0&&(p=p.add(d.batch.mutations[y].key));return p}(e))).next(()=>t.localDocuments.getDocuments(r,o))})}function j1(i){const e=Se(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.hi.getLastRemoteSnapshotVersion(t))}function qD(i,e){const t=Se(i),r=e.snapshotVersion;let o=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=t.Os.newChangeBuffer({trackRemovals:!0});o=t.Fs;const d=[];e.targetChanges.forEach((_,A)=>{const w=o.get(A);if(!w)return;d.push(t.hi.removeMatchingKeys(u,_.removedDocuments,A).next(()=>t.hi.addMatchingKeys(u,_.addedDocuments,A)));let C=w.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(A)!==null?C=C.withResumeToken(Qt.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):_.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(_.resumeToken,r)),o=o.insert(A,C),function(U,j,P){return U.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-U.snapshotVersion.toMicroseconds()>=LD?!0:P.addedDocuments.size+P.modifiedDocuments.size+P.removedDocuments.size>0}(w,C,_)&&d.push(t.hi.updateTargetData(u,C))});let p=Es(),y=ke();if(e.documentUpdates.forEach(_=>{e.resolvedLimboDocuments.has(_)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(u,_))}),d.push(FD(u,h,e.documentUpdates).next(_=>{p=_.Ls,y=_.ks})),!r.isEqual(be.min())){const _=t.hi.getLastRemoteSnapshotVersion(u).next(A=>t.hi.setTargetsMetadata(u,u.currentSequenceNumber,r));d.push(_)}return ne.waitFor(d).next(()=>h.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,p,y)).next(()=>p)}).then(u=>(t.Fs=o,u))}function FD(i,e,t){let r=ke(),o=ke();return t.forEach(u=>r=r.add(u)),e.getEntries(i,r).next(u=>{let h=Es();return t.forEach((d,p)=>{const y=u.get(d);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(d)),p.isNoDocument()&&p.version.isEqual(be.min())?(e.removeEntry(d,p.readTime),h=h.insert(d,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),h=h.insert(d,p)):fe(Sg,"Ignoring outdated watch update for ",d,". Current version:",y.version," Watch version:",p.version)}),{Ls:h,ks:o}})}function HD(i,e){const t=Se(i);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=fg),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function GD(i,e){const t=Se(i);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return t.hi.getTargetData(r,e).next(u=>u?(o=u,ne.resolve(o)):t.hi.allocateTargetId(r).next(h=>(o=new sr(e,h,"TargetPurposeListen",r.currentSequenceNumber),t.hi.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=t.Fs.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(r.targetId,r),t.Ms.set(e,r.targetId)),r})}async function Vp(i,e,t){const r=Se(i),o=r.Fs.get(e),u=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",u,h=>r.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!Fo(h))throw h;fe(Sg,`Failed to update sequence numbers for target ${e}: ${h}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(o.target)}function BE(i,e,t){const r=Se(i);let o=be.min(),u=ke();return r.persistence.runTransaction("Execute query","readwrite",h=>function(p,y,_){const A=Se(p),w=A.Ms.get(_);return w!==void 0?ne.resolve(A.Fs.get(w)):A.hi.getTargetData(y,_)}(r,h,Ci(e)).next(d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(h,d.targetId).next(p=>{u=p})}).next(()=>r.Cs.getDocumentsMatchingQuery(h,e,t?o:be.min(),t?u:ke())).next(d=>($D(r,MN(e),d),{documents:d,qs:u})))}function $D(i,e,t){let r=i.xs.get(e)||be.min();t.forEach((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)}),i.xs.set(e,r)}class zE{constructor(){this.activeTargetIds=UN()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class QD{constructor(){this.Fo=new zE,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,r){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new zE,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KD{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qE="ConnectivityMonitor";class FE{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){fe(qE,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){fe(qE,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _h=null;function Lp(){return _h===null?_h=function(){return 268435456+Math.round(2147483648*Math.random())}():_h++,"0x"+_h.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ap="RestConnection",YD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class XD{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${r}/databases/${o}`,this.Ko=this.databaseId.database===Gh?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Wo(e,t,r,o,u){const h=Lp(),d=this.Go(e,t.toUriEncodedString());fe(ap,`Sending RPC '${e}' ${h}:`,d,r);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(p,o,u);const{host:y}=new URL(d),_=ga(y);return this.jo(e,d,p,r,_).then(A=>(fe(ap,`Received RPC '${e}' ${h}: `,A),A),A=>{throw ur(ap,`RPC '${e}' ${h} failed with error: `,A,"url: ",d,"request:",r),A})}Jo(e,t,r,o,u,h){return this.Wo(e,t,r,o,u)}zo(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+zo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,u)=>e[u]=o),r&&r.headers.forEach((o,u)=>e[u]=o)}Go(e,t){const r=YD[e];return`${this.$o}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WD{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zt="WebChannelConnection";class ZD extends XD{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,r,o,u){const h=Lp();return new Promise((d,p)=>{const y=new Vw;y.setWithCredentials(!0),y.listenOnce(Lw.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case Ih.NO_ERROR:const A=y.getResponseJson();fe(Zt,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(A)),d(A);break;case Ih.TIMEOUT:fe(Zt,`RPC '${e}' ${h} timed out`),p(new ce(ee.DEADLINE_EXCEEDED,"Request time out"));break;case Ih.HTTP_ERROR:const w=y.getStatus();if(fe(Zt,`RPC '${e}' ${h} failed with status:`,w,"response text:",y.getResponseText()),w>0){let C=y.getResponseJson();Array.isArray(C)&&(C=C[0]);const x=C?.error;if(x&&x.status&&x.message){const U=function(P){const X=P.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(X)>=0?X:ee.UNKNOWN}(x.status);p(new ce(U,x.message))}else p(new ce(ee.UNKNOWN,"Server responded with status "+y.getStatus()))}else p(new ce(ee.UNAVAILABLE,"Connection failed."));break;default:Te(9055,{c_:e,streamId:h,l_:y.getLastErrorCode(),h_:y.getLastError()})}}finally{fe(Zt,`RPC '${e}' ${h} completed.`)}});const _=JSON.stringify(o);fe(Zt,`RPC '${e}' ${h} sending request:`,o),y.send(t,"POST",_,r,15)})}P_(e,t,r){const o=Lp(),u=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=zw(),d=Bw(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.zo(p.initMessageHeaders,t,r),p.encodeInitMessageHeaders=!0;const _=u.join("");fe(Zt,`Creating RPC '${e}' stream ${o}: ${_}`,p);const A=h.createWebChannel(_,p);this.T_(A);let w=!1,C=!1;const x=new WD({Ho:j=>{C?fe(Zt,`Not sending because RPC '${e}' stream ${o} is closed:`,j):(w||(fe(Zt,`Opening RPC '${e}' stream ${o} transport.`),A.open(),w=!0),fe(Zt,`RPC '${e}' stream ${o} sending:`,j),A.send(j))},Yo:()=>A.close()}),U=(j,P,X)=>{j.listen(P,K=>{try{X(K)}catch(se){setTimeout(()=>{throw se},0)}})};return U(A,ou.EventType.OPEN,()=>{C||(fe(Zt,`RPC '${e}' stream ${o} transport opened.`),x.s_())}),U(A,ou.EventType.CLOSE,()=>{C||(C=!0,fe(Zt,`RPC '${e}' stream ${o} transport closed`),x.__(),this.I_(A))}),U(A,ou.EventType.ERROR,j=>{C||(C=!0,ur(Zt,`RPC '${e}' stream ${o} transport errored. Name:`,j.name,"Message:",j.message),x.__(new ce(ee.UNAVAILABLE,"The operation could not be completed")))}),U(A,ou.EventType.MESSAGE,j=>{var P;if(!C){const X=j.data[0];He(!!X,16349);const K=X,se=K?.error||((P=K[0])===null||P===void 0?void 0:P.error);if(se){fe(Zt,`RPC '${e}' stream ${o} received error:`,se);const re=se.status;let he=function(I){const k=At[I];if(k!==void 0)return A1(k)}(re),D=se.message;he===void 0&&(he=ee.INTERNAL,D="Unknown error status: "+re+" with message "+se.message),C=!0,x.__(new ce(he,D)),A.close()}else fe(Zt,`RPC '${e}' stream ${o} received:`,X),x.a_(X)}}),U(d,Uw.STAT_EVENT,j=>{j.stat===Rp.PROXY?fe(Zt,`RPC '${e}' stream ${o} detected buffering proxy`):j.stat===Rp.NOPROXY&&fe(Zt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{x.o_()},0),x}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}}function op(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xf(i){return new nD(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1{constructor(e,t,r=1e3,o=1.5,u=6e4){this.Fi=e,this.timerId=t,this.d_=r,this.E_=o,this.A_=u,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const t=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),o=Math.max(0,t-r);o>0&&fe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,o,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HE="PersistentStream";class L1{constructor(e,t,r,o,u,h,d,p){this.Fi=e,this.w_=r,this.S_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new V1(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===ee.RESOURCE_EXHAUSTED?(_s(t.toString()),_s("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(t)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.b_===t&&this.W_(r,o)},r=>{e(()=>{const o=new ce(ee.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(o)})})}W_(e,t){const r=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(o=>{r(()=>this.G_(o))}),this.stream.onMessage(o=>{r(()=>++this.C_==1?this.j_(o):this.onNext(o))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return fe(HE,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():(fe(HE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class JD extends L1{constructor(e,t,r,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,o,h),this.serializer=u}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const t=rD(this.serializer,e),r=function(u){if(!("targetChange"in u))return be.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?be.min():h.readTime?Ni(h.readTime):be.min()}(e);return this.listener.J_(t,r)}H_(e){const t={};t.database=jp(this.serializer),t.addTarget=function(u,h){let d;const p=h.target;if(d=Dp(p)?{documents:lD(u,p)}:{query:uD(u,p).Vt},d.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){d.resumeToken=R1(u,h.resumeToken);const y=Mp(u,h.expectedCount);y!==null&&(d.expectedCount=y)}else if(h.snapshotVersion.compareTo(be.min())>0){d.readTime=Yh(u,h.snapshotVersion.toTimestamp());const y=Mp(u,h.expectedCount);y!==null&&(d.expectedCount=y)}return d}(this.serializer,e);const r=hD(this.serializer,e);r&&(t.labels=r),this.k_(t)}Y_(e){const t={};t.database=jp(this.serializer),t.removeTarget=e,this.k_(t)}}class eO extends L1{constructor(e,t,r,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,o,h),this.serializer=u}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return He(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,He(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){He(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const t=oD(e.writeResults,e.commitTime),r=Ni(e.commitTime);return this.listener.ta(r,t)}na(){const e={};e.database=jp(this.serializer),this.k_(e)}X_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>aD(this.serializer,r))};this.k_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tO{}class nO extends tO{constructor(e,t,r,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=o,this.ra=!1}ia(){if(this.ra)throw new ce(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Wo(e,kp(t,r),o,u,h)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ce(ee.UNKNOWN,u.toString())})}Jo(e,t,r,o,u){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.Jo(e,kp(t,r),o,h,d,u)).catch(h=>{throw h.name==="FirebaseError"?(h.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ce(ee.UNKNOWN,h.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class iO{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(_s(t),this._a=!1):fe("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fa="RemoteStore";class sO{constructor(e,t,r,o,u){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=u,this.Ea.xo(h=>{r.enqueueAndForget(async()=>{Ta(this)&&(fe(fa,"Restarting streams for network reachability change."),await async function(p){const y=Se(p);y.Ia.add(4),await Bu(y),y.Aa.set("Unknown"),y.Ia.delete(4),await If(y)}(this))})}),this.Aa=new iO(r,o)}}async function If(i){if(Ta(i))for(const e of i.da)await e(!0)}async function Bu(i){for(const e of i.da)await e(!1)}function U1(i,e){const t=Se(i);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),Cg(t)?Ig(t):Go(t).x_()&&xg(t,e))}function Rg(i,e){const t=Se(i),r=Go(t);t.Ta.delete(e),r.x_()&&B1(t,e),t.Ta.size===0&&(r.x_()?r.B_():Ta(t)&&t.Aa.set("Unknown"))}function xg(i,e){if(i.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(be.min())>0){const t=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Go(i).H_(e)}function B1(i,e){i.Ra.$e(e),Go(i).Y_(e)}function Ig(i){i.Ra=new ZN({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>i.Ta.get(e)||null,lt:()=>i.datastore.serializer.databaseId}),Go(i).start(),i.Aa.aa()}function Cg(i){return Ta(i)&&!Go(i).M_()&&i.Ta.size>0}function Ta(i){return Se(i).Ia.size===0}function z1(i){i.Ra=void 0}async function rO(i){i.Aa.set("Online")}async function aO(i){i.Ta.forEach((e,t)=>{xg(i,e)})}async function oO(i,e){z1(i),Cg(i)?(i.Aa.la(e),Ig(i)):i.Aa.set("Unknown")}async function lO(i,e,t){if(i.Aa.set("Online"),e instanceof S1&&e.state===2&&e.cause)try{await async function(o,u){const h=u.cause;for(const d of u.targetIds)o.Ta.has(d)&&(await o.remoteSyncer.rejectListen(d,h),o.Ta.delete(d),o.Ra.removeTarget(d))}(i,e)}catch(r){fe(fa,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Wh(i,r)}else if(e instanceof Oh?i.Ra.Ye(e):e instanceof b1?i.Ra.it(e):i.Ra.et(e),!t.isEqual(be.min()))try{const r=await j1(i.localStore);t.compareTo(r)>=0&&await function(u,h){const d=u.Ra.Pt(h);return d.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const _=u.Ta.get(y);_&&u.Ta.set(y,_.withResumeToken(p.resumeToken,h))}}),d.targetMismatches.forEach((p,y)=>{const _=u.Ta.get(p);if(!_)return;u.Ta.set(p,_.withResumeToken(Qt.EMPTY_BYTE_STRING,_.snapshotVersion)),B1(u,p);const A=new sr(_.target,p,y,_.sequenceNumber);xg(u,A)}),u.remoteSyncer.applyRemoteEvent(d)}(i,t)}catch(r){fe(fa,"Failed to raise snapshot:",r),await Wh(i,r)}}async function Wh(i,e,t){if(!Fo(e))throw e;i.Ia.add(1),await Bu(i),i.Aa.set("Offline"),t||(t=()=>j1(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{fe(fa,"Retrying IndexedDB access"),await t(),i.Ia.delete(1),await If(i)})}function q1(i,e){return e().catch(t=>Wh(i,t,e))}async function Cf(i){const e=Se(i),t=mr(e);let r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:fg;for(;uO(e);)try{const o=await HD(e.localStore,r);if(o===null){e.Pa.length===0&&t.B_();break}r=o.batchId,cO(e,o)}catch(o){await Wh(e,o)}F1(e)&&H1(e)}function uO(i){return Ta(i)&&i.Pa.length<10}function cO(i,e){i.Pa.push(e);const t=mr(i);t.x_()&&t.Z_&&t.X_(e.mutations)}function F1(i){return Ta(i)&&!mr(i).M_()&&i.Pa.length>0}function H1(i){mr(i).start()}async function hO(i){mr(i).na()}async function fO(i){const e=mr(i);for(const t of i.Pa)e.X_(t.mutations)}async function dO(i,e,t){const r=i.Pa.shift(),o=_g.from(r,e,t);await q1(i,()=>i.remoteSyncer.applySuccessfulWrite(o)),await Cf(i)}async function mO(i,e){e&&mr(i).Z_&&await async function(r,o){if(function(h){return XN(h)&&h!==ee.ABORTED}(o.code)){const u=r.Pa.shift();mr(r).N_(),await q1(r,()=>r.remoteSyncer.rejectFailedWrite(u.batchId,o)),await Cf(r)}}(i,e),F1(i)&&H1(i)}async function GE(i,e){const t=Se(i);t.asyncQueue.verifyOperationInProgress(),fe(fa,"RemoteStore received new credentials");const r=Ta(t);t.Ia.add(3),await Bu(t),r&&t.Aa.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),await If(t)}async function pO(i,e){const t=Se(i);e?(t.Ia.delete(2),await If(t)):e||(t.Ia.add(2),await Bu(t),t.Aa.set("Unknown"))}function Go(i){return i.Va||(i.Va=function(t,r,o){const u=Se(t);return u.ia(),new JD(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{Zo:rO.bind(null,i),e_:aO.bind(null,i),n_:oO.bind(null,i),J_:lO.bind(null,i)}),i.da.push(async e=>{e?(i.Va.N_(),Cg(i)?Ig(i):i.Aa.set("Unknown")):(await i.Va.stop(),z1(i))})),i.Va}function mr(i){return i.ma||(i.ma=function(t,r,o){const u=Se(t);return u.ia(),new eO(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{Zo:()=>Promise.resolve(),e_:hO.bind(null,i),n_:mO.bind(null,i),ea:fO.bind(null,i),ta:dO.bind(null,i)}),i.da.push(async e=>{e?(i.ma.N_(),await Cf(i)):(await i.ma.stop(),i.Pa.length>0&&(fe(fa,`Stopping write stream with ${i.Pa.length} pending writes`),i.Pa=[]))})),i.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ng{constructor(e,t,r,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new ms,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,o,u){const h=Date.now()+r,d=new Ng(e,t,h,o,u);return d.start(r),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Dg(i,e){if(_s("AsyncQueue",`${e}: ${i}`),Fo(i))return new ce(ee.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{static emptySet(e){return new Ro(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||ge.comparator(t.key,r.key):(t,r)=>ge.comparator(t.key,r.key),this.keyedMap=lu(),this.sortedSet=new ut(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ro)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Ro;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E{constructor(){this.fa=new ut(ge.comparator)}track(e){const t=e.doc.key,r=this.fa.get(t);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(t,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(t):e.type===1&&r.type===2?this.fa=this.fa.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):Te(63341,{At:e,ga:r}):this.fa=this.fa.insert(t,e)}pa(){const e=[];return this.fa.inorderTraversal((t,r)=>{e.push(r)}),e}}class Po{constructor(e,t,r,o,u,h,d,p,y){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,t,r,o,u){const h=[];return t.forEach(d=>{h.push({type:0,doc:d})}),new Po(e,t,Ro.emptySet(t),h,r,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Tf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==r[o].type||!t[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gO{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class yO{constructor(){this.queries=QE(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,r){const o=Se(t),u=o.queries;o.queries=QE(),u.forEach((h,d)=>{for(const p of d.wa)p.onError(r)})})(this,new ce(ee.ABORTED,"Firestore shutting down"))}}function QE(){return new Ea(i=>c1(i),Tf)}async function Og(i,e){const t=Se(i);let r=3;const o=e.query;let u=t.queries.get(o);u?!u.Sa()&&e.ba()&&(r=2):(u=new gO,r=e.ba()?0:1);try{switch(r){case 0:u.ya=await t.onListen(o,!0);break;case 1:u.ya=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(h){const d=Dg(h,`Initialization of query '${_o(e.query)}' failed`);return void e.onError(d)}t.queries.set(o,u),u.wa.push(e),e.va(t.onlineState),u.ya&&e.Ca(u.ya)&&kg(t)}async function Mg(i,e){const t=Se(i),r=e.query;let o=3;const u=t.queries.get(r);if(u){const h=u.wa.indexOf(e);h>=0&&(u.wa.splice(h,1),u.wa.length===0?o=e.ba()?0:1:!u.Sa()&&e.ba()&&(o=2))}switch(o){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function vO(i,e){const t=Se(i);let r=!1;for(const o of e){const u=o.query,h=t.queries.get(u);if(h){for(const d of h.wa)d.Ca(o)&&(r=!0);h.ya=o}}r&&kg(t)}function _O(i,e,t){const r=Se(i),o=r.queries.get(e);if(o)for(const u of o.wa)u.onError(t);r.queries.delete(e)}function kg(i){i.Da.forEach(e=>{e.next()})}var Up,KE;(KE=Up||(Up={})).Fa="default",KE.Cache="cache";class Pg{constructor(e,t,r){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new Po(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;const r=t!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=Po.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==Up.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(e){this.key=e}}class $1{constructor(e){this.key=e}}class EO{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=ke(),this.mutatedKeys=ke(),this.Xa=h1(e),this.eu=new Ro(this.Xa)}get tu(){return this.Ha}nu(e,t){const r=t?t.ru:new $E,o=t?t.eu:this.eu;let u=t?t.mutatedKeys:this.mutatedKeys,h=o,d=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((_,A)=>{const w=o.get(_),C=wf(this.query,A)?A:null,x=!!w&&this.mutatedKeys.has(w.key),U=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let j=!1;w&&C?w.data.isEqual(C.data)?x!==U&&(r.track({type:3,doc:C}),j=!0):this.iu(w,C)||(r.track({type:2,doc:C}),j=!0,(p&&this.Xa(C,p)>0||y&&this.Xa(C,y)<0)&&(d=!0)):!w&&C?(r.track({type:0,doc:C}),j=!0):w&&!C&&(r.track({type:1,doc:w}),j=!0,(p||y)&&(d=!0)),j&&(C?(h=h.add(C),u=U?u.add(_):u.delete(_)):(h=h.delete(_),u=u.delete(_)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const _=this.query.limitType==="F"?h.last():h.first();h=h.delete(_.key),u=u.delete(_.key),r.track({type:1,doc:_})}return{eu:h,ru:r,Ds:d,mutatedKeys:u}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,o){const u=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const h=e.ru.pa();h.sort((_,A)=>function(C,x){const U=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te(20277,{At:j})}};return U(C)-U(x)}(_.type,A.type)||this.Xa(_.doc,A.doc)),this.su(r),o=o!=null&&o;const d=t&&!o?this.ou():[],p=this.Za.size===0&&this.current&&!o?1:0,y=p!==this.Ya;return this.Ya=p,h.length!==0||y?{snapshot:new Po(this.query,e.eu,u,h,e.mutatedKeys,p===0,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:d}:{_u:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new $E,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=ke(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});const t=[];return e.forEach(r=>{this.Za.has(r)||t.push(new $1(r))}),this.Za.forEach(r=>{e.has(r)||t.push(new G1(r))}),t}uu(e){this.Ha=e.qs,this.Za=ke();const t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return Po.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const jg="SyncEngine";class TO{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class wO{constructor(e){this.key=e,this.lu=!1}}class AO{constructor(e,t,r,o,u,h){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.hu={},this.Pu=new Ea(d=>c1(d),Tf),this.Tu=new Map,this.Iu=new Set,this.du=new ut(ge.comparator),this.Eu=new Map,this.Au=new wg,this.Ru={},this.Vu=new Map,this.mu=ko.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function bO(i,e,t=!0){const r=Z1(i);let o;const u=r.Pu.get(e);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.cu()):o=await Q1(r,e,t,!0),o}async function SO(i,e){const t=Z1(i);await Q1(t,e,!0,!1)}async function Q1(i,e,t,r){const o=await GD(i.localStore,Ci(e)),u=o.targetId,h=i.sharedClientState.addLocalQueryTarget(u,t);let d;return r&&(d=await RO(i,e,u,h==="current",o.resumeToken)),i.isPrimaryClient&&t&&U1(i.remoteStore,o),d}async function RO(i,e,t,r,o){i.gu=(A,w,C)=>async function(U,j,P,X){let K=j.view.nu(P);K.Ds&&(K=await BE(U.localStore,j.query,!1).then(({documents:D})=>j.view.nu(D,K)));const se=X&&X.targetChanges.get(j.targetId),re=X&&X.targetMismatches.get(j.targetId)!=null,he=j.view.applyChanges(K,U.isPrimaryClient,se,re);return XE(U,j.targetId,he._u),he.snapshot}(i,A,w,C);const u=await BE(i.localStore,e,!0),h=new EO(e,u.qs),d=h.nu(u.documents),p=Uu.createSynthesizedTargetChangeForCurrentChange(t,r&&i.onlineState!=="Offline",o),y=h.applyChanges(d,i.isPrimaryClient,p);XE(i,t,y._u);const _=new TO(e,t,h);return i.Pu.set(e,_),i.Tu.has(t)?i.Tu.get(t).push(e):i.Tu.set(t,[e]),y.snapshot}async function xO(i,e,t){const r=Se(i),o=r.Pu.get(e),u=r.Tu.get(o.targetId);if(u.length>1)return r.Tu.set(o.targetId,u.filter(h=>!Tf(h,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Vp(r.localStore,o.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(o.targetId),t&&Rg(r.remoteStore,o.targetId),Bp(r,o.targetId)}).catch(qo)):(Bp(r,o.targetId),await Vp(r.localStore,o.targetId,!0))}async function IO(i,e){const t=Se(i),r=t.Pu.get(e),o=t.Tu.get(r.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Rg(t.remoteStore,r.targetId))}async function CO(i,e,t){const r=jO(i);try{const o=await function(h,d){const p=Se(h),y=nt.now(),_=d.reduce((C,x)=>C.add(x.key),ke());let A,w;return p.persistence.runTransaction("Locally write mutations","readwrite",C=>{let x=Es(),U=ke();return p.Os.getEntries(C,_).next(j=>{x=j,x.forEach((P,X)=>{X.isValidDocument()||(U=U.add(P))})}).next(()=>p.localDocuments.getOverlayedDocuments(C,x)).next(j=>{A=j;const P=[];for(const X of d){const K=GN(X,A.get(X.key).overlayedDocument);K!=null&&P.push(new _r(X.key,K,n1(K.value.mapValue),Hn.exists(!0)))}return p.mutationQueue.addMutationBatch(C,y,P,d)}).next(j=>{w=j;const P=j.applyToLocalDocumentSet(A,U);return p.documentOverlayCache.saveOverlays(C,j.batchId,P)})}).then(()=>({batchId:w.batchId,changes:d1(A)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),function(h,d,p){let y=h.Ru[h.currentUser.toKey()];y||(y=new ut(Ie)),y=y.insert(d,p),h.Ru[h.currentUser.toKey()]=y}(r,o.batchId,t),await zu(r,o.changes),await Cf(r.remoteStore)}catch(o){const u=Dg(o,"Failed to persist write");t.reject(u)}}async function K1(i,e){const t=Se(i);try{const r=await qD(t.localStore,e);e.targetChanges.forEach((o,u)=>{const h=t.Eu.get(u);h&&(He(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.lu=!0:o.modifiedDocuments.size>0?He(h.lu,14607):o.removedDocuments.size>0&&(He(h.lu,42227),h.lu=!1))}),await zu(t,r,e)}catch(r){await qo(r)}}function YE(i,e,t){const r=Se(i);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const o=[];r.Pu.forEach((u,h)=>{const d=h.view.va(e);d.snapshot&&o.push(d.snapshot)}),function(h,d){const p=Se(h);p.onlineState=d;let y=!1;p.queries.forEach((_,A)=>{for(const w of A.wa)w.va(d)&&(y=!0)}),y&&kg(p)}(r.eventManager,e),o.length&&r.hu.J_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function NO(i,e,t){const r=Se(i);r.sharedClientState.updateQueryState(e,"rejected",t);const o=r.Eu.get(e),u=o&&o.key;if(u){let h=new ut(ge.comparator);h=h.insert(u,en.newNoDocument(u,be.min()));const d=ke().add(u),p=new Rf(be.min(),new Map,new ut(Ie),h,d);await K1(r,p),r.du=r.du.remove(u),r.Eu.delete(e),Vg(r)}else await Vp(r.localStore,e,!1).then(()=>Bp(r,e,t)).catch(qo)}async function DO(i,e){const t=Se(i),r=e.batch.batchId;try{const o=await zD(t.localStore,e);X1(t,r,null),Y1(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await zu(t,o)}catch(o){await qo(o)}}async function OO(i,e,t){const r=Se(i);try{const o=await function(h,d){const p=Se(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let _;return p.mutationQueue.lookupMutationBatch(y,d).next(A=>(He(A!==null,37113),_=A.keys(),p.mutationQueue.removeMutationBatch(y,A))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,_,d)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,_)).next(()=>p.localDocuments.getDocuments(y,_))})}(r.localStore,e);X1(r,e,t),Y1(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await zu(r,o)}catch(o){await qo(o)}}function Y1(i,e){(i.Vu.get(e)||[]).forEach(t=>{t.resolve()}),i.Vu.delete(e)}function X1(i,e,t){const r=Se(i);let o=r.Ru[r.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),r.Ru[r.currentUser.toKey()]=o}}function Bp(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const r of i.Tu.get(e))i.Pu.delete(r),t&&i.hu.pu(r,t);i.Tu.delete(e),i.isPrimaryClient&&i.Au.zr(e).forEach(r=>{i.Au.containsKey(r)||W1(i,r)})}function W1(i,e){i.Iu.delete(e.path.canonicalString());const t=i.du.get(e);t!==null&&(Rg(i.remoteStore,t),i.du=i.du.remove(e),i.Eu.delete(t),Vg(i))}function XE(i,e,t){for(const r of t)r instanceof G1?(i.Au.addReference(r.key,e),MO(i,r)):r instanceof $1?(fe(jg,"Document no longer in limbo: "+r.key),i.Au.removeReference(r.key,e),i.Au.containsKey(r.key)||W1(i,r.key)):Te(19791,{yu:r})}function MO(i,e){const t=e.key,r=t.path.canonicalString();i.du.get(t)||i.Iu.has(r)||(fe(jg,"New document in limbo: "+t),i.Iu.add(r),Vg(i))}function Vg(i){for(;i.Iu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Iu.values().next().value;i.Iu.delete(e);const t=new ge(tt.fromString(e)),r=i.mu.next();i.Eu.set(r,new wO(t)),i.du=i.du.insert(t,r),U1(i.remoteStore,new sr(Ci(Ef(t.path)),r,"TargetPurposeLimboResolution",yf.ue))}}async function zu(i,e,t){const r=Se(i),o=[],u=[],h=[];r.Pu.isEmpty()||(r.Pu.forEach((d,p)=>{h.push(r.gu(p,e,t).then(y=>{var _;if((y||t)&&r.isPrimaryClient){const A=y?!y.fromCache:(_=t?.targetChanges.get(p.targetId))===null||_===void 0?void 0:_.current;r.sharedClientState.updateQueryState(p.targetId,A?"current":"not-current")}if(y){o.push(y);const A=bg.Es(p.targetId,y);u.push(A)}}))}),await Promise.all(h),r.hu.J_(o),await async function(p,y){const _=Se(p);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",A=>ne.forEach(y,w=>ne.forEach(w.Is,C=>_.persistence.referenceDelegate.addReference(A,w.targetId,C)).next(()=>ne.forEach(w.ds,C=>_.persistence.referenceDelegate.removeReference(A,w.targetId,C)))))}catch(A){if(!Fo(A))throw A;fe(Sg,"Failed to update sequence numbers: "+A)}for(const A of y){const w=A.targetId;if(!A.fromCache){const C=_.Fs.get(w),x=C.snapshotVersion,U=C.withLastLimboFreeSnapshotVersion(x);_.Fs=_.Fs.insert(w,U)}}}(r.localStore,u))}async function kO(i,e){const t=Se(i);if(!t.currentUser.isEqual(e)){fe(jg,"User change. New user:",e.toKey());const r=await P1(t.localStore,e);t.currentUser=e,function(u,h){u.Vu.forEach(d=>{d.forEach(p=>{p.reject(new ce(ee.CANCELLED,h))})}),u.Vu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await zu(t,r.Bs)}}function PO(i,e){const t=Se(i),r=t.Eu.get(e);if(r&&r.lu)return ke().add(r.key);{let o=ke();const u=t.Tu.get(e);if(!u)return o;for(const h of u){const d=t.Pu.get(h);o=o.unionWith(d.view.tu)}return o}}function Z1(i){const e=Se(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=K1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=PO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=NO.bind(null,e),e.hu.J_=vO.bind(null,e.eventManager),e.hu.pu=_O.bind(null,e.eventManager),e}function jO(i){const e=Se(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=DO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=OO.bind(null,e),e}class Zh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=xf(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,t){return null}Fu(e,t){return null}vu(e){return BD(this.persistence,new VD,e.initialUser,this.serializer)}Du(e){return new k1(Ag.Vi,this.serializer)}bu(e){return new QD}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Zh.provider={build:()=>new Zh};class VO extends Zh{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){He(this.persistence.referenceDelegate instanceof Xh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new wD(r,e.asyncQueue,t)}Du(e){const t=this.cacheSizeBytes!==void 0?dn.withCacheSize(this.cacheSizeBytes):dn.DEFAULT;return new k1(r=>Xh.Vi(r,t),this.serializer)}}class zp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>YE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=kO.bind(null,this.syncEngine),await pO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new yO}()}createDatastore(e){const t=xf(e.databaseInfo.databaseId),r=function(u){return new ZD(u)}(e.databaseInfo);return function(u,h,d,p){return new nO(u,h,d,p)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,o,u,h,d){return new sO(r,o,u,h,d)}(this.localStore,this.datastore,e.asyncQueue,t=>YE(this.syncEngine,t,0),function(){return FE.C()?new FE:new KD}())}createSyncEngine(e,t){return function(o,u,h,d,p,y,_){const A=new AO(o,u,h,d,p,y);return _&&(A.fu=!0),A}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const u=Se(o);fe(fa,"RemoteStore shutting down."),u.Ia.add(5),await Bu(u),u.Ea.shutdown(),u.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}zp.provider={build:()=>new zp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lg{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):_s("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pr="FirestoreClient";class LO{constructor(e,t,r,o,u){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=o,this.user=Jt.UNAUTHENTICATED,this.clientId=hg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,async h=>{fe(pr,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(r,h=>(fe(pr,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ms;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Dg(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function lp(i,e){i.asyncQueue.verifyOperationInProgress(),fe(pr,"Initializing OfflineComponentProvider");const t=i.configuration;await e.initialize(t);let r=t.initialUser;i.setCredentialChangeListener(async o=>{r.isEqual(o)||(await P1(e.localStore,o),r=o)}),e.persistence.setDatabaseDeletedListener(()=>{ur("Terminating Firestore due to IndexedDb database deletion"),i.terminate().then(()=>{fe("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(o=>{ur("Terminating Firestore due to IndexedDb database deletion failed",o)})}),i._offlineComponents=e}async function WE(i,e){i.asyncQueue.verifyOperationInProgress();const t=await UO(i);fe(pr,"Initializing OnlineComponentProvider"),await e.initialize(t,i.configuration),i.setCredentialChangeListener(r=>GE(e.remoteStore,r)),i.setAppCheckTokenChangeListener((r,o)=>GE(e.remoteStore,o)),i._onlineComponents=e}async function UO(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){fe(pr,"Using user provided OfflineComponentProvider");try{await lp(i,i._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===ee.FAILED_PRECONDITION||o.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;ur("Error using user provided cache. Falling back to memory cache: "+t),await lp(i,new Zh)}}else fe(pr,"Using default OfflineComponentProvider"),await lp(i,new VO(void 0));return i._offlineComponents}async function J1(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(fe(pr,"Using user provided OnlineComponentProvider"),await WE(i,i._uninitializedComponentsProvider._online)):(fe(pr,"Using default OnlineComponentProvider"),await WE(i,new zp))),i._onlineComponents}function BO(i){return J1(i).then(e=>e.syncEngine)}async function Jh(i){const e=await J1(i),t=e.eventManager;return t.onListen=bO.bind(null,e.syncEngine),t.onUnlisten=xO.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=SO.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=IO.bind(null,e.syncEngine),t}function zO(i,e,t={}){const r=new ms;return i.asyncQueue.enqueueAndForget(async()=>function(u,h,d,p,y){const _=new Lg({next:w=>{_.Ou(),h.enqueueAndForget(()=>Mg(u,A));const C=w.docs.has(d);!C&&w.fromCache?y.reject(new ce(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):C&&w.fromCache&&p&&p.source==="server"?y.reject(new ce(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(w)},error:w=>y.reject(w)}),A=new Pg(Ef(d.path),_,{includeMetadataChanges:!0,ka:!0});return Og(u,A)}(await Jh(i),i.asyncQueue,e,t,r)),r.promise}function qO(i,e,t={}){const r=new ms;return i.asyncQueue.enqueueAndForget(async()=>function(u,h,d,p,y){const _=new Lg({next:w=>{_.Ou(),h.enqueueAndForget(()=>Mg(u,A)),w.fromCache&&p.source==="server"?y.reject(new ce(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(w)},error:w=>y.reject(w)}),A=new Pg(d,_,{includeMetadataChanges:!0,ka:!0});return Og(u,A)}(await Jh(i),i.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eA(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tA="firestore.googleapis.com",JE=!0;class eT{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ce(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=tA,this.ssl=JE}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:JE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=M1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<ED)throw new ce(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}aN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=eA((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new ce(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new ce(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new ce(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,o){return r.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Nf{constructor(e,t,r,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new eT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new eT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new WC;switch(r.type){case"firstParty":return new tN(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ce(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=ZE.get(t);r&&(fe("ComponentProvider","Removing Datastore"),ZE.delete(t),r.terminate())}(this),Promise.resolve()}}function FO(i,e,t,r={}){var o;i=gn(i,Nf);const u=ga(e),h=i._getSettings(),d=Object.assign(Object.assign({},h),{emulatorOptions:i._getEmulatorOptions()}),p=`${e}:${t}`;u&&(Zp(`https://${p}`),Jp("Firestore",!0)),h.host!==tA&&h.host!==p&&ur("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y=Object.assign(Object.assign({},h),{host:p,ssl:u,emulatorOptions:r});if(!Mi(y,d)&&(i._setSettings(y),r.mockUserToken)){let _,A;if(typeof r.mockUserToken=="string")_=r.mockUserToken,A=Jt.MOCK_USER;else{_=$T(r.mockUserToken,(o=i._app)===null||o===void 0?void 0:o.options.projectId);const w=r.mockUserToken.sub||r.mockUserToken.user_id;if(!w)throw new ce(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Jt(w)}i._authCredentials=new ZC(new Fw(_,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new As(this.firestore,e,this._query)}}class dt{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new lr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new dt(this.firestore,e,this._key)}toJSON(){return{type:dt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(Vu(t,dt._jsonSchema))return new dt(e,r||null,new ge(tt.fromString(t.referencePath)))}}dt._jsonSchemaVersion="firestore/documentReference/1.0",dt._jsonSchema={type:St("string",dt._jsonSchemaVersion),referencePath:St("string")};class lr extends As{constructor(e,t,r){super(e,t,Ef(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new dt(this.firestore,null,new ge(e))}withConverter(e){return new lr(this.firestore,e,this._path)}}function nn(i,e,...t){if(i=lt(i),Gw("collection","path",e),i instanceof Nf){const r=tt.fromString(e,...t);return dE(r),new lr(i,null,r)}{if(!(i instanceof dt||i instanceof lr))throw new ce(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=i._path.child(tt.fromString(e,...t));return dE(r),new lr(i.firestore,null,r)}}function Ut(i,e,...t){if(i=lt(i),arguments.length===1&&(e=hg.newId()),Gw("doc","path",e),i instanceof Nf){const r=tt.fromString(e,...t);return fE(r),new dt(i,null,new ge(r))}{if(!(i instanceof dt||i instanceof lr))throw new ce(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=i._path.child(tt.fromString(e,...t));return fE(r),new dt(i.firestore,i instanceof lr?i.converter:null,new ge(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tT="AsyncQueue";class nT{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new V1(this,"async_queue_retry"),this.oc=()=>{const r=op();r&&fe(tT,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;const t=op();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const t=op();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const t=new ms;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Fo(e))throw e;fe(tT,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const t=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,_s("INTERNAL UNHANDLED ERROR: ",iT(r)),r}).then(r=>(this.nc=!1,r))));return this._c=t,t}enqueueAfterDelay(e,t,r){this.ac(),this.sc.indexOf(e)>-1&&(t=0);const o=Ng.createAndSchedule(this,e,t,r,u=>this.lc(u));return this.ec.push(o),o}ac(){this.tc&&Te(47125,{hc:iT(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const t=this.ec.indexOf(e);this.ec.splice(t,1)}}function iT(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sT(i){return function(t,r){if(typeof t!="object"||t===null)return!1;const o=t;for(const u of r)if(u in o&&typeof o[u]=="function")return!0;return!1}(i,["next","error","complete"])}class Ts extends Nf{constructor(e,t,r,o){super(e,t,r,o),this.type="firestore",this._queue=new nT,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new nT(e),this._firestoreClient=void 0,await e}}}function HO(i,e){const t=typeof i=="object"?i:ff(),r=typeof i=="string"?i:Gh,o=gr(t,"firestore").getImmediate({identifier:r});if(!o._initialized){const u=FT("firestore");u&&FO(o,...u)}return o}function Df(i){if(i._terminated)throw new ce(ee.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||GO(i),i._firestoreClient}function GO(i){var e,t,r;const o=i._freezeSettings(),u=function(d,p,y,_){return new yN(d,p,y,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,eA(_.experimentalLongPollingOptions),_.useFetchStreams,_.isUsingEmulator)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,o);i._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=o.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(i._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),i._firestoreClient=new LO(i._authCredentials,i._appCheckCredentials,i._queue,u,i._componentsProvider&&function(d){const p=d?._online.build();return{_offline:d?._offline.build(p),_online:p}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Fn(Qt.fromBase64String(e))}catch(t){throw new ce(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Fn(Qt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Fn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Vu(e,Fn._jsonSchema))return Fn.fromBase64String(e.bytes)}}Fn._jsonSchemaVersion="firestore/bytes/1.0",Fn._jsonSchema={type:St("string",Fn._jsonSchemaVersion),bytes:St("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Of{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ce(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $t(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ce(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ce(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ie(this._lat,e._lat)||Ie(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Di._jsonSchemaVersion}}static fromJSON(e){if(Vu(e,Di._jsonSchema))return new Di(e.latitude,e.longitude)}}Di._jsonSchemaVersion="firestore/geoPoint/1.0",Di._jsonSchema={type:St("string",Di._jsonSchemaVersion),latitude:St("number"),longitude:St("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,o){if(r.length!==o.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==o[u])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Oi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Vu(e,Oi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new Oi(e.vectorValues);throw new ce(ee.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Oi._jsonSchemaVersion="firestore/vectorValue/1.0",Oi._jsonSchema={type:St("string",Oi._jsonSchemaVersion),vectorValues:St("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $O=/^__.*__$/;class QO{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new _r(e,this.data,this.fieldMask,t,this.fieldTransforms):new Lu(e,this.data,t,this.fieldTransforms)}}class nA{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new _r(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function iA(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te(40011,{Ec:i})}}class Mf{constructor(e,t,r,o,u,h){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=o,u===void 0&&this.Ac(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new Mf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Rc({path:r,mc:!1});return o.fc(e),o}gc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Rc({path:r,mc:!1});return o.Ac(),o}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return ef(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(iA(this.Ec)&&$O.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class KO{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||xf(e)}Dc(e,t,r,o=!1){return new Mf({Ec:e,methodName:t,bc:r,path:$t.emptyPath(),mc:!1,Sc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function kf(i){const e=i._freezeSettings(),t=xf(i._databaseId);return new KO(i._databaseId,!!e.ignoreUndefinedProperties,t)}function sA(i,e,t,r,o,u={}){const h=i.Dc(u.merge||u.mergeFields?2:0,e,t,o);Fg("Data must be an object, but it was:",h,r);const d=aA(r,h);let p,y;if(u.merge)p=new In(h.fieldMask),y=h.fieldTransforms;else if(u.mergeFields){const _=[];for(const A of u.mergeFields){const w=qp(e,A,t);if(!h.contains(w))throw new ce(ee.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);lA(_,w)||_.push(w)}p=new In(_),y=h.fieldTransforms.filter(A=>p.covers(A.field))}else p=null,y=h.fieldTransforms;return new QO(new mn(d),p,y)}class Pf extends wa{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Pf}}function rA(i,e,t){return new Mf({Ec:3,bc:e.settings.bc,methodName:i._methodName,mc:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Ug extends wa{_toFieldTransform(e){return new bf(e.path,new Ru)}isEqual(e){return e instanceof Ug}}class Bg extends wa{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){const t=rA(this,e,!0),r=this.vc.map(u=>Aa(u,t)),o=new Oo(r);return new bf(e.path,o)}isEqual(e){return e instanceof Bg&&Mi(this.vc,e.vc)}}class zg extends wa{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){const t=rA(this,e,!0),r=this.vc.map(u=>Aa(u,t)),o=new Mo(r);return new bf(e.path,o)}isEqual(e){return e instanceof zg&&Mi(this.vc,e.vc)}}class qg extends wa{constructor(e,t){super(e),this.Cc=t}_toFieldTransform(e){const t=new xu(e.serializer,g1(e.serializer,this.Cc));return new bf(e.path,t)}isEqual(e){return e instanceof qg&&this.Cc===e.Cc}}function YO(i,e,t,r){const o=i.Dc(1,e,t);Fg("Data must be an object, but it was:",o,r);const u=[],h=mn.empty();vr(r,(p,y)=>{const _=Hg(e,p,t);y=lt(y);const A=o.gc(_);if(y instanceof Pf)u.push(_);else{const w=Aa(y,A);w!=null&&(u.push(_),h.set(_,w))}});const d=new In(u);return new nA(h,d,o.fieldTransforms)}function XO(i,e,t,r,o,u){const h=i.Dc(1,e,t),d=[qp(e,r,t)],p=[o];if(u.length%2!=0)throw new ce(ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<u.length;w+=2)d.push(qp(e,u[w])),p.push(u[w+1]);const y=[],_=mn.empty();for(let w=d.length-1;w>=0;--w)if(!lA(y,d[w])){const C=d[w];let x=p[w];x=lt(x);const U=h.gc(C);if(x instanceof Pf)y.push(C);else{const j=Aa(x,U);j!=null&&(y.push(C),_.set(C,j))}}const A=new In(y);return new nA(_,A,h.fieldTransforms)}function WO(i,e,t,r=!1){return Aa(t,i.Dc(r?4:3,e))}function Aa(i,e){if(oA(i=lt(i)))return Fg("Unsupported field value:",e,i),aA(i,e);if(i instanceof wa)return function(r,o){if(!iA(o.Ec))throw o.wc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.wc(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(r,o){const u=[];let h=0;for(const d of r){let p=Aa(d,o.yc(h));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),h++}return{arrayValue:{values:u}}}(i,e)}return function(r,o){if((r=lt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return g1(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=nt.fromDate(r);return{timestampValue:Yh(o.serializer,u)}}if(r instanceof nt){const u=new nt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Yh(o.serializer,u)}}if(r instanceof Di)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Fn)return{bytesValue:R1(o.serializer,r._byteString)};if(r instanceof dt){const u=o.databaseId,h=r.firestore._databaseId;if(!h.isEqual(u))throw o.wc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Tg(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof Oi)return function(h,d){return{mapValue:{fields:{[e1]:{stringValue:t1},[$h]:{arrayValue:{values:h.toArray().map(y=>{if(typeof y!="number")throw d.wc("VectorValues must only contain numeric values.");return yg(d.serializer,y)})}}}}}}(r,o);throw o.wc(`Unsupported field value: ${gf(r)}`)}(i,e)}function aA(i,e){const t={};return Kw(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):vr(i,(r,o)=>{const u=Aa(o,e.Vc(r));u!=null&&(t[r]=u)}),{mapValue:{fields:t}}}function oA(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof nt||i instanceof Di||i instanceof Fn||i instanceof dt||i instanceof wa||i instanceof Oi)}function Fg(i,e,t){if(!oA(t)||!$w(t)){const r=gf(t);throw r==="an object"?e.wc(i+" a custom object"):e.wc(i+" "+r)}}function qp(i,e,t){if((e=lt(e))instanceof Of)return e._internalPath;if(typeof e=="string")return Hg(i,e);throw ef("Field path arguments must be of type string or ",i,!1,void 0,t)}const ZO=new RegExp("[~\\*/\\[\\]]");function Hg(i,e,t){if(e.search(ZO)>=0)throw ef(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new Of(...e.split("."))._internalPath}catch{throw ef(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function ef(i,e,t,r,o){const u=r&&!r.isEmpty(),h=o!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(u||h)&&(p+=" (found",u&&(p+=` in field ${r}`),h&&(p+=` in document ${o}`),p+=")"),new ce(ee.INVALID_ARGUMENT,d+i+p)}function lA(i,e){return i.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA{constructor(e,t,r,o,u){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new dt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new JO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(jf("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class JO extends uA{data(){return super.data()}}function jf(i,e){return typeof e=="string"?Hg(i,e):e instanceof Of?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cA(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new ce(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Gg{}class $g extends Gg{}function ps(i,e,...t){let r=[];e instanceof Gg&&r.push(e),r=r.concat(t),function(u){const h=u.filter(p=>p instanceof Qg).length,d=u.filter(p=>p instanceof Vf).length;if(h>1||h>0&&d>0)throw new ce(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const o of r)i=o._apply(i);return i}class Vf extends $g{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Vf(e,t,r)}_apply(e){const t=this._parse(e);return hA(e._query,t),new As(e.firestore,e.converter,Op(e._query,t))}_parse(e){const t=kf(e.firestore);return function(u,h,d,p,y,_,A){let w;if(y.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new ce(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){aT(A,_);const x=[];for(const U of A)x.push(rT(p,u,U));w={arrayValue:{values:x}}}else w=rT(p,u,A)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||aT(A,_),w=WO(d,h,A,_==="in"||_==="not-in");return bt.create(y,_,w)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Iu(i,e,t){const r=e,o=jf("where",i);return Vf._create(o,r,t)}class Qg extends Gg{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Qg(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:si.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,u){let h=o;const d=u.getFlattenedFilters();for(const p of d)hA(h,p),h=Op(h,p)}(e._query,t),new As(e.firestore,e.converter,Op(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Kg extends $g{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Kg(e,t)}_apply(e){const t=function(o,u,h){if(o.startAt!==null)throw new ce(ee.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ce(ee.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Su(u,h)}(e._query,this._field,this._direction);return new As(e.firestore,e.converter,function(o,u){const h=o.explicitOrderBy.concat([u]);return new Ho(o.path,o.collectionGroup,h,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}function Mh(i,e="asc"){const t=e,r=jf("orderBy",i);return Kg._create(r,t)}class Yg extends $g{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new Yg(e,t,r)}_apply(e){return new As(e.firestore,e.converter,Kh(e._query,this._limit,this._limitType))}}function up(i){return Yg._create("limit",i,"F")}function rT(i,e,t){if(typeof(t=lt(t))=="string"){if(t==="")throw new ce(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!u1(e)&&t.indexOf("/")!==-1)throw new ce(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(tt.fromString(t));if(!ge.isDocumentKey(r))throw new ce(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return TE(i,new ge(r))}if(t instanceof dt)return TE(i,t._key);throw new ce(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${gf(t)}.`)}function aT(i,e){if(!Array.isArray(i)||i.length===0)throw new ce(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function hA(i,e){const t=function(o,u){for(const h of o)for(const d of h.getFlattenedFilters())if(u.indexOf(d.op)>=0)return d.op;return null}(i.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new ce(ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ce(ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class e4{convertValue(e,t="none"){switch(dr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(fr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Te(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return vr(e,(o,u)=>{r[o]=this.convertValue(u,t)}),r}convertVectorValue(e){var t,r,o;const u=(o=(r=(t=e.fields)===null||t===void 0?void 0:t[$h].arrayValue)===null||r===void 0?void 0:r.values)===null||o===void 0?void 0:o.map(h=>vt(h.doubleValue));return new Oi(u)}convertGeoPoint(e){return new Di(vt(e.latitude),vt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=_f(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(wu(e));default:return null}}convertTimestamp(e){const t=hr(e);return new nt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=tt.fromString(e);He(O1(r),9688,{name:e});const o=new Au(r.get(1),r.get(3)),u=new ge(r.popFirst(5));return o.isEqual(t)||_s(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fA(i,e,t){let r;return r=i?i.toFirestore(e):e,r}class cu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class oa extends uA{constructor(e,t,r,o,u,h){super(e,t,r,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new kh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(jf("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(ee.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=oa._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}oa._jsonSchemaVersion="firestore/documentSnapshot/1.0",oa._jsonSchema={type:St("string",oa._jsonSchemaVersion),bundleSource:St("string","DocumentSnapshot"),bundleName:St("string"),bundle:St("string")};class kh extends oa{data(e={}){return super.data(e)}}class la{constructor(e,t,r,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new cu(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new kh(this._firestore,this._userDataWriter,r.key,r,new cu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ce(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(d=>{const p=new kh(o._firestore,o._userDataWriter,d.doc.key,d.doc,new cu(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}})}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(d=>u||d.type!==3).map(d=>{const p=new kh(o._firestore,o._userDataWriter,d.doc.key,d.doc,new cu(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,_=-1;return d.type!==0&&(y=h.indexOf(d.doc.key),h=h.delete(d.doc.key)),d.type!==1&&(h=h.add(d.doc),_=h.indexOf(d.doc.key)),{type:t4(d.type),doc:p,oldIndex:y,newIndex:_}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(ee.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=la._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=hg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],o=[];return this.docs.forEach(u=>{u._document!==null&&(t.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function t4(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te(61501,{type:i})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jo(i){i=gn(i,dt);const e=gn(i.firestore,Ts);return zO(Df(e),i._key).then(t=>dA(e,i,t))}la._jsonSchemaVersion="firestore/querySnapshot/1.0",la._jsonSchema={type:St("string",la._jsonSchemaVersion),bundleSource:St("string","QuerySnapshot"),bundleName:St("string"),bundle:St("string")};class Xg extends e4{constructor(e){super(),this.firestore=e}convertBytes(e){return new Fn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new dt(this.firestore,null,t)}}function tf(i){i=gn(i,As);const e=gn(i.firestore,Ts),t=Df(e),r=new Xg(e);return cA(i._query),qO(t,i._query).then(o=>new la(e,r,i,o))}function oT(i,e,t){i=gn(i,dt);const r=gn(i.firestore,Ts),o=fA(i.converter,e);return Lf(r,[sA(kf(r),"setDoc",i._key,o,i.converter!==null,t).toMutation(i._key,Hn.none())])}function ri(i,e,t,...r){i=gn(i,dt);const o=gn(i.firestore,Ts),u=kf(o);let h;return h=typeof(e=lt(e))=="string"||e instanceof Of?XO(u,"updateDoc",i._key,e,t,r):YO(u,"updateDoc",i._key,e),Lf(o,[h.toMutation(i._key,Hn.exists(!0))])}function n4(i){return Lf(gn(i.firestore,Ts),[new vg(i._key,Hn.none())])}function qu(i,e){const t=gn(i.firestore,Ts),r=Ut(i),o=fA(i.converter,e);return Lf(t,[sA(kf(i.firestore),"addDoc",r._key,o,i.converter!==null,{}).toMutation(r._key,Hn.exists(!1))]).then(()=>r)}function $o(i,...e){var t,r,o;i=lt(i);let u={includeMetadataChanges:!1,source:"default"},h=0;typeof e[h]!="object"||sT(e[h])||(u=e[h++]);const d={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(sT(e[h])){const A=e[h];e[h]=(t=A.next)===null||t===void 0?void 0:t.bind(A),e[h+1]=(r=A.error)===null||r===void 0?void 0:r.bind(A),e[h+2]=(o=A.complete)===null||o===void 0?void 0:o.bind(A)}let p,y,_;if(i instanceof dt)y=gn(i.firestore,Ts),_=Ef(i._key.path),p={next:A=>{e[h]&&e[h](dA(y,i,A))},error:e[h+1],complete:e[h+2]};else{const A=gn(i,As);y=gn(A.firestore,Ts),_=A._query;const w=new Xg(y);p={next:C=>{e[h]&&e[h](new la(y,w,A,C))},error:e[h+1],complete:e[h+2]},cA(i._query)}return function(w,C,x,U){const j=new Lg(U),P=new Pg(C,j,x);return w.asyncQueue.enqueueAndForget(async()=>Og(await Jh(w),P)),()=>{j.Ou(),w.asyncQueue.enqueueAndForget(async()=>Mg(await Jh(w),P))}}(Df(y),_,d,p)}function Lf(i,e){return function(r,o){const u=new ms;return r.asyncQueue.enqueueAndForget(async()=>CO(await BO(r),o,u)),u.promise}(Df(i),e)}function dA(i,e,t){const r=t.docs.get(e._key),o=new Xg(i);return new oa(i,o,e._key,r,new cu(t.hasPendingWrites,t.fromCache),e.converter)}function un(){return new Ug("serverTimestamp")}function Wg(...i){return new Bg("arrayUnion",i)}function nf(...i){return new zg("arrayRemove",i)}function xo(i){return new qg("increment",i)}(function(e,t=!0){(function(o){zo=o})(va),ni(new $n("firestore",(r,{instanceIdentifier:o,options:u})=>{const h=r.getProvider("app").getImmediate(),d=new Ts(new JC(r.getProvider("auth-internal")),new nN(h,r.getProvider("app-check-internal")),function(y,_){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ce(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Au(y.options.projectId,_)}(h,o),h);return u=Object.assign({useFetchStreams:t},u),d._setSettings(u),d},"PUBLIC").setMultipleInstances(!0)),pn(oE,lE,e),pn(oE,lE,"esm2017")})();var i4="firebase",s4="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pn(i4,s4,"app");const mA="@firebase/installations",Zg="0.6.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pA=1e4,gA=`w:${Zg}`,yA="FIS_v2",r4="https://firebaseinstallations.googleapis.com/v1",a4=60*60*1e3,o4="installations",l4="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u4={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},da=new ya(o4,l4,u4);function vA(i){return i instanceof Qn&&i.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _A({projectId:i}){return`${r4}/projects/${i}/installations`}function EA(i){return{token:i.token,requestStatus:2,expiresIn:h4(i.expiresIn),creationTime:Date.now()}}async function TA(i,e){const r=(await e.json()).error;return da.create("request-failed",{requestName:i,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function wA({apiKey:i}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":i})}function c4(i,{refreshToken:e}){const t=wA(i);return t.append("Authorization",f4(e)),t}async function AA(i){const e=await i();return e.status>=500&&e.status<600?i():e}function h4(i){return Number(i.replace("s","000"))}function f4(i){return`${yA} ${i}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d4({appConfig:i,heartbeatServiceProvider:e},{fid:t}){const r=_A(i),o=wA(i),u=e.getImmediate({optional:!0});if(u){const y=await u.getHeartbeatsHeader();y&&o.append("x-firebase-client",y)}const h={fid:t,authVersion:yA,appId:i.appId,sdkVersion:gA},d={method:"POST",headers:o,body:JSON.stringify(h)},p=await AA(()=>fetch(r,d));if(p.ok){const y=await p.json();return{fid:y.fid||t,registrationStatus:2,refreshToken:y.refreshToken,authToken:EA(y.authToken)}}else throw await TA("Create Installation",p)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bA(i){return new Promise(e=>{setTimeout(e,i)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m4(i){return btoa(String.fromCharCode(...i)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p4=/^[cdef][\w-]{21}$/,Fp="";function g4(){try{const i=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(i),i[0]=112+i[0]%16;const t=y4(i);return p4.test(t)?t:Fp}catch{return Fp}}function y4(i){return m4(i).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uf(i){return`${i.appName}!${i.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SA=new Map;function RA(i,e){const t=Uf(i);xA(t,e),v4(t,e)}function xA(i,e){const t=SA.get(i);if(t)for(const r of t)r(e)}function v4(i,e){const t=_4();t&&t.postMessage({key:i,fid:e}),E4()}let aa=null;function _4(){return!aa&&"BroadcastChannel"in self&&(aa=new BroadcastChannel("[Firebase] FID Change"),aa.onmessage=i=>{xA(i.data.key,i.data.fid)}),aa}function E4(){SA.size===0&&aa&&(aa.close(),aa=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T4="firebase-installations-database",w4=1,ma="firebase-installations-store";let cp=null;function Jg(){return cp||(cp=ZT(T4,w4,{upgrade:(i,e)=>{switch(e){case 0:i.createObjectStore(ma)}}})),cp}async function sf(i,e){const t=Uf(i),o=(await Jg()).transaction(ma,"readwrite"),u=o.objectStore(ma),h=await u.get(t);return await u.put(e,t),await o.done,(!h||h.fid!==e.fid)&&RA(i,e.fid),e}async function IA(i){const e=Uf(i),r=(await Jg()).transaction(ma,"readwrite");await r.objectStore(ma).delete(e),await r.done}async function Bf(i,e){const t=Uf(i),o=(await Jg()).transaction(ma,"readwrite"),u=o.objectStore(ma),h=await u.get(t),d=e(h);return d===void 0?await u.delete(t):await u.put(d,t),await o.done,d&&(!h||h.fid!==d.fid)&&RA(i,d.fid),d}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ey(i){let e;const t=await Bf(i.appConfig,r=>{const o=A4(r),u=b4(i,o);return e=u.registrationPromise,u.installationEntry});return t.fid===Fp?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function A4(i){const e=i||{fid:g4(),registrationStatus:0};return CA(e)}function b4(i,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(da.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=S4(i,t);return{installationEntry:t,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:R4(i)}:{installationEntry:e}}async function S4(i,e){try{const t=await d4(i,e);return sf(i.appConfig,t)}catch(t){throw vA(t)&&t.customData.serverCode===409?await IA(i.appConfig):await sf(i.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function R4(i){let e=await lT(i.appConfig);for(;e.registrationStatus===1;)await bA(100),e=await lT(i.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:r}=await ey(i);return r||t}return e}function lT(i){return Bf(i,e=>{if(!e)throw da.create("installation-not-found");return CA(e)})}function CA(i){return x4(i)?{fid:i.fid,registrationStatus:0}:i}function x4(i){return i.registrationStatus===1&&i.registrationTime+pA<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I4({appConfig:i,heartbeatServiceProvider:e},t){const r=C4(i,t),o=c4(i,t),u=e.getImmediate({optional:!0});if(u){const y=await u.getHeartbeatsHeader();y&&o.append("x-firebase-client",y)}const h={installation:{sdkVersion:gA,appId:i.appId}},d={method:"POST",headers:o,body:JSON.stringify(h)},p=await AA(()=>fetch(r,d));if(p.ok){const y=await p.json();return EA(y)}else throw await TA("Generate Auth Token",p)}function C4(i,{fid:e}){return`${_A(i)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ty(i,e=!1){let t;const r=await Bf(i.appConfig,u=>{if(!NA(u))throw da.create("not-registered");const h=u.authToken;if(!e&&O4(h))return u;if(h.requestStatus===1)return t=N4(i,e),u;{if(!navigator.onLine)throw da.create("app-offline");const d=k4(u);return t=D4(i,d),d}});return t?await t:r.authToken}async function N4(i,e){let t=await uT(i.appConfig);for(;t.authToken.requestStatus===1;)await bA(100),t=await uT(i.appConfig);const r=t.authToken;return r.requestStatus===0?ty(i,e):r}function uT(i){return Bf(i,e=>{if(!NA(e))throw da.create("not-registered");const t=e.authToken;return P4(t)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function D4(i,e){try{const t=await I4(i,e),r=Object.assign(Object.assign({},e),{authToken:t});return await sf(i.appConfig,r),t}catch(t){if(vA(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await IA(i.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await sf(i.appConfig,r)}throw t}}function NA(i){return i!==void 0&&i.registrationStatus===2}function O4(i){return i.requestStatus===2&&!M4(i)}function M4(i){const e=Date.now();return e<i.creationTime||i.creationTime+i.expiresIn<e+a4}function k4(i){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},i),{authToken:e})}function P4(i){return i.requestStatus===1&&i.requestTime+pA<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j4(i){const e=i,{installationEntry:t,registrationPromise:r}=await ey(e);return r?r.catch(console.error):ty(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V4(i,e=!1){const t=i;return await L4(t),(await ty(t,e)).token}async function L4(i){const{registrationPromise:e}=await ey(i);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U4(i){if(!i||!i.options)throw hp("App Configuration");if(!i.name)throw hp("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!i.options[t])throw hp(t);return{appName:i.name,projectId:i.options.projectId,apiKey:i.options.apiKey,appId:i.options.appId}}function hp(i){return da.create("missing-app-config-values",{valueName:i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DA="installations",B4="installations-internal",z4=i=>{const e=i.getProvider("app").getImmediate(),t=U4(e),r=gr(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},q4=i=>{const e=i.getProvider("app").getImmediate(),t=gr(e,DA).getImmediate();return{getId:()=>j4(t),getToken:o=>V4(t,o)}};function F4(){ni(new $n(DA,z4,"PUBLIC")),ni(new $n(B4,q4,"PRIVATE"))}F4();pn(mA,Zg);pn(mA,Zg,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rf="analytics",H4="firebase_id",G4="origin",$4=60*1e3,Q4="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ny="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yn=new hf("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K4={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Cn=new ya("analytics","Analytics",K4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y4(i){if(!i.startsWith(ny)){const e=Cn.create("invalid-gtag-resource",{gtagURL:i});return yn.warn(e.message),""}return i}function OA(i){return Promise.all(i.map(e=>e.catch(t=>t)))}function X4(i,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(i,e)),t}function W4(i,e){const t=X4("firebase-js-sdk-policy",{createScriptURL:Y4}),r=document.createElement("script"),o=`${ny}?l=${i}&id=${e}`;r.src=t?t?.createScriptURL(o):o,r.async=!0,document.head.appendChild(r)}function Z4(i){let e=[];return Array.isArray(window[i])?e=window[i]:window[i]=e,e}async function J4(i,e,t,r,o,u){const h=r[o];try{if(h)await e[h];else{const p=(await OA(t)).find(y=>y.measurementId===o);p&&await e[p.appId]}}catch(d){yn.error(d)}i("config",o,u)}async function eM(i,e,t,r,o){try{let u=[];if(o&&o.send_to){let h=o.send_to;Array.isArray(h)||(h=[h]);const d=await OA(t);for(const p of h){const y=d.find(A=>A.measurementId===p),_=y&&e[y.appId];if(_)u.push(_);else{u=[];break}}}u.length===0&&(u=Object.values(e)),await Promise.all(u),i("event",r,o||{})}catch(u){yn.error(u)}}function tM(i,e,t,r){async function o(u,...h){try{if(u==="event"){const[d,p]=h;await eM(i,e,t,d,p)}else if(u==="config"){const[d,p]=h;await J4(i,e,t,r,d,p)}else if(u==="consent"){const[d,p]=h;i("consent",d,p)}else if(u==="get"){const[d,p,y]=h;i("get",d,p,y)}else if(u==="set"){const[d]=h;i("set",d)}else i(u,...h)}catch(d){yn.error(d)}}return o}function nM(i,e,t,r,o){let u=function(...h){window[r].push(arguments)};return window[o]&&typeof window[o]=="function"&&(u=window[o]),window[o]=tM(u,i,e,t),{gtagCore:u,wrappedGtag:window[o]}}function iM(i){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(ny)&&t.src.includes(i))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sM=30,rM=1e3;class aM{constructor(e={},t=rM){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const MA=new aM;function oM(i){return new Headers({Accept:"application/json","x-goog-api-key":i})}async function lM(i){var e;const{appId:t,apiKey:r}=i,o={method:"GET",headers:oM(r)},u=Q4.replace("{app-id}",t),h=await fetch(u,o);if(h.status!==200&&h.status!==304){let d="";try{const p=await h.json();!((e=p.error)===null||e===void 0)&&e.message&&(d=p.error.message)}catch{}throw Cn.create("config-fetch-failed",{httpStatus:h.status,responseMessage:d})}return h.json()}async function uM(i,e=MA,t){const{appId:r,apiKey:o,measurementId:u}=i.options;if(!r)throw Cn.create("no-app-id");if(!o){if(u)return{measurementId:u,appId:r};throw Cn.create("no-api-key")}const h=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},d=new fM;return setTimeout(async()=>{d.abort()},$4),kA({appId:r,apiKey:o,measurementId:u},h,d,e)}async function kA(i,{throttleEndTimeMillis:e,backoffCount:t},r,o=MA){var u;const{appId:h,measurementId:d}=i;try{await cM(r,e)}catch(p){if(d)return yn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${p?.message}]`),{appId:h,measurementId:d};throw p}try{const p=await lM(i);return o.deleteThrottleMetadata(h),p}catch(p){const y=p;if(!hM(y)){if(o.deleteThrottleMetadata(h),d)return yn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${y?.message}]`),{appId:h,measurementId:d};throw p}const _=Number((u=y?.customData)===null||u===void 0?void 0:u.httpStatus)===503?O0(t,o.intervalMillis,sM):O0(t,o.intervalMillis),A={throttleEndTimeMillis:Date.now()+_,backoffCount:t+1};return o.setThrottleMetadata(h,A),yn.debug(`Calling attemptFetch again in ${_} millis`),kA(i,A,r,o)}}function cM(i,e){return new Promise((t,r)=>{const o=Math.max(e-Date.now(),0),u=setTimeout(t,o);i.addEventListener(()=>{clearTimeout(u),r(Cn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function hM(i){if(!(i instanceof Qn)||!i.customData)return!1;const e=Number(i.customData.httpStatus);return e===429||e===500||e===503||e===504}class fM{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function dM(i,e,t,r,o){if(o&&o.global){i("event",t,r);return}else{const u=await e,h=Object.assign(Object.assign({},r),{send_to:u});i("event",t,h)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mM(){if(KT())try{await YT()}catch(i){return yn.warn(Cn.create("indexeddb-unavailable",{errorInfo:i?.toString()}).message),!1}else return yn.warn(Cn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function pM(i,e,t,r,o,u,h){var d;const p=uM(i);p.then(C=>{t[C.measurementId]=C.appId,i.options.measurementId&&C.measurementId!==i.options.measurementId&&yn.warn(`The measurement ID in the local Firebase config (${i.options.measurementId}) does not match the measurement ID fetched from the server (${C.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(C=>yn.error(C)),e.push(p);const y=mM().then(C=>{if(C)return r.getId()}),[_,A]=await Promise.all([p,y]);iM(u)||W4(u,_.measurementId),o("js",new Date);const w=(d=h?.config)!==null&&d!==void 0?d:{};return w[G4]="firebase",w.update=!0,A!=null&&(w[H4]=A),o("config",_.measurementId,w),_.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gM{constructor(e){this.app=e}_delete(){return delete yu[this.app.options.appId],Promise.resolve()}}let yu={},cT=[];const hT={};let fp="dataLayer",yM="gtag",fT,PA,dT=!1;function vM(){const i=[];if(QT()&&i.push("This is a browser extension environment."),p2()||i.push("Cookies are not available."),i.length>0){const e=i.map((r,o)=>`(${o+1}) ${r}`).join(" "),t=Cn.create("invalid-analytics-context",{errorInfo:e});yn.warn(t.message)}}function _M(i,e,t){vM();const r=i.options.appId;if(!r)throw Cn.create("no-app-id");if(!i.options.apiKey)if(i.options.measurementId)yn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${i.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Cn.create("no-api-key");if(yu[r]!=null)throw Cn.create("already-exists",{id:r});if(!dT){Z4(fp);const{wrappedGtag:u,gtagCore:h}=nM(yu,cT,hT,fp,yM);PA=u,fT=h,dT=!0}return yu[r]=pM(i,cT,hT,e,fT,fp,t),new gM(i)}function EM(i=ff()){i=lt(i);const e=gr(i,rf);return e.isInitialized()?e.getImmediate():TM(i)}function TM(i,e={}){const t=gr(i,rf);if(t.isInitialized()){const o=t.getImmediate();if(Mi(e,t.getOptions()))return o;throw Cn.create("already-initialized")}return t.initialize({options:e})}function wM(i,e,t,r){i=lt(i),dM(PA,yu[i.app.options.appId],e,t,r).catch(o=>yn.error(o))}const mT="@firebase/analytics",pT="0.10.17";function AM(){ni(new $n(rf,(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return _M(r,o,t)},"PUBLIC")),ni(new $n("analytics-internal",i,"PRIVATE")),pn(mT,pT),pn(mT,pT,"esm2017");function i(e){try{const t=e.getProvider(rf).getImmediate();return{logEvent:(r,o,u)=>wM(t,r,o,u)}}catch(t){throw Cn.create("interop-component-reg-failed",{reason:t})}}}AM();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jA="firebasestorage.googleapis.com",bM="storageBucket",SM=2*60*1e3,RM=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi extends Qn{constructor(e,t,r=0){super(dp(e),`Firebase Storage: ${t} (${dp(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Vi.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return dp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Pi;(function(i){i.UNKNOWN="unknown",i.OBJECT_NOT_FOUND="object-not-found",i.BUCKET_NOT_FOUND="bucket-not-found",i.PROJECT_NOT_FOUND="project-not-found",i.QUOTA_EXCEEDED="quota-exceeded",i.UNAUTHENTICATED="unauthenticated",i.UNAUTHORIZED="unauthorized",i.UNAUTHORIZED_APP="unauthorized-app",i.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",i.INVALID_CHECKSUM="invalid-checksum",i.CANCELED="canceled",i.INVALID_EVENT_NAME="invalid-event-name",i.INVALID_URL="invalid-url",i.INVALID_DEFAULT_BUCKET="invalid-default-bucket",i.NO_DEFAULT_BUCKET="no-default-bucket",i.CANNOT_SLICE_BLOB="cannot-slice-blob",i.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",i.NO_DOWNLOAD_URL="no-download-url",i.INVALID_ARGUMENT="invalid-argument",i.INVALID_ARGUMENT_COUNT="invalid-argument-count",i.APP_DELETED="app-deleted",i.INVALID_ROOT_OPERATION="invalid-root-operation",i.INVALID_FORMAT="invalid-format",i.INTERNAL_ERROR="internal-error",i.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Pi||(Pi={}));function dp(i){return"storage/"+i}function xM(){const i="An unknown error occurred, please check the error payload for server response.";return new Vi(Pi.UNKNOWN,i)}function IM(){return new Vi(Pi.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function CM(){return new Vi(Pi.CANCELED,"User canceled the upload/download.")}function NM(i){return new Vi(Pi.INVALID_URL,"Invalid URL '"+i+"'.")}function DM(i){return new Vi(Pi.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}function gT(i){return new Vi(Pi.INVALID_ARGUMENT,i)}function VA(){return new Vi(Pi.APP_DELETED,"The Firebase app was deleted.")}function OM(i){return new Vi(Pi.INVALID_ROOT_OPERATION,"The operation '"+i+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=ti.makeFromUrl(e,t)}catch{return new ti(e,"")}if(r.path==="")return r;throw DM(e)}static makeFromUrl(e,t){let r=null;const o="([A-Za-z0-9.\\-_]+)";function u(se){se.path.charAt(se.path.length-1)==="/"&&(se.path_=se.path_.slice(0,-1))}const h="(/(.*))?$",d=new RegExp("^gs://"+o+h,"i"),p={bucket:1,path:3};function y(se){se.path_=decodeURIComponent(se.path)}const _="v[A-Za-z0-9_]+",A=t.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",C=new RegExp(`^https?://${A}/${_}/b/${o}/o${w}`,"i"),x={bucket:1,path:3},U=t===jA?"(?:storage.googleapis.com|storage.cloud.google.com)":t,j="([^?#]*)",P=new RegExp(`^https?://${U}/${o}/${j}`,"i"),K=[{regex:d,indices:p,postModify:u},{regex:C,indices:x,postModify:y},{regex:P,indices:{bucket:1,path:2},postModify:y}];for(let se=0;se<K.length;se++){const re=K[se],he=re.regex.exec(e);if(he){const D=he[re.indices.bucket];let R=he[re.indices.path];R||(R=""),r=new ti(D,R),re.postModify(r);break}}if(r==null)throw NM(e);return r}}class MM{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kM(i,e,t){let r=1,o=null,u=null,h=!1,d=0;function p(){return d===2}let y=!1;function _(...j){y||(y=!0,e.apply(null,j))}function A(j){o=setTimeout(()=>{o=null,i(C,p())},j)}function w(){u&&clearTimeout(u)}function C(j,...P){if(y){w();return}if(j){w(),_.call(null,j,...P);return}if(p()||h){w(),_.call(null,j,...P);return}r<64&&(r*=2);let K;d===1?(d=2,K=0):K=(r+Math.random())*1e3,A(K)}let x=!1;function U(j){x||(x=!0,w(),!y&&(o!==null?(j||(d=2),clearTimeout(o),A(0)):j||(d=1)))}return A(0),u=setTimeout(()=>{h=!0,U(!0)},t),U}function PM(i){i(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jM(i){return i!==void 0}function yT(i,e,t,r){if(r<e)throw gT(`Invalid value for '${i}'. Expected ${e} or greater.`);if(r>t)throw gT(`Invalid value for '${i}'. Expected ${t} or less.`)}function VM(i){const e=encodeURIComponent;let t="?";for(const r in i)if(i.hasOwnProperty(r)){const o=e(r)+"="+e(i[r]);t=t+o+"&"}return t=t.slice(0,-1),t}var af;(function(i){i[i.NO_ERROR=0]="NO_ERROR",i[i.NETWORK_ERROR=1]="NETWORK_ERROR",i[i.ABORT=2]="ABORT"})(af||(af={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LM(i,e){const t=i>=500&&i<600,o=[408,429].indexOf(i)!==-1,u=e.indexOf(i)!==-1;return t||o||u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UM{constructor(e,t,r,o,u,h,d,p,y,_,A,w=!0,C=!1){this.url_=e,this.method_=t,this.headers_=r,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=h,this.callback_=d,this.errorCallback_=p,this.timeout_=y,this.progressCallback_=_,this.connectionFactory_=A,this.retry=w,this.isUsingEmulator=C,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((x,U)=>{this.resolve_=x,this.reject_=U,this.start_()})}start_(){const e=(r,o)=>{if(o){r(!1,new Eh(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const h=d=>{const p=d.loaded,y=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,y)};this.progressCallback_!==null&&u.addUploadProgressListener(h),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(h),this.pendingConnection_=null;const d=u.getErrorCode()===af.NO_ERROR,p=u.getStatus();if(!d||LM(p,this.additionalRetryCodes_)&&this.retry){const _=u.getErrorCode()===af.ABORT;r(!1,new Eh(!1,null,_));return}const y=this.successCodes_.indexOf(p)!==-1;r(!0,new Eh(y,u))})},t=(r,o)=>{const u=this.resolve_,h=this.reject_,d=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(d,d.getResponse());jM(p)?u(p):u()}catch(p){h(p)}else if(d!==null){const p=xM();p.serverResponse=d.getErrorText(),this.errorCallback_?h(this.errorCallback_(d,p)):h(p)}else if(o.canceled){const p=this.appDelete_?VA():CM();h(p)}else{const p=IM();h(p)}};this.canceled_?t(!1,new Eh(!1,null,!0)):this.backoffId_=kM(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&PM(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Eh{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function BM(i,e){e!==null&&e.length>0&&(i.Authorization="Firebase "+e)}function zM(i,e){i["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function qM(i,e){e&&(i["X-Firebase-GMPID"]=e)}function FM(i,e){e!==null&&(i["X-Firebase-AppCheck"]=e)}function HM(i,e,t,r,o,u,h=!0,d=!1){const p=VM(i.urlParams),y=i.url+p,_=Object.assign({},i.headers);return qM(_,e),BM(_,t),zM(_,u),FM(_,r),new UM(y,i.method,_,i.body,i.successCodes,i.additionalRetryCodes,i.handler,i.errorHandler,i.timeout,i.progressCallback,o,h,d)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GM(i){if(i.length===0)return null;const e=i.lastIndexOf("/");return e===-1?"":i.slice(0,e)}function $M(i){const e=i.lastIndexOf("/",i.length-2);return e===-1?i:i.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{constructor(e,t){this._service=e,t instanceof ti?this._location=t:this._location=ti.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new of(e,t)}get root(){const e=new ti(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return $M(this._location.path)}get storage(){return this._service}get parent(){const e=GM(this._location.path);if(e===null)return null;const t=new ti(this._location.bucket,e);return new of(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw OM(e)}}function vT(i,e){const t=e?.[bM];return t==null?null:ti.makeFromBucketSpec(t,i)}function QM(i,e,t,r={}){i.host=`${e}:${t}`;const o=ga(e);o&&(Zp(`https://${i.host}/b`),Jp("Storage",!0)),i._isUsingEmulator=!0,i._protocol=o?"https":"http";const{mockUserToken:u}=r;u&&(i._overrideAuthToken=typeof u=="string"?u:$T(u,i.app.options.projectId))}class KM{constructor(e,t,r,o,u,h=!1){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=o,this._firebaseVersion=u,this._isUsingEmulator=h,this._bucket=null,this._host=jA,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=SM,this._maxUploadRetryTime=RM,this._requests=new Set,o!=null?this._bucket=ti.makeFromBucketSpec(o,this._host):this._bucket=vT(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ti.makeFromBucketSpec(this._url,e):this._bucket=vT(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){yT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){yT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(xn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new of(this,e)}_makeRequest(e,t,r,o,u=!0){if(this._deleted)return new MM(VA());{const h=HM(e,this._appId,r,o,t,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(h),h.getPromise().then(()=>this._requests.delete(h),()=>this._requests.delete(h)),h}}async makeRequestWithTokens(e,t){const[r,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,o).getPromise()}}const _T="@firebase/storage",ET="0.13.14";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LA="storage";function YM(i=ff(),e){i=lt(i);const r=gr(i,LA).getImmediate({identifier:e}),o=FT("storage");return o&&XM(r,...o),r}function XM(i,e,t,r={}){QM(i,e,t,r)}function WM(i,{instanceIdentifier:e}){const t=i.getProvider("app").getImmediate(),r=i.getProvider("auth-internal"),o=i.getProvider("app-check-internal");return new KM(t,r,o,e,va)}function ZM(){ni(new $n(LA,WM,"PUBLIC").setMultipleInstances(!0)),pn(_T,ET,""),pn(_T,ET,"esm2017")}ZM();const JM={apiKey:"AIzaSyDQMZtq62eh2VAJ6wSq61zHphyaCVOHEis",authDomain:"quora-82f25.firebaseapp.com",projectId:"quora-82f25",storageBucket:"quora-82f25.firebasestorage.app",messagingSenderId:"1081951012110",appId:"1:1081951012110:web:b7fc478370692b08f8c35f",measurementId:"G-1MD9928C32"},zf=JT(JM);EM(zf);const Th=YC(zf),Ue=HO(zf);YM(zf);const UA=M.createContext();function Kt(){return M.useContext(UA)}function ek({children:i}){const[e,t]=M.useState(null),[r,o]=M.useState(!0);async function u(y,_,A){try{const w=await DI(Th,y,_);return await kI(w.user,{displayName:A}),await oT(Ut(Ue,"users",w.user.uid),{displayName:A||"",email:y,createdAt:new Date,updatedAt:new Date,reputation:0,questionsCount:0,answersCount:0}),w}catch(w){throw console.error("Signup error:",w),w.code==="auth/email-already-in-use"?new Error("This email is already registered. Please try logging in instead."):w.code==="auth/weak-password"?new Error("Password is too weak. Please use at least 6 characters."):w.code==="auth/invalid-email"?new Error("Please enter a valid email address."):w.code==="auth/operation-not-allowed"?new Error("Email/password authentication is not enabled. Please contact support."):new Error("Failed to create account. Please check your internet connection and try again.")}}async function h(y,_){try{return await OI(Th,y,_)}catch(A){throw console.error("Login error:",A),A.code==="auth/user-not-found"?new Error("No account found with this email address."):A.code==="auth/wrong-password"?new Error("Incorrect password. Please try again."):A.code==="auth/invalid-email"?new Error("Please enter a valid email address."):A.code==="auth/too-many-requests"?new Error("Too many failed login attempts. Please try again later."):new Error("Failed to log in. Please check your credentials and try again.")}}function d(){return LI(Th)}M.useEffect(()=>VI(Th,async _=>{if(_)try{const A=await jo(Ut(Ue,"users",_.uid));if(A.exists())t({..._,...A.data()});else{const w={displayName:_.displayName||"",email:_.email,createdAt:new Date,updatedAt:new Date,reputation:0,questionsCount:0,answersCount:0};await oT(Ut(Ue,"users",_.uid),w),t({..._,...w})}}catch(A){console.error("Error fetching user data:",A),t(_)}else t(null);o(!1)}),[]);const p={currentUser:e,signup:u,login:h,logout:d,loading:r};return g.jsx(UA.Provider,{value:p,children:i})}const BA=M.createContext();function tk(){return M.useContext(BA)}function nk({children:i}){const[e,t]=M.useState(()=>{try{const u=localStorage.getItem("theme");return u===null?!1:u==="true"||u==="false"?u==="true":JSON.parse(u)}catch(u){return console.warn("Error parsing theme from localStorage:",u),!1}});M.useEffect(()=>{localStorage.setItem("theme",e.toString()),document.documentElement.setAttribute("data-theme",e?"dark":"light")},[e]);const o={isDark:e,toggleTheme:()=>{t(!e)}};return g.jsx(BA.Provider,{value:o,children:i})}const zA=M.createContext();function qf(){return M.useContext(zA)}function ik({children:i}){const{currentUser:e}=Kt(),[t,r]=M.useState([]),[o,u]=M.useState(0),[h,d]=M.useState(!0);M.useEffect(()=>{if(!e){r([]),u(0),d(!1);return}const w=ps(nn(Ue,"notifications"),Iu("recipientId","==",e.uid));return $o(w,x=>{const j=x.docs.map(X=>({id:X.id,...X.data()})).sort((X,K)=>{const se=X.createdAt?.toDate()||new Date(0);return(K.createdAt?.toDate()||new Date(0))-se});r(j);const P=j.filter(X=>!X.read).length;u(P),d(!1)})},[e]);const A={notifications:t,unreadCount:o,loading:h,createNotification:async w=>{try{if(w.recipientId===e?.uid)return;await qu(nn(Ue,"notifications"),{...w,createdAt:un(),read:!1})}catch(C){console.error("Error creating notification:",C)}},markAsRead:async w=>{try{await ri(Ut(Ue,"notifications",w),{read:!0,readAt:un()})}catch(C){console.error("Error marking notification as read:",C)}},markAllAsRead:async()=>{try{const C=t.filter(x=>!x.read).map(x=>ri(Ut(Ue,"notifications",x.id),{read:!0,readAt:un()}));await Promise.all(C)}catch(w){console.error("Error marking all notifications as read:",w)}}};return g.jsx(zA.Provider,{value:A,children:i})}function sk(){const{notifications:i,unreadCount:e,markAsRead:t,markAllAsRead:r}=qf(),[o,u]=M.useState(!1),h=M.useRef(null);M.useEffect(()=>{function A(w){h.current&&!h.current.contains(w.target)&&u(!1)}return document.addEventListener("mousedown",A),()=>document.removeEventListener("mousedown",A)},[]);const d=A=>{if(!A)return"Unknown time";const w=A.toDate?A.toDate():new Date(A),x=Math.abs(new Date-w),U=Math.ceil(x/(1e3*60));return U<60?`${U}m ago`:U<1440?`${Math.ceil(U/60)}h ago`:`${Math.ceil(U/1440)}d ago`},p=A=>{switch(A){case"reply":return g.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:g.jsx("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"})});case"answer":return g.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[g.jsx("path",{d:"M9 12l2 2 4-4"}),g.jsx("circle",{cx:"12",cy:"12",r:"10"})]});case"vote":return g.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:g.jsx("path",{d:"M7 14l5-5 5 5"})});default:return g.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[g.jsx("circle",{cx:"12",cy:"12",r:"10"}),g.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),g.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]})}},y=async A=>{A.read||await t(A.id),u(!1)},_=async()=>{await r()};return g.jsxs("div",{className:"notification-bell",ref:h,children:[g.jsxs("button",{className:"bell-button",onClick:()=>u(!o),"aria-label":`Notifications ${e>0?`(${e} unread)`:""}`,children:[g.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[g.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),g.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),e>0&&g.jsx("span",{className:"notification-badge",children:e>99?"99+":e})]}),o&&g.jsxs("div",{className:"notification-dropdown",children:[g.jsxs("div",{className:"notification-header",children:[g.jsx("h3",{children:"Notifications"}),e>0&&g.jsx("button",{className:"mark-all-read",onClick:_,children:"Mark all read"})]}),g.jsx("div",{className:"notifications-list",children:i.length===0?g.jsxs("div",{className:"no-notifications",children:[g.jsx("div",{className:"no-notifications-icon",children:g.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[g.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),g.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]})}),g.jsx("p",{children:"No notifications yet"}),g.jsx("span",{children:"You'll see notifications here when someone interacts with your content"})]}):i.slice(0,10).map(A=>g.jsxs(tn,{to:A.link,className:`notification-item ${A.read?"":"unread"}`,onClick:()=>y(A),children:[g.jsx("div",{className:"notification-icon",children:p(A.type)}),g.jsxs("div",{className:"notification-content",children:[g.jsxs("div",{className:"notification-text",children:[g.jsx("strong",{children:A.senderName})," ",A.message]}),g.jsx("div",{className:"notification-time",children:d(A.createdAt)})]}),!A.read&&g.jsx("div",{className:"unread-dot"})]},A.id))}),i.length>10&&g.jsx("div",{className:"notification-footer",children:g.jsx(tn,{to:"/notifications",onClick:()=>u(!1),children:"View all notifications"})})]})]})}function rk(){const{currentUser:i,logout:e}=Kt(),{isDark:t,toggleTheme:r}=tk(),[o,u]=M.useState(""),[h,d]=M.useState(!1),p=pa(),y=M.useRef(null);M.useEffect(()=>{function w(C){y.current&&!y.current.contains(C.target)&&d(!1)}return document.addEventListener("mousedown",w),()=>document.removeEventListener("mousedown",w)},[]);const _=async()=>{try{await e(),p("/login")}catch(w){console.error("Failed to log out:",w)}},A=w=>{w.preventDefault(),o.trim()&&(p(`/search?q=${encodeURIComponent(o)}`),u(""))};return i?g.jsx("nav",{className:"navbar",children:g.jsxs("div",{className:"nav-container",children:[g.jsxs(tn,{to:"/",className:"nav-logo",children:[g.jsx("div",{className:"logo-icon",children:"Q"}),g.jsx("span",{className:"logo-text",children:"Quora"})]}),g.jsx("form",{className:"search-form",onSubmit:A,children:g.jsxs("div",{className:"search-input-container",children:[g.jsxs("svg",{className:"search-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[g.jsx("circle",{cx:"11",cy:"11",r:"8"}),g.jsx("path",{d:"m21 21-4.35-4.35"})]}),g.jsx("input",{type:"text",placeholder:"Search for questions, topics, or people...",value:o,onChange:w=>u(w.target.value),className:"search-input"})]})}),g.jsxs("div",{className:"nav-actions",children:[g.jsxs(tn,{to:"/ask",className:"ask-btn",children:[g.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:g.jsx("path",{d:"M12 5v14M5 12h14"})}),"Ask Question"]}),g.jsx(sk,{}),g.jsx("button",{onClick:r,className:"theme-toggle",children:t?g.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[g.jsx("circle",{cx:"12",cy:"12",r:"5"}),g.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"3"}),g.jsx("line",{x1:"12",y1:"21",x2:"12",y2:"23"}),g.jsx("line",{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"}),g.jsx("line",{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"}),g.jsx("line",{x1:"1",y1:"12",x2:"3",y2:"12"}),g.jsx("line",{x1:"21",y1:"12",x2:"23",y2:"12"}),g.jsx("line",{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"}),g.jsx("line",{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"})]}):g.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:g.jsx("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"})})}),g.jsxs("div",{className:"user-menu",ref:y,children:[g.jsx("button",{className:"user-avatar",onClick:()=>d(!h),children:g.jsx("div",{className:"avatar-circle",children:(i.displayName||i.email)[0].toUpperCase()})}),h&&g.jsxs("div",{className:"user-dropdown",children:[g.jsxs("div",{className:"user-info",children:[g.jsx("div",{className:"user-name",children:i.displayName||"User"}),g.jsx("div",{className:"user-email",children:i.email})]}),g.jsx("div",{className:"dropdown-divider"}),g.jsxs(tn,{to:"/profile",className:"dropdown-item",onClick:()=>d(!1),children:[g.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[g.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),g.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),"Profile"]}),g.jsxs(tn,{to:"/following",className:"dropdown-item",onClick:()=>d(!1),children:[g.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[g.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}),g.jsx("circle",{cx:"9",cy:"7",r:"4"}),g.jsx("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),g.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),"Following"]}),g.jsx("div",{className:"dropdown-divider"}),g.jsxs("button",{onClick:_,className:"dropdown-item logout-btn",children:[g.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[g.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),g.jsx("polyline",{points:"16,17 21,12 16,7"}),g.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),"Logout"]})]})]})]})]})}):null}function ak(){const i=ji(),e=t=>i.pathname===t;return g.jsx("aside",{className:"sidebar",children:g.jsxs("nav",{className:"sidebar-nav",children:[g.jsxs(tn,{to:"/",className:`nav-item ${e("/")?"active":""}`,children:[g.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[g.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),g.jsx("polyline",{points:"9,22 9,12 15,12 15,22"})]}),"Home"]}),g.jsxs(tn,{to:"/following",className:`nav-item ${e("/following")?"active":""}`,children:[g.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[g.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}),g.jsx("circle",{cx:"9",cy:"7",r:"4"}),g.jsx("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),g.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),"Following"]}),g.jsxs(tn,{to:"/topics",className:`nav-item ${e("/topics")?"active":""}`,children:[g.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[g.jsx("path",{d:"M4 19.5A2.5 2.5 0 0 1 6.5 17H20"}),g.jsx("path",{d:"M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"})]}),"Topics"]}),g.jsx("div",{className:"sidebar-divider"}),g.jsxs("div",{className:"sidebar-section",children:[g.jsx("h3",{className:"section-title",children:"Your Activity"}),g.jsxs(tn,{to:"/profile",className:`nav-item ${e("/profile")?"active":""}`,children:[g.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[g.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),g.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),"Your Profile"]})]})]})})}function Ff({itemId:i,itemType:e,initialUpvotes:t,initialDownvotes:r,compact:o=!1}){const{currentUser:u}=Kt(),[h,d]=M.useState(t),[p,y]=M.useState(r),[_,A]=M.useState(null),[w,C]=M.useState(!1);M.useEffect(()=>{u&&(async()=>{try{if(e==="replies"&&typeof i=="string"&&i.includes("-"))return;const j=Ut(Ue,e,i),P=await jo(j);if(P.exists()){const se=(P.data().votes||[]).find(re=>re.userId===u.uid);se&&A(se.type)}}catch(j){console.error("Error checking user vote:",j)}})()},[i,e,u]);const x=async U=>{if(!(!u||w)){if(e==="replies"&&typeof i=="string"&&i.includes("-")){console.log("Voting on nested replies not yet implemented");return}C(!0);try{const j=Ut(Ue,e,i),P={userId:u.uid,type:U};if(_===U)await ri(j,{[U==="up"?"upvotes":"downvotes"]:xo(-1),votes:nf(P)}),A(null),U==="up"?d(X=>X-1):y(X=>X-1);else{const X={votes:Wg(P)};if(_){const K={userId:u.uid,type:_};X.votes=nf(K),X[_==="up"?"upvotes":"downvotes"]=xo(-1)}X[U==="up"?"upvotes":"downvotes"]=xo(1),await ri(j,X),_&&(_==="up"?d(K=>K-1):y(K=>K-1)),U==="up"?d(K=>K+1):y(K=>K+1),A(U)}}catch(j){console.error("Error voting:",j)}finally{C(!1)}}};return o?g.jsxs("div",{className:"vote-buttons compact",children:[g.jsxs("button",{className:`vote-btn upvote ${_==="up"?"active":""}`,onClick:()=>x("up"),disabled:w,children:[g.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:g.jsx("path",{d:"M7 14l5-5 5 5"})}),g.jsx("span",{children:h})]}),g.jsx("button",{className:`vote-btn downvote ${_==="down"?"active":""}`,onClick:()=>x("down"),disabled:w,children:g.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:g.jsx("path",{d:"M17 10l-5 5-5-5"})})})]}):g.jsxs("div",{className:"vote-buttons",children:[g.jsx("button",{className:`vote-btn upvote ${_==="up"?"active":""}`,onClick:()=>x("up"),disabled:w,children:g.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:g.jsx("path",{d:"M7 14l5-5 5 5"})})}),g.jsx("span",{className:"vote-count",children:h-p}),g.jsx("button",{className:`vote-btn downvote ${_==="down"?"active":""}`,onClick:()=>x("down"),disabled:w,children:g.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:g.jsx("path",{d:"M17 10l-5 5-5-5"})})})]})}function Cu({question:i}){const{currentUser:e}=Kt(),[t,r]=M.useState(!1),[o,u]=M.useState(!1),[h,d]=M.useState(!1);M.useEffect(()=>{(async()=>{if(e)try{const C=await jo(Ut(Ue,"users",e.uid));if(C.exists()){const U=C.data().followedQuestions||[];u(U.includes(i.id))}}catch(C){console.error("Error checking follow status:",C)}})()},[e,i.id]);const p=w=>{if(!w)return"Unknown date";const C=new Date(w.toDate()),U=Math.abs(new Date-C),j=Math.ceil(U/(1e3*60*60*24));return j===1?"1 day ago":j<7?`${j} days ago`:j<30?`${Math.ceil(j/7)} weeks ago`:C.toLocaleDateString()},y=(w,C=200)=>w.length<=C?w:w.substring(0,C)+"...",_=async()=>{if(!(!e||h)){d(!0);try{const w=Ut(Ue,"users",e.uid),C=await jo(w);((C.exists()?C.data():{}).followedQuestions||[]).includes(i.id)?(await ri(w,{followedQuestions:nf(i.id),updatedAt:un()}),u(!1)):(await ri(w,{followedQuestions:Wg(i.id),updatedAt:un()}),u(!0))}catch(w){console.error("Error following question:",w)}finally{d(!1)}}},A=async()=>{const w=`${window.location.origin}/question/${i.id}`;if(navigator.share)try{await navigator.share({title:i.title,text:i.content.substring(0,100)+"...",url:w})}catch(C){console.log("Error sharing:",C)}else try{await navigator.clipboard.writeText(w),alert("Link copied to clipboard!")}catch(C){console.log("Error copying to clipboard:",C)}};return g.jsxs("article",{className:"question-card",children:[g.jsx("div",{className:"question-header",children:g.jsxs("div",{className:"author-info",children:[g.jsx("div",{className:"author-avatar",children:(i.authorName||"U")[0].toUpperCase()}),g.jsxs("div",{className:"author-details",children:[g.jsx("span",{className:"author-name",children:i.authorName}),g.jsx("span",{className:"question-date",children:p(i.createdAt)})]})]})}),g.jsxs("div",{className:"question-content",children:[g.jsx("h2",{className:"question-title",children:g.jsx(tn,{to:`/question/${i.id}`,children:i.title})}),g.jsx("div",{className:"question-body",children:g.jsxs("p",{children:[t?i.content:y(i.content),i.content.length>200&&g.jsx("button",{className:"expand-btn",onClick:()=>r(!t),children:t?" Show less":" Read more"})]})}),i.tags&&i.tags.length>0&&g.jsxs("div",{className:"question-tags",children:[i.tags.slice(0,3).map((w,C)=>g.jsx("span",{className:"tag",children:w},C)),i.tags.length>3&&g.jsxs("span",{className:"tag-more",children:["+",i.tags.length-3," more"]})]})]}),g.jsxs("div",{className:"question-footer",children:[g.jsxs("div",{className:"question-stats",children:[g.jsx(Ff,{itemId:i.id,itemType:"questions",initialUpvotes:i.upvotes||0,initialDownvotes:i.downvotes||0,compact:!0}),g.jsxs(tn,{to:`/question/${i.id}`,className:"stat-item",children:[g.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:g.jsx("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"})}),g.jsxs("span",{children:[i.answerCount||0," answers"]})]}),g.jsxs("div",{className:"stat-item",children:[g.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[g.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),g.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),g.jsxs("span",{children:[i.views||0," views"]})]})]}),g.jsxs("div",{className:"question-actions",children:[g.jsxs("button",{className:"action-btn",onClick:A,children:[g.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[g.jsx("path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"}),g.jsx("polyline",{points:"16,6 12,2 8,6"}),g.jsx("line",{x1:"12",y1:"2",x2:"12",y2:"15"})]}),"Share"]}),g.jsx("button",{className:`action-btn ${o?"following":""}`,onClick:_,disabled:h,children:h?g.jsx("div",{className:"btn-spinner"}):o?g.jsxs(g.Fragment,{children:[g.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:g.jsx("polyline",{points:"20,6 9,17 4,12"})}),"Following"]}):g.jsxs(g.Fragment,{children:[g.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:g.jsx("path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.29 1.51 4.04 3 5.5l7 7z"})}),"Follow"]})})]})]})]})}function ba({size:i="medium",text:e="Loading..."}){return g.jsxs(g.Fragment,{children:[g.jsx("div",{className:`loading-spinner ${i}`}),e&&g.jsx("div",{className:"loading-text",children:e})]})}function ok(){const[i,e]=M.useState([]),[t,r]=M.useState(!0),[o,u]=M.useState("recent");return M.useEffect(()=>{let h;switch(o){case"popular":h=ps(nn(Ue,"questions"),Mh("upvotes","desc"),up(20));break;case"unanswered":h=ps(nn(Ue,"questions"),Mh("createdAt","desc"),up(20));break;default:h=ps(nn(Ue,"questions"),Mh("createdAt","desc"),up(20))}return $o(h,p=>{let y=p.docs.map(_=>({id:_.id,..._.data()}));o==="unanswered"&&(y=y.filter(_=>(_.answerCount||0)===0)),e(y),r(!1)})},[o]),t?g.jsx(ba,{text:"Loading questions..."}):g.jsxs("div",{className:"home",children:[g.jsxs("div",{className:"home-header",children:[g.jsx("h1",{children:"Questions for you"}),g.jsxs("div",{className:"filter-tabs",children:[g.jsx("button",{className:`filter-tab ${o==="recent"?"active":""}`,onClick:()=>u("recent"),children:"Recent"}),g.jsx("button",{className:`filter-tab ${o==="popular"?"active":""}`,onClick:()=>u("popular"),children:"Popular"}),g.jsx("button",{className:`filter-tab ${o==="unanswered"?"active":""}`,onClick:()=>u("unanswered"),children:"Unanswered"})]})]}),g.jsx("div",{className:"questions-feed",children:i.length===0?g.jsxs("div",{className:"empty-state",children:[g.jsx("div",{className:"empty-icon",children:g.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[g.jsx("circle",{cx:"12",cy:"12",r:"10"}),g.jsx("path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}),g.jsx("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]})}),g.jsx("h3",{children:"No questions found"}),g.jsx("p",{children:"Be the first to ask a question in this category!"})]}):i.map(h=>g.jsx(Cu,{question:h},h.id))})]})}function lk(){const[i,e]=M.useState(""),[t,r]=M.useState(""),[o,u]=M.useState(""),[h,d]=M.useState(!1),[p,y]=M.useState(!1),{login:_}=Kt(),A=pa(),w=async C=>{C.preventDefault();try{u(""),d(!0),await _(i,t),A("/")}catch(x){u(x.message||"Failed to log in. Please check your credentials.")}d(!1)};return g.jsx("div",{className:"auth-page",children:g.jsxs("div",{className:"auth-container",children:[g.jsxs("div",{className:"auth-card",children:[g.jsxs("div",{className:"auth-header",children:[g.jsxs("div",{className:"logo",children:[g.jsx("div",{className:"logo-icon",children:"Q"}),g.jsx("span",{className:"logo-text",children:"Quora"})]}),g.jsx("h1",{children:"Welcome back"}),g.jsx("p",{children:"Sign in to your account to continue"})]}),o&&g.jsxs("div",{className:"error-message",children:[g.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[g.jsx("circle",{cx:"12",cy:"12",r:"10"}),g.jsx("line",{x1:"15",y1:"9",x2:"9",y2:"15"}),g.jsx("line",{x1:"9",y1:"9",x2:"15",y2:"15"})]}),o]}),g.jsxs("form",{onSubmit:w,className:"auth-form",children:[g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"email",children:"Email address"}),g.jsx("div",{className:"input-container",children:g.jsx("input",{type:"email",id:"email",value:i,onChange:C=>e(C.target.value),required:!0,className:"form-input",placeholder:"Enter your email"})})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"password",children:"Password"}),g.jsxs("div",{className:"input-container",children:[g.jsx("input",{type:p?"text":"password",id:"password",value:t,onChange:C=>r(C.target.value),required:!0,className:"form-input",placeholder:"Enter your password"}),g.jsx("button",{type:"button",className:"password-toggle",onClick:()=>y(!p),children:p?g.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[g.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),g.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}):g.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[g.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),g.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]})]}),g.jsx("button",{type:"submit",disabled:h,className:"auth-btn",children:h?g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"btn-spinner"}),"Signing in..."]}):"Sign in"})]}),g.jsx("div",{className:"auth-footer",children:g.jsxs("p",{children:["Don't have an account?"," ",g.jsx(tn,{to:"/register",className:"auth-link",children:"Sign up"})]})})]}),g.jsx("div",{className:"auth-illustration",children:g.jsxs("div",{className:"illustration-content",children:[g.jsx("h2",{children:"Join the Knowledge Community"}),g.jsx("p",{children:"Connect with experts, share insights, and discover answers to your questions."}),g.jsxs("div",{className:"features",children:[g.jsxs("div",{className:"feature",children:[g.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[g.jsx("circle",{cx:"12",cy:"12",r:"10"}),g.jsx("path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}),g.jsx("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]}),g.jsx("span",{children:"Ask Questions"})]}),g.jsxs("div",{className:"feature",children:[g.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:g.jsx("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"})}),g.jsx("span",{children:"Share Knowledge"})]}),g.jsxs("div",{className:"feature",children:[g.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[g.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}),g.jsx("circle",{cx:"9",cy:"7",r:"4"}),g.jsx("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),g.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),g.jsx("span",{children:"Connect with Experts"})]})]})]})})]})})}function uk(){const[i,e]=M.useState({displayName:"",email:"",password:"",confirmPassword:""}),[t,r]=M.useState(""),[o,u]=M.useState(!1),[h,d]=M.useState(!1),[p,y]=M.useState(!1),{signup:_}=Kt(),A=pa(),w=P=>{e({...i,[P.target.name]:P.target.value})},C=()=>i.password!==i.confirmPassword?"Passwords do not match":i.password.length<6?"Password must be at least 6 characters":i.displayName.length<2?"Name must be at least 2 characters":null,x=async P=>{P.preventDefault();const X=C();if(X){r(X);return}try{r(""),u(!0),await _(i.email,i.password,i.displayName),A("/")}catch(K){r(K.message||"Failed to create account. Please try again.")}u(!1)},j=(P=>P.length===0?{strength:0,text:""}:P.length<6?{strength:1,text:"Weak"}:P.length<10?{strength:2,text:"Medium"}:{strength:3,text:"Strong"})(i.password);return g.jsx("div",{className:"auth-page",children:g.jsxs("div",{className:"auth-container",children:[g.jsxs("div",{className:"auth-card",children:[g.jsxs("div",{className:"auth-header",children:[g.jsxs("div",{className:"logo",children:[g.jsx("div",{className:"logo-icon",children:"Q"}),g.jsx("span",{className:"logo-text",children:"Quora"})]}),g.jsx("h1",{children:"Create your account"}),g.jsx("p",{children:"Join our community and start sharing knowledge"})]}),t&&g.jsxs("div",{className:"error-message",children:[g.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[g.jsx("circle",{cx:"12",cy:"12",r:"10"}),g.jsx("line",{x1:"15",y1:"9",x2:"9",y2:"15"}),g.jsx("line",{x1:"9",y1:"9",x2:"15",y2:"15"})]}),t]}),g.jsxs("form",{onSubmit:x,className:"auth-form",children:[g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"displayName",children:"Full name"}),g.jsx("div",{className:"input-container",children:g.jsx("input",{type:"text",id:"displayName",name:"displayName",value:i.displayName,onChange:w,required:!0,className:"form-input",placeholder:"Enter your full name"})})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"email",children:"Email address"}),g.jsx("div",{className:"input-container",children:g.jsx("input",{type:"email",id:"email",name:"email",value:i.email,onChange:w,required:!0,className:"form-input",placeholder:"Enter your email"})})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"password",children:"Password"}),g.jsxs("div",{className:"input-container",children:[g.jsx("input",{type:h?"text":"password",id:"password",name:"password",value:i.password,onChange:w,required:!0,className:"form-input",placeholder:"Create a password"}),g.jsx("button",{type:"button",className:"password-toggle",onClick:()=>d(!h),children:h?g.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[g.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),g.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}):g.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[g.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),g.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]}),i.password&&g.jsxs("div",{className:"password-strength",children:[g.jsx("div",{className:"strength-bar",children:g.jsx("div",{className:`strength-fill strength-${j.strength}`,style:{width:`${j.strength/3*100}%`}})}),g.jsx("span",{className:`strength-text strength-${j.strength}`,children:j.text})]})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"confirmPassword",children:"Confirm password"}),g.jsxs("div",{className:"input-container",children:[g.jsx("input",{type:p?"text":"password",id:"confirmPassword",name:"confirmPassword",value:i.confirmPassword,onChange:w,required:!0,className:"form-input",placeholder:"Confirm your password"}),g.jsx("button",{type:"button",className:"password-toggle",onClick:()=>y(!p),children:p?g.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[g.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),g.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}):g.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[g.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),g.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]})]}),g.jsx("button",{type:"submit",disabled:o,className:"auth-btn",children:o?g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"btn-spinner"}),"Creating account..."]}):"Create account"})]}),g.jsx("div",{className:"auth-footer",children:g.jsxs("p",{children:["Already have an account?"," ",g.jsx(tn,{to:"/login",className:"auth-link",children:"Sign in"})]})})]}),g.jsx("div",{className:"auth-illustration",children:g.jsxs("div",{className:"illustration-content",children:[g.jsx("h2",{children:"Start Your Journey"}),g.jsx("p",{children:"Join thousands of users sharing knowledge and learning together."}),g.jsxs("div",{className:"features",children:[g.jsxs("div",{className:"feature",children:[g.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:g.jsx("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})}),g.jsx("span",{children:"Build Reputation"})]}),g.jsxs("div",{className:"feature",children:[g.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[g.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),g.jsx("circle",{cx:"9",cy:"7",r:"4"}),g.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),g.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),g.jsx("span",{children:"Join Community"})]}),g.jsxs("div",{className:"feature",children:[g.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[g.jsx("path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"}),g.jsx("path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"})]}),g.jsx("span",{children:"Learn & Grow"})]})]})]})})]})})}function ck(){const{userId:i}=NT(),{currentUser:e}=Kt(),[t,r]=M.useState(null),[o,u]=M.useState([]),[h,d]=M.useState([]),[p,y]=M.useState("questions"),[_,A]=M.useState(!0),[w,C]=M.useState({totalUpvotes:0,totalViews:0,questionsCount:0,answersCount:0}),x=i||e?.uid,U=!i||i===e?.uid;return M.useEffect(()=>{(async()=>{if(x)try{const P=await jo(Ut(Ue,"users",x));P.exists()?r({id:P.id,...P.data()}):U&&r(e);const X=ps(nn(Ue,"questions"),Iu("authorId","==",x)),se=(await tf(X)).docs.map(B=>({id:B.id,...B.data()})),re=se.sort((B,O)=>{const mt=B.createdAt?.toDate()||new Date(0);return(O.createdAt?.toDate()||new Date(0))-mt});u(re);const he=ps(nn(Ue,"answers"),Iu("authorId","==",x)),R=(await tf(he)).docs.map(B=>({id:B.id,...B.data()})),I=R.sort((B,O)=>{const mt=B.createdAt?.toDate()||new Date(0);return(O.createdAt?.toDate()||new Date(0))-mt});d(I);const k=se.reduce((B,O)=>B+(O.upvotes||0),0)+R.reduce((B,O)=>B+(O.upvotes||0),0),z=se.reduce((B,O)=>B+(O.views||0),0);C({totalUpvotes:k,totalViews:z,questionsCount:se.length,answersCount:R.length})}catch(P){console.error("Error fetching user data:",P)}finally{A(!1)}})()},[x,e,U]),_?g.jsx(ba,{text:"Loading profile..."}):t?g.jsxs("div",{className:"profile-page",children:[g.jsxs("div",{className:"profile-header",children:[g.jsx("div",{className:"profile-banner",children:g.jsxs("div",{className:"profile-info",children:[g.jsx("div",{className:"profile-avatar",children:(t.displayName||t.email||"U")[0].toUpperCase()}),g.jsxs("div",{className:"profile-details",children:[g.jsx("h1",{className:"profile-name",children:t.displayName||"Anonymous User"}),g.jsx("p",{className:"profile-email",children:t.email}),t.bio&&g.jsx("p",{className:"profile-bio",children:t.bio}),g.jsx("div",{className:"profile-meta",children:g.jsxs("span",{children:["Joined ",new Date(t.createdAt?.toDate()||Date.now()).toLocaleDateString()]})})]})]})}),g.jsxs("div",{className:"profile-stats",children:[g.jsxs("div",{className:"stat-card",children:[g.jsx("div",{className:"stat-number",children:w.questionsCount}),g.jsx("div",{className:"stat-label",children:"Questions"})]}),g.jsxs("div",{className:"stat-card",children:[g.jsx("div",{className:"stat-number",children:w.answersCount}),g.jsx("div",{className:"stat-label",children:"Answers"})]}),g.jsxs("div",{className:"stat-card",children:[g.jsx("div",{className:"stat-number",children:w.totalUpvotes}),g.jsx("div",{className:"stat-label",children:"Upvotes"})]}),g.jsxs("div",{className:"stat-card",children:[g.jsx("div",{className:"stat-number",children:w.totalViews}),g.jsx("div",{className:"stat-label",children:"Views"})]})]})]}),g.jsxs("div",{className:"profile-content",children:[g.jsxs("div",{className:"profile-tabs",children:[g.jsxs("button",{className:`tab ${p==="questions"?"active":""}`,onClick:()=>y("questions"),children:[g.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[g.jsx("circle",{cx:"12",cy:"12",r:"10"}),g.jsx("path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}),g.jsx("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]}),"Questions (",o.length,")"]}),g.jsxs("button",{className:`tab ${p==="answers"?"active":""}`,onClick:()=>y("answers"),children:[g.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:g.jsx("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"})}),"Answers (",h.length,")"]})]}),g.jsxs("div",{className:"tab-content",children:[p==="questions"&&g.jsx("div",{className:"questions-tab",children:o.length===0?g.jsxs("div",{className:"empty-state",children:[g.jsx("div",{className:"empty-icon",children:g.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[g.jsx("circle",{cx:"12",cy:"12",r:"10"}),g.jsx("path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}),g.jsx("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]})}),g.jsx("h3",{children:"No questions yet"}),g.jsx("p",{children:U?"Start asking questions to build your profile":"This user hasn't asked any questions yet"})]}):g.jsx("div",{className:"content-list",children:o.map(j=>g.jsx(Cu,{question:j},j.id))})}),p==="answers"&&g.jsx("div",{className:"answers-tab",children:h.length===0?g.jsxs("div",{className:"empty-state",children:[g.jsx("div",{className:"empty-icon",children:g.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:g.jsx("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"})})}),g.jsx("h3",{children:"No answers yet"}),g.jsx("p",{children:U?"Start answering questions to help the community":"This user hasn't answered any questions yet"})]}):g.jsx("div",{className:"answers-list",children:h.map(j=>g.jsxs("div",{className:"answer-preview",children:[g.jsx("div",{className:"answer-content",children:g.jsx("p",{children:j.content})}),g.jsx("div",{className:"answer-meta",children:g.jsxs("div",{className:"answer-stats",children:[g.jsxs("span",{className:"upvotes",children:[j.upvotes||0," upvotes"]}),g.jsx("span",{className:"date",children:new Date(j.createdAt?.toDate()).toLocaleDateString()})]})})]},j.id))})})]})]})]}):g.jsxs("div",{className:"profile-error",children:[g.jsx("h2",{children:"User not found"}),g.jsx("p",{children:"The profile you're looking for doesn't exist."})]})}function qA({reply:i,onReplyAdded:e,level:t=0,allReplies:r=[]}){const{currentUser:o}=Kt(),{createNotification:u}=qf(),[h,d]=M.useState(!1),[p,y]=M.useState(""),[_,A]=M.useState(!1),[w,C]=M.useState(!0),[x,U]=M.useState(!1),[j,P]=M.useState(!1),X=R=>{if(!R)return"Unknown date";const I=R.toDate?R.toDate():new Date(R),z=Math.abs(new Date-I),B=Math.ceil(z/(1e3*60));return B<60?`${B}m ago`:B<1440?`${Math.ceil(B/60)}h ago`:`${Math.ceil(B/1440)}d ago`},K=async R=>{if(R.preventDefault(),!p.trim()||_){console.log("Preventing nested reply submission - submitting:",_,"content:",p.trim());return}try{A(!0),console.log("Starting nested reply submission...");const I={content:p.trim(),answerId:i.answerId,questionId:i.questionId,parentReplyId:i.id,authorId:o.uid,authorName:o.displayName||o.email,createdAt:un(),updatedAt:un(),upvotes:0,downvotes:0,votes:[]};console.log("Submitting nested reply:",I);const k=await qu(nn(Ue,"replies"),I);console.log("Nested reply created successfully with ID:",k.id),i.authorId!==o.uid&&await u({type:"reply",recipientId:i.authorId,senderId:o.uid,senderName:o.displayName||o.email,message:"replied to your comment",link:`/question/${i.questionId}`,entityId:i.id,entityType:"reply"}),y(""),d(!1),e&&e()}catch(I){console.error("Error submitting nested reply:",I),alert(`Failed to post reply: ${I.message}`)}finally{A(!1),console.log("Nested reply submission completed")}},se=async()=>{if(!(!o||x))try{U(!0),console.log("Deleting reply:",i.id),await n4(Ut(Ue,"replies",i.id)),console.log("Reply deleted successfully"),P(!1),e&&e()}catch(R){console.error("Error deleting reply:",R),alert(`Failed to delete reply: ${R.message}`)}finally{U(!1)}},re=r.filter(R=>R.parentReplyId===i.id).sort((R,I)=>{const k=R.createdAt?.toDate()||new Date(0),z=I.createdAt?.toDate()||new Date(0);return k-z}),he=3,D=o&&i.authorId===o.uid;return g.jsx("div",{className:`reply-card level-${Math.min(t,he)}`,children:g.jsxs("div",{className:"reply-content",children:[g.jsxs("div",{className:"reply-header",children:[g.jsxs("div",{className:"author-info",children:[g.jsx("div",{className:"author-avatar",children:(i.authorName||"U")[0].toUpperCase()}),g.jsxs("div",{className:"author-details",children:[g.jsx("span",{className:"author-name",children:i.authorName}),g.jsx("span",{className:"reply-date",children:X(i.createdAt)})]})]}),D&&g.jsx("div",{className:"reply-menu",children:g.jsx("button",{className:"delete-reply-btn",onClick:()=>P(!0),disabled:x,title:"Delete reply",children:g.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[g.jsx("polyline",{points:"3,6 5,6 21,6"}),g.jsx("path",{d:"M19,6v14a2,2 0 0,1 -2,2H7a2,2 0 0,1 -2,-2V6m3,0V4a2,2 0 0,1 2,-2h4a2,2 0 0,1 2,2v2"})]})})})]}),g.jsx("div",{className:"reply-text",children:g.jsx("p",{children:i.content})}),g.jsxs("div",{className:"reply-actions",children:[g.jsx(Ff,{itemId:i.id,itemType:"replies",initialUpvotes:i.upvotes||0,initialDownvotes:i.downvotes||0,compact:!0}),t<he&&g.jsxs("button",{className:"reply-btn",onClick:()=>d(!h),disabled:_,children:[g.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:g.jsx("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"})}),_?"Posting...":"Reply"]}),re.length>0&&g.jsxs("button",{className:"toggle-replies-btn",onClick:()=>C(!w),children:[g.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:g.jsx("polyline",{points:w?"18,15 12,9 6,15":"6,9 12,15 18,9"})}),w?"Hide":"Show"," ",re.length," ",re.length===1?"reply":"replies"]})]}),j&&g.jsx("div",{className:"delete-confirmation",children:g.jsxs("div",{className:"delete-modal",children:[g.jsx("h4",{children:"Delete Reply"}),g.jsx("p",{children:"Are you sure you want to delete this reply? This action cannot be undone."}),g.jsxs("div",{className:"delete-actions",children:[g.jsx("button",{className:"cancel-delete-btn",onClick:()=>P(!1),disabled:x,children:"Cancel"}),g.jsx("button",{className:"confirm-delete-btn",onClick:se,disabled:x,children:x?"Deleting...":"Delete"})]})]})}),h&&g.jsxs("form",{onSubmit:K,className:"reply-form",children:[g.jsx("textarea",{value:p,onChange:R=>y(R.target.value),placeholder:"Write your reply...",className:"reply-textarea",rows:3,maxLength:1e3,required:!0,disabled:_}),g.jsxs("div",{className:"reply-form-actions",children:[g.jsxs("span",{className:"char-count",children:[p.length,"/1000"]}),g.jsxs("div",{className:"form-buttons",children:[g.jsx("button",{type:"button",onClick:()=>{d(!1),y("")},className:"cancel-btn",disabled:_,children:"Cancel"}),g.jsx("button",{type:"submit",disabled:_||p.trim().length===0,className:"submit-btn",children:_?"Posting...":"Reply"})]})]})]}),w&&re.length>0&&g.jsx("div",{className:"nested-replies",children:re.map(R=>g.jsx(qA,{reply:R,onReplyAdded:e,level:t+1,allReplies:r},R.id))})]})})}function hk({answer:i}){const{currentUser:e}=Kt(),{createNotification:t}=qf(),[r,o]=M.useState([]),[u,h]=M.useState(!1),[d,p]=M.useState(!1),[y,_]=M.useState(""),[A,w]=M.useState(!1),[C,x]=M.useState(!1);M.useEffect(()=>{console.log("Setting up replies listener for answer:",i.id);const K=ps(nn(Ue,"replies"),Iu("answerId","==",i.id));return $o(K,re=>{const he=re.docs.map(D=>({id:D.id,...D.data()}));console.log("Fetched replies for answer",i.id,":",he),o(he),x(!1)},re=>{console.error("Error fetching replies:",re),x(!1)})},[i.id]);const U=K=>K?new Date(K.toDate()).toLocaleDateString():"Unknown date",j=async K=>{if(K.preventDefault(),!y.trim()||A){console.log("Preventing submission - submitting:",A,"content:",y.trim());return}try{w(!0),console.log("Starting reply submission...");const se={content:y.trim(),answerId:i.id,questionId:i.questionId,parentReplyId:null,authorId:e.uid,authorName:e.displayName||e.email,createdAt:un(),updatedAt:un(),upvotes:0,downvotes:0,votes:[]};console.log("Submitting reply data:",se);const re=await qu(nn(Ue,"replies"),se);console.log("Reply created successfully with ID:",re.id),i.authorId!==e.uid&&await t({type:"reply",recipientId:i.authorId,senderId:e.uid,senderName:e.displayName||e.email,message:"replied to your answer",link:`/question/${i.questionId}`,entityId:i.id,entityType:"answer"}),_(""),p(!1),u||h(!0)}catch(se){console.error("Error submitting reply:",se),alert(`Failed to post reply: ${se.message}`)}finally{w(!1),console.log("Reply submission completed")}},P=r.filter(K=>!K.parentReplyId).sort((K,se)=>{const re=K.createdAt?.toDate()||new Date(0),he=se.createdAt?.toDate()||new Date(0);return re-he}),X=r.length;return g.jsxs("div",{className:"answer-card",children:[g.jsx("div",{className:"answer-votes",children:g.jsx(Ff,{itemId:i.id,itemType:"answers",initialUpvotes:i.upvotes||0,initialDownvotes:i.downvotes||0})}),g.jsxs("div",{className:"answer-content",children:[g.jsx("div",{className:"answer-text",children:g.jsx("p",{children:i.content})}),g.jsxs("div",{className:"answer-footer",children:[g.jsxs("div",{className:"answer-meta",children:[g.jsxs("span",{children:["answered by ",i.authorName]}),g.jsx("span",{children:""}),g.jsx("span",{children:U(i.createdAt)})]}),g.jsxs("div",{className:"answer-actions",children:[g.jsxs("button",{className:"reply-toggle-btn",onClick:()=>h(!u),children:[g.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:g.jsx("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"})}),u?"Hide":"Show"," Replies (",X,")"]}),g.jsxs("button",{className:"add-reply-btn",onClick:()=>p(!d),disabled:A,children:[g.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[g.jsx("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"}),g.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"16"}),g.jsx("line",{x1:"8",y1:"12",x2:"16",y2:"12"})]}),A?"Posting...":"Reply"]})]})]}),d&&g.jsxs("form",{onSubmit:j,className:"reply-form",children:[g.jsx("textarea",{value:y,onChange:K=>_(K.target.value),placeholder:"Write your reply to this answer...",className:"reply-textarea",rows:4,maxLength:1e3,required:!0,disabled:A}),g.jsxs("div",{className:"reply-form-actions",children:[g.jsxs("span",{className:"char-count",children:[y.length,"/1000"]}),g.jsxs("div",{className:"form-buttons",children:[g.jsx("button",{type:"button",onClick:()=>{p(!1),_("")},className:"cancel-btn",disabled:A,children:"Cancel"}),g.jsx("button",{type:"submit",disabled:A||y.trim().length===0,className:"submit-btn",children:A?"Posting...":"Post Reply"})]})]})]}),u&&g.jsx("div",{className:"replies-section",children:C?g.jsxs("div",{className:"replies-loading",children:[g.jsx("div",{className:"loading-spinner"}),g.jsx("span",{children:"Loading replies..."})]}):X===0?g.jsx("div",{className:"no-replies",children:g.jsx("p",{children:"No replies yet. Be the first to reply!"})}):g.jsxs("div",{className:"replies-list",children:[g.jsxs("h4",{className:"replies-title",children:[X," ",X===1?"Reply":"Replies"]}),P.map(K=>g.jsx(qA,{reply:K,onReplyAdded:()=>console.log("Nested reply added"),level:0,allReplies:r},K.id))]})})]})]})}function fk(){const{id:i}=NT(),{currentUser:e}=Kt(),{createNotification:t}=qf(),[r,o]=M.useState(null),[u,h]=M.useState([]),[d,p]=M.useState(""),[y,_]=M.useState(!0),[A,w]=M.useState(!1);M.useEffect(()=>{(async()=>{try{const U=await jo(Ut(Ue,"questions",i));U.exists()&&(o({id:U.id,...U.data()}),await ri(Ut(Ue,"questions",i),{views:xo(1)}))}catch(U){console.error("Error fetching question:",U)}})()},[i]),M.useEffect(()=>{const x=ps(nn(Ue,"answers"),Iu("questionId","==",i));return $o(x,j=>{const X=j.docs.map(K=>({id:K.id,...K.data()})).sort((K,se)=>{const re=K.createdAt?.toDate()||new Date(0);return(se.createdAt?.toDate()||new Date(0))-re});h(X),_(!1)})},[i]);const C=async x=>{if(x.preventDefault(),!!d.trim())try{w(!0);const U={content:d.trim(),questionId:i,authorId:e.uid,authorName:e.displayName||e.email,createdAt:un(),upvotes:0,downvotes:0,votes:[]};await qu(nn(Ue,"answers"),U),await ri(Ut(Ue,"questions",i),{answerCount:xo(1)}),r&&r.authorId!==e.uid&&await t({type:"answer",recipientId:r.authorId,senderId:e.uid,senderName:e.displayName||e.email,message:"answered your question",link:`/question/${i}`,entityId:i,entityType:"question"}),p("")}catch(U){console.error("Error submitting answer:",U)}finally{w(!1)}};return y?g.jsx("div",{className:"loading",children:"Loading question..."}):r?g.jsx("div",{className:"question-detail",children:g.jsxs("div",{className:"question-container",children:[g.jsxs("div",{className:"question-header",children:[g.jsx("div",{className:"question-votes",children:g.jsx(Ff,{itemId:r.id,itemType:"questions",initialUpvotes:r.upvotes||0,initialDownvotes:r.downvotes||0})}),g.jsxs("div",{className:"question-content",children:[g.jsx("h1",{children:r.title}),g.jsxs("div",{className:"question-meta",children:[g.jsxs("span",{children:["Asked by ",r.authorName]}),g.jsx("span",{children:""}),g.jsx("span",{children:new Date(r.createdAt?.toDate()).toLocaleDateString()}),g.jsx("span",{children:""}),g.jsxs("span",{children:[r.views||0," views"]})]}),g.jsx("div",{className:"question-body",children:g.jsx("p",{children:r.content})}),r.tags&&r.tags.length>0&&g.jsx("div",{className:"question-tags",children:r.tags.map((x,U)=>g.jsx("span",{className:"tag",children:x},U))})]})]}),g.jsxs("div",{className:"answers-section",children:[g.jsxs("h2",{children:[u.length," Answer",u.length!==1?"s":""]}),g.jsxs("form",{onSubmit:C,className:"answer-form",children:[g.jsx("textarea",{value:d,onChange:x=>p(x.target.value),placeholder:"Write your answer...",className:"answer-textarea",rows:6}),g.jsx("button",{type:"submit",disabled:A||!d.trim(),className:"submit-answer-btn",children:A?"Posting...":"Post Answer"})]}),g.jsx("div",{className:"answers-list",children:u.map(x=>g.jsx(hk,{answer:x},x.id))})]})]})}):g.jsx("div",{className:"error",children:"Question not found"})}function dk(){const[i,e]=M.useState(""),[t,r]=M.useState(""),[o,u]=M.useState(""),[h,d]=M.useState(!1),[p,y]=M.useState(""),{currentUser:_}=Kt(),A=pa(),w=async C=>{if(C.preventDefault(),!i.trim()||!t.trim()){y("Please fill in all required fields");return}if(i.length>200){y("Question title must be 200 characters or less");return}if(t.length>5e3){y("Question content must be 5000 characters or less");return}try{d(!0),y("");const x={title:i.trim(),content:t.trim(),tags:o.split(",").map(j=>j.trim()).filter(j=>j).slice(0,5),authorId:_.uid,authorName:_.displayName||_.email,createdAt:un(),updatedAt:un(),upvotes:0,downvotes:0,answerCount:0,views:0,votes:[]},U=await qu(nn(Ue,"questions"),x);await ri(Ut(Ue,"users",_.uid),{questionsCount:xo(1),updatedAt:un()}),A(`/question/${U.id}`)}catch(x){console.error("Error posting question:",x),x.code==="permission-denied"?y("You don't have permission to post questions. Please make sure you're logged in."):y("Failed to post question. Please try again.")}finally{d(!1)}};return g.jsx("div",{className:"ask-question",children:g.jsxs("div",{className:"ask-container",children:[g.jsx("h1",{children:"Ask a Question"}),g.jsx("p",{children:"Share your question with the community and get helpful answers"}),p&&g.jsx("div",{className:"error-message",children:p}),g.jsxs("form",{onSubmit:w,className:"question-form",children:[g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"title",children:"Question Title *"}),g.jsx("input",{type:"text",id:"title",value:i,onChange:C=>e(C.target.value),placeholder:"What's your question? Be specific.",className:"form-input",maxLength:200}),g.jsxs("small",{className:"char-count",children:[i.length,"/200"]})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"content",children:"Question Details *"}),g.jsx("textarea",{id:"content",value:t,onChange:C=>r(C.target.value),placeholder:"Provide more details about your question...",className:"form-textarea",rows:8,maxLength:5e3}),g.jsxs("small",{className:"char-count",children:[t.length,"/5000"]})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"tags",children:"Tags (optional)"}),g.jsx("input",{type:"text",id:"tags",value:o,onChange:C=>u(C.target.value),placeholder:"Add up to 5 tags separated by commas (e.g., javascript, react, programming)",className:"form-input"}),g.jsx("small",{className:"help-text",children:"Tags help others find your question (max 5 tags)"})]}),g.jsxs("div",{className:"form-actions",children:[g.jsx("button",{type:"button",onClick:()=>A("/"),className:"cancel-btn",children:"Cancel"}),g.jsx("button",{type:"submit",disabled:h,className:"submit-btn",children:h?"Posting...":"Post Question"})]})]})]})})}function mk(){const[i]=$R(),e=i.get("q")||"",[t,r]=M.useState([]),[o,u]=M.useState(!0),[h,d]=M.useState("questions"),[p,y]=M.useState("relevance");return M.useEffect(()=>{(async()=>{if(!e.trim()){r([]),u(!1);return}try{if(u(!0),h==="questions"){const A=nn(Ue,"questions"),w=ps(A,Mh("createdAt","desc")),U=(await tf(w)).docs.map(j=>({id:j.id,...j.data()})).filter(j=>{const P=e.toLowerCase();return j.title.toLowerCase().includes(P)||j.content.toLowerCase().includes(P)||j.tags&&j.tags.some(X=>X.toLowerCase().includes(P))});p==="popular"?U.sort((j,P)=>(P.upvotes||0)-(j.upvotes||0)):p==="recent"&&U.sort((j,P)=>{const X=j.createdAt?.toDate()||new Date(0);return(P.createdAt?.toDate()||new Date(0))-X}),r(U)}}catch(A){console.error("Error searching:",A),r([])}finally{u(!1)}})()},[e,h,p]),o?g.jsx(ba,{text:"Searching..."}):g.jsxs("div",{className:"search-page",children:[g.jsxs("div",{className:"search-header",children:[g.jsx("h1",{children:"Search Results"}),g.jsxs("p",{className:"search-query",children:[t.length," result",t.length!==1?"s":"",' for "',e,'"']}),g.jsxs("div",{className:"search-filters",children:[g.jsxs("div",{className:"filter-group",children:[g.jsx("label",{children:"Search in:"}),g.jsxs("select",{value:h,onChange:_=>d(_.target.value),children:[g.jsx("option",{value:"questions",children:"Questions"}),g.jsx("option",{value:"answers",children:"Answers"}),g.jsx("option",{value:"users",children:"Users"})]})]}),g.jsxs("div",{className:"filter-group",children:[g.jsx("label",{children:"Sort by:"}),g.jsxs("select",{value:p,onChange:_=>y(_.target.value),children:[g.jsx("option",{value:"relevance",children:"Relevance"}),g.jsx("option",{value:"recent",children:"Most Recent"}),g.jsx("option",{value:"popular",children:"Most Popular"})]})]})]})]}),g.jsx("div",{className:"search-results",children:t.length===0?g.jsxs("div",{className:"empty-state",children:[g.jsx("div",{className:"empty-icon",children:g.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[g.jsx("circle",{cx:"11",cy:"11",r:"8"}),g.jsx("path",{d:"m21 21-4.35-4.35"})]})}),g.jsx("h3",{children:"No results found"}),g.jsx("p",{children:"Try different keywords or check your spelling"}),g.jsxs("div",{className:"search-suggestions",children:[g.jsx("h4",{children:"Search suggestions:"}),g.jsxs("ul",{children:[g.jsx("li",{children:"Use different keywords"}),g.jsx("li",{children:"Check your spelling"}),g.jsx("li",{children:"Try more general terms"}),g.jsx("li",{children:"Use fewer keywords"})]})]})]}):g.jsx("div",{className:"results-list",children:t.map(_=>g.jsx(Cu,{question:_},_.id))})})]})}function FA(){const{currentUser:i}=Kt(),[e,t]=M.useState(null),[r,o]=M.useState(!0);return M.useEffect(()=>{if(!i){t(null),o(!1);return}const u=Ut(Ue,"users",i.uid);return $o(u,d=>{d.exists()?t({id:d.id,...d.data()}):t(null),o(!1)},d=>{console.error("Error fetching user data:",d),o(!1)})},[i]),{userData:e,loading:r}}function pk(){const{currentUser:i}=Kt(),[e,t]=M.useState([]),[r,o]=M.useState(!0),[u,h]=M.useState(new Set),[d,p]=M.useState(new Set),[y,_]=M.useState(""),[A,w]=M.useState("popular"),{userData:C}=FA();M.useEffect(()=>{(async()=>{try{const X=await tf(nn(Ue,"questions")),K=new Map,se=new Map;X.docs.forEach(he=>{const D=he.data();D.tags&&D.tags.forEach(R=>{if(K.has(R)){const I=K.get(R);K.set(R,I+1);const k=se.get(R);(!k.latestActivity||D.createdAt?.toDate()>k.latestActivity)&&se.set(R,{...k,latestActivity:D.createdAt?.toDate(),totalUpvotes:k.totalUpvotes+(D.upvotes||0)})}else K.set(R,1),se.set(R,{latestActivity:D.createdAt?.toDate(),totalUpvotes:D.upvotes||0,description:x(R)})})});const re=Array.from(K.entries()).map(([he,D])=>({name:he,count:D,...se.get(he)}));A==="popular"?re.sort((he,D)=>D.count-he.count):A==="alphabetical"?re.sort((he,D)=>he.name.localeCompare(D.name)):A==="recent"&&re.sort((he,D)=>(D.latestActivity||new Date(0))-(he.latestActivity||new Date(0))),t(re)}catch(X){console.error("Error fetching topics:",X)}finally{o(!1)}})()},[A]),M.useEffect(()=>{h(C?new Set(C.followedTopics||[]):new Set)},[C]);const x=P=>({javascript:"Programming language for web development",react:"JavaScript library for building user interfaces",python:"High-level programming language",technology:"Latest tech trends and innovations",programming:"Software development and coding",web:"Web development and design",mobile:"Mobile app development",ai:"Artificial Intelligence and Machine Learning",career:"Professional development and career advice",startup:"Entrepreneurship and startup culture",design:"UI/UX and graphic design",business:"Business strategy and management"})[P.toLowerCase()]||`Discussion about ${P}`,U=async P=>{if(!(!i||d.has(P))){p(X=>new Set([...X,P]));try{const X=Ut(Ue,"users",i.uid);u.has(P)?(await ri(X,{followedTopics:nf(P),updatedAt:un()}),h(se=>{const re=new Set(se);return re.delete(P),re})):(await ri(X,{followedTopics:Wg(P),updatedAt:un()}),h(se=>new Set([...se,P])))}catch(X){console.error("Error toggling topic follow:",X)}finally{p(X=>{const K=new Set(X);return K.delete(P),K})}}},j=e.filter(P=>P.name.toLowerCase().includes(y.toLowerCase()));return r?g.jsx(ba,{text:"Loading topics..."}):g.jsxs("div",{className:"topics-page",children:[g.jsxs("div",{className:"topics-header",children:[g.jsx("h1",{children:"Discover Topics"}),g.jsx("p",{children:"Follow topics that interest you to see related questions in your feed"}),g.jsxs("div",{className:"topics-controls",children:[g.jsxs("div",{className:"search-container",children:[g.jsxs("svg",{className:"search-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[g.jsx("circle",{cx:"11",cy:"11",r:"8"}),g.jsx("path",{d:"m21 21-4.35-4.35"})]}),g.jsx("input",{type:"text",placeholder:"Search topics...",value:y,onChange:P=>_(P.target.value),className:"search-input"})]}),g.jsxs("select",{value:A,onChange:P=>w(P.target.value),className:"sort-select",children:[g.jsx("option",{value:"popular",children:"Most Popular"}),g.jsx("option",{value:"alphabetical",children:"Alphabetical"}),g.jsx("option",{value:"recent",children:"Recently Active"})]})]}),u.size>0&&g.jsxs("div",{className:"followed-topics-summary",children:[g.jsxs("h3",{children:["You're following ",u.size," topics"]}),g.jsxs("div",{className:"followed-tags",children:[Array.from(u).slice(0,5).map(P=>g.jsx("span",{className:"followed-tag",children:P},P)),u.size>5&&g.jsxs("span",{className:"more-count",children:["+",u.size-5," more"]})]})]})]}),g.jsx("div",{className:"topics-grid",children:j.length===0?g.jsxs("div",{className:"empty-state",children:[g.jsx("div",{className:"empty-icon",children:g.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[g.jsx("path",{d:"M4 19.5A2.5 2.5 0 0 1 6.5 17H20"}),g.jsx("path",{d:"M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"})]})}),g.jsx("h3",{children:y?"No topics found":"No topics yet"}),g.jsx("p",{children:y?"Try different keywords":"Topics will appear here as questions are posted with tags"})]}):j.map(P=>g.jsxs("div",{className:"topic-card",children:[g.jsxs("div",{className:"topic-header",children:[g.jsx("h3",{className:"topic-name",children:P.name}),g.jsx("button",{className:`follow-btn ${u.has(P.name)?"following":""}`,onClick:()=>U(P.name),disabled:d.has(P.name),children:d.has(P.name)?g.jsx("div",{className:"btn-spinner"}):u.has(P.name)?g.jsxs(g.Fragment,{children:[g.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:g.jsx("polyline",{points:"20,6 9,17 4,12"})}),"Following"]}):g.jsxs(g.Fragment,{children:[g.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[g.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),g.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Follow"]})})]}),g.jsx("p",{className:"topic-description",children:P.description}),g.jsxs("div",{className:"topic-stats",children:[g.jsxs("div",{className:"stat",children:[g.jsx("span",{className:"stat-number",children:P.count}),g.jsx("span",{className:"stat-label",children:"Questions"})]}),g.jsxs("div",{className:"stat",children:[g.jsx("span",{className:"stat-number",children:P.totalUpvotes||0}),g.jsx("span",{className:"stat-label",children:"Upvotes"})]}),P.latestActivity&&g.jsx("div",{className:"stat",children:g.jsxs("span",{className:"stat-text",children:["Active ",new Date(P.latestActivity).toLocaleDateString()]})})]})]},P.name))})]})}function gk(){const{currentUser:i}=Kt(),[e,t]=M.useState("questions"),[r,o]=M.useState(!0),[u,h]=M.useState([]),[d,p]=M.useState([]),[y,_]=M.useState({}),[A,w]=M.useState([]),{userData:C}=FA();return M.useEffect(()=>{if(!C){h([]),p([]),w([]),_({}),o(!1);return}const x=C.followedTopics||[];if(h(x),x.length===0){p([]),w([]),_({}),o(!1);return}const U=nn(Ue,"questions");return $o(U,P=>{const X=P.docs.map(D=>({id:D.id,...D.data()})),K=X.filter(D=>D.tags&&D.tags.some(R=>x.includes(R))).sort((D,R)=>{const I=D.createdAt?.toDate()||new Date(0);return(R.createdAt?.toDate()||new Date(0))-I});p(K);const se={};x.forEach(D=>{const R=X.filter(I=>I.tags&&I.tags.includes(D));se[D]={questionCount:R.length,totalUpvotes:R.reduce((I,k)=>I+(k.upvotes||0),0),recentQuestions:R.slice(0,3)}}),_(se);const re=new Date;re.setDate(re.getDate()-7);const he=K.filter(D=>D.createdAt?.toDate()>re).slice(0,10);w(he),o(!1)})},[C]),r?g.jsx(ba,{text:"Loading your feed..."}):u.length===0?g.jsxs("div",{className:"following-page",children:[g.jsxs("div",{className:"following-header",children:[g.jsx("h1",{children:"Your Following Feed"}),g.jsx("p",{children:"Follow topics to see related questions and activity here"})]}),g.jsxs("div",{className:"empty-following",children:[g.jsx("div",{className:"empty-icon",children:g.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[g.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}),g.jsx("circle",{cx:"9",cy:"7",r:"4"}),g.jsx("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),g.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]})}),g.jsx("h3",{children:"Start following topics"}),g.jsx("p",{children:"Discover interesting topics and follow them to see related content in your personalized feed."}),g.jsxs("div",{className:"suggested-topics",children:[g.jsx("h4",{children:"Popular topics to follow:"}),g.jsx("div",{className:"topic-suggestions",children:["JavaScript","React","Python","Technology","Programming","Career"].map(x=>g.jsx("span",{className:"suggested-topic",children:x},x))})]}),g.jsxs("a",{href:"/topics",className:"explore-topics-btn",children:[g.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[g.jsx("path",{d:"M4 19.5A2.5 2.5 0 0 1 6.5 17H20"}),g.jsx("path",{d:"M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"})]}),"Explore Topics"]})]})]}):g.jsxs("div",{className:"following-page",children:[g.jsxs("div",{className:"following-header",children:[g.jsx("h1",{children:"Your Following Feed"}),g.jsxs("p",{children:["Questions and activity from ",u.length," topics you follow"]}),g.jsx("div",{className:"following-summary",children:g.jsxs("div",{className:"summary-stats",children:[g.jsxs("div",{className:"summary-stat",children:[g.jsx("span",{className:"stat-number",children:d.length}),g.jsx("span",{className:"stat-label",children:"Questions"})]}),g.jsxs("div",{className:"summary-stat",children:[g.jsx("span",{className:"stat-number",children:A.length}),g.jsx("span",{className:"stat-label",children:"This Week"})]}),g.jsxs("div",{className:"summary-stat",children:[g.jsx("span",{className:"stat-number",children:u.length}),g.jsx("span",{className:"stat-label",children:"Topics"})]})]})}),g.jsxs("div",{className:"following-tabs",children:[g.jsxs("button",{className:`tab ${e==="questions"?"active":""}`,onClick:()=>t("questions"),children:[g.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[g.jsx("circle",{cx:"12",cy:"12",r:"10"}),g.jsx("path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}),g.jsx("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]}),"All Questions (",d.length,")"]}),g.jsxs("button",{className:`tab ${e==="recent"?"active":""}`,onClick:()=>t("recent"),children:[g.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[g.jsx("circle",{cx:"12",cy:"12",r:"10"}),g.jsx("polyline",{points:"12,6 12,12 16,14"})]}),"Recent Activity (",A.length,")"]}),g.jsxs("button",{className:`tab ${e==="topics"?"active":""}`,onClick:()=>t("topics"),children:[g.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[g.jsx("path",{d:"M4 19.5A2.5 2.5 0 0 1 6.5 17H20"}),g.jsx("path",{d:"M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"})]}),"My Topics (",u.length,")"]})]})]}),g.jsxs("div",{className:"following-content",children:[e==="questions"&&g.jsx("div",{className:"questions-feed",children:d.length===0?g.jsxs("div",{className:"empty-state",children:[g.jsx("div",{className:"empty-icon",children:g.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[g.jsx("circle",{cx:"12",cy:"12",r:"10"}),g.jsx("path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}),g.jsx("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]})}),g.jsx("h3",{children:"No questions yet"}),g.jsx("p",{children:"Questions from your followed topics will appear here"})]}):d.map(x=>g.jsx(Cu,{question:x},x.id))}),e==="recent"&&g.jsx("div",{className:"recent-activity",children:A.length===0?g.jsxs("div",{className:"empty-state",children:[g.jsx("div",{className:"empty-icon",children:g.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[g.jsx("circle",{cx:"12",cy:"12",r:"10"}),g.jsx("polyline",{points:"12,6 12,12 16,14"})]})}),g.jsx("h3",{children:"No recent activity"}),g.jsx("p",{children:"Recent questions from your followed topics will appear here"})]}):A.map(x=>g.jsx(Cu,{question:x},x.id))}),e==="topics"&&g.jsx("div",{className:"topics-overview",children:g.jsx("div",{className:"topics-grid",children:u.map(x=>g.jsxs("div",{className:"topic-overview-card",children:[g.jsxs("div",{className:"topic-header",children:[g.jsx("h3",{children:x}),g.jsxs("div",{className:"topic-stats",children:[g.jsxs("span",{children:[y[x]?.questionCount||0," questions"]}),g.jsxs("span",{children:[y[x]?.totalUpvotes||0," upvotes"]})]})]}),y[x]?.recentQuestions?.length>0&&g.jsxs("div",{className:"recent-questions",children:[g.jsx("h4",{children:"Recent questions:"}),g.jsx("ul",{children:y[x].recentQuestions.map(U=>g.jsx("li",{children:g.jsx("a",{href:`/question/${U.id}`,children:U.title})},U.id))})]})]},x))})})]})]})}function ia({children:i}){const{currentUser:e,loading:t}=Kt();return t?g.jsx(ba,{}):e?i:g.jsx(MT,{to:"/login"})}function TT({children:i}){const{currentUser:e,loading:t}=Kt();return t?g.jsx(ba,{}):e?g.jsx(MT,{to:"/"}):i}function yk({children:i}){const{currentUser:e}=Kt();return e?g.jsxs("div",{className:"app-layout",children:[g.jsx(rk,{}),g.jsxs("div",{className:"main-layout",children:[g.jsx(ak,{}),g.jsx("main",{className:"main-content",children:i})]})]}):i}function vk(){return g.jsx(nk,{children:g.jsx(ek,{children:g.jsx(ik,{children:g.jsx(zR,{children:g.jsx("div",{className:"App",children:g.jsx(yk,{children:g.jsxs(gR,{children:[g.jsx(Si,{path:"/",element:g.jsx(ia,{children:g.jsx(ok,{})})}),g.jsx(Si,{path:"/login",element:g.jsx(TT,{children:g.jsx(lk,{})})}),g.jsx(Si,{path:"/register",element:g.jsx(TT,{children:g.jsx(uk,{})})}),g.jsx(Si,{path:"/profile/:userId?",element:g.jsx(ia,{children:g.jsx(ck,{})})}),g.jsx(Si,{path:"/question/:id",element:g.jsx(ia,{children:g.jsx(fk,{})})}),g.jsx(Si,{path:"/ask",element:g.jsx(ia,{children:g.jsx(dk,{})})}),g.jsx(Si,{path:"/search",element:g.jsx(ia,{children:g.jsx(mk,{})})}),g.jsx(Si,{path:"/topics",element:g.jsx(ia,{children:g.jsx(pk,{})})}),g.jsx(Si,{path:"/following",element:g.jsx(ia,{children:g.jsx(gk,{})})})]})})})})})})})}SS.createRoot(document.getElementById("root")).render(g.jsx(yS.StrictMode,{children:g.jsx(vk,{})}));
